define("vKShareButton/SantaTypes/vkSantaTypes",["lodash","react","santaProps"],function(e,t,s){"use strict";var r={Button:{w:100,h:21},ButtonWithoutCounter:{w:64,h:21},Link:{w:50,h:21},LinkWithoutIcon:{w:30,h:21},Icon:{w:36,h:36}},a=function(e,t){var s=r[t]||r.Button;return{width:e||s.w,height:s.h}};return{size:s.createSantaType(t.PropTypes.shape({width:t.PropTypes.number}),function(t,r){var n=s.Types.Component.compData.fetch(t,r),i=e.get(t.siteAPI.getAspectComponentData("vkPostMessage",r.structure.id),"width");return a(i,n.style)},!0)}}),define("vKShareButton/aspect/vkPostMessageAspect",[],function(){"use strict";function e(e){var s=void 0;try{s=JSON.parse(e.data)}catch(e){return}s.id&&s.width&&this._siteAspectsSiteAPI.updateAspectComponentData(t,s.id,s)}var t="vkPostMessage";return{ctor:function(t){this._siteAspectsSiteAPI=t,t.registerToMessage(e.bind(this))},name:t}}),define("vKShareButton/component/vKShareButton",["react","lodash","core","santaProps","utils","socialCommon","vKShareButton/SantaTypes/vkSantaTypes","vKShareButton/aspect/vkPostMessageAspect"],function(e,t,s,r,a,n,i){"use strict";function o(e,s,r){return{allowTransparency:"true",key:"VKShareButton-"+e.currentUrlPageId,frameBorder:"0","data-src":u(e,r),scrolling:"no",style:t.clone(s),title:"VK Share","aria-label":"VK Share"}}var u=function(e,t){var s=e.compData,r={id:e.id,url:t,style:s.style,text:s.text||"Share"};return e.santaBase+"/static/external/VKShare.html?"+a.urlUtils.toQueryString(r)};return{displayName:"VKShareButton",mixins:[s.compMixins.skinBasedComp,n.socialCompMixin],statics:{useSantaTypes:!0},propTypes:{compData:r.Types.Component.compData.isRequired,id:r.Types.Component.id.isRequired,santaBase:r.Types.santaBase.isRequired,currentUrlPageId:r.Types.currentUrlPageId.isRequired,size:i.size.isRequired},getSkinProperties:function(){var t=this.getSocialUrl(),s=o(this.props,this.props.size,t);return{"":{style:this.props.size,tabIndex:0,title:"VK Share","aria-label":"VK Share"},iframe:e.DOM.iframe(s)}}}}),define("vKShareButton/skins/skins.json",[],function(){"use strict";var e={};return e["skins.viewer.vkshare.VKShareSkin"]={react:[["iframe","iframe",[],{}]],css:{"%iframe":"width:100%;height:100%;overflow:hidden;"}},e}),define("vKShareButton",["core","vKShareButton/component/vKShareButton","vKShareButton/aspect/vkPostMessageAspect","skins","vKShareButton/skins/skins.json"],function(e,t,s,r,a){"use strict";return e.siteAspectsRegistry.registerSiteAspect(s.name,s.ctor),e.compRegistrar.register("wysiwyg.viewer.components.VKShareButton",t,!0),r.skinsMap.addBatch(a),t});
//# sourceMappingURL=vKShareButton.min.js.map