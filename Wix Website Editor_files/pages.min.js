function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();define("pages/utils/pageCategories",["lodash","util"],function(e,t){"use strict";var n=t.translate;return{MAIN_MENU:{id:"CUSTOM_MAIN_MENU",title:n("NewPages_Panel_Left_SiteMenu_Label"),flatMenuTitle:n("NewPages_QuickNav_Site_Pages_Label"),helpId:"8278a5f6-119c-412e-8b01-4bd0955cb307",mobileHelpId:"1aeed4d9-19a1-44b7-beec-7bc38a9d4d99",group:"menus"},MEMBERS_MENU:{id:"MEMBERS_SUB_MENU",title:n("NewPages_Panel_Left_MembersMenu_Label"),helpId:"ab4d4af2-0a5a-4ad9-93fe-dbf42f22d2ca",mobileHelpId:"8fa70d57-3d09-4f0b-a966-7ef2475e3f1b",group:"menus"},MENUS:{id:"MENUS",group:"menus",helpId:"8278a5f6-119c-412e-8b01-4bd0955cb307",biCategory:"custom menu",getBiCategory:function(t){return e.includes(["CUSTOM_MAIN_MENU","MEMBERS_SUB_MENU"],t)?t:"CUSTOM_MENU"},titleAdd:n("NewPages_Panel_AddPage_Button")},BLOG_PAGES:{id:"BLOG_PAGES",title:"SiteApp_Blog_PagesTab_Header",helpId:"677f1d1e-a8ee-45f7-9ac1-3b5fd3c02e1c",mobileHelpId:"0355a554-781a-4307-9efe-0f40fa877a08",group:"tpa_pages",biCategory:"blog"},TPA_PAGES:{id:"TPA_PAGES",group:"tpa_pages",titleAdd:n("NewPages_Panel_AddPage_Button"),getBiCategory:function(e){return"tpa_"+e}},DYNAMIC_PAGES_INTRO:{id:"DYNAMIC_PAGES_INTRO",helpId:"4d88ab53-0157-47aa-9c19-0d5762fcb82b",title:"NewPages_Panel_Left_DynamicPage_Label",group:"dynamic_pages",biCategory:"dynamic_page_intro"},DYNAMIC_PAGES:{id:"DYNAMIC_PAGES",helpId:"1e76f0cc-531a-45b3-bfe0-8907cf391fca",mobileHelpId:"4eda8656-f16f-4ddd-9c80-4b80eef09686",group:"dynamic_pages",biCategory:"router",titleAdd:"NewPages_Panel_Add_Dyanamic_Page_Button"},ROUTER_PAGES:{id:"ROUTER_PAGES",helpId:"aa6cebfb-a948-4767-bb0e-a60cb8fa9146",mobileHelpId:"4b873e86-b218-4589-b84b-8070c775f3c4",group:"dynamic_pages",biCategory:"router",titleAdd:"NewPages_Panel_Routing_Add_Page_Button"},POPUPS:{id:"POPUPS",title:"POPUPS_SiteStructure_Panel_Popups",helpId:"24659a21-11c8-41e1-9752-5822677154a0",mobileHelpId:"05438eeb-262a-49e0-a59b-dfda242c5609",group:"popups",biCategory:"lightbox",titleAdd:"POPUPS_SiteStructure_Panel_Button_Add"},TRANSITIONS:{id:"TRANSITIONS",title:"NewPages_Panel_Transitions_Title",group:"transitions",biCategory:"transitions"}}}),define("pages/panel/pagesView/editorAPIConnectors/getActions",["lodash","util","core","tpa","blog","platform"],function(e,t,n,a,i,o){"use strict";var s="Pages_Actions_Page_Rename",r=function(e,t,a,i){e.bi.event(n.bi.events.pages.pagesPanel.quick_actions_menu_select,{page_id:t,source:i,category:a})},p=function(e,t,a){e.bi.event(n.bi.events.pages.pagesPanel.tab_clicked_an_item_at_settings_menu,{source:a,category:t})},l=function(t,n,a,i){return function(o){var s=e.defaults(i,{origin:"pagesPanel",publicUrl:t.documentServices.generalInfo.getPublicUrl(),pageRef:o?t.documentServices.pages.getReference(o):null});t.documentServices.platform.notifyApplication(n,{eventType:a,eventPayload:s}),t.panelManager.closeAllPanels()}},u=function(e,n,a){return{title:t.translate("Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:function(t){e({pageId:t,tabTitle:"page"}),r(n,t,"tabPageInfo",a)},isSettings:!0}};return{dynamicPage:function(t,n,a,i,p,u){if(!u)return null;var c=[];if(t.developerMode.isEnabled()){var d=t.pages.dynamicPages.getDynamicPageActions(n,"pageActions");c=e.map(d,function(e){var n=e.title,o=e.icon,p=e.type,u=e.event,c=l(t,a,u,{routerRef:i});return{title:n,symbolName:p===s?"renameAction":o,onClick:function(e,a){p===s?t.pages.data.update(e,{title:a}):c(e),r(t,e,n,"router")},isRename:p===s}})}var g=t.pages.dynamicPages.getDynamicPageActions(n,"pageSettings",[o.constants.pages.page_settings.pageInfo.type,o.constants.pages.page_settings.seo.type]),m=e.map(g,function(e){return{title:e.title,symbolName:e.icon,onClick:function(a){p({pageId:n,tabTitle:e.tabTitle}),r(t,a,e.title,"router")},isSettings:!0}});return[].concat(_toConsumableArray(m),_toConsumableArray(c))},tpaPage:function(e,n,a){return a?[u(n,e,"tpa_pages"),{title:t.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:function(t,n){e.pages.data.update(t,{title:n}),e.history.debouncedAdd("Rename Page"),r(e,t,"rename","tpa_pages")},isRename:!0},{title:t.translate("Pages_Actions_Page_Delete"),symbolName:"deleteAction",onClick:function(t){e.pages.remove(t,function(){return e.history.add("removing a page",{currentPage:t})}),r(e,t,"delete","tpa_pages")}}]:null},tpaSubPage:function(e,t,n){return n?[u(t,e,"tpa_pages")]:null},popup:function(a,i,o,s){return i?[{title:t.translate("Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:function(e){var t=a.pages.popupPages.getPopupContainer();a.selection.selectComponentByCompRef(t),a.openComponentPanel("settingsPanel",{initiatorName:"quickActions"}),r(a,e,"open_popup_settings_panel","lightbox")},isSettings:!0},{title:t.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:function(e,t){a.pages.data.update(e,{title:t}),a.history.debouncedAdd("Rename Page"),s(),r(a,e,"rename","lightbox")},isRename:!0},{title:t.translate("Pages_Actions_Page_Duplicate"),symbolName:"duplicateAction",onClick:function(e,t){var i=a.pages.popupPages.duplicate(e),s=n.utils.pageTitleUtils.generateDuplicatedTitle(t),p=a.documentServices.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO.convertPageNameToUrl:n.utils.pageTitleUtils.convertPageNameToUrl;a.pages.data.update(i.id,{title:s,pageUriSEO:p(s)}),a.pages.navigateTo(i.id),a.history.add("popup page was duplicated",{currentPage:e}),o(i.id),r(a,e,"duplicate","lightbox")}},{title:t.translate("Pages_Actions_Page_Delete"),symbolName:"deleteAction",onClick:function(t,i){a.documentServices.waitForChangesApplied(function(){a.pages.remove(t,e.partial(a.history.add,"removed popup"))}),a.bi.event(n.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:t,page_popup_name:i}),r(a,t,"delete","lightbox")}}]:null},tpaTab:function(e,n,i){if("1380b703-ce81-ff05-f115-39571d94dfcd"!==n||!i)return null;return[{title:t.translate("NewPages_Panel_StorePages_Panel_Manage"),symbolName:"settingsAction",onClick:function(){a.superApps.openDashboardUrl(a.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%"),p(e,"manage","tpa_pages")}}]},blogTab:function(e,n,a){if(!a)return null;return[{title:t.translate("NewPages_Panel_BlogPages_Panel_Manage"),symbolName:"settingsAction",onClick:function(){i.openBlogManagerFrame(e,"allPosts"),p(e,"manage","blog_pages")}},function(e,n,a){return{title:t.translate(a),symbolName:"deleteAction",onClick:function(){e.pages.remove(n[0].id,function(){return e.history.add("removing a page",{currentPage:n[0].id})}),p(e,"delete","tpa_pages")}}}(e,n,"NewPages_Panel_BlogPages_Panel_Delete")]},menuTab:function(t,n,a){if(!a||!n)return null;var i=t.pages.dynamicPages.getActionByAppDefId(n,"routerActions"),o=e.get(t.documentServices.platform.getAppDataByAppDefId(n),"applicationId");return e.map(i,function(e){return{title:e.title,symbolName:e.icon,onClick:e.callback||l(t,o,e.event)}})},router:function(t,n,a,i){if(!n||!t.developerMode.isEnabled())return null;var o=t.documentServices.routers.getRouterRef.byPrefix(i),s=t.pages.dynamicPages.getRouterActionByPrefix(i);return e.map(s,function(e){var n=e.title,i=e.icon,s=e.event,r=l(t,a,s,{routerRef:o});return{title:n,symbolName:i,onClick:function(e){r(e),p(t,n,"router")}}})},getOnClickApplicationNotification:l}}),define("pages/panel/pagesView/page/page.rt",["react","lodash","util","baseUILib","symbols"],function(e,t,n,a,i){"use strict";return function(){function o(){var n=this.getActions(),o=this.getSettingsActions();return e.createElement.apply(this,[a.ContextMenu,{className:"context-menu flat page-actions",key:"page-context-menu",automationId:"page-context-menu",onToggle:this.handleContextMenuToggle},t.map(o,function(t,n,o,s){return e.createElement(a.ContextMenuAction,{onClick:function(e,t,n,a){this.handleClickAction(n)}.bind(this,t,n,o,s),key:"action-"+o.title,automationId:"action-"+o.title,className:"page-settings-action-pp"},e.createElement(i.symbol,{name:o.symbolName}),e.createElement("span",{},o.title))}.bind(this,n,o)),t.isEmpty(n)||t.isEmpty(o)?null:e.createElement(a.Divider,{key:"divider"}),t.map(n,function(t,n,o,s){return e.createElement(a.ContextMenuAction,{onClick:function(e,t,n,a){this.handleClickAction(n)}.bind(this,t,n,o,s),key:"action-"+o.title,automationId:"action-"+o.title},e.createElement(i.symbol,{name:o.symbolName}),e.createElement("span",{},o.title))}.bind(this,n,o))])}return e.createElement("div",{className:"page-pp "+t({selected:this.props.isSelected}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},null===this.state.inputValue?e.createElement("div",{className:"title-container",key:"title-container-page-pp",onClick:function(){this.props.onClick(this.props.id)}.bind(this),onDoubleClick:this.onDoubleClick},e.createElement("div",{className:"left-container"},e.createElement(a.Tooltip,{disabled:!this.props.info,content:this.props.info,shouldTranslate:!1,arrowAlignment:"top",key:"tooltip-type-symbol-pp"},this.props.typeSymbol?e.createElement(i.symbol,{name:this.props.typeSymbol,key:"typeSymbol-pp"}):null),e.createElement(a.TooltipOnEllipsis,{marginTop:5,contentClassName:"title"},this.props.title)),e.createElement("div",{className:"right-container"},this.props.permissionSymbol?e.createElement(i.symbol,{name:this.props.permissionSymbol,key:"permissionSymbol-pp"}):null,this.props.actions&&this.props.actions.length>1?o.apply(this,[]):null,this.props.actions&&1===this.props.actions.length?function(){var t=this.props.actions[0];return e.createElement(a.Button,{className:"single-action page-actions",onClick:function(e){this.handleClickAction(e)}.bind(this,t),key:"page-single-action"},e.createElement(i.symbol,{name:t.symbolName}))}.apply(this,[]):null)):null,null!==this.state.inputValue?e.createElement("div",{className:"input-button-container",key:"input-container-page-pp"},e.createElement(a.TextInput,{value:this.state.inputValue,onChange:this.handleChangeInput,isValid:!n.validate.pageNameValidator(this.state.inputValue),invalidMessage:n.translate(n.validate.pageNameValidator(this.state.inputValue)),shouldTranslate:!1,selectOnFocus:!0,maxLength:40,onBlur:this.handleBlurInput,autoSelect:!0}),e.createElement(a.Button,{className:"done-button"},"\n            ",n.translate("Pages_Actions_Rename_Button"),"\n        ")):null)}}),define("pages/panel/pagesView/page/page",["react","lodash","core","util","pages/panel/pagesView/page/page.rt"],function(e,t,n,a,i){"use strict";var o=function(o){function s(e){_classCallCheck(this,s);var i=_possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return i.state={inputValue:e.mountInRenameMode?e.title:null},i.handleClickAction=function(e){e.isRename?i.openRenameMode():e.onClick(i.props.id,i.props.title)},i.handleContextMenuToggle=function(e){e&&i.props.biEvent(n.bi.events.pages.pagesPanel.page_actions_click,{page_id:i.props.id,source:i.props.biCategory})},i.openRenameMode=function(){return i.setState({inputValue:i.props.title})},i.onDoubleClick=function(){t.filter(i.props.actions,"isRename")[0]&&i.props.renameEnabled&&i.openRenameMode()},i.handleChangeInput=function(e){return i.setState({inputValue:e})},i.handleBlurInput=function(){if(!a.validate.pageNameValidator(i.state.inputValue)&&i.props.title!==i.state.inputValue){t.filter(i.props.actions,"isRename")[0].onClick(i.props.id,i.state.inputValue)}i.setState({inputValue:null})},i.getSettingsActions=function(){return t.filter(i.props.actions,"isSettings")},i.getActions=function(){return t.reject(i.props.actions,"isSettings")},i}return _inherits(s,e.Component),_createClass(s,[{key:"render",value:function(){return i.call(this)}}]),s}();return o.displayName="Page",o.propTypes={id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,onClick:e.PropTypes.func.isRequired,actions:e.PropTypes.arrayOf(e.PropTypes.shape({title:e.PropTypes.string.isRequired,onClick:e.PropTypes.func.isRequired,symbolName:e.PropTypes.string.isRequired,isRename:e.PropTypes.bool})),isSelected:e.PropTypes.bool,info:e.PropTypes.string,mountInRenameMode:e.PropTypes.bool,renameEnabled:e.PropTypes.bool.isRequired,typeSymbol:e.PropTypes.string,permissionSymbol:e.PropTypes.string,biEvent:e.PropTypes.func.isRequired,biCategory:e.PropTypes.string.isRequired},o}),define("pages/panel/pagesView/pagesView.rt",["react","lodash","util","baseUILib","symbols","pages/panel/pagesView/page/page"],function(e,t,n,a,i,o){"use strict";return function(){return e.createElement("div",{className:"pages-view-pp"},e.createElement(a.PanelHeader,{onClose:this.props.onClose,onHelp:this.props.onHelp,className:"header light"},e.createElement("span",{className:"title-pages-view-pp"},this.props.title)),e.createElement("div",{className:"pages-container-outer"},e.createElement(a.CustomScroll,{},e.createElement.apply(this,["ul",{className:"pages-container-inner"},t.map(this.props.pages,function(t,n){return e.createElement("li",{className:"page-container",key:"li-"+t.id},e.createElement(o,{id:t.id,title:t.title,info:t.info,typeSymbol:t.typeSymbol,permissionSymbol:t.permissionSymbol,mountInRenameMode:this.props.renamedItemId===t.id,actions:t.actions,biEvent:this.props.biEvent,biCategory:this.props.biCategory,renameEnabled:this.props.renameEnabled,isSelected:this.props.selectedPageId===t.id,onClick:this.handleClickItem}))}.bind(this))]))),this.props.onClickAdd?e.createElement("footer",{className:"add-container",key:"add-container"},e.createElement(a.Button,{className:"add-button",onClick:this.props.onClickAdd},e.createElement(i.symbol,{name:"addPagePagesPanel"}),e.createElement("span",{},n.translate(this.props.titleAdd)))):null)}}),define("pages/panel/pagesView/pagesView",["lodash","react","pages/panel/pagesView/pagesView.rt"],function(e,t,n){"use strict";var a=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleClickItem=function(e){t.props.navigateTo(e)},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return n.call(this)}}]),a}();return a.displayName="PagesView",a.propTypes={title:t.PropTypes.string.isRequired,onClose:t.PropTypes.func.isRequired,onHelp:t.PropTypes.func.isRequired,navigateTo:t.PropTypes.func.isRequired,pages:t.PropTypes.arrayOf(t.PropTypes.shape({id:t.PropTypes.string.isRequired,title:t.PropTypes.string.isRequired,info:t.PropTypes.string,actions:t.PropTypes.arrayOf(t.PropTypes.shape({title:t.PropTypes.string.isRequired,onClick:t.PropTypes.func.isRequired,symbolName:t.PropTypes.string.isRequired,isRename:t.PropTypes.bool})),typeSymbol:t.PropTypes.string,permissionSymbol:t.PropTypes.string})).isRequired,selectedPageId:t.PropTypes.string,titleAdd:t.PropTypes.string,onClickAdd:t.PropTypes.func,onShowSettings:t.PropTypes.func,renamedItemId:t.PropTypes.string,renameEnabled:t.PropTypes.bool.isRequired,biEvent:t.PropTypes.func.isRequired,biCategory:t.PropTypes.string.isRequired},a}),define("pages/panel/pagesView/editorAPIConnectors/popupView",["lodash","util","core","higherOrderComponents","stateManagement","pages/utils/pageCategories","pages/panel/pagesView/editorAPIConnectors/getActions","pages/panel/pagesView/pagesView"],function(e,t,n,a,i,o,s,r){"use strict";var p=function(n,a){var i=function(n,a){return e.template(t.translate(n))(a)},o=a.length,s=i("Pages_Menu_Popup_Tooltip_Start_Section",{$PAGE_NAME:e.truncate(e.head(a))}),r=i("Pages_Menu_Popup_Tooltip_End_Section",{$PAGE_NAME:e.truncate(e.last(a))}),p=void 0;if(1===o)p=s;else if(2===o)p=s+" "+r;else{p=e.reduce(e.slice(a,1,-1),function(t,n){return t+" "+i("Pages_Menu_Popup_Tooltip_Middle_Section",{$PAGE_NAME:e.truncate(n)})},s)+" "+r}return p};return a.connectEditorAPI(function(a,r){var l=r.popups,u=r.pagesData,c=r.onItemAdded,d=r.onRename,g=r.onHelp,m=r.isDesktop,f=r.biPanelName;return{pages:function(n,a,i,o,r,l){var u=s.popup(n,o,r,l),c=e.map(a,function(e){return{id:e.id,title:e.title,actions:u,typeSymbol:"popupPageType"}});return o?function(n,a,i){var o=n.pages.popupPages.getOpenBehaviorsForPopups(),s=e.zipObject(e.map(i,"id"),e.map(i,"title")),r=e.groupBy(o,"popupId"),l=n.documentServices.siteSegments.getSiteStructureId();return e.map(a,function(a){var i=r[a.id],o=!!i&&i[0].pageId===l,u=e.map(i,"pageId");if(o)return a.info=t.translate("Pages_Menu_Popup_Tooltip_Set_To_All"),a;var c=e.map(u,e.partial(e.get,s));return c.length>0&&(a.info=p(n,c)),a})}(n,c,i):c}(a,l,u,m,c,d),onClickAdd:function(e,t){return t?function(){e.getUserPreferences().session.set("addPanelCategoryIdOnClose","popup"),e.store.dispatch(i.leftBar.logic.openAddPanel()),e.bi.event(n.bi.events.pages.pagesPanel.add_page_selection_click,{category:"popup",source:"lightbox"})}:null}(a,m),navigateTo:function(e,t){return function(a){e.pages.navigateTo(a,function(){e.selection.selectComponentByCompRef(e.pages.popupPages.getPopupContainer(a))}),e.bi.event(n.bi.events.pages.navigate_to_page,{page_id:a,panel_name:t,category:o.POPUPS.biCategory})}}(a,f),renameEnabled:m,onHelp:m?e.partial(g,o.POPUPS.helpId):e.partial(g,o.POPUPS.mobileHelpId),titleAdd:o.POPUPS.titleAdd,biEvent:a.bi.event,biCategory:o.POPUPS.biCategory}})(a.renderWhenMutated(r))}),define("pages/panel/pagesView/editorAPIConnectors/blogView",["lodash","higherOrderComponents","pages/utils/pageCategories","pages/panel/pagesView/editorAPIConnectors/getActions","pages/panel/pagesView/pagesView","core"],function(e,t,n,a,i,o){"use strict";return t.connectEditorAPI(function(t,i){var s=i.blogPages,r=i.onShowSettings,p=i.onHelp,l=i.isDesktop,u=i.biPanelName;return{pages:function(t,n,i,o){var s=a.tpaPage(t,i,o),r=a.tpaSubPage(t,i,o);return e.map(n,function(e){var t=e.id,n=e.title,a=e.isSubPage,i=e.permissionSymbol;return{id:t,title:n,info:e.info,permissionSymbol:i,typeSymbol:"oldBlogPageType",actions:a?r:s}})}(t,s,r,l),onClickAdd:null,onHelp:l?e.partial(p,n.BLOG_PAGES.helpId):e.partial(p,n.BLOG_PAGES.mobileHelpId),renameEnabled:l,navigateTo:function(e,t){return function(a){e.pages.navigateTo(a),e.bi.event(o.bi.events.pages.navigate_to_page,{page_id:a,panel_name:t,category:n.BLOG_PAGES.biCategory})}}(t,u),biEvent:t.bi.event,biCategory:n.BLOG_PAGES.biCategory}})(t.renderWhenMutated(i))}),define("pages/panel/menuView/utils/menuDataGetterUtil",["pages/utils/pageCategories"],function(e){"use strict";return{getMenuTabNameIfApplicable:function(t,n,a,i,o){return"CUSTOM_MAIN_MENU"===n?o?e.MAIN_MENU.flatMenuTitle:e.MAIN_MENU.title:a===t?e.MEMBERS_MENU.title:i},getHelpIdForMenu:function(t,n,a,i){return"CUSTOM_MAIN_MENU"===t?i?e.MAIN_MENU.helpId:e.MAIN_MENU.mobileHelpId:n===a?i?e.MEMBERS_MENU.helpId:e.MEMBERS_MENU.mobileHelpId:e.MENUS.helpId}}}),define("pages/panel/getPages",["lodash","util","core","pages/utils/pageCategories","experiment","pages/panel/menuView/utils/menuDataGetterUtil"],function(e,t,n,a,i,o){"use strict";var s="1380b703-ce81-ff05-f115-39571d94dfcd",r=[s],p=function(t){if(e.get(t,"pageSecurity.requireLogin"))return"membersPagePermission";return e.get(t,"pageSecurity.dialogLanguage")?"passwordPagePermission":null};return{blog:function(i){return e(i).filter(n.utils.blogTypeUtils.isBlogSpecialPage).map(function(e){return{id:e.id,info:t.translate("Pages_Blog_Post_Info_WhatisText"),title:e.title,isSubPage:!0,permissionSymbol:p(e),biCategory:a.BLOG_PAGES.biCategory}}).value()},dynamicPages:function(t,n){return e.map(n,function(e){var t=e.id,n=e.label,a=e.pageData;return{id:t,title:n,permissionSymbol:p(a)}})},popups:function(t){return e.map(t.pages.popupPages.getDataListOrdered(),function(e){return{id:e.id,title:e.title,biCategory:a.POPUPS.biCategory}})},tpas:function(o,l){var u=n.utils.tpaTypeUtils,c=e.filter(l,function(e){return e.tpaApplicationId>0}),d=e.groupBy(c,"tpaApplicationId"),g=function(a,i,r){return e(a).reject(function(e){return u.isPageNotVisibleInPagesMenu(o,e)}).filter(function(e){return u.isTPASpecialPage(o,e,!0)}).map(function(e){return{id:e.id,title:e.title,isSubPage:!0,permissionSymbol:p(e),biCategory:i,info:function(e,a,i){var o=n.utils.wixStoreTypeUtils;if(i===s){if(o.isWixStoreProductPage(a))return t.translate("Pages_Store_Product_Info_WhatisText");if(o.isWixStoreCartPage(a))return t.translate("Pages_Store_Cart_Info_WhatisText");if(o.isWixStoreThankYouPage(a))return t.translate("Pages_Store_Thankyou_Info_WhatisText")}}(0,e,r)}}).value()};return e(Object.keys(d)).map(function(n){var s=o.documentServices.tpa.app.getData(n),p=s.appDefinitionId,l=s.appDefinitionName,u=s.helpId,c=a.TPA_PAGES.getBiCategory(p);return e.includes(r,p)?{pagesData:g(d[n],c,p),id:p,typeSymbol:"storesPageType",title:t.translate("NewPages_Panel_Left_StorePages_Label"),helpId:"59a4a620-30b2-4c93-a27a-c9290141738c",mobileHelpId:"2d2d9e55-a955-4f45-97c4-76fc2436f297",biCategory:c}:i.isOpen("pagesAllTpas")?{pagesData:g(d[n],c,p),id:p,title:l,helpId:u,biCategory:c}:null}).compact().value()},routers:function(t){return i.isOpen("dpages")?e(t.pages.dynamicPages.getMenuItems()).reject(function(t){var n=t.items;return e.isEmpty(n)}).map(function(n){var a=n.id,i=n.label,o=n.items,s=n.prefix,r=t.documentServices.pages.getReference(o[0].id),p=t.documentServices.routers.getRouterRef.byPage(r),l=t.documentServices.routers.get.byRef(p).appDefinitionId;return l===t.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId?null:{id:a,title:i,pagesData:o,prefix:s,applicationId:e.get(t.documentServices.platform.getAppDataByAppDefId(l),"applicationId")}}).compact().value():[]},menus:function(t,n,a){var i=t.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId,s=["MEMBERS_LOGIN_MENU","MEMBERS_LOGIN_ICONS_MENU"],r=t.documentServices.menu.getAll();return e(r).reject(function(t){var n=t.id;return e.includes(s,n)}).map(function(e){var s=t.documentServices.platform.getAppDataByApplicationId(e.appId).appDefinitionId;return{id:e.id,appDefId:s,menuItems:t.menus.getExtendedMenuItemsTree(e,n),title:o.getMenuTabNameIfApplicable(i,e.id,s,e.name,a)}}).value()}}}),define("pages/panel/pagesView/editorAPIConnectors/dynamicPagesView",["lodash","core","higherOrderComponents","pages/utils/pageCategories","pages/panel/pagesView/editorAPIConnectors/getActions","pages/panel/getPages","pages/panel/pagesView/pagesView"],function(e,t,n,a,i,o,s){"use strict";return n.connectEditorAPI(function(n,s){var r=s.router,p=r.title,l=r.pagesData,u=r.prefix,c=s.onShowSettings,d=s.isDesktop,g=s.onHelp,m=s.biPanelName,f=n.documentServices.pages.getReference(l[0].id),b=n.documentServices.routers.getRouterRef.byPage(f),P=n.documentServices.routers.get.byRef(b).appDefinitionId,y=e.get(n.documentServices.platform.getAppDataByAppDefId(P),"applicationId");return{title:p,pages:function(t,n,a,s,r,p,l){var u=o.dynamicPages(t,n,a,s,r,p);return e.map(u,function(e){var n=e.id;return{id:n,title:e.title,permissionSymbol:e.permissionSymbol,typeSymbol:"dataBinding"===l?"dynamicPageType":"routerPageType",actions:i.dynamicPage(t,n,a,s,r,p)}})}(n,l,y,b,c,d,P),onHelp:function(t,n,i){return"dataBinding"===n?t?e.partial(i,a.DYNAMIC_PAGES.helpId):e.partial(i,a.DYNAMIC_PAGES.mobileHelpId):t?e.partial(i,a.ROUTER_PAGES.helpId):e.partial(i,a.ROUTER_PAGES.mobileHelpId)}(d,P,g),renameEnabled:d,navigateTo:function(e,n){return function(i){e.pages.navigateTo(i),e.bi.event(t.bi.events.pages.navigate_to_page,{page_id:i,panel_name:n,category:a.ROUTER_PAGES.biCategory})}}(n,m),onClickAdd:function(e,n,a,o,s,r){if(!n||!e.developerMode.isEnabled())return null;var p="dataBinding"===o?"addDynamicPageClicked":"addPageToRouterClicked",l=i.getOnClickApplicationNotification(e,a,p,{prefix:s,routerRef:r});return function(n){e.bi.event(t.bi.events.pages.pagesPanel.add_page_selection_click,{category:"dynamic page",source:"router"}),l(n)}}(n,d,y,P,u,b),titleAdd:"dataBinding"===P?a.DYNAMIC_PAGES.titleAdd:a.ROUTER_PAGES.titleAdd,biEvent:n.bi.event,biCategory:a.ROUTER_PAGES.biCategory}})(n.renderWhenMutated(s))}),define("pages/panel/pagesView/editorAPIConnectors/tpaView",["lodash","higherOrderComponents","pages/panel/pagesView/editorAPIConnectors/getActions","pages/panel/pagesView/pagesView","core","pages/utils/pageCategories"],function(e,t,n,a,i,o){"use strict";return t.connectEditorAPI(function(t,a){var s=a.tpa,r=s.pagesData,p=s.title,l=s.helpId,u=s.mobileHelpId,c=s.onClickAdd,d=s.typeSymbol,g=s.biCategory,m=a.onShowSettings,f=a.isDesktop,b=a.onHelp,P=a.biPanelName;return{title:p,pages:function(t,a,i,o,s){var r=n.tpaPage(t,i,o),p=n.tpaSubPage(t,i,o);return e.map(a,function(e){var t=e.id,n=e.title,a=e.isSubPage,i=e.permissionSymbol;return{id:t,title:n,info:e.info,typeSymbol:s,permissionSymbol:i,actions:a?p:r}})}(t,r,m,f,d),onHelp:f?e.partial(b,l):e.partial(b,u),titleAdd:o.TPA_PAGES.titleAdd,onClickAdd:c,renameEnabled:f,navigateTo:function(e,t,n){return function(a){e.pages.navigateTo(a),e.bi.event(i.bi.events.pages.navigate_to_page,{page_id:a,panel_name:t,biCategory:n})}}(t,P,g),biEvent:t.bi.event,biCategory:g}})(t.renderWhenMutated(a))}),define("pages/panel/menuView/utils/mainMenuTreeState",["lodash"],function(e){"use strict";function t(e,t){i[e]=Boolean(t)}function n(e,t){return i.hasOwnProperty(e)?i[e]:t||!1}function a(i){e.forEach(i,function(e){e.isCollapsed=n(e.id),e.items.length>0?a(e.items):e.isCollapsed&&(e.isCollapsed=!1,t(e.id,!1))})}var i={};return{setMenuItemCollapsed:t,reflectStateToMenuTree:a,reflectStateToMenuItem:function(a,i){return a.isCollapsed=n(a.id,i),e.get(a,"items.length",0)<=0&&a.isCollapsed&&(a.isCollapsed=!1,t(a.id,!1)),a}}}),define("pages/panel/menuView/editorAPIConnectors/menuViewUtils",["lodash"],function(e){"use strict";return{getMenuItemsWithInitialCollaptionData:function(t,n){return n&&e.forEach(t,function(e){e.isCollapsed=n[e.id]}),t},getMenuItemsWithsymbolIfApplicable:function(t,n,a){return n!==a?t:e.map(t,function(t){return e.defaults({symbol:"membersAction",items:e.map(t.items,function(t){return e.defaults({symbol:"membersAction"},t)})},t)})}}}),define("pages/panel/menuView/editorAPIConnectors/menuViewActions",["lodash","core","util","platform"],function(e,t,n,a){"use strict";function i(n,a,i,o,s){var r=o[e.findIndex(o,{id:i.id})-1],p=r.items.length;!function(t,n,a,i,o){e.forEachRight(a.items,function(e){t.menus.moveMenuItem(n,e.id,i,o)})}(n,a,i,r.id,p),n.menus.moveMenuItem(a,i.id,r.id,p),n.bi.event(t.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"quick actions",source:s}),n.history.add("subpaging a page")}var o=function(e,n,a,i){e.bi.event(t.bi.events.pages.pagesPanel.quick_actions_menu_select,{page_id:n,source:i,category:a})},s=function(e,t,n,a,i){var o={};"boolean"==typeof a?o.hidePage=a:a=!n.isVisible,"boolean"==typeof i?o.mobileHidePage=i:i=!n.isVisibleMobile,n.pageData?e.pages.data.update(n.pageData.id,o):e.documentServices.menu.updateItem(t,n.id,{isVisible:!a,isVisibleMobile:!i}),e.history.add("hiding a page")},r=function(a,s,r,p,l,u){!function(e){var t=0===e.position;return!e.parent&&!t}(p)?function(t){return e.isObject(t.parent)}(p)&&r.push({title:n.translate("Pages_Actions_Page_MoveUp"),symbolName:"unsubpageAction",onClick:function(){!function(e,n,a,i){var o=a.parent.parent&&a.parent.parent.id,s=a.parent.position+1;e.menus.moveMenuItem(n,a.id,o,s),e.bi.event(t.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"quick actions",source:i}),e.history.add("moving a page out of its parent")}(a,s,p,u);var n=e.get(p,"pageData.id");o(a,n,"mainpage",u)}}):r.push({title:n.translate("Pages_Actions_Page_Subpage"),symbolName:"subpageAction",onClick:function(){i(a,s,p,l,u);var t=e.get(p,"pageData.id");o(a,t,"subpage",u)}})};return{getActionsForMenuItem:function(i,p,l,u,c,d,g,m,f){return p.appId?u?function(t,i,s,p,l,u,c){var d=function(t,n,i,s,r,p){if(s){var l=t.documentServices.platform.getAppDataByApplicationId(n.appId).appDefinitionId,u=t.pages.dynamicPages.getActionByAppDefId(l,"pageSettings",[a.constants.pages.page_settings.pageInfo.type,a.constants.pages.page_settings.seo.type]);return e.map(u,function(n){return{title:n.title,symbolName:n.icon,onClick:function(){var a=e.get(i,"pageData.id");r({pageId:a,routerId:e.get(i,"link.routerId"),innerRoute:e.get(i,"link.innerRoute"),tabTitle:n.tabTitle}),o(t,a,n.tabTitle,p)},isSettings:!0}})}return[]}(t,i,s,p,l,c);return function(t,i,s,r,p,l){var u=e.get(s,"pageData.id"),c=t.documentServices.platform.getAppDataByApplicationId(i.appId).appDefinitionId,d=t.pages.dynamicPages.getActionByAppDefId(c,"pageSettings",[a.constants.pages.page_settings.pageInfo.type])[0];s.isVisible?p.push({title:n.translate("Pages_Actions_Page_Hide"),symbolName:"hideAction",onClick:function(){r({tabTitle:d.tabTitle,pageId:u,routerId:e.get(s,"link.routerId"),innerRoute:e.get(s,"link.innerRoute")}),o(t,u,"hide",l)}}):p.push({title:n.translate("Pages_Actions_Page_Unhide"),symbolName:"unhideAction",onClick:function(){r({tabTitle:d.tabTitle,pageId:u,routerId:e.get(s,"link.routerId"),innerRoute:e.get(s,"link.innerRoute")}),o(t,u,"hide",l)}}),p.push({title:n.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:function(){r({tabTitle:"page",pageId:u,routerId:e.get(s,"link.routerId"),innerRoute:e.get(s,"link.innerRoute")}),o(t,u,"rename",l)}})}(t,i,s,l,d,c),r(t,i,d,s,u,c),d}(i,p,l,u,c,m,f):null:u?function(t,a,i,p,l,u,d,g,m){var f=[];return function(t,a,i,s,r,p){i.type.isPage&&s&&a.unshift({title:n.translate("Pages_Actions_Page_Settings"),symbolName:"settingsAction",onClick:function(){r({tabTitle:"page",pageId:i.pageData.id});var n=e.get(i,"pageData.id");o(t,n,"tabPageInfo",p)},isSettings:!0},{title:n.translate("Pages_Actions_Page_SEO"),symbolName:"seoSettingsAction",onClick:function(){r({tabTitle:"seo",pageId:i.pageData.id});var n=e.get(i,"pageData.id");o(t,n,"tabSEO",p)},isSettings:!0})}(t,f,i,p,c,m),function(e,t,a,i,s){i.type.isLink&&a.push({title:n.translate("Pages_Actions_Link_Change"),symbolName:"linkAction",onClick:function(){e.menus.updateLink(t,i,i.link),o(e,null,"change link",s)}})}(t,a.id,f,i,m),function(t,a,i,s,r,p){i.push({title:n.translate("Pages_Actions_Page_Rename"),symbolName:"renameAction",onClick:function(n){s.pageData?t.menus.renamePage(s.pageData,n):function(e,t,n,a){a&&n.label!==a&&(e.menu.updateItem(t,n.id,{label:a}),e.history.debouncedAdd("Rename Menu Item"))}(t,a,s,n);var i=e.get(s,"pageData.id");o(t,i,"rename",p),r()},isRename:!0})}(t,a.id,f,i,d,m),function(t,a,i,s,r,p){t.menus.canDuplicate(s)&&i.push({title:n.translate("Pages_Actions_Page_Duplicate"),symbolName:"duplicateAction",onClick:function(){t.menus.duplicateMenuItem(a,s,r);var n=e.get(s,"pageData.id");o(t,n,"duplicate",p)}})}(t,a.id,f,i,u,m),function(t,a,i,s,r){s.type.isPage&&t.developerMode.isEnabled()&&function(e,t){var n=t.pageData&&t.pageData.id;return!!n&&e.documentServices.routers.pages.isConnectablePage(n)}(t,s)&&i.push({title:n.translate("Platform_Page_Actions_Set_Dynamic_Page"),symbolName:"page_dynamic_icon",onClick:function(){!function(e,t){var n=s.pageData.id,a=e.documentServices.platform.getAppDataByAppDefId(e.documentServices.platform.editorApps.DATA_BINDING.appDefId);e.documentServices.platform.notifyApplication(a.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{pageRef:e.documentServices.pages.getReference(n),origin:"quickActionsMenu"}})}(t);var n=e.get(s,"pageData.id");o(t,n,"Set Page Dynamic",r)}})}(t,a.id,f,i,m),function(t,a,i,r,p){r.isVisible?i.push({title:n.translate("Pages_Actions_Page_Hide"),symbolName:"hideAction",onClick:function(){s(t,a,r,!0);var n=e.get(r,"pageData.id");o(t,n,"hide",p)}}):i.push({title:n.translate("Pages_Actions_Page_Unhide"),symbolName:"unhideAction",onClick:function(){s(t,a,r,!1);var n=e.get(r,"pageData.id");o(t,n,"show",p)}})}(t,a.id,f,i,m),r(t,a,f,i,g,m),function(t,a,i,s,r){i.push({title:n.translate("Pages_Actions_Page_Delete"),symbolName:"deleteAction",onClick:function(){t.menus.removeMenuItem(a,s);var n=e.get(s,"pageData.id");o(t,n,"delete",r)}})}(t,a.id,f,i,m),f}(i,p,l,u,0,d,g,m,f):function(a,i,o,r){return o.isVisibleMobile?[{title:n.translate("MenuItem_Hide_Mobile_Action"),symbolName:"quickActionsHide",onClick:function(){s(a,i,o,void 0,!0);var n=e.get(o,"pageData.id");a.bi.event(t.bi.events.pages.pagesPanel.quick_action_hide_show_mobile_click,{page_id:n,source:r,category:"hide"})}}]:[{title:n.translate("MenuItem_Show_Mobile_Action"),symbolName:"quickActionsShow",onClick:function(){s(a,i,o,void 0,!1);var n=e.get(o,"pageData.id");a.bi.event(t.bi.events.pages.pagesPanel.quick_action_hide_show_mobile_click,{page_id:n,source:r,category:"show"})}}]}(i,p.id,l,f)}}}),define("pages/panel/menuView/editorAPIConnectors/menuViewMapper",["lodash","core","pages/panel/menuView/editorAPIConnectors/menuViewUtils","pages/panel/menuView/editorAPIConnectors/menuViewActions","pages/panel/menuView/utils/menuDataGetterUtil","pages/utils/pageCategories"],function(e,t,n,a,i,o){"use strict";var s=function(e){return e.getUserPreferences().session.get("collapsedMenuItems")};return function(r,p){var l=p.onShowSettings,u=p.onItemAdded,c=p.onRename,d=p.isDesktop,g=p.onHelp,m=p.menu,f=p.selectedMenuItemId,b=p.biPanelName,P=r.documentServices.menu.getById(m.id),y=r.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId,_=n.getMenuItemsWithInitialCollaptionData(m.menuItems,s(r)),h=n.getMenuItemsWithsymbolIfApplicable(_,m.appDefId,y),I=o.MENUS.getBiCategory(m.id);return{title:m.title,menuItems:h,isDraggable:d,renameEnabled:d,isMobile:!d,initialActions:!d&&m.appDefId?null:[],showAddOptions:d&&m.appDefId!==r.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId,biEvent:r.bi.event,biCategory:I,onMoveMenuItem:function(e,t,n,a){return r.menus.moveMenuItem(P,e,t,n,a)},navigateCallback:function(n){if(n.type.isPage)!function(e,n,a,i){e.documentServices.pages.getFocusedPageId()!==n&&(e.pages.navigateTo(n),e.bi.event(t.bi.events.pages.navigate_to_page,{page_id:n,category:a,panel_name:i}))}(r,n.pageData.id,I,b);else if(n.type.isLink&&"AnchorLink"===n.type.raw){var a=n.link,i=a.pageId&&a.pageId.replace("#","");!function(e,n,a,i,o){(e.documentServices.pages.getFocusedPageId()!==n||o)&&(e.pages.navigateToAndScroll(n,o,e.applyPreviewScrollToEditorScroll),e.bi.event(t.bi.events.pages.navigate_to_page,{page_id:n,category:a,panel_name:i}))}(r,i,I,b,a.anchorDataId)}else n.type.isLink&&"DynamicPageLink"===n.type.raw&&function(n,a,i,o,s){var r=e.assign(n.data.createItem("DynamicPageLink"),{innerRoute:i||"",routerId:a});n.pages.navigateTo(r),n.bi.event(t.bi.events.pages.navigate_to_page,{category:o,panel_name:s})}(r,n.link.routerId,n.link.innerRoute,I,b)},titleAdd:o.MENUS.titleAdd,onHelpHeader:e.partial(g,i.getHelpIdForMenu(m.id,m.appDefId,y,d)),onHelp:g,onClickAddPage:function(e,n,a,i,o){return function(){e.menus.addPage(a,i,o),e.bi.event(t.bi.events.pages.pagesPanel.add_page_selection_click,{category:"page",source:n})}}(r,I,m.id,f,u),onClickAddLink:function(e,n,a,i,o){return function(){e.menus.addLink(a,i,o),e.bi.event(t.bi.events.pages.pagesPanel.add_page_selection_click,{category:"link",source:n})}}(r,I,m.id,f,u),onClickAddFolder:function(e,n,a,i,o){return function(){e.menus.addFolder(a,i,o),e.bi.event(t.bi.events.pages.pagesPanel.add_page_selection_click,{category:"dropdown menu",source:n})}}(r,I,m.id,f,u),setInPrefIscollapsedMenuItems:function(e,t){return function(e,t,n){var a=s(e);return a||(e.getUserPreferences().session.set("collapsedMenuItems",{}),a={}),a[t]=Boolean(n),e.getUserPreferences().session.set("collapsedMenuItems",a)}(r,e,t)},getMenuItemActions:function(e){return a.getActionsForMenuItem(r,P,e,d,l,u,c,_,I)}}}}),define("pages/panel/menuView/addTooltip.rt",["react","lodash","util","baseUILib"],function(e,t,n,a){"use strict";return function(t,i){return e.createElement("div",{className:"add-tooltip-pp",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},e.createElement(a.Composites.RichTextLabeled,{},e.createElement(a.TextLabel,{type:"T06",value:t.title}),e.createElement(a.RichText,{},e.createElement("p",{},n.translate(t.description),"\n            ",e.createElement("a",{onClick:t.onLearnMore},n.translate("NewPages_Panel_Add_Folder_Learnmore"))))))}}),define("pages/panel/menuView/addTooltip",["lodash","react","pages/panel/menuView/addTooltip.rt"],function(e,t,n){"use strict";var a=n;return a.displayName="addTooltip",a.propTypes={title:t.PropTypes.string,description:t.PropTypes.string,onLearnMore:t.PropTypes.func,onMouseEnter:t.PropTypes.func,onMouseLeave:t.PropTypes.func},a}),define("pages/panel/menuView/menuItem/menuItem.rt",["react","lodash","baseUI","symbols","baseUILib","util","core","experiment"],function(e,t,n,a,i,o,s,r){"use strict";return function(){function n(n){var o=this.filterRegularActions(),s=this.filterSettingsActions();return e.createElement(i.ContextMenu,{className:"flat",isOpen:this.state.contextMenuOpened,key:"page-context-menu",onToggle:this.handleContextMenuToggle,automationId:"menu-item-context-menu"},e.createElement.apply(this,[i.ContextMenuContent,{key:"actions-"+this.state.actions.length},t.map(s,function(t,n,o,s,r){return e.createElement(i.ContextMenuAction,{onClick:function(e,t,n,a,i){this.handleClickAction(a)}.bind(this,t,n,o,s,r),key:"action-"+s.title,automationId:"action-"+s.title,className:"menu-item-settings-action-pp"},e.createElement(a.symbol,{name:s.symbolName}),e.createElement("span",{},s.title))}.bind(this,n,o,s)),t.isEmpty(o)||t.isEmpty(s)?null:e.createElement(i.Divider,{key:"actions-divider"}),t.map(o,function(t,n,o,s,r){return e.createElement(i.ContextMenuAction,{onClick:function(e,t,n,a,i){this.handleClickAction(a)}.bind(this,t,n,o,s,r),key:"action-"+s.title,automationId:"action-"+s.title},e.createElement(a.symbol,{name:s.symbolName}),e.createElement("span",{},s.title))}.bind(this,n,o,s))]))}return e.createElement("div",{className:"menu-item-pp "+t(this.getTopLevelClasses()).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:this.props.setSelected,"data-aitemtype":this.getAutomationItemType()},null===this.state.inputValue?e.createElement("div",{className:"title-action-container",key:"pageInfo",onDoubleClick:this.onDoubleClick},e.createElement("div",{className:"left-container"},this.props.isDragAvailable?e.createElement(a.symbol,{name:"dragPage",key:"drag-icon",className:"page-item-drag",dataHintMyData:"hint_my_data"}):null,e.createElement(i.Tooltip,{disabled:!this.props.info,content:this.props.info,shouldTranslate:!1,arrowAlignment:"top",key:"tooltip-type-symbol-pp"},e.createElement(a.symbol,{name:this.getTypeSymbolName()})),e.createElement("span",{className:"menu-item-title"},e.createElement(i.TooltipOnEllipsis,{marginTop:5,contentClassName:"menu-item-title-name"},this.props.dataSource.label))),function(){var t=this.getPagePermissionSymbol();return e.createElement("div",{className:"right-container"},t?e.createElement(a.symbol,{name:t,key:"pagePermissionSymbol"}):null,this.isHidden()?e.createElement(a.symbol,{name:"hiddenPageStatus",key:"hiddenPageStatus-symbol"}):null,this.state.actions?n.apply(this,[t]):null)}.apply(this,[])):null,null!==this.state.inputValue?function(){var t=o.validate.pageNameValidator(this.state.inputValue);return e.createElement("div",{className:"input-button-container",key:"input-container-page-pp"},e.createElement(i.TextInput,{value:this.state.inputValue,onChange:this.handleChangeInput,isValid:!t,invalidMessage:o.translate(t),shouldTranslate:!1,selectOnFocus:!0,maxLength:40,onBlur:this.handleRenameDone,autoSelect:!0}),e.createElement(i.Button,{className:"done-button",disabled:t},"\n            ",o.translate("Pages_Actions_Rename_Button"),"\n        "))}.apply(this,[]):null)}}),define("pages/panel/menuView/menuItem/menuItem",["lodash","react","pages/panel/menuView/menuItem/menuItem.rt","core","util"],function(e,t,n,a,i){"use strict";var o=function(t){var n;return e.get((n={},_defineProperty(n,"1380b703-ce81-ff05-f115-39571d94dfcd","storesPageType"),_defineProperty(n,"13d21c63-b5ec-5912-8397-c3a5ddb27a97","bookingPageType"),_defineProperty(n,"14724f35-6794-cd1a-0244-25fd138f9242","forumPageType"),_defineProperty(n,"14bcded7-0066-7c35-14d7-466cb3f09103","blogPageType"),_defineProperty(n,"135aad86-9125-6074-7346-29dc6a3c9bcf","hotelsPageType"),_defineProperty(n,"13c1402c-27f2-d4ab-7463-ee7c89e07578","restaurantsPageType"),_defineProperty(n,"13e8d036-5516-6104-b456-c8466db39542","restaurantsPageType"),n),t,"tpaPageType")},s=function(t){return e.get({AnchorLink:"anchorPageType",ExternalLink:"urlPageType",EmailLink:"emailPageType",PhoneLink:"phonePageType",DocumentLink:"documentPageType"},t,"linkPageType")},r=function(r){function p(t){_classCallCheck(this,p);var n=_possibleConstructorReturn(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t));return n.state={actions:n.props.initialActions,contextMenuOpened:!1,inputValue:function(){if(!(n.props.dataSource.id===n.props.renamedMenuItemId)||!n.props.renameEnabled)return null;var t=n.props.getMenuItemActions(n.props.dataSource);return e.head(e.filter(t,"isRename"))?n.props.dataSource.label:null}()},n.handleClickAction=function(e){e.isRename?n.openRenameMode():e.onClick(n.props.dataSource.id,n.props.dataSource.label)},n.openRenameMode=function(){n.getRenameAction()&&n.props.renameEnabled&&n.setState({inputValue:n.props.dataSource.label})},n.handleChangeInput=function(e){return n.setState({inputValue:e})},n.handleRenameDone=function(){var e=!i.validate.pageNameValidator(n.state.inputValue)?n.state.inputValue:n.props.dataSource.label;n.getRenameAction().onClick(e),n.props.setSelected(),n.setState({inputValue:null,contextMenuOpened:!1})},n.getRenameAction=function(){var t=n.state.actions;return e.isEmpty(t)&&(t=n.props.getMenuItemActions(n.props.dataSource)),e.head(e.filter(t,"isRename"))},n.onDoubleClick=function(){return n.openRenameMode()},n.handleContextMenuToggle=function(t){t?(n.setState({contextMenuOpened:!0,actions:n.getActionsForItem(n.props.dataSource)}),n.props.biEvent(a.bi.events.pages.pagesPanel.page_actions_click,{page_id:e.get(n.props.dataSource,"pageData.id"),source:n.props.biCategory})):n.setState({contextMenuOpened:!1})},n.getActionsForItem=function(e){return n.props.getMenuItemActions(e)},n.isHidden=function(){return n.props.isMobile?!n.props.dataSource.isVisibleMobile:!n.props.dataSource.isVisible},n.getAutomationItemType=function(){var e=n.props.dataSource,t=e.parent?"subpage-":"";return e.isHomePage?t+"home":e.type.isPage?t+"page":e.type.isLink?t+"link":e.type.isDropdown?t+"folder":void 0},n.getTopLevelClasses=function(){return{"hidden-page":n.isHidden(),selected:n.props.isSelected}},n.getPagePermissionSymbol=function(){if(e.get(n.props.dataSource,"pageData.pageSecurity.requireLogin"))return"membersPagePermission";return e.get(n.props.dataSource,"pageData.pageSecurity.dialogLanguage")?"passwordPagePermission":null},n.filterSettingsActions=function(){return e.filter(n.state.actions,"isSettings")},n.filterRegularActions=function(){return e.reject(n.state.actions,"isSettings")},n.getTypeSymbolName=function(){var t=n.props.dataSource;return t.symbol?t.symbol:t.type.isPopupLink?"popupPageType":t.type.isLink?s(e.get(t,"link.type")):t.type.isDropdown?"folderPageType":t.isHomePage?"homePageType":t.isOldBlog?"oldBlogPageType":"members"===e.get(t,"pageData.tpaPageId")?"membersAction":e.get(t,"pageData.tpaApplicationId")>0?o(t.appDefinitionId):"regularPageType"},n}return _inherits(p,t.Component),_createClass(p,[{key:"componentWillReceiveProps",value:function(e){var t=e.dataSource,n=e.renamedMenuItemId;t.id!==n||this.state.inputValue||this.openRenameMode()}},{key:"render",value:function(){return n.call(this)}}]),p}();return r.displayName="MenuItem",r.propTypes={renamedMenuItemId:t.PropTypes.string,dataSource:t.PropTypes.object.isRequired,isSelected:t.PropTypes.bool,setSelected:t.PropTypes.func.isRequired,isDragAvailable:t.PropTypes.bool.isRequired,isMobile:t.PropTypes.bool.isRequired,info:t.PropTypes.string,getMenuItemActions:t.PropTypes.func.isRequired,renameEnabled:t.PropTypes.bool,biEvent:t.PropTypes.func.isRequired,biCategory:t.PropTypes.string.isRequired,initialActions:t.PropTypes.oneOfType([t.PropTypes.array,t.PropTypes.object])},r}),define("pages/panel/menuView/menuView.rt",["react","lodash","baseUI","baseUILib","pages/panel/menuView/menuItem/menuItem","pages/panel/menuView/addTooltip","symbols"],function(e,t,n,a,i,o,s){"use strict";return function(){return e.createElement("div",{className:"menu-view-pp"},e.createElement(a.PanelHeader,{onClose:this.props.onClose,onHelp:this.props.onHelpHeader,className:"header light"},e.createElement("span",{className:"title-menu-view-pp"},this.props.title)),e.createElement("div",{className:t({"pages-tree-container":!0,"disable-drag":!this.props.isDraggable}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},e.createElement(n.treeDocker,{className:t({"pages-tree-docker":!0,"pages-tree-shrinked":this.isShrink()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onNodeMoved:this.handleMovePage,treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"menu-item-pp",draggedClass:"rotated",previewClass:"shadow",isDragAvailable:this.props.isDraggable,scrollTopGetter:this.getScrollTop,collapsedClass:"tree-collapsed"},e.createElement(a.CustomScroll,{ref:"customScroll"},e.createElement(n.treeView,{nodeContent:i,structureType:"tree",isDragAvailable:this.props.isDraggable,isMobile:this.props.isMobile,className:"pages-tree",dataSource:this.props.menuItems,collapsedSelector:"isCollapsed",onNodeToggled:this.onMenuItemToggled,isRoot:!0,onChange:this.handleSelectedItem,initialActions:this.props.initialActions,equalityComparer:this.equalityComparer,value:this.state.selectedMenuItemId,getMenuItemActions:this.props.getMenuItemActions,renameEnabled:this.props.renameEnabled,biEvent:this.props.biEvent,biCategory:this.props.biCategory,renamedMenuItemId:this.props.renamedItemId})))),this.props.showAddOptions?e.createElement("footer",{key:"add-container"},e.createElement("div",{className:"add-options-container"},e.createElement(a.Button,{className:"add-menu-page-button",onClick:this.props.onClickAddPage,automationId:"add-menu-page-button"},e.createElement(s.symbol,{name:"addPagePagesPanel"}),e.createElement("span",{className:"add-title"},this.props.titleAdd)),e.createElement("div",{className:"add-menu-link-button-container",onMouseEnter:this.handleMouseEnterAddLink,onMouseLeave:this.handleMouseLeaveAddLinkButton},e.createElement(a.Tooltip,{arrowAlignment:"top",isOpen:this.state.isAddLinkHovered,content:this.getAddLinkTooltipContent(),key:"tooltip-add-link"},e.createElement(a.Button,{onClick:this.props.onClickAddLink,automationId:"add-menu-link-button"},e.createElement(s.symbol,{name:"addLink"})))),e.createElement("div",{className:"add-menu-folder-button-container",onMouseEnter:this.handleMouseEnterAddFolder,onMouseLeave:this.handleMouseLeaveAddFolderButton},e.createElement(a.Tooltip,{arrowAlignment:"top",isOpen:this.state.isAddFolderHovered,content:this.getAddFolderTooltipContent(),key:"tooltip-add-folder"},e.createElement(a.Button,{onClick:this.props.onClickAddFolder,automationId:"add-menu-folder-button"},e.createElement(s.symbol,{name:"addFolder"})))))):null)}}),define("pages/panel/menuView/menuView",["react","reactDOM","lodash","core","higherOrderComponents","pages/panel/menuView/utils/mainMenuTreeState","pages/panel/menuView/editorAPIConnectors/menuViewMapper","pages/panel/menuView/addTooltip","pages/panel/menuView/menuView.rt"],function(e,t,n,a,i,o,s,r,p){"use strict";var l=17,u=700,c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.reduce(t,function(t,n){return t+1+(n.isCollapsed?0:e(n.items))},0)},d=function(n){function i(n){_classCallCheck(this,i);var s=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n));return s.state={selectedMenuItemId:s.props.selectedMenuItemId,isAddLinkHovered:!1,isAddFolderHovered:!1},s.scrollToSelectedNode=!1,s.componentWillReceiveProps=function(e){s.props.selectedMenuItemId!==e.selectedMenuItemId&&s.setState({selectedMenuItemId:e.selectedMenuItemId}),e.renamedItemId&&s.setState({selectedMenuItemId:e.renamedItemId})},s.componentDidUpdate=function(){s.doScrollToSelectedNode()},s.componentDidMount=function(){s.scrollToSelectedNode=!0,s.doScrollToSelectedNode()},s.isShrink=function(){return c(s.props.menuItems)>l},s.getScrollTop=function(){return s.refs.customScroll.getScrollTop()},s.handleMovePage=function(e){var t={items:s.props.menuItems},n=e.from.findIn(t,"items"),i=n.id;if(i){var r=e.to.parent().findIn(t,"items").id||null,p=e.to.findIn(t,"items"),l=p?p.position:e.to.atRight();r&&o.setMenuItemCollapsed(r,!1),s.props.onMoveMenuItem(i,r,l,function(){r&&(s.scrollToSelectedNode=!0),s.handleSelectedItem(n)}),s.props.biEvent(a.bi.events.topbar.pages.top_bar_PAGES_menu_drag,{source:s.props.biCategory}),r&&1===e.from.length()?s.props.biEvent(a.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"drag",source:s.props.biCategory}):!r&&e.from.length()>1&&s.props.biEvent(a.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"drag",source:s.props.biCategory})}},s.onMenuItemToggled=function(e,t){var n=e.props.dataSource.id;s.props.setInPrefIscollapsedMenuItems(n,t)},s.handleSelectedItem=function(e){(e.type.isDropdown||e.type.isLink&&"DynamicPageLink"!==e.type.raw)&&s.props.onSelectNonPageItem(),s.setState({selectedMenuItemId:e.id}),s.props.navigateCallback(e)},s.equalityComparer=function(e,t){return e.id===t},s.doScrollToSelectedNode=function(){var e=void 0,n=void 0,a=NaN;if(s.scrollToSelectedNode){s.scrollToSelectedNode=!1;var i=t.findDOMNode(s),o=i.querySelector(".pages-tree-container"),r=i.querySelector(".menu-item-pp.selected");r&&(e=o.getBoundingClientRect(),(n=r.getBoundingClientRect()).top<e.top?a=s.getScrollTop()+(n.top-e.top):n.bottom>e.bottom&&(a=s.getScrollTop()+(n.bottom-e.bottom)),isNaN(a)||s.refs.customScroll.updateScrollPosition(Math.max(0,a)))}},s.clearTimeout=function(){return s.props.timeoutHandler.clearTimeout(s.tooltipTimeout)},s.getAddLinkTooltipContent=function(){return e.createElement(r,{title:"NewPages_Panel_Add_Link_Title",description:"NewPages_Panel_Add_Link_Text",onLearnMore:function(){s.props.onHelp("79f9b88c-f080-4acc-8195-d62d34583dc6"),s.clearTimeout(),s.setState({isAddLinkHovered:!1})},onMouseEnter:s.handleMouseEnterAddLink,onMouseLeave:function(){s.clearTimeout(),s.setState({isAddLinkHovered:!1})}})},s.getAddFolderTooltipContent=function(){return e.createElement(r,{title:"NewPages_Panel_Add_Folder_Title",description:"NewPages_Panel_Add_Folder_Text",onLearnMore:function(){s.props.onHelp("c29d5e56-186e-47c6-903a-7ee7908fc078"),s.clearTimeout(),s.setState({isAddFolderHovered:!1})},onMouseEnter:s.handleMouseEnterAddFolder,onMouseLeave:function(){s.clearTimeout(),s.setState({isAddFolderHovered:!1})}})},s.handleMouseEnterAddLink=function(){s.clearTimeout(),s.setState({isAddLinkHovered:!0,isAddFolderHovered:!1})},s.handleMouseLeaveAddLinkButton=function(){s.clearTimeout(),s.tooltipTimeout=s.props.timeoutHandler.setTimeout(function(){s.setState({isAddLinkHovered:!1})},u)},s.handleMouseEnterAddFolder=function(){s.clearTimeout(),s.setState({isAddFolderHovered:!0,isAddLinkHovered:!1})},s.handleMouseLeaveAddFolderButton=function(){s.clearTimeout(),s.tooltipTimeout=s.props.timeoutHandler.setTimeout(function(){s.setState({isAddFolderHovered:!1})},u)},s}return _inherits(i,e.Component),_createClass(i,[{key:"render",value:function(){return p.call(this)}}]),i}();d.displayName="MenuView",d.propTypes={selectedMenuItemId:e.PropTypes.string,setInPrefIscollapsedMenuItems:e.PropTypes.func.isRequired,navigateCallback:e.PropTypes.func.isRequired,isDraggable:e.PropTypes.bool.isRequired,isMobile:e.PropTypes.bool.isRequired,onMoveMenuItem:e.PropTypes.func.isRequired,menuItems:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,title:e.PropTypes.string.isRequired,onClose:e.PropTypes.func.isRequired,onHelp:e.PropTypes.func.isRequired,onHelpHeader:e.PropTypes.func.isRequired,getMenuItemActions:e.PropTypes.func.isRequired,renamedItemId:e.PropTypes.string,initialActions:e.PropTypes.oneOfType([e.PropTypes.array,e.PropTypes.object]),renameEnabled:e.PropTypes.bool.isRequired,showAddOptions:e.PropTypes.bool.isRequired,onClickAddPage:e.PropTypes.func.isRequired,onClickAddLink:e.PropTypes.func.isRequired,onClickAddFolder:e.PropTypes.func.isRequired,titleAdd:e.PropTypes.string.isRequired,onSelectNonPageItem:e.PropTypes.func.isRequired,biEvent:e.PropTypes.func.isRequired,biCategory:e.PropTypes.string.isRequired,timeoutHandler:e.PropTypes.object},d.defaultProps={timeoutHandler:window};var g=i.connectEditorAPI(s)(i.renderWhenMutated(d));return g.pure=d,g}),define("pages/panel/transitionsView/transitionsView.rt",["react","lodash","util","baseUILib","symbols"],function(e,t,n,a,i){"use strict";return function(){return e.createElement("div",{className:"transitions-view-pp"},e.createElement(a.PanelHeader,{onClose:this.props.onClose,onHelp:function(){this.props.onHelp("000c9232-9321-4738-94c8-885f8633b35b")}.bind(this),className:"header light"},e.createElement("span",{},this.props.title)),e.createElement(a.Composites.Thumbnails,{},e.createElement(a.Thumbnails,{value:this.props.selectedTransition,onChange:this.props.onClickTransition,maxThumbsPerRow:3,options:this.getTransitions()})))}}),define("pages/panel/transitionsView/transitionsView",["lodash","react","symbols","pages/panel/transitionsView/transitionsView.rt"],function(e,t,n,a){"use strict";var i=function(e){return t.createElement(n.symbol,{name:e})},o=[{value:"none",label:"Pages_Menu_Transitions_None",illustration:i("transition-none")},{value:"swipeHorizontalFullScreen",label:"Pages_Menu_Transitions_SwipeH_Selected",illustration:i("transition-pages-horizontal")},{value:"swipeVerticalFullScreen",label:"Pages_Menu_Transitions_SwipeV_Popup",illustration:i("transition-pages-vertical")},{value:"crossfade",label:"Pages_Menu_Transitions_CrossFade",illustration:i("transition-pages-crossfade")},{value:"outIn",label:"Pages_Menu_Transitions_OutIn",illustration:i("transition-pages-inout")}],s=function(e){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.getTransitions=function(){return o},t}return _inherits(n,t.Component),_createClass(n,[{key:"render",value:function(){return a.call(this)}}]),n}();return s.displayName="TransitionsView",s.propTypes={onClickTransition:t.PropTypes.func.isRequired,title:t.PropTypes.string.isRequired,onClose:t.PropTypes.func.isRequired,onHelp:t.PropTypes.func.isRequired,selectedTransition:t.PropTypes.string.isRequired},s}),define("pages/panel/dynamicPagesIntroView/dynamicPagesIntroView.rt",["react","lodash","util","baseUILib","pages/utils/pageCategories"],function(e,t,n,a,i){"use strict";return function(){return e.createElement("div",{className:"dynamic-pages-intro-view-pp"},e.createElement(a.PanelHeader,{onClose:this.props.onClose,onHelp:this.props.onHelp.bind(null,i.DYNAMIC_PAGES_INTRO.helpId),className:"header light"},e.createElement("span",{},this.props.title)),e.createElement("img",{className:"banner",src:n.media.getMediaUrl("panels/pages/add_dynamic_pages_intro.png")}),e.createElement(a.Composites.RichTextLabeled,{className:"composite-centered"},e.createElement(a.TextLabel,{type:"T16",value:"Platform_Pages_Menu_Add_Dynamic_Page_Member_Title"}),e.createElement(a.RichText,{type:"T06"},n.translate("Platform_Pages_Menu_Add_Dynamic_Page_Member_Text"))),e.createElement(a.Composites.ActionSetVertical,{},e.createElement(a.Button,{onClick:this.props.addDynamicPage},e.createElement("span",{},n.translate("Platform_Pages_Menu_Add_Dynamic_Page_Add_Button")))))}}),define("pages/panel/dynamicPagesIntroView/dynamicPagesIntroView",["lodash","react","pages/panel/dynamicPagesIntroView/dynamicPagesIntroView.rt"],function(e,t,n){"use strict";var a=function(e){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return n.call(this)}}]),a}();return a.displayName="DynamicPagesIntroView",a.propTypes={title:t.PropTypes.string.isRequired,onClose:t.PropTypes.func.isRequired,onHelp:t.PropTypes.func.isRequired,addDynamicPage:t.PropTypes.func.isRequired},a}),define("pages/panel/pagesPanelMapper",["lodash","tpa","blog","core","pages/utils/pageCategories","pages/panel/pagesView/editorAPIConnectors/getActions","pages/panel/getPages"],function(e,t,n,a,i,o,s){"use strict";var r=function(e,t){var n=e.documentServices.homePage.get(),a=u(t,n);return{selectedPageId:n,selectedMenuItemId:a.id,selectedTabId:a.menuId}},p=function(t,n,a,i,o){var s=e.find(a,function(t){var a=t.pagesData;return e.some(a,{id:n})}),r=e.get(s,"id");if(r)return{selectedPageId:n,selectedTabId:r};if(!(!!i.routerId&&!!i.innerRoute))return null;var p=l(o,i.routerId,i.innerRoute),u=p.id,c=p.routerId,d=p.innerRoute,g=p.menuId;return{selectedPageId:n,selectedMenuItemId:u,selectedRouterId:c,selectedInnerRoute:d,selectedTabId:g}},l=function(t,n,a){var i=null;return e.some(t,function(t){var o=t.id,s=t.menuItems,r=e.flatMap(s,function(e){return[e].concat(_toConsumableArray(e.items))}),p=e.find(r,function(t){return e.get(t,"link.routerId")===n&&e.get(t,"link.innerRoute")===a});return i={id:e.get(p,"id"),menuId:o,routerId:n,innerRoute:a},p})?i:{}},u=function(t,n){var a=null;return e.some(t,function(t){var i=t.id,o=t.menuItems,s=e.flatMap(o,function(e){return[e].concat(_toConsumableArray(e.items))}),r=e.find(s,["pageData.id",n]);return a={id:e.get(r,"id"),menuId:i},r})?a:{}},c=function(t,n,a){if(e.some(n,{id:t}))return i.BLOG_PAGES.id;var o=e.find(a,function(n){var a=n.pagesData;return e.some(a,{id:t})});return e.get(o,"id")};return function(l,d){var g=l.documentServices.pages.getPagesData(),m=l.documentServices.pages.data.get,f=l.isDesktopEditor(),b=s.blog(g),P=function(t,n){return e.map(s.routers(t),function(e){return e.actions=o.router(t,n,e.applicationId,e.prefix),e})}(l,f),y=function(t,n,a){return e.map(s.tpas(t,n),function(e){return e.actions=o.tpaTab(t,e.id,a),e})}(l,g,f),_=function(t,n,a){return e.map(s.menus(t,n),function(e){return e.actions=o.menuTab(t,e.appDefId,a),e})}(l,g,f),h=function(t,n,a,o,s){var l=t.pages.popupPages.getCurrentPopup();if(l)return{selectedPageId:l.id,selectedTabId:i.POPUPS.id};var d=t.pages.getCurrentUrlPageId();if(!d)return{};var g=t.documentServices.routers.getCurrentInnerRoute();if(g.isDynamic){var m=p(t,d,s,g,n);if(m)return m}var f=u(n,d),b=f.menuId||c(d,a,o);return b?{selectedPageId:d,selectedMenuItemId:e.get(f,"id"),selectedTabId:b}:r(t,n)}(l,_,b,y,P),I=h.selectedPageId,v=h.selectedMenuItemId,T=h.selectedRouterId,A=h.selectedInnerRoute,S=h.selectedTabId;return{selectedPageId:I,selectedMenuItemId:v,selectedRouterId:T,selectedInnerRoute:A,initialTabId:d.menuId||S,onHelp:function(e,t){return function(n){var i={panel_name:t,origin:a.constants.BI.HELP.ORIGIN.PAGES_PANEL,learn_more:!0};e.panelManager.openHelpCenter(n,null,i)}}(l,d.panelName),onClose:function(e,t){return function(){e.panelManager.closePanelByName(t)}}(l,d.panelName),blogPages:b,blogTabActions:o.blogTab(l,b,f),pagesData:g,menus:_,routers:P,tpas:y,isTPASubPage:function(e,t){return function(n){var i=t(n);return a.utils.tpaTypeUtils.isTPASpecialPage(e,i)||a.utils.blogTypeUtils.isBlogSpecialPage(i)}}(l,m),popups:s.popups(l),getPageData:m,openBlogManager:function(){return n.openBlogManagerFrame(l,"allPosts")},openStoreManager:function(){t.superApps.openDashboardUrl(t.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%"),l.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},isDesktop:f,biEvent:l.bi.event,biPanelName:"pages_panel",addDynamicPage:function(e){return function(){var t=e.documentServices.platform.editorApps.DATA_BINDING.appDefId,n=e.documentServices.platform.getAppDataByAppDefId(t).applicationId;e.documentServices.platform.notifyApplication(n,{eventType:"addDynamicPageClicked",eventPayload:{origin:"pagesPanel"}}),e.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,{category:"add_dynamic_page",origin:"dynamic_page_intro"})}}(l),isDeveloperModeEnabled:Boolean(l.developerMode.isEnabled()),selectedTransition:function(t){var n=t.pages.transitions.get();return e.get({outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"},n,"none")}(l),onClickTransition:function(t){return function(n){var i=function(t){return e.trim(t.link.pageId,"#")};t.pages.transitions.set(n),t.bi.event(a.bi.events.pages.pagesPanel.page_transition_selected_click,{category:n});var o=t.documentServices.pages.getPrimaryPageId(),s=e(t.documentServices.mainMenu.getMenu(!0)).flatMap(function(e){return[e].concat(_toConsumableArray(e.items))}).filter(function(n){return"PageLink"===e.get(n,"link.type")&&!t.documentServices.pages.popupPages.isPopup(i(n))}).map(i).value(),r=s.indexOf(o),p=(r+1)%s.length;p!==r&&t.pages.navigateTo(s[p])}}(l),pageSettingsPanelTabCounter:l.getForcePageSettingsTabEventCounter()}}}),define("pages/panel/tabs/panelTabs.rt",["react","lodash","util","baseUILib","symbols"],function(e,t,n,a,i){"use strict";return function(){function n(n,o){return e.createElement("li",{onClick:function(e,t){this.handleClick(e)}.bind(this,n,o),key:"li-"+n.id,"data-aid":"tab-"+n.title,className:"tab"},e.createElement("div",{className:"container-for-background "+t({selected:this.props.selectedTabId===n.id}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},e.createElement(a.TooltipOnEllipsis,{marginTop:9},e.createElement("div",{className:"title"},n.title)),e.createElement(a.Tooltip,{marginTop:6,className:"actions-tooltip",content:"NewPages_Panel_Left_SiteMenu_Actions_Label",closeOnMouseClick:!0},n.actions?e.createElement.apply(this,[a.ContextMenu,{customButton:this.getActionsButton(n.id),key:"tab-context-menu",onToggle:function(e,t,n){this.handleContextMenuToggle(e,n)}.bind(this,n,o)},t.map(n.actions,function(t,n,o,s){return e.createElement(a.ContextMenuAction,{onClick:o.onClick,key:"action-"+o.title},e.createElement(i.symbol,{name:o.symbolName}),e.createElement("span",{},o.title))}.bind(this,n,o))]):null)),n.separatorAfter?e.createElement(a.Divider,{key:"separator-after-"+n.id}):null)}return e.createElement("div",{className:"tabs-pp"},e.createElement.apply(this,["ul",{},t.map(this.getTabs(),n.bind(this))]))}}),define("pages/panel/tabs/panelTabs",["react","lodash","util","core","symbols","pages/utils/pageCategories","pages/panel/tabs/panelTabs.rt"],function(e,t,n,a,i,o,s){"use strict";var r=function(e){var t=e.id,a=e.title,i=e.group,o=e.biCategory;return{id:t,title:n.translate(a),group:i,biCategory:o}},p=function(e){return t(e).groupBy("group").forEach(function(e){t.last(e).separatorAfter=!0})},l=function(e){return e.group===o.MENUS.group?o.MENUS.getBiCategory(e.id):e.group===o.TPA_PAGES.group?o.TPA_PAGES.getBiCategory(e.id):e.biCategory},u=function(e,n,a){if(e&&n&&t.isEmpty(a))return[r(o.DYNAMIC_PAGES_INTRO)];var i=[];return t.forEach(a,function(e){var t=e.id,n=e.title,a=e.actions;i.push({id:t,title:n,actions:a,group:o.DYNAMIC_PAGES.group,biCategory:o.DYNAMIC_PAGES.biCategory})}),i},c=function(n){function c(n){_classCallCheck(this,c);var s=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n));return s.getTabs=function(){var e=u(s.props.isDeveloperModeEnabled,s.props.isDesktop,s.props.routers),n=[];if(t.forEach(s.props.menus,function(e){var t=e.id,a=e.title,i=e.actions;n.push({id:t,title:a,actions:i,group:o.MENUS.group})}),!t.isEmpty(s.props.blogPages)){var a=r(o.BLOG_PAGES);a.actions=s.props.blogTabActions,n.push(a)}return t.forEach(s.props.tpas,function(e){var t=e.id,a=e.title,i=e.actions;n.push({id:t,title:a,actions:i,group:o.TPA_PAGES.group})}),n=n.concat(e),t.isEmpty(s.props.popups)||n.push(r(o.POPUPS)),p(n),s.props.isDesktop?n.push(r(o.TRANSITIONS)):t.last(n).separatorAfter=!1,n},s.handleContextMenuToggle=function(e,t){t&&s.props.biEvent(a.bi.events.pages.pagesPanel.tab_clicked_on_settings,{category:l(e)})},s.getActionsButton=function(t){return e.createElement("div",{key:"actions-button-"+t},e.createElement(i.symbol,{name:"settingsActionSmall"}))},s.handleClick=function(e){s.props.biEvent(a.bi.events.pages.pagesPanel.category_click,{category:l(e)}),s.props.onClickTab(e.id)},s}return _inherits(c,e.Component),_createClass(c,[{key:"render",value:function(){return s.call(this)}}]),c}();return c.displayName="PanelTabs",c.propTypes={blogPages:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,popups:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,blogTabActions:e.PropTypes.arrayOf(e.PropTypes.object),routers:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,tpas:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,menus:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,onClickTab:e.PropTypes.func.isRequired,selectedTabId:e.PropTypes.string,biEvent:e.PropTypes.func.isRequired,isDeveloperModeEnabled:e.PropTypes.bool.isRequired,isDesktop:e.PropTypes.bool.isRequired},c}),define("pages/panel/pagesPanel.rt",["react","lodash","pages/panel/tabs/panelTabs","util","panels","pageSettingsPanel"],function(e,t,n,a,i,o){"use strict";return function(){return function(){var t=o.settingsPanels.wrappedMain,a=o.settingsPanels.tpaSubPage;return e.createElement(i.frames.leftPanelFrame,{className:"left-panel-frame-pages-panel-pp",ref:"pagesPanel",panelName:this.props.panelName,panelIndex:this.props.panelIndex,panelClass:"pages-panel-pp"},e.createElement(n,{onClickTab:this.handleClickTab,selectedTabId:this.state.selectedTabId,blogPages:this.props.blogPages,blogTabActions:this.props.blogTabActions,popups:this.props.popups,isDeveloperModeEnabled:this.props.isDeveloperModeEnabled,routers:this.props.routers,tpas:this.props.tpas,isDesktop:this.props.isDesktop,menus:this.props.menus,biEvent:this.props.biEvent}),"\n    ",this.getView(),"\n        ",this.showRegularSettings()?e.createElement(t,{key:"page-settings-panel-main-pp",menuItem:this.getSettingsItem(),menuId:this.state.settingsData.menuId,activeTab:this.state.settingsData.tabTitle,closeSettingsPanel:this.handleCloseSettings,token:"dffdfadsfa",actions:{closeSettingsPanel:this.handleCloseSettings}}):null,!this.showRegularSettings()&&this.showSettingsForTPASubPage()?e.createElement(a,{key:"page-settings-panel-tpa-pp",ref:"settingsPanel",menuItem:this.getSettingsItem(),closeSettingsPanel:this.handleCloseSettings,actions:{openBlogManager:this.props.openBlogManager,openStoreManager:this.props.openStoreManager}}):null)}.apply(this,[])}}),define("pages/panel/pagesPanel",["react","lodash","higherOrderComponents","util","pages/utils/pageCategories","pages/panel/pagesView/editorAPIConnectors/popupView","pages/panel/pagesView/editorAPIConnectors/blogView","pages/panel/pagesView/editorAPIConnectors/dynamicPagesView","pages/panel/pagesView/editorAPIConnectors/tpaView","pages/panel/menuView/menuView","pages/panel/transitionsView/transitionsView","pages/panel/dynamicPagesIntroView/dynamicPagesIntroView","pages/panel/pagesPanelMapper","pages/panel/pagesPanel.rt"],function(e,t,n,a,i,o,s,r,p,l,u,c,d,g){"use strict";var m=function(n){function d(n){_classCallCheck(this,d);var g=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,n));return g.getInitialSettingsData=function(){return n.initialSettingsTabTitle?{tabTitle:n.initialSettingsTabTitle,pageId:n.selectedPageId}:null},g.state={selectedTabId:g.props.initialTabId,settingsData:g.getInitialSettingsData(),renamedItemId:null},g.getView=function(){var n=void 0,d=g.state.selectedTabId;return d===i.TRANSITIONS.id?n=u:d===i.DYNAMIC_PAGES_INTRO.id?n=c:t.some(g.props.menus,{id:d})?n=l:d===i.POPUPS.id?n=o:d===i.BLOG_PAGES.id?n=s:t.some(g.props.tpas,{id:d})?n=p:t.some(g.props.routers,{id:d})&&(n=r),e.createElement(n,{pagesData:g.props.pagesData,onClose:g.props.onClose,onHelp:g.props.onHelp,selectedMenuItemId:g.props.selectedMenuItemId,selectedPageId:g.props.selectedPageId,renamedItemId:g.state.renamedItemId,title:a.translate(t.get(i[d],"title")),onShowSettings:g.handleShowSettings,onItemAdded:function(e){return g.setState({renamedItemId:e,settingsData:null})},onRename:function(){return g.setState({renamedItemId:null})},isDesktop:g.props.isDesktop,blogPages:g.props.blogPages,popups:g.props.popups,menu:t.find(g.props.menus,{id:d}),router:t.find(g.props.routers,{id:d}),tpa:t.find(g.props.tpas,{id:d}),selectedTransition:g.props.selectedTransition,onClickTransition:g.props.onClickTransition,onSelectNonPageItem:g.handleCloseSettings,addDynamicPage:g.props.addDynamicPage,biPanelName:g.props.biPanelName})},g.handleClickTab=function(e){return g.setState({selectedTabId:e,settingsData:null})},g.handleChangeShownSettings=function(e){e?g.setState(function(n){return{settingsData:t.assign(n.settingsData,{tabTitle:e.tabTitle,pageId:e.pageId,routerId:e.routerId,innerRoute:e.innerRoute})}}):g.handleCloseSettings()},g.handleCloseSettings=function(){return g.setState({settingsData:null})},g.handleShowSettings=function(e){g.setState(function(n){return{settingsData:t.assign({},n.settingsData,e)}})},g.getSettingsItem=function(){var e=t.get(g.state.settingsData,"pageId")||g.props.selectedPageId,n=t.get(g.state.settingsData,"routerId"),a=t.get(g.state.settingsData,"innerRoute"),i=t.find(g.props.routers,{id:g.state.selectedTabId}),o=e&&g.props.getPageData(e);return{pageData:o,label:t.get(o,"title"),routerId:n,innerRoute:a,type:{isPage:!0,isDynamicPage:!!i,routerType:t.get(i,"routerType")}}},g.updateSelectedTabIdIfDeleted=function(e){var n=g.state.selectedTabId,a=n===i.BLOG_PAGES.id&&t.isEmpty(e.blogPages),o=t.some(g.props.tpas,{id:n})&&!t.some(e.tpas,{id:n});(a||o)&&g.setState({selectedTabId:e.initialTabId})},g.showSettingsForTPASubPage=function(){return g.state.settingsData&&t.get(g.state.settingsData,"pageId")&&g.props.isTPASubPage(g.state.settingsData.pageId)},g.showRegularSettings=function(){var e=g.state.settingsData&&t.get(g.state.settingsData,"pageId")&&!g.props.isTPASubPage(g.state.settingsData.pageId),n=g.state.settingsData&&t.get(g.state.settingsData,"routerId")&&t.get(g.state.settingsData,"innerRoute");return e||n},g}return _inherits(d,e.Component),_createClass(d,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.selectedPageId!==e.selectedPageId,n=this.props.selectedRouterId!==e.selectedRouterId,a=this.props.selectedInnerRoute!==e.selectedInnerRoute,o=this.state.selectedTabId===i.TRANSITIONS.id;this.state.settingsData&&(t||n||a)&&this.handleChangeShownSettings({tabTitle:null,pageId:e.selectedPageId,routerId:e.selectedRouterId,innerRoute:e.selectedInnerRoute}),e.initialTabId&&!o&&(t||n||a)&&this.setState({selectedTabId:e.initialTabId}),e.pageSettingsPanelTabCounter>this.props.pageSettingsPanelTabCounter&&this.handleShowSettings({tabTitle:e.initialSettingsTabTitle,pageId:e.selectedPageId,routerId:e.selectedRouterId,innerRoute:e.selectedInnerRoute}),this.updateSelectedTabIdIfDeleted(e)}},{key:"render",value:function(){return g.call(this)}}]),d}();m.displayName="PagesPanel",m.propTypes={pagesData:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,selectedPageId:e.PropTypes.string,selectedRouterId:e.PropTypes.string,selectedInnerRoute:e.PropTypes.string,selectedMenuItemId:e.PropTypes.string,initialTabId:e.PropTypes.string,blogPages:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,blogTabActions:e.PropTypes.arrayOf(e.PropTypes.object),menus:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,applicationId:e.PropTypes.string})).isRequired,routers:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,pagesData:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,prefix:e.PropTypes.string.isRequired})).isRequired,tpas:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,pagesData:e.PropTypes.arrayOf(e.PropTypes.object).isRequired})).isRequired,popups:e.PropTypes.arrayOf(e.PropTypes.object).isRequired,panelName:e.PropTypes.string,onClose:e.PropTypes.func.isRequired,onHelp:e.PropTypes.func.isRequired,getPageData:e.PropTypes.func.isRequired,isTPASubPage:e.PropTypes.func.isRequired,openStoreManager:e.PropTypes.func.isRequired,openBlogManager:e.PropTypes.func.isRequired,isDesktop:e.PropTypes.bool.isRequired,biEvent:e.PropTypes.func.isRequired,biPanelName:e.PropTypes.string.isRequired,selectedTransition:e.PropTypes.string.isRequired,onClickTransition:e.PropTypes.func.isRequired,isDeveloperModeEnabled:e.PropTypes.bool.isRequired,addDynamicPage:e.PropTypes.func.isRequired,initialSettingsTabTitle:e.PropTypes.string,pageSettingsPanelTabCounter:e.PropTypes.number},m.defaultProps={panelName:"pagesPanel"};var f=n.connectEditorAPI(d)(m);return f.pure=m,f}),define("pages/quickNavigation/quickNavigationMapper",["lodash","util","core","pages/utils/pageCategories","pages/panel/getPages"],function(e,t,n,a,i){"use strict";var o=function(e,n){return n>0&&{title:t.translate(e.title)}},s=function(e,t){return e+" "+t},r=function t(n,i,o,r){var p=a.MENUS.getBiCategory(o);if(!e.isEmpty(i.items)){var l=e(i.items).flatMap(function(e){return t(n,e,o,!0)}).compact().value();if(!e.isEmpty(l))return[{id:e.get(i.pageData,"id",i.id),title:e.get(i.pageData,"title",i.label),isFolder:i.type.isDropdown,isLink:i.type.isLink,biCategory:p}].concat(_toConsumableArray(l))}if(n.has(e.get(i,"pageData.id")))return null;if(i.type.isPage)return{id:i.pageData.id,title:i.pageData.title,isNested:r,biCategory:p};var u=e.get(i,"link.routerId"),c=e.get(i,"link.innerRoute");return u&&c?{id:s(u,c),title:i.label,isNested:r,biCategory:p,routerId:u,innerRoute:c}:null},p=function(t){return e.startsWith(t,"RECENTLY-")},l=function(t){return p(t)?e.trimStart(t,"RECENTLY-"):t},u=function(e){return(p(e)?"":"RECENTLY-")+e},c=function(e,t){return t<18?[]:e.getUserPreferences().site.get("recentlyViewedPages")||[]},d=function(t,n){if(!n)return[];var a=n.id,i=n.title,o=n.isHomePage,s=n.routerId,r=n.innerRoute,p=t.getUserPreferences().site.get("recentlyViewedPages")||[];if(e.isEmpty(p)&&o)return[];var l=e.find(p,{id:u(a)}),c=Date.now();l?(l.time=c,l.title=i):p.push({time:c,id:u(a),routerId:s,innerRoute:r,title:i,biCategory:"recently_viewed"});var d=e(p).sortBy("time").reverse().slice(0,3).value();t.getUserPreferences().site.set("recentlyViewedPages",d)},g=function(t){return{getItems:function(t){return function(){var n=t.documentServices.pages.getPagesData(),s=i.popups(t),p=i.blog(n),l=function(t){return e.flatMap(i.routers(t),function(t){var n=t.title,i=t.pagesData;return[{title:n}].concat(_toConsumableArray(e.map(i,function(e){return{id:e.id,title:e.label,biCategory:a.DYNAMIC_PAGES.biCategory}})))})}(t),u=function(t,n){return e.flatMap(i.tpas(t,n),function(e){var t=e.title,n=e.pagesData;return[{title:t}].concat(_toConsumableArray(n))})}(t,n),d=function(t){var n=new Set;return e(t).flatMap(function(t){return e.map(t,"id")}).compact().forEach(function(e){return n.add(e)}),n}([s,p,l,u]),g=i.menus(t,n,!0),m=function(t,n){return e.flatMap(t,function(t){var a=t.id,i=t.title,o=t.menuItems,s=e(o).flatMap(function(e){return r(n,e,a)}).compact().value();if(!e.isEmpty(s))return[{title:i}].concat(_toConsumableArray(s))})}(g,d),f=d.size+m.length-g.length,b=c(t,f);return function(e,t,n){0===t+n&&(e[0]=null)}(m,d.size,b.length),e.compact([o({title:"NewPages_QuickNav_Pages_Recently_Viewed_Label"},b.length)].concat(_toConsumableArray(b),_toConsumableArray(m),_toConsumableArray(l),[o(a.BLOG_PAGES,p.length)],_toConsumableArray(p),_toConsumableArray(u),[o(a.POPUPS,s.length)],_toConsumableArray(s)))}}(t),onClickItem:function(t){return function(a){var i=a.id,o=a.routerId,s=a.innerRoute,r=a.biCategory;o&&s?t.pages.navigateTo(e.assign(t.data.createItem("DynamicPageLink"),{routerId:o,innerRoute:s})):t.pages.navigateTo(l(i)),t.bi.event(n.bi.events.pages.navigate_to_page,{page_id:l(i),panel_name:"quick_navigation",category:r})}}(t),selectedItem:function(t){var n=e.invoke(t,"documentServices.routers.getCurrentInnerRoute"),a=e.get(n,"routerId"),i=e.get(n,"innerRoute"),o=a&&i?s(a,i):null,r=t.pages.getCurrentUrlPageId();if(!r)return null;var p=e.get(t.pages.popupPages.getCurrentPopup(),"id",r),l={id:o||p,title:t.pages.getPageTitle(p),isHomePage:t.pages.isHomePage(p),routerId:a,innerRoute:i};return d(t,l),l}(t),onClickManagePages:function(e){return function(){e.panelManager.openPanel("pages.pagesPanel"),e.bi.event(n.bi.events.pages.click_on_pages_panel_open,{origin:"quick_navigation"})}}(t),biEvent:t.bi.event,closeAllPanels:t.panelManager.closeAllPanels}};return g.PANEL_NAME="quick_navigation",g}),define("pages/quickNavigation/quickNavigation.rt",["react","lodash","baseUILib","util"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"quick-navigation-pp",onMouseEnter:this.handleMouseEnter,onClick:this.onClick},e.createElement(n.DropDown,{value:this.props.selectedItem&&this.props.selectedItem.id,onChange:this.handleClickItem,shouldTranslate:!1,searchBox:!0,onToggle:this.handleToggle,forceOpen:this.state.forceOpen,dataLabel:a.translate("NewPages_QuickNav_Label"),optionsContainerClassName:"dropdown-quick-navigation-pp"},this.getContent(),e.createElement(n.DropDownStickyFooter,{closeOnClick:!0},e.createElement(n.Button,{className:"btn-text",onClick:this.props.onClickManagePages},e.createElement("span",{className:"manage-pages-text"},a.translate("NewPages_QuickNav_Pages_Manage_Button"))))),e.createElement(n.Bubble,{className:"bubble-quick-navigation-pp",arrowAlignment:"top",arrowStyle:{position:"relative",left:"104px",top:"-97px"}},e.createElement(n.TextLabel,{value:"TOPBAR_NEWPAGES_TOOLTIP_TITLE",type:"T03",className:"bubble-title-quick-navigation-pp"}),e.createElement(n.TextLabel,{value:"TOPBAR_NEWPAGES_TOOLTIP_BODY"})))}}),define("pages/quickNavigation/quickNavigation",["lodash","react","higherOrderComponents","core","baseUILib","pages/quickNavigation/quickNavigationMapper","pages/quickNavigation/quickNavigation.rt"],function(e,t,n,a,i,o,s){"use strict";var r=function(n){return[t.createElement(i.SectionDivider,{className:"upper",key:e.uniqueId("section-divider")},e.toUpper(n))]},p=function(n){return t.createElement(i.DropDownOption,{value:n.id,label:n.title,shouldTranslate:!1,disabled:n.isFolder||n.isLink,optionWrapperClassName:function(e){return e.isNested?"nested-page":e.isFolder?"folder":e.isLink?"link":void 0}(n),key:e.uniqueId("quick-navigation-option")})},l=function(n){function i(t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return n.state={items:t.selectedItem?n.props.getItems():[]},n.handleMouseEnter=function(){return n.setState({items:n.props.getItems()})},n.getContent=function(){return e.flatMap(n.state.items,function(e){return e.id?p(e):r(e.title)})},n.handleClickItem=function(t){return n.props.onClickItem(e.find(n.state.items,{id:t}))},n.onClick=function(){n.props.biEvent(a.bi.events.topbar.top_bar_click,{category:o.PANEL_NAME}),n.props.biEvent(a.bi.events.pages.quick_navigation_clicked,{origin:"top_bar"})},n.handleToggle=function(e){e?n.props.closeAllPanels():n.setState({forceOpen:!1})},n}return _inherits(i,t.Component),_createClass(i,[{key:"componentWillReceiveProps",value:function(e){(function(e,t){var n=!e&&t,a=e&&e.id!==t.id,i=e&&e.id===t.id&&e.title!==t.title;return n||a||i})(this.props.selectedItem,e.selectedItem)&&this.setState({items:e.getItems()});e.forceOpenEventCounter>this.props.forceOpenEventCounter&&this.setState({items:e.getItems(),forceOpen:!0})}},{key:"render",value:function(){return s.call(this)}}]),i}();l.displayName="QuickNavigation",l.propTypes={onClickItem:t.PropTypes.func.isRequired,onClickManagePages:t.PropTypes.func.isRequired,getItems:t.PropTypes.func.isRequired,selectedItem:t.PropTypes.shape({id:t.PropTypes.string.isRequired,title:t.PropTypes.string.isRequired}),forceOpenEventCounter:t.PropTypes.number,biEvent:t.PropTypes.func,closeAllPanels:t.PropTypes.func,currentPageId:t.PropTypes.string};var u=n.connectEditorAPI(o)(n.renderWhenMutated(l));return u.pure=l,u}),define("pages",["pages/panel/pagesPanel","pages/quickNavigation/quickNavigation"],function(e,t){"use strict";return{pagesPanel:e,quickNavigation:t}});
//# sourceMappingURL=pages.min.js.map