define("columnsControls/controls/columnsControlsMapper",["lodash"],function(n){"use strict";function t(n,t){return"wysiwyg.viewer.components.StripColumnsContainer"===n.components.getType(t)}function o(n){return{left:n.x,top:n.y,height:n.height,width:n.width}}function e(n,t,o){var e=n.components.layout.getRelativeToScreen(t);return{x:e.x+o.left,y:e.y,width:e.width-(o.left+o.right),height:e.height}}function s(t,s){return n(s).thru(t.components.getChildren).map(function(n,t){return e(n,t,n.components.layout.getCompMargin(t))}.bind(null,t)).map(o).value()}function r(t){return n(t.columns.manage.getManagedColumn()).thru(function(n,t){return e(n,t,{left:0,right:0})}.bind(null,t)).thru(o).value()}function i(t,o,e){var s=t.components.isShowOnAllPages(o),r=t.components.isShowOnSomePages(o);return{"components-ui-color-orange":s||r,fade:function(t,o){return!n.isEqual(t,o)}(o,e)}}function l(o){var e=o.selection.getSelectedComponents(),l=function(n,o){var e=o;if(t(n,e))return e;var s=n.utils.findAncestorMatchesCondition(e,function(o){return t(n,o)});return s?n.components.asArray(s):null}(o,e);if(!l)return{};var c={showColumnContainerBox:!0,columnsContainerBoxClasses:i(o,e,l),columnsContainerBoxStyle:function(t,o){var e=n(o).thru(t.components.layout.getRelativeToScreen).pick(["x","y","height","width"]).value();return{top:e.y,left:e.x,height:e.height,width:e.width}}(o,l),contentLayouts:s(o,l),children:o.components.getChildren(l)};return o.columns.manage.getManagedColumn()&&(c.managedColumnLayout=r(o)),c}return l}),define("columnsControls/controls/columnsContainerBox.rt",["react","lodash"],function(n,t){"use strict";return function(){return n.createElement("div",{className:t(this.getClasses()).transform(function(n,t,o){t&&n.push(o)},[]).join(" "),style:this.props.style})}}),define("columnsControls/controls/columnsContainerBox",["react","prop-types","lodash","core","columnsControls/controls/columnsContainerBox.rt"],function(n,t,o,e,s){"use strict";return n.createClass({displayName:"columnsContainerBox",propTypes:{classes:t.object,style:t.object},getClasses:function(){return o.assign(this.props.classes,{"columns-container-box":!0})},render:s})}),define("columnsControls/controls/contentHighlight.rt",["react","lodash"],function(n,t){"use strict";return function(){return n.createElement.apply(this,["div",{},t.map(this.getLayouts(),function(t,o){return n.createElement("div",{key:o+"-"+t.x,style:t,className:"column-content-highlight "+(this.props.flicker?"flicker":"")})}.bind(this))])}}),define("columnsControls/controls/contentHighlight",["react","lodash","columnsControls/controls/contentHighlight.rt"],function(n,t,o){"use strict";return n.createClass({displayName:"contentHighlight",propTypes:{layouts:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.arrayOf(n.PropTypes.object)]),flicker:n.PropTypes.bool,finishHighlight:n.PropTypes.func},componentDidMount:function(){var n=this.props.finishHighlight;t.isFunction(n)&&window.setTimeout(n,1e3)},getLayouts:function(){var n=this.props.layouts;return t.isPlainObject(n)?[n]:n},render:o})}),define("columnsControls/controls/columnsControls.rt",["react","lodash","columnsControls/controls/columnsContainerBox","columnsControls/controls/contentHighlight"],function(n,t,o,e){"use strict";return function(){return n.createElement("div",{},this.props.showColumnContainerBox?n.createElement(o,{key:"columnsContainerBox",classes:this.props.columnsContainerBoxClasses,style:this.props.columnsContainerBoxStyle}):null,this.state.doneHighlight?null:n.createElement(e,{key:"contentHighlight",finishHighlight:this.finishHighlight,layouts:this.props.contentLayouts,flicker:!0}),this.props.managedColumnLayout?n.createElement(e,{key:"managedColumnHighlight",layouts:this.props.managedColumnLayout}):null)}}),define("columnsControls/controls/columnsControls",["react","prop-types","lodash","core","higherOrderComponents","columnsControls/controls/columnsControlsMapper","columnsControls/controls/columnsControls.rt"],function(n,t,o,e,s,r,i){"use strict";var l=n.createClass({displayName:"columnsControls",propTypes:{children:t.oneOfType([t.arrayOf(t.element),t.element]),showColumnContainerBox:t.bool,contentLayouts:t.oneOfType([n.PropTypes.object,n.PropTypes.arrayOf(n.PropTypes.object)]),columnsContainerBoxClasses:t.object,columnsContainerBoxStyle:t.object},getInitialState:function(){return this.lastChildren=this.props.children,{doneHighlight:!0}},componentWillReceiveProps:function(n){var t=n.children;!o.isEqual(t,this.lastChildren)&&(this.lastChildren=t,this.setState({doneHighlight:!1}))},finishHighlight:function(){this.setState({doneHighlight:!0})},render:i}),c=o.flow(s.connectEditorAPI(r))(l);return c.pure=l,c}),define("columnsControls",["columnsControls/controls/columnsControls"],function(n){"use strict";return n});
//# sourceMappingURL=columnsControls.min.js.map