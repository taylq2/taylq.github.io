define("pageSettingsPanel/utils/constants",[],function(){"use strict";return Object.freeze({USI_SEO_MAX_LENGTH:35,NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:160,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"},STATIC_PAGES_HELP_IDS:{page:"04945784-71f2-4312-9fd5-73804fc4556d",layout:"9a6cfe92-2d54-4107-8a46-c83ac8a51a39",privacy:"b893d6b5-13b3-44d0-9e11-46eecd862a87",seo:"5faf282c-200b-4f6b-ac3c-9cc38feb81b3"}})}),define("pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode.rt",["react","lodash","util","baseUILib"],function(e,t,a,s){"use strict";return function(){return e.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},function(){return a.translate,e.createElement(s.CustomScroll,{},e.createElement("div",{className:t({"tab-inner":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},e.createElement(s.Composites.RichTextLabeled,{},e.createElement(s.TextLabel,{type:"T06",value:a.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:!1}),e.createElement(s.RichText,{},e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2"))))))}.apply(this,[]))}}),define("pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode",["react","pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode.rt"],function(e,t){"use strict";return e.createClass({displayName:"dynamicPageSettingsNoDevModeNew",render:t})}),define("pageSettingsPanel/settings/dynamicPageSettingsPanelTabs.rt",["react","lodash","baseUI"],function(e,t,a){"use strict";return function(){return e.createElement("div",{},e.createElement(a.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs dynamic-page-settings-tabs",onChange:function(e){this.props.setActiveTab(e)}.bind(this)},e.createElement.apply(this,[a.tabs.header,{},t.map(this.props.tabs,function(t,s){return e.createElement(a.tabs.label,{tabsAmount:this.props.tabs.length,key:t.title+s,htmlFor:t.title},t.title)}.bind(this))]),e.createElement.apply(this,[a.tabs.content,{className:"page-settings-panel-pp-content"},t.map(this.props.tabs,function(t,s){return e.createElement(a.tabs.tab,{key:s,name:t.title,children:this.getTabContent(t,s)})}.bind(this))])))}}),define("pageSettingsPanel/settings/tabs/tabLayout.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(e,t,a,s,n,i){"use strict";return function(){return function(){var t=n.translate;return e.createElement(i.CustomScroll,{},e.createElement("div",{className:"layout tab-inner"},e.createElement(a.tabs.holder,{className:"left radio",valueLink:this.linkPageProperty("isLandingPage")},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:!1},e.createElement(s.symbol,{name:"layoutStandardSelected"}),e.createElement(s.symbol,{name:"layoutStandardNotSelected"}),e.createElement("div",{},e.createElement("h3",{},t("Pages_Layouts_Standard_Title")),e.createElement("p",{},t("Pages_Layouts_Standard_Text")))),e.createElement(a.tabs.label,{htmlFor:!0},e.createElement(s.symbol,{name:"layoutLandingSelected"}),e.createElement(s.symbol,{name:"layoutLandingNotSelected"}),e.createElement("div",{},e.createElement("h3",{},t("Pages_Layouts_Landing_Title")),e.createElement("p",{},t("Pages_Layouts_Landing_Text"),e.createElement("br",{}),e.createElement(a.button,{label:"Pages_Layouts_Landing_Learn",className:"btn-text",onClick:this.openLearnMore}))))))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/pageSettingsTabMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getPageData:function(){return this.props.pageData||this.props.menuItem.pageData},getPageId:function(){var e=this.getPageData();return e?e.id:null},getValueFromPageData:function(e){var t=this.getPageData();return t&&t[e]},linkPageProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={};return{value:this.getValueFromPageData(e),requestChange:function(n){a.history.add("page property change"),s[e]=n,a.pages.data.update(t,s)}}},linkInversePageProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={};return{value:!this.getValueFromPageData(e),requestChange:function(n){s[e]=!n,a.pages.data.update(t,s)}}}}}),define("pageSettingsPanel/settings/tabs/tabLayout",["react","core","pageSettingsPanel/settings/tabs/tabLayout.rt","pageSettingsPanel/settings/tabs/pageSettingsTabMixin"],function(e,t,a,s){"use strict";return e.createClass({displayName:"tabLayoutNew",mixins:[s],propTypes:{menuItem:e.PropTypes.object.isRequired},openLearnMore:function(){var e={panel_name:"tab_layout",origin:t.constants.BI.HELP.ORIGIN.PAGES,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("3ff92482-4a9e-48f1-af56-c7ed01571ad2",null,e)},render:a})}),define("pageSettingsPanel/settings/tabs/tabPermissions.rt",["react","lodash","baseUI","symbols","util","pageSettingsPanel/utils/constants","experiment","baseUILib"],function(e,t,a,s,n,i,r,o){"use strict";return function(){function a(a){var s=this.getDialogLanguageType();return e.createElement.apply(this,[o.DropDown,{value:this.state[s],openOnSelected:!0,shouldTranslate:!1,onChange:this.getHandleChangeDialogLanguage(s)},t.map(n.languages.getLanguagesList(),function(t,a,s,n){return e.createElement(o.DropDownOption,{key:s.value,value:s.value,label:s.label,shouldTranslate:!1})}.bind(this,a,s))])}return function(){var t=n.translate;return e.createElement(o.CustomScroll,{},e.createElement(o.Composites.PanelContentAsymmetric,{className:"permissions-tab tab-inner"},e.createElement(o.Composites.Thumbnails,{},e.createElement(o.TextLabel,{value:"NewPages_Panel_Permissions_Title"}),e.createElement(o.Thumbnails,{value:this.state.focusedProtectionType,maxThumbsPerRow:3,options:this.getThumbnailOptions(),borderType:"thumbnailAndLabel",labelsType:"T15",shoudAddTooltipOnEllipsis:!1,onChange:this.handleChangePermission})),e.createElement(o.Composites.RichText,{},e.createElement(o.RichText,{},e.createElement("p",{},"\n                    ",t(this.getPermissionDescription())+" ","\n                    ",e.createElement("a",{onClick:this.handleClickLearnMore},"\n                        ",t("NewPages_Panel_Permissions_Password_Learn_More"),"\n                    ")))),e.createElement(o.Divider,{}),this.state.focusedProtectionType===i.PERMISSION_STATES.PASSWORD?e.createElement(o.Composites.TextInputLabeled,{key:"page-permissions-password-input"},e.createElement(o.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?e.createElement(o.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:i.PASSWORD_TEMPLATE,type:"password"}):null,this.shouldShowPasswordMockElement()?null:e.createElement(o.TextInput,{key:"visible-password-input",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"NewPages_Panel_Permissions_Set_Password_InputField_Text",maxLength:i.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"})):null,this.state.focusedProtectionType===i.PERMISSION_STATES.PASSWORD?e.createElement(o.Divider,{key:"divider-password-input"}):null,this.state.focusedProtectionType===i.PERMISSION_STATES.PASSWORD||this.state.focusedProtectionType===i.PERMISSION_STATES.MEMBERS?e.createElement(o.Composites.DropDownLabeled,{key:"dialog-language-dropdown-labeled"},e.createElement(o.TextLabel,{value:"NewPages_Panel_Permissions_Password_Language"}),a.apply(this,[t])):null,this.state.focusedProtectionType===i.PERMISSION_STATES.MEMBERS?e.createElement(o.Divider,{key:"divider-dialog-language"}):null,this.state.focusedProtectionType===i.PERMISSION_STATES.MEMBERS?e.createElement(o.Composites.RichText,{className:"members-links-container",key:"members-links-container"},this.isSiteSaved()?e.createElement(o.RichText,{key:"manage-site-members-container"},e.createElement(s.symbol,{name:"goToURLAction"}),e.createElement("a",{href:this.getSiteMembersUrl(),target:"_blank"},"\n                    ",t("NewPages_Panel_Permissions_Member_ManageMembers_Link"),"\n                ")):null,e.createElement(o.RichText,{},e.createElement(s.symbol,{name:"site-members"}),e.createElement("a",{onClick:this.openSiteMembersSettingsPanel},"\n                    ",t("NewPages_Panel_Permissions_Member_ManagePages_Link"),"\n                "))):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/tabPermissions",["react","lodash","core","util","symbols","pageSettingsPanel/utils/constants","pageSettingsPanel/settings/tabs/tabPermissions.rt","pageSettingsPanel/settings/tabs/pageSettingsTabMixin"],function(e,t,a,s,n,i,r,o){"use strict";var l=function(e,t,s,n){e.pages.data.update(t,{pageSecurity:s}),function(e,t,s){e.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:s,page_id:t})}(e,t,n)},g=function(e,t){e.pages.permissions.removePassword(t)};return e.createClass({displayName:"tabPermissionsNew",mixins:[o],getInitialState:function(){return this.getInitialPageState()},componentWillReceiveProps:function(e){e.pageData.id!==this.state.pageId&&this.setState(this.getInitialPageState())},getInitialPageState:function(){return{focusedProtectionType:this.getInitialProtectionType(),passwordDialogLanguage:this.getInitialLanguage(),membersDialogLanguage:this.getInitialLanguage(),pageId:this.props.pageData.id,isNewValidPasswordInserted:!1,passwordInputType:"password",plainPassword:""}},getInitialProtectionType:function(){return t.get(this.props,"pageData.pageSecurity").requireLogin?i.PERMISSION_STATES.MEMBERS:this.isPageProtectedWithPassword()?i.PERMISSION_STATES.PASSWORD:i.PERMISSION_STATES.NONE},isPageProtectedWithPassword:function(){return!t.isEmpty(t.get(this.props,"pageData.pageSecurity.passwordDigest"))||function(e,t){return e.pages.permissions.hasPassword(t)}(this.getEditorAPI(),this.props.pageData.id)},savePageSecurityData:function(){var e=this.props.pageData.id,a=t.partialRight(l,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case i.PERMISSION_STATES.NONE:a(this.getEditorAPI(),e,{requireLogin:!1}),g(this.getEditorAPI(),e);break;case i.PERMISSION_STATES.PASSWORD:this.state.isNewValidPasswordInserted&&function(e,t,a){e.pages.permissions.updatePassword(t,a)}(this.getEditorAPI(),e,this.state.plainPassword),(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword())&&a(this.getEditorAPI(),e,{requireLogin:!1,dialogLanguage:this.state.passwordDialogLanguage});break;case i.PERMISSION_STATES.MEMBERS:a(this.getEditorAPI(),e,{requireLogin:!0,dialogLanguage:this.state.membersDialogLanguage}),g(this.getEditorAPI(),e)}},getThumbnailOptions:function(){return[{illustration:e.createElement(n.symbol,{name:"everyonePermissionThumbnail"}),value:i.PERMISSION_STATES.NONE,label:"NewPages_Panel_Permissions_Public_Label"},{illustration:e.createElement(n.symbol,{name:"passwordPermissionThumbnail"}),value:i.PERMISSION_STATES.PASSWORD,label:"NewPages_Panel_Permissions_Password_Label"},{illustration:e.createElement(n.symbol,{name:"membersPermissionThumbnail"}),value:i.PERMISSION_STATES.MEMBERS,label:"NewPages_Panel_Permissions_Members_Label"}]},setFocusedProtectionType:function(e){this.setState({focusedProtectionType:e},this.savePageSecurityData)},isSiteSaved:function(){return!this.getEditorAPI().documentServices.generalInfo.isFirstSave()},getSiteMembersUrl:function(){return"//www.wix.com/my-account/sites/"+this.getEditorAPI().documentServices.generalInfo.getMetaSiteId()+"/contacts/?tag=contacts-site_members_approved"},getInitialLanguage:function(){var e=this.getEditorAPI().documentServices.generalInfo.getLanguage(),a=t.get(this.props,"pageData.pageSecurity.dialogLanguage");return t.isEmpty(a)?e:a},isValidPassword:function(e){var t=s.validate.byInvalidCharacters(i.INVALID_CHARACTERS);return s.validate.notEmpty(e)&&t(e)},isPasswordHidden:function(){return"password"===this.state.passwordInputType},shouldShowPasswordMockElement:function(){return this.isPasswordHidden()&&t.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword()},onPasswordBlur:function(e){var t=e.target.value;this.setState({plainPassword:t,isNewValidPasswordInserted:this.isValidPassword(t),passwordInputType:"password"},this.savePageSecurityData)},onPasswordFocus:function(){"text"!==this.state.passwordInputType&&this.setState({passwordInputType:"text"})},getDialogLanguageType:function(){var e={};return e[i.PERMISSION_STATES.PASSWORD]="passwordDialogLanguage",e[i.PERMISSION_STATES.MEMBERS]="membersDialogLanguage",t.get(e,this.state.focusedProtectionType)},setDialogLanguage:function(e,t){var s={};s[e]=t,this.setState(s,this.savePageSecurityData),this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:t,category:this.state.focusedProtectionType})},getHandleChangeDialogLanguage:function(e){return function(t){this.state[e]!==t&&this.setDialogLanguage(e,t)}.bind(this)},handleClickLearnMore:function(){this.getEditorAPI().panelManager.openHelpCenter(this.getLearnMoreHelpId(),null,{origin:a.constants.BI.HELP.ORIGIN.PAGES_PANEL,learn_more:!0})},getLearnMoreHelpId:function(){var e={};return e[i.PERMISSION_STATES.NONE]="e34561a8-1323-4cbb-ad09-ca215e083050",e[i.PERMISSION_STATES.PASSWORD]="89081a7e-ebec-4553-af0f-0ad6aa21b0c5",e[i.PERMISSION_STATES.MEMBERS]="e3004c6c-234e-4819-9333-9178d26358f3",t.get(e,this.state.focusedProtectionType)},getPermissionDescription:function(){var e={};return e[i.PERMISSION_STATES.NONE]="NewPages_Panel_Permissions_Public_Text",e[i.PERMISSION_STATES.PASSWORD]="NewPages_Panel_Permissions_Password_Title",e[i.PERMISSION_STATES.MEMBERS]="NewPages_Panel_Permissions_Members_Text",t.get(e,this.state.focusedProtectionType)},handleChangePermission:function(e){this.state.focusedProtectionType!==e&&this.setFocusedProtectionType(e)},openSiteMembersSettingsPanel:function(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)},render:r})}),define("pageSettingsPanel/settings/dynamicPageSettingsPanelTabs",["react","baseUI","platform","lodash","experiment","core","pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode","pageSettingsPanel/settings/dynamicPageSettingsPanelTabs.rt","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions"],function(e,t,a,s,n,i,r,o,l,g){"use strict";var p=["wix-code","dataBinding"];return e.createClass({displayName:"dynamicPageSettingsPanelTabsNew",mixins:[i.mixins.editorAPIMixin],propTypes:{menuItem:e.PropTypes.object.isRequired,selectedTab:e.PropTypes.string,setActiveTab:e.PropTypes.func.isRequired,tabs:e.PropTypes.array.isRequired},render:o,getInitialState:function(){return{iframeLoaded:!1}},componentWillMount:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id);if(t){var a=e.documentServices.routers.getRouterRef.byPage(t);this.routerData=a?e.documentServices.routers.get.byRef(a):""}else this.routerData=""},shouldComponentUpdate:function(e,t){if(this.state.iframeLoaded!==t.iframeLoaded)return!0;var a=this.getEditorAPI(),n=a.components.get.byId(this.props.menuItem.pageData.id);if(n){var i=a.documentServices.routers.getRouterRef.byPage(n),r=i?a.documentServices.routers.get.byRef(i):"";if(!s.isEqual(r,this.routerData))return this.routerData=r,!0}else this.routerData="";return this.props.developerModeEnabled!==e.developerModeEnabled||!!(this.props.menuItem.pageData.id!==e.menuItem.pageData.id||e.selectedTab&&this.props.selectedTab!==e.selectedTab)},componentWillReceiveProps:function(e){var t=this.props.menuItem.pageData.id!==e.menuItem.pageData.id,a=e.selectedTab&&this.props.selectedTab!==e.selectedTab;(t||a)&&this.setState({iframeLoaded:!1})},getPostMessageHandler:function(e){var t=this.getEditorAPI(),s=t.components.get.byId(this.props.menuItem.pageData.id),n={routerRef:t.documentServices.routers.getRouterRef.byPage(s),publicUrl:t.documentServices.generalInfo.getPublicUrl(),pageRef:s,origin:"dynamic_page_settings_panel_tab"};return a.platformPostMessageService.createPostMessageListener({token:e,initialData:n},e)},getAppData:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.documentServices.routers.getRouterRef.byPage(t);if(a){var n=e.documentServices.routers.get.byRef(a);return{appDefId:n.appDefinitionId,applicationId:s.get(e.documentServices.platform.getAppDataByAppDefId(n.appDefinitionId),"applicationId")}}},getIframeFullSrc:function(e,t,s){var n=this.getEditorAPI();return a.utils.getFullApplicationUrl(n,e,t,s)},iframeLoadedHandler:function(){this.setState({iframeLoaded:!0})},getTabContent:function(i,o){var c=a.constants,u=this.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(s.isObject(i)&&i.url){var d=this.getAppData();if(n.isOpen("se_santaMembers")){if(s.includes(p,d.appDefId)&&!this.props.developerModeEnabled)return e.createElement(r,s.assign({},this.props,{key:"dynamic-page-default-tab"+this.props.menuItem.pageData.id+o+d.appDefId}))}else if(!this.props.developerModeEnabled)return e.createElement(r,s.assign({},this.props,{key:"dynamic-page-default-tab"+this.props.menuItem.pageData.id+o+d.appDefId}));var m=e.createElement(t.preloader,{className:"preloader-page-settings-pp"}),P=e.createElement(t.iframe,s.assign({},this.props,{key:"dynamic-page-iframe"+this.props.menuItem.pageData.id+o+d.appDefId,ref:"dynamic-page-iframe"+this.props.menuItem.pageData.id+d.appDefId,className:u,appData:d,name:this.props.token,src:this.getIframeFullSrc(i.url,d.appDefId,d.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}));return e.createElement("div",{className:"container-preloader-iframe"},P,this.state.iframeLoaded?null:m)}switch(i.type){case c.pages.page_settings.layout.type:case c.pages.page_settings.layout.fallbackType:return e.createElement(l,s.assign({},this.props,{menuItem:this.props.menuItem,key:"tab-layout"+o+this.props.menuItem.pageData.id}));case c.pages.page_settings.permissions.type:case c.pages.page_settings.permissions.fallbackType:return e.createElement(g,s.assign({},this.props,{pageData:this.props.menuItem.pageData,key:"tab-premissions"+o+this.props.menuItem.pageData.id}))}}})}),define("pageSettingsPanel/settings/tabs/tabPageInfoMainMenu.rt",["react","lodash","baseUI","symbols","util","pageSettingsPanel/utils/constants","baseUILib"],function(e,t,a,s,n,i,r){"use strict";return function(){return function(){this.props.menuItem.pageData;var t=n.translate,o=this.isHomePage();return e.createElement(r.CustomScroll,{},e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{className:"section-page-title"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_Info_Name_Title",maxLength:i.NAME_MAX_LENGTH,validator:[n.validate.notEmptyString,n.validate.noHTMLTags],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:!0,infoText:"Pages_Info_Name_Tooltip"})),e.createElement("section",{className:"section-hide-page"},e.createElement(a.toggle,{label:"Pages_Info_Hide_Toggle",valueLink:this.linkPageProperty("hidePage")})),o?null:e.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},e.createElement("span",{},t("Pages_Info_Home_NotSelected")),e.createElement(a.button,{icon:"settingsHome",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})),o?e.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},e.createElement("span",{},e.createElement(s.symbol,{name:"settingsHome"}),t("Pages_Info_Home_IsSelected")),e.createElement(a.infoIcon,{className:"page-settings-change-homepage-tooltip",uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text"})):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/tabPageInfoMainMenu",["react","lodash","core","panels","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu.rt"],function(e,t,a,s,n,i){"use strict";return e.createClass({displayName:"tabPageInfoMainMenuNew",mixins:[n],render:i,propTypes:{menuItem:e.PropTypes.object.isRequired},setAsHomepage:function(){var e=this.getEditorAPI();e.homePage.set(this.getPageId()),e.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange:function(e){this.getEditorAPI().menus.renamePage(this.props.menuItem.pageData,e)},linkTitleProperty:function(){return{value:this.getValueFromPageData("title"),requestChange:function(e){this.getEditorAPI().menus.renamePage(this.props.menuItem.pageData,e)}.bind(this)}},isHomePage:function(){return!(!this.props.menuItem.pageData||!this.props.menuItem.pageData.id)&&this.getEditorAPI().pages.isHomePage(this.props.menuItem.pageData.id)}})}),define("pageSettingsPanel/utils/pageUtils",["util"],function(e){"use strict";return{getPublicUrl:function(e,t){var a=e.documentServices.generalInfo.getPublicUrl(),s=e.documentServices.generalInfo.isFirstSave()?a+"your-site-name":"";return e.pages.getPageUrl(t.id,s)},convertPageNameToUrl:function(t){var a=t.replace(/\s/g,"-");return e.validate.byInvalidCharacters(e.validationExpressions.invalidUrlCharacters)(a)?a.toLowerCase():"blank"}}}),define("pageSettingsPanel/settings/tabs/googlePreviewExpandable.rt",["react","lodash","baseUI","util","symbols","pageSettingsPanel/utils/pageUtils"],function(e,t,a,s,n,i){"use strict";return function(){return function(){var a=s.translate;return e.createElement("div",{className:t({"google-preview":!0,expanded:this.isExpanded()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.props.shouldHideExpandingButton?null:e.createElement("div",{key:"google-seo-expand-button",className:"google-preview-header",onClick:function(e,t){this.openGooglePreview()}.bind(this,a,"Pages_SEO_Description_Placeholder")},e.createElement("div",{className:"google-preview-corner-container left"},e.createElement("div",{className:"google-preview-corner"})),e.createElement("div",{className:"google-preview-corner-container right"},e.createElement("div",{className:"google-preview-corner"})),e.createElement(n.symbol,{name:"equals"}),e.createElement(n.symbol,{name:"arrowDown"}),e.createElement("span",{className:"google-preview-header-title"},a("Pages_SEO_Preview_Caption")),e.createElement("div",{className:"google-preview-bottom-header-border"})),e.createElement("p",{className:"google-preview-title"},e.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),e.createElement("p",{className:"google-preview-url"},i.getPublicUrl(this.getEditorAPI(),this.props.pageData)),e.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||a("Pages_SEO_Description_Placeholder")))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/googlePreviewExpandable",["react","core","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/settings/tabs/googlePreviewExpandable.rt"],function(e,t,a,s){"use strict";return e.createClass({displayName:"googlePreviewExpandableNew",mixins:[a,e.addons.LinkedStateMixin],render:s,propTypes:{pageData:e.PropTypes.object.isRequired,isExpanded:e.PropTypes.bool,shouldHideExpandingButton:e.PropTypes.bool,isExpandedLink:e.PropTypes.object,previewDescriptionText:e.PropTypes.string,title:e.PropTypes.string},isExpanded:function(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview:function(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle:function(){if(this.props.title)return this.props.title;var e=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(e.documentServices.seo.title.get()||e.siteName.get())+(e.pages.isHomePage(this.props.pageData.id)?"":" | "+this.getValueFromPageData("title"))}})}),define("pageSettingsPanel/settings/tabs/seoUrlSettings.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/googlePreviewExpandable","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","baseUILib"],function(e,t,a,s,n,i,r,o){"use strict";return function(){return e.createElement("div",{className:this.getClassName("seo-section-page-address"),key:"section-page-address"},e.createElement("span",{className:"seo-section-title-label"},s.translate("Pages_Info_Address_Title")),e.createElement("div",{className:"seo-section-site-url"},e.createElement("span",{className:"page-address-prefix"},"http://www.../"),e.createElement(a.textInput,{className:"control-text-input-seo",maxLength:r.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip"})),this.shouldShowLinkToPage()?e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},s.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null)}}),define("pageSettingsPanel/settings/tabs/seoUrlSettings",["lodash","react","core","baseUI","util","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/pageUtils","experiment","pageSettingsPanel/settings/tabs/seoUrlSettings.rt"],function(e,t,a,s,n,i,r,o,l){"use strict";function g(t,a){var s=[{callback:n.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.byInvalidCharacters(n.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return t.documentServices.generalInfo.urlFormat.isSlash()?s.concat([{callback:e.negate(t.pages.data.pageUriSEO.isForbidden.bind(null,a)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:e.negate(t.pages.data.pageUriSEO.isDuplicate.bind(null,a)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):s}return t.createClass({displayName:"seoUrlSettingsNew",mixins:[i,t.addons.LinkedStateMixin],render:l,propTypes:{pageData:t.PropTypes.object.isRequired},shouldShowLinkToPage:function(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().documentServices.generalInfo.isSitePublished()},linkUrlProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={},n=a.documentServices.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:r;return{value:this.getValueFromPageData(e),requestChange:function(i){s[e]=i&&n.convertPageNameToUrl(i),a.pages.data.update(t,s)}}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return o.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var t=g(this.getEditorAPI(),this.getPageId());return e.map(t,"callback")},getPageUriSEOInvalidMessages:function(){var t=g(this.getEditorAPI(),this.getPageId());return e.map(t,"message")},getClassName:function(e){return n.inheritClassName(this.props,e)}})}),define("pageSettingsPanel/settings/tabs/tabSEO.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/googlePreviewExpandable","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","pageSettingsPanel/settings/tabs/seoUrlSettings","baseUILib","experiment","symbols"],function(e,t,a,s,n,i,r,o,l,g,p){"use strict";return function(){return e.createElement("div",{className:"tab tab-seo"},function(){return s.translate,e.createElement(l.CustomScroll,{},e.createElement("div",{className:t({"seo-google":!0,"tab-inner":!0,"google-preview-expanded":this.state.isGooglePreviewExpanded}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.isNewSeoWizOpen()?e.createElement("section",{key:"seo-section-seo-wiz",className:"seo-section-seo-wiz"},e.createElement("div",{className:"seo-section-seo-wiz-inner-div"},e.createElement(l.Composites.RichTextWithIllustration,{},e.createElement(l.Illustration,{},e.createElement(p.symbol,{name:"getFoundOnGoogle"})),e.createElement(l.Composites.RichTextLabeled,{},e.createElement(l.TextLabel,{value:"Pages_SEO_Wizard_Title",type:"T03"}),e.createElement(l.RichText,{},e.createElement("p",{},s.translate("Pages_SEO_Wizard_Description")," ",e.createElement("a",{href:this.getWixSEOWizURL(),target:"_blank",onClick:this.reportSeoWizardLinkClicked},s.translate("Pages_SEO_Wizard_Button_Label")))))))):null,e.createElement("section",{className:"seo-section-title"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Title_Caption",placeholder:"Pages_SEO_Title_Placeholder",maxLength:r.TITLE_SEO_MAX_LENGTH,validator:s.validate.noHTMLTags,invalidMessage:"Pages_SEO_Title_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("pageTitleSEO"),infoText:"Pages_SEO_Title_Tooltip",onBlur:this.onPagesSEOTitleBlur})),e.createElement("section",{className:"seo-section-description"},e.createElement(a.textInput,{className:"control-text-input",isMultiLine:!0,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:r.DESCRIPTION_SEO_MAX_LENGTH,validator:s.validate.noHTMLTags,invalidMessage:"Pages_SEO_Description_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("descriptionSEO"),infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur})),this.isNewSeoWizOpen()?null:e.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_middle"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:r.KEYWORD_SEO_MAX_LENGTH,validator:s.validate.rangeOfWords(0,r.KEYWORD_SEO_MAX_WORDS),invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_Tooltip",onBlur:this.onPagesSEOKeywordsBlur})),e.createElement("section",{},e.createElement(l.ToggleSwitch,{value:!this.getValueFromPageData("indexable"),label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),g.isOpen("se_newPageSEOSection")?null:e.createElement("section",{className:"seo-section-page-address-old",key:"section-page-address"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_Info_Address_Title",maxLength:r.USI_SEO_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),infoText:"Pages_Info_Address_Tooltip"}),e.createElement("span",{className:"page-address-prefix"},"http://www.../"),this.getEditorAPI().documentServices.generalInfo.isSitePublished()?e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),onClick:this.onGoToUrlClicked,target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},s.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null),this.isNewSeoWizOpen()?e.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_bottom"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:r.KEYWORD_SEO_MAX_LENGTH,validator:s.validate.rangeOfWords(0,r.KEYWORD_SEO_MAX_WORDS,","),invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",validateOnBlurOnly:!0,onBlur:this.onPagesSEOKeywordsBlur})):null,g.isOpen("se_newPageSEOSection")?e.createElement(o,{key:"seoTabPageAddressSection",pageData:this.props.pageData,shouldShowLinkToPage:!0}):null))}.apply(this,[]),e.createElement(n,{isExpandedLink:this.linkState("isGooglePreviewExpanded"),pageData:this.props.pageData}))}}),define("pageSettingsPanel/settings/tabs/tabSEO",["lodash","react","core","baseUI","util","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/pageUtils","experiment","pageSettingsPanel/settings/tabs/tabSEO.rt"],function(e,t,a,s,n,i,r,o,l){"use strict";function g(t,a){var s=[{callback:n.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.byInvalidCharacters(n.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return t.documentServices.generalInfo.urlFormat.isSlash()?s.concat([{callback:e.negate(t.pages.data.pageUriSEO.isForbidden.bind(null,a)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:e.negate(t.pages.data.pageUriSEO.isDuplicate.bind(null,a)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):s}return t.createClass({displayName:"tabSEONew",mixins:[i,t.addons.LinkedStateMixin],render:l,propTypes:{pageData:t.PropTypes.object.isRequired},getInitialStateFromPageData:function(){return{isGooglePreviewExpanded:!1}},getInitialState:function(){return this.getInitialStateFromPageData()},componentWillReceiveProps:function(e){this.props.pageData.id!==e.pageData.id&&this.setState(this.getInitialStateFromPageData())},componentWillMount:function(){this.debouncedUpdateEditorAPI=e.debounce(function(e,t,a){e.pages.data.update(t,a)},20),this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},linkGooglePreviewProperty:function(e){var t=this.props.pageData.id,a=this.getEditorAPI(),s={};return{value:this.getValueFromPageData(e),requestChange:function(n){this.state.isGooglePreviewExpanded||this.setState({isGooglePreviewExpanded:!0}),s[e]=n,this.debouncedUpdateEditorAPI(a,t,s)}.bind(this)}},onPagesSEOTitleBlur:function(){var e=this.seoInfo.pageTitleSEO,t=this.getValueFromPageData("pageTitleSEO");t!==e&&(this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page title"}),this.seoInfo.pageTitleSEO=t)},onPagesSEODescBlur:function(){var e=this.seoInfo.pageDescSeo,t=this.getValueFromPageData("descriptionSEO");t!==e&&(this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_seo_description_set),this.seoInfo.pageDescSeo=t)},onPagesSEOKeywordsBlur:function(){var e=this.seoInfo.pageKeywordsSEO,t=this.getValueFromPageData("metaKeywordsSEO");t!==e&&(this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set),this.seoInfo.pageKeywordsSEO=t)},linkUrlProperty:function(e){var t=this.getPageId(),s=this.getEditorAPI(),n={},i=s.documentServices.generalInfo.urlFormat.isSlash()?s.pages.data.pageUriSEO:r;return{value:this.getValueFromPageData(e),requestChange:function(r){this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page url"}),n[e]=r&&i.convertPageNameToUrl(r),this.debouncedUpdateEditorAPI(s,t,n)}.bind(this)}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return o.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var t=g(this.getEditorAPI(),this.getPageId());return e.map(t,"callback")},getPageUriSEOInvalidMessages:function(){var t=g(this.getEditorAPI(),this.getPageId());return e.map(t,"message")},getWixSEOWizURL:function(){return this.getEditorAPI().account.getWixSEOWizURL("EDITOR_PAGES")},isNewSeoWizOpen:function(){return this.getEditorAPI().account.isWixSEOWizExperimentOpen()},reportSeoWizardLinkClicked:function(){this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},onGoToUrlClicked:function(){this.isNewSeoWizOpen()&&this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)},onHidePageChanged:function(e){var t=this.getEditorAPI(),s=this.getPageId(),n={indexable:!e};this.debouncedUpdateEditorAPI(t,s,n),this.isNewSeoWizOpen()&&t.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:e})}})}),define("pageSettingsPanel/settings/pageSettingsPanelTabs.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/tabs/tabSEO"],function(e,t,a,s,n,i,r,o){"use strict";return function(){return function(){var t=this.props.menuItem.pageData,l=s.translate;return e.createElement("div",{},e.createElement(a.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs",onChange:function(e,t,a){this.props.setActiveTab(a)}.bind(this,t,l)},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:"page"},l("Pages_Info_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"layout"},l("Pages_Layouts_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"privacy"},l("Pages_Permissions_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"seo"},l("Pages_SEO_Tab_Title"))),e.createElement(a.tabs.content,{className:"page-settings-panel-pp-content"},e.createElement(a.tabs.tab,{name:"page"},e.createElement(n,{menuItem:this.props.menuItem})),e.createElement(a.tabs.tab,{name:"layout"},e.createElement(i,{menuItem:this.props.menuItem})),e.createElement(a.tabs.tab,{name:"privacy"},e.createElement(r,{pageData:this.props.menuItem.pageData})),e.createElement(a.tabs.tab,{className:"seo",name:"seo"},e.createElement(o,{pageData:this.props.menuItem.pageData})))))}.apply(this,[])}}),define("pageSettingsPanel/settings/pageSettingsPanelTabs",["create-react-class","prop-types","pageSettingsPanel/settings/pageSettingsPanelTabs.rt"],function(e,t,a){"use strict";return e({displayName:"pageSettingsPanelTabsNew",propTypes:{menuItem:t.object.isRequired,selectedTab:t.string,setActiveTab:t.func.isRequired},render:a})}),define("pageSettingsPanel/panels/settings/pageSettingsFrame.rt",["react","lodash","symbols","util","baseUILib"],function(e,t,a,s,n){"use strict";return function(){return e.createElement("div",{className:"page-settings-panel-pp"},e.createElement("div",{className:"page-settings-panel-pp-inner"},e.createElement(n.PanelHeader,{className:"light",onClose:function(){this.props.closeSettingsPanel("back")}.bind(this),onHelp:function(e){e.stopPropagation(),this.openHelpPanel()}.bind(this),closeSymbol:this.getCloseSymbol()},e.createElement("span",{},s.translate("Pages_Settings_Header_Text")+" ("+this.props.title+")")),"\n        ",this.props.children,"\n    "))}}),define("pageSettingsPanel/panels/settings/pageSettingsFrame",["react","core","pageSettingsPanel/panels/settings/pageSettingsFrame.rt","symbols"],function(e,t,a,s){"use strict";return e.createClass({displayName:"pageSettingsFrameNew",propTypes:{helpId:e.PropTypes.string,title:e.PropTypes.string,closeSettingsPanel:e.PropTypes.func.isRequired},mixins:[t.mixins.editorAPIMixin],render:a,openHelpPanel:function(e){if(e=e||this.props.helpId){var a={learn_more:!1,panel_name:"page_settings",origin:t.constants.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(e,null,a)}},getCloseSymbol:function(){return e.createElement(s.symbol,{name:"arrowLeft"})}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon.rt",["react","lodash","pageSettingsPanel/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{helpId:this.props.helpId,title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel},"\n\n    ",this.props.children,"\n\n")}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon",["react","core","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon.rt"],function(e,t,a){"use strict";return e.createClass({mixins:[t.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommonNew",propTypes:{title:e.PropTypes.string,closeSettingsPanel:e.PropTypes.func.isRequired,helpId:e.PropTypes.string},render:a})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop.rt",["react","lodash","baseUI","symbols","util","pageSettingsPanel/settings/dynamicPageSettingsPanelTabs","pageSettingsPanel/settings/pageSettingsPanelTabs","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,s,n,i,r,o){"use strict";return function(){return function(){return this.props.actions,n.translate,e.createElement(o,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},this.isDynamicPage()?null:e.createElement(r,t.assign({},{activeTab:this.props.activeTab,key:"pageSettingsPanelTabs",setActiveTab:this.setActiveTabAndSendBI,selectedTab:this.state.activeTab,ref:"pageSettingsPanelTabs"},this.props)),this.isDynamicPage()?e.createElement(i,t.assign({},{activeTab:this.props.activeTab,developerModeEnabled:this.isDeveloperModeEnabled(),tabs:this.getDynamicPageTabs(this.props.menuItem.pageData.id),setActiveTab:this.setActiveTabAndSendBI,selectedTab:this.state.activeTab,key:"dynamicPageSettingsPanelTabs",ref:"dynamicPageSettingsPanelTabs"},this.props)):null)}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop",["react","lodash","core","experiment","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop.rt"],function(e,t,a,s,n,i){"use strict";return e.createClass({mixins:[a.mixins.editorAPIMixin],setActiveTab:function(e){this.setState({activeTab:e})},setActiveTabAndSendBI:function(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getValidActiveTabForDynamicPage:function(e,a){var s=t.map(this.getDynamicPageTabs(e),"title");return t.includes(s,a)?a:this.getDefaultTabName(e)},getInitialState:function(){var e=this.props.menuItem.pageData.id;if(this.isDynamicPage(e)){return{activeTab:this.getValidActiveTabForDynamicPage(e,this.props.activeTab)}}return{activeTab:this.props.activeTab||this.getDefaultTabName()}},componentWillReceiveProps:function(e){e.activeTab&&this.props.activeTab!==e.activeTab&&this.setActiveTab(e.activeTab);var t=e.menuItem.pageData.id,a=this.props.menuItem.pageData.id;t!==a&&(e.activeTab?this.isDynamicPage(t)?this.setActiveTab(this.getValidActiveTabForDynamicPage(t,e.activeTab)):this.setActiveTab(e.activeTab):this.tryToPreserveSelectedTab(t,a))},tryToPreserveSelectedTab:function(e,a){var s=this.getEditorAPI(),n=!!s.documentServices.routers.getRouterDataForPageIfExist(e),i=!!s.documentServices.routers.getRouterDataForPageIfExist(a);if(n&&!i||!n&&i)this.setActiveTab(this.getDefaultTabName(e));else if(n&&i){var r=this.getDynamicPageTabs(e);t.find(r,{title:this.state.activeTab})||this.setActiveTab(this.getDefaultTabName(e))}},getHelpId:function(){if(this.isDynamicPage()){var e=this.getDynamicPageTabs(this.props.menuItem.pageData.id),a=t.find(e,{title:this.state.activeTab});return a&&a.helpId?a.helpId:"995c5103-5599-4725-9e4f-c6ae4a47bf35"}return n.STATIC_PAGES_HELP_IDS[this.state.activeTab]},displayName:"pageSettingsDesktopNew",propTypes:{menuItem:e.PropTypes.object.isRequired,actions:e.PropTypes.object,activeTab:e.PropTypes.string,closeSettingsPanel:e.PropTypes.func.isRequired},render:i,getDefaultTabName:function(e){if(e=e||t.get(this.props.menuItem.pageData,"id"),this.isDynamicPage(e)){var a=this.getDynamicPageTabs(e);return t.isEmpty(a)?"Page Info":a[0].title}return"page"},getDynamicPageTabs:function(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},isDynamicPage:function(e){var a=this.getEditorAPI();return e=e||t.get(this.props.menuItem.pageData,"id"),!(!s.isOpen("dpages")||!e)&&!!a.documentServices.routers.getRouterDataForPageIfExist(e)},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopWrapper.rt",["react","lodash","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop"],function(e,t,a){"use strict";return function(){return this.getMenuItem()?e.createElement(a,t.assign({},{key:"pageSettingsDesktop",title:this.getMenuItem().label,menuItem:this.getMenuItem()},this.getORestOfTheProps())):null}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopWrapper",["react","lodash","core","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopWrapper.rt"],function(e,t,a,s){"use strict";return e.createClass({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsDesktopWrapperNew",propTypes:{menuItem:e.PropTypes.object.isRequired},getInitialState:function(){return{pageId:t.get(this.props.menuItem,"pageData.id")}},getORestOfTheProps:function(){return t.omit(this.props,["menuItem"])},getMenuItem:function(){if(this.props.menuItem.pageData)return this.props.menuItem},render:s})}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo.rt",["react","lodash","baseUI","util","experiment"],function(e,t,a,s,n){"use strict";return function(){return function(){var t=s.translate;return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Blog_Post_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Blog_Post_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Blog_Post_Info_HowTitle")),e.createElement("p",{},t("Pages_Blog_Post_Info_HowText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Blog_Post_Info_ChangeTitle")),e.createElement("p",{},e.createElement("span",{},t("Pages_Blog_Post_Info_ChangeText")+" "),this.isDesktop()?e.createElement("span",{key:"openBlogManagerButton"},e.createElement(a.button,{label:"Pages_Blog_Post_Info_ChangeLink",className:"btn-text",onClick:function(e,t){t.stopPropagation(),this.props.actions.openBlogManager()}.bind(this,t)}),e.createElement("span",{},".")):null,this.isMobile()?e.createElement("span",{key:"openBlogManagerText"},"\n                ",t("Pages_Blog_Post_Info_ChangeLink"),".\n            "):null)))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo",["react","core","lodash","pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo.rt"],function(e,t,a,s){"use strict";return e.createClass({displayName:"blogSinglePostInfoNew",render:s,mixins:[t.mixins.editorAPIMixin],isDesktop:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().documentServices.viewMode.VIEW_MODES.DESKTOP},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().documentServices.viewMode.VIEW_MODES.MOBILE}})}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo.rt",["react","lodash","util","pageSettingsPanel/settings/tabs/seoUrlSettings","pageSettingsPanel/settings/tabs/googlePreviewExpandable","experiment"],function(e,t,a,s,n,i){"use strict";return function(){return function(){var r=a.translate;return e.createElement("div",{className:"seo-google tab-inner"},e.createElement("p",{className:"title"},r("Pages_Blog_Post_SEO_Title")),e.createElement(n,{isExpanded:!0,shouldHideExpandingButton:!0,pageData:this.props.menuItem.pageData,previewDescriptionText:r("Pages_Blog_Post_SEO_Placeholder"),title:r("Pages_Blog_Post_SEO_Preview")+" | "+this.props.siteName}),i.isOpen("se_blogChangeSinglePostPageName")?e.createElement(s,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:t({"blog-seo-setting":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")}):null)}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo",["react","lodash","pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo.rt"],function(e,t,a){"use strict";return e.createClass({displayName:"blogSinglePostSeoNew",render:a})}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate,n=this.getEditorAPI();return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Product_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Store_Product_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Product_Info_HowTitle")),e.createElement("p",{},t("Pages_Store_Product_Info_HowText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Product_Info_ChangeTitle")),e.createElement("p",{},n.isDesktopEditor()?e.createElement("span",{key:"desktop"},t("Pages_Store_Product_Info_ChangeText")," "):null,n.isMobileEditor()?e.createElement("span",{key:"mobile"},t("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,e.createElement(a.button,{label:"Pages_Store_Product_Info_ChangeLink",className:"btn-text",onClick:function(e,t,a){a.stopPropagation(),this.props.actions.openStoreManager()}.bind(this,t,n)}),e.createElement("span",{},"."))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo",["react","core","lodash","pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo.rt"],function(e,t,a,s){"use strict";return e.createClass({displayName:"tpaProductPageInfoNew",mixins:[t.mixins.editorAPIMixin],render:s})}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate;return e.createElement("div",{className:"seo-google tab-inner"},e.createElement("p",{className:"title"},t("Pages_Store_Product_SEO_Title")),e.createElement("div",{className:"google-preview"},e.createElement("p",{className:"google-preview-title"},e.createElement("span",{className:"google-preview-title-site-name"},this.props.siteName+" | "),e.createElement("span",{},t("Pages_Store_Product_SEO_Preview"))),e.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),e.createElement("p",{className:"google-preview-description"},t("Pages_Store_Product_SEO_Placeholder"))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo",["react","lodash","pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo.rt"],function(e,t,a){"use strict";return e.createClass({displayName:"tpaProductPageSeoNew",render:a})}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo.rt",["react","lodash","util"],function(e,t,a){"use strict";return function(){return function(){var t=a.translate;return e.createElement("div",{className:"seo-google tab-inner empty"},e.createElement("p",{},t("Pages_Store_Cart_SEO_Text")),e.createElement("p",{},e.createElement("span",{},t("Pages_Store_Thankyou_Tracking_Text")+" "),e.createElement("a",{href:"https://support.wix.com/en/article/tracking-sales-in-wix-stores-using-your-thank-you-page-url",target:"_blank"},t("Pages_Store_Thankyou_Tracking_Link"))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo",["react","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo.rt"],function(e,t){"use strict";return e.createClass({displayName:"tpaThankYouPageSeoNew",render:t})}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo.rt",["react","lodash","util"],function(e,t,a){"use strict";return function(){return function(){var t=a.translate;return e.createElement("div",{className:"seo-google tab-inner empty"},e.createElement("p",{},t("Pages_Store_Cart_SEO_Text")))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo",["react","pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo.rt"],function(e,t){"use strict";return e.createClass({displayName:"tpaCartPageSeoNew",render:t})}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate,a=this.getEditorAPI();return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Cart_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Store_Cart_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Cart_Info_HowTitle")),a.isDesktopEditor()?e.createElement("p",{key:"desktop"},t("Pages_Store_Cart_Info_HowText")," "):null,a.isMobileEditor()?e.createElement("p",{key:"mobile"},t("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo",["react","lodash","core","pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo.rt"],function(e,t,a,s){"use strict";return e.createClass({displayName:"tpaCartPageInfoNew",mixins:[a.mixins.editorAPIMixin],render:s})}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate,a=this.getEditorAPI();return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Thankyou_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Store_Thankyou_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Thankyou_Info_HowTitle")),a.isDesktopEditor()?e.createElement("p",{key:"desktop"},t("Pages_Store_Thankyou_Info_HowText")," "):null,a.isMobileEditor()?e.createElement("p",{key:"mobile"},t("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo",["react","core","lodash","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo.rt"],function(e,t,a,s){"use strict";return e.createClass({displayName:"tpaThankYouPageInfoNew",mixins:[t.mixins.editorAPIMixin],render:s})}),define("pageSettingsPanel/settings/pageSettingsPanelTabsSubpage.rt",["react","lodash","baseUI","baseUILib","symbols","util","pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo","pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo","pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo","pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/tabs/tabSEO","core"],function(e,t,a,s,n,i,r,o,l,g,p,c,u,d,m,P,b,S,h){"use strict";return function(){function n(n,i,S,h,E){var _=E.isWixStoreProductPage(n),f=E.isWixStoreCartPage(n),T=E.isWixStoreThankYouPage(n);return e.createElement(a.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs",onChange:function(e,t,a,s,n,i,r,o,l){this.props.setActiveTab(l)}.bind(this,n,i,S,h,E,_,f,T)},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:"page"},i("Pages_Info_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"layout"},i("Pages_Layouts_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"privacy"},i("Pages_Permissions_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"seo"},i("Pages_SEO_Tab_Title"))),e.createElement(a.tabs.content,{className:"page-settings-panel-pp-content"},e.createElement(a.tabs.tab,{name:"page",className:"wixapps-subpage"},e.createElement(s.CustomScroll,{},h?e.createElement(r,t.assign({},{key:"page-settings-tab-page-blog"},this.props)):null,_?e.createElement(l,t.assign({},{key:"page-settings-tab-page-tpa-product"},this.props)):null,f?e.createElement(u,t.assign({},{key:"page-settings-tab-page-tpa-cart"},this.props)):null,T?e.createElement(d,t.assign({},{key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),e.createElement(a.tabs.tab,{name:"layout"},e.createElement(P,{menuItem:this.props.menuItem})),e.createElement(a.tabs.tab,{name:"privacy"},e.createElement(b,{pageData:n})),function(t,n,i,r,l,u,d,P){var b=this.getSiteName(),S=m.getPublicUrl(i,t);return e.createElement(a.tabs.tab,{name:"seo",className:"wixapps-subpage"},e.createElement(s.CustomScroll,{},r?e.createElement(o,{key:"page-settings-tab-seo-blog-single-post",siteName:b,publicUrl:S,menuItem:this.props.menuItem}):null,u?e.createElement(g,{key:"page-settings-tab-seo-tpa-product",siteName:b,publicUrl:S}):null,P?e.createElement(p,{key:"page-settings-tab-seo-tpa-thank-you"}):null,d?e.createElement(c,{key:"page-settings-tab-seo-tpa-cart"}):null))}.apply(this,[n,i,S,h,E,_,f,T]),"--\x3e\r\n        "))}return function(){var t=this.props.menuItem.pageData,a=i.translate,s=this.getEditorAPI(),r=h.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData),o=h.utils.wixStoreTypeUtils;return e.createElement("div",{},n.apply(this,[t,a,s,r,o]))}.apply(this,[])}}),define("pageSettingsPanel/settings/pageSettingsPanelTabsSubpage",["react","core","pageSettingsPanel/settings/pageSettingsPanelTabsSubpage.rt"],function(e,t,a){"use strict";return e.createClass({displayName:"pageSettingsPanelTabsSubpageNew",mixins:[t.mixins.editorAPIMixin],propTypes:{menuItem:e.PropTypes.object.isRequired,actions:e.PropTypes.object,selectedTab:e.PropTypes.string,setActiveTab:e.PropTypes.func.isRequired},render:a,getSiteName:function(){var e=this.getEditorAPI();return e.documentServices.seo.title.get()||e.siteName.get()}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage.rt",["react","lodash","baseUI","symbols","util","pageSettingsPanel/settings/pageSettingsPanelTabsSubpage","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,s,n,i,r){"use strict";return function(){return function(){return this.props.actions,n.translate,e.createElement(r,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},e.createElement(i,t.assign({},{setActiveTab:this.setActiveTabAndSendBI,selectedTab:this.state.activeTab,ref:"pageSettingsPanelTabs"},this.props)))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage",["react","lodash","core","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage.rt"],function(e,t,a,s,n){"use strict";return e.createClass({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsDesktopSubpageNew",propTypes:{menuItem:e.PropTypes.object.isRequired,actions:e.PropTypes.object,closeSettingsPanel:e.PropTypes.func.isRequired},getInitialState:function(){return{activeTab:"page"}},setActiveTabAndSendBI:function(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getHelpId:function(){return s.STATIC_PAGES_HELP_IDS[this.state.activeTab]},render:n})}),define("pageSettingsPanel",["pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopWrapper","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage"],function(e,t,a){"use strict";return{settingsPanels:{main:e,wrappedMain:t,tpaSubPage:a}}});
//# sourceMappingURL=pageSettingsPanel.min.js.map