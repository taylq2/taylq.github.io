define("mediaControls/mediaOverlayControls/mediaOverlayControls",["lodash","react","core","utils","santaProps","svgCommon"],function(e,t,o,i,r,s){"use strict";function a(e,t,o){return(o.showPlay||o.showReplay)&&e.playerInHoverState!==t.playerInHoverState}function n(e,t,o){return e.showPlayIndicator&&!t.showPlayIndicator||e.showPauseIndicator&&!t.showPauseIndicator&&"click"===o.playerInteraction}var l=i.mediaConsts,p=s.transformToTintColors;return{displayName:"MediaOverlayControls",mixins:[o.compMixins.skinBasedComp,o.compMixins.animationsMixin],propTypes:{compProp:r.Types.Component.compProp,mediaAspect:r.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:r.Types.Behaviors.handleBehavior.isRequired,iconsDescriptor:r.Types.MediaControls.iconsDescriptor,THEME_DATA:r.Types.Theme.THEME_DATA,isPlayingAllowed:r.Types.RenderFlags.isPlayingAllowed,playerInteraction:t.PropTypes.string,playerInHoverState:t.PropTypes.bool},statics:{useSantaTypes:!0},getDefaultProps:function(){return{playerInteraction:"click",playerInHoverState:!1}},getInitialState:function(){return{playbackState:l.playbackTypes.WAITING,showReplay:!1,showPlay:!1}},componentDidMount:function(){this.props.compProp.playerId&&this.props.mediaAspect.registerStateChange(this.props.id,this.props.compProp.playerId,this.onStateChange)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.compProp.playerId)},componentWillReceiveProps:function(e){var t=this.props.compProp.playerId,o=e.compProp.playerId;t!==o&&this.props.mediaAspect.unregisterStateChange(this.props.id,t),o&&this.props.mediaAspect.registerStateChange(this.props.id,o,this.onStateChange),e.isPlayingAllowed||this.setState({showPlay:!0,showReplay:!1,showPauseIndicator:!1,showPlayIndicator:!1})},componentDidUpdate:function(e,t){if(a(this.props,e,this.state)){var o=this.props.playerInHoverState?1.07:1;this.animate("indicator","BaseScale",.2,0,{to:{scale:o},ease:"Sine.easeOut"})}else n(this.state,t,this.props)&&(this.animate("indicator","BaseScale",.3,0,{from:{scale:.8},to:{scale:1.2},ease:"Sine.easeIn"}),this.animate("indicator","BaseFade",.3,0,{from:{opacity:.8},to:{opacity:0},ease:"Sine.easeIn"}))},onStateChange:function(t){var o={};this.state.playbackState!==t.playbackState&&(o.playbackState=t.playbackState),this.state.showPlay||t.playbackState!==l.playbackTypes.IDLE?this.state.showPlay&&t.currentTime>0&&(o.showPlay=!1):o.showPlay=!0,e.isEmpty(o)||this.setState(o)},clickAction:function(){var e=this.state.playbackState===l.playbackTypes.PLAYING;this.state.showPlay||this.state.showReplay?this.setState({showPauseIndicator:!1,showPlayIndicator:!1}):this.setState({showPauseIndicator:e,showPlayIndicator:!e})},getIconSymbolName:function(){return this.state.showPlay?"playButton":this.state.showReplay?"replayButton":this.state.showPlayIndicator&&"click"===this.props.playerInteraction?"playIndication":this.state.showPauseIndicator&&"click"===this.props.playerInteraction?"pauseIndication":null},getIconComponent:function(){var t=this.getIconSymbolName();if(!t)return null;var o={skin:"skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin",styleId:this.props.styleId+"_"+t},r=e.get(this.props,["compTheme","style","properties","fillcolor"]),s=i.colorParser.getColorValue(this.props.THEME_DATA,r),a=p(this.props.iconsDescriptor[t],s),n={id:this.props.id+"indicator",key:t,ref:"indicator",svgString:a,className:this.classSet({indicator:!0,hover:this.props.playerInHoverState})};return this.createChildComponent(this.props.compData,"wysiwyg.viewer.components.svgPrimitive",o,n)},getCatcherProperties:function(){var e={};return("click"===this.props.playerInteraction||"useNative"===this.props.playerInteraction&&this.state.showPlay)&&(e.onClick=this.clickAction),e},getSkinProperties:function(){return{"":{style:this.props.style,"data-player-id":this.props.compProp.playerId},indicator:this.getIconComponent(),catcher:this.getCatcherProperties()}}}}),define("mediaControls/mediaControlPlay/mediaControlPlay",["react","core","utils","santaProps"],function(e,t,o,i){"use strict";function r(e){return e===a.playbackTypes.PLAYING||e===a.playbackTypes.SEEK_PLAYING}function s(e){var t="play";return e.playbackState!==a.playbackTypes.PLAY_ENDED||e.looped?r(e.playbackState)&&(t="pause"):t="replay",t}var a=o.mediaConsts;return{displayName:"MediaControlPlay",mixins:[t.compMixins.skinBasedComp],propTypes:{style:e.PropTypes.object,playerId:e.PropTypes.string.isRequired,iconsDescriptor:e.PropTypes.object,mediaAspect:i.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:i.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:!0},getInitialState:function(){return{playbackState:a.playbackTypes.WAITING}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setPlaybackState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setPlaybackState:function(e){this.state.playbackState!==e.playbackState&&this.setState(e)},clickAction:function(){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:r(this.state.playbackState)?"pause":"play"})},getIconComponent:function(e){var t={skin:"skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin",styleId:this.props.styleId+"_"+e},o={id:this.props.id+"icon",ref:"icon",svgString:this.props.iconsDescriptor[e]};return this.createChildComponent(this.props.compData,"wysiwyg.viewer.components.svgPrimitive",t,o)},getSkinProperties:function(){return{"":{style:this.props.style},playButton:{children:this.getIconComponent(s(this.state)),onClick:this.clickAction}}}}}),define("mediaControls/mediaControlFullscreen/mediaControlFullscreen",["react","core","santaProps"],function(e,t,o){"use strict";function i(e){return e?"exitFullscreen":"fullscreen"}return{displayName:"MediaControlFullscreen",mixins:[t.compMixins.skinBasedComp],propTypes:{style:e.PropTypes.object,playerId:e.PropTypes.string.isRequired,enableFullsceen:e.PropTypes.bool,mediaAspect:o.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:o.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:!0},getInitialState:function(){return{fullscreen:!1}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setFullscreenState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setFullscreenState:function(e){this.state.fullscreen!==e.fullscreen&&this.setState({fullscreen:e.fullscreen})},clickAction:function(){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:this.state.fullscreen?"exitFullscreen":"enterFullscreen"})},getIconComponent:function(e){var t={skin:"skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin",styleId:this.props.styleId+"_"+e},o={id:this.props.id+"icon",ref:"icon",svgString:this.props.iconsDescriptor[e]};return this.createChildComponent(this.props.compData,"wysiwyg.viewer.components.svgPrimitive",t,o)},getSkinProperties:function(){var e={"":{style:this.props.style},fullscreenButton:{children:this.getIconComponent(i(this.state.fullscreen)),className:this.classSet({"video-fullscreen":this.state.fullscreen,"video-windowed":!this.state.fullscreen,disabled:!this.props.enableFullsceen})}};return this.props.enableFullsceen&&(e.fullscreenButton.onClick=this.clickAction),e}}}),define("mediaControls/mediaControlVolume/mediaControlVolume",["lodash","react","core","coreUtils","santaProps"],function(e,t,o,i,r){"use strict";function s(e,t){return!1===t?"noAudio":e?"volumeOff":"volumeOn"}var a=i.SimpleDrag;return{displayName:"MediaControlVolume",mixins:[o.compMixins.skinBasedComp],propTypes:{style:t.PropTypes.object,playerId:t.PropTypes.string.isRequired,hasAudio:t.PropTypes.bool.isRequired,mediaAspect:r.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:r.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:!0},getInitialState:function(){return this.isDragging=!1,{muted:!1,volume:0}},getDefaultProps:function(){return{hasAudio:!0}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setVolumeState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setVolumeState:function(e){this.isDragging||this.state.volume===e.volume&&this.state.muted===e.muted||this.setState({muted:e.muted,volume:e.volume,hasAudio:this.props.hasAudio})},clickActionMute:function(){var e=this.state.muted?"unMute":"mute";this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:e})},setVolumeOnSeek:function(e){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"setVolume",params:{volume:e.endX/e.maxX}})},onDragStart:function(e,t){this.isDragging=!0,this.refs.volumeBarActive.style.width=t.endX/t.maxX*100+"%",this.setVolumeOnSeek(t)},onDrag:function(e,t){this.refs.volumeBarActive.style.width=t.endX/t.maxX*100+"%",this.setVolumeOnSeek(t)},onDragEnd:function(e,t){this.isDragging=!1,this.setVolumeOnSeek(t)},volumeSeekStart:function(e){a({onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDrag:this.onDrag,minX:0,maxX:e.target.offsetWidth,offsetX:e.clientX-e.currentTarget.getBoundingClientRect().left}).start(e)},getIconComponent:function(e){var t={skin:"skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin",styleId:this.props.styleId+"_"+e},o={id:this.props.id+"icon",ref:"icon",svgString:this.props.iconsDescriptor[e]};return this.createChildComponent(this.props.compData,"wysiwyg.viewer.components.svgPrimitive",t,o)},getSkinProperties:function(){var t={"":{style:this.props.style},volume:{className:this.classSet({muted:this.state.muted,disabled:!this.props.hasAudio})},mute:{children:this.getIconComponent(s(this.state.muted,this.state.hasAudio))},volumeBarActive:{style:{width:100*this.state.volume+"%"}}};return this.state.muted||e.assign(t,{volumeBarDragArea:{onMouseDown:this.volumeSeekStart}}),this.props.hasAudio&&(t.mute.onClick=this.clickActionMute),t}}}),define("mediaControls/utils/mediaControlsUtils",[],function(){"use strict";return{getReadableTime:function(e,t){t&&(e%=t);var o=new Date(1e3*e),i=o.getUTCHours(),r=o.getUTCMinutes(),s=o.getUTCSeconds();return s<10&&(s="0"+s),i?(r<10&&(r="0"+r),i+":"+r+":"+s):r+":"+s}}}),define("mediaControls/mediaControlStoryboard/mediaControlStoryboard",["lodash","react","core","mediaControls/utils/mediaControlsUtils"],function(e,t,o,i){"use strict";var r=i.getReadableTime;return{displayName:"MediaControlStoryboard",mixins:[o.compMixins.skinBasedComp],propTypes:{style:t.PropTypes.object,iconsDescriptor:t.PropTypes.object.isRequired,hidden:t.PropTypes.bool,showVideo:t.PropTypes.bool,setStateCallback:t.PropTypes.func.isRequired,storyboardUrl:t.PropTypes.string,videoAspectRatio:t.PropTypes.number,playbackErrorCallback:t.PropTypes.func},statics:{useSantaTypes:!0},componentDidMount:function(){this.props.setStateCallback(this.setState.bind(this))},componentWillUnmount:function(){this.props.setStateCallback(null)},componentDidUpdate:function(e,t){if(this.props.showVideo){this.refs.mediaSource&&this.refs.mediaSource.addEventListener("error",this.handlePlaybackError,!0);var o=this.refs.video;this.props.storyboardUrl!==o.currentSrc&&o.load(),o&&t.time!==this.state.time&&(o.currentTime=this.state.time)}},handlePlaybackError:function(){(e.get(this.props,"playbackErrorCallback")||e.noop)()},getInitialState:function(){return{time:0,left:0}},getPreviewDimensions:function(e){return{width:Math.round(58*e)+4,height:62}},getIconComponent:function(e){var t={skin:"skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin",styleId:this.props.styleId+"_"+e},o={id:this.props.id+e,ref:e,svgString:this.props.iconsDescriptor[e]};return this.createChildComponent(this.props.compData,"wysiwyg.viewer.components.svgPrimitive",t,o)},getSkinProperties:function(){var t={left:this.state.left,visibility:this.props.hidden?"hidden":"visible"},o=this.getPreviewDimensions(this.props.videoAspectRatio);return this.props.showVideo?(t.top=-58,{"":{style:e.defaults(t,o,this.props.style)},video:{onError:this.handlePlaybackError},mediaSource:{src:this.props.storyboardUrl,onError:this.handlePlaybackError},label:{children:[r(this.state.time)]}}):{"":{style:t},backgroundSymbol:{children:this.getIconComponent("storyboardTime")},label:{children:[r(this.state.time,3599)]}}}}}),define("mediaControls/mediaControlProgress/mediaControlProgress",["lodash","react","core","coreUtils","santaProps","mediaControls/mediaControlStoryboard/mediaControlStoryboard"],function(e,t,o,i,r,s){"use strict";function a(t){return e.includes([n.playbackTypes.SEEK_PLAYING,n.playbackTypes.SEEK_PAUSED,n.playbackTypes.SEEKING],t)}var n=i.mediaConsts,l=i.SimpleDrag;return{displayName:"MediaControlProgress",mixins:[o.compMixins.skinBasedComp],propTypes:e.defaults({style:t.PropTypes.object,playerId:t.PropTypes.string.isRequired,mediaAspect:r.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:r.Types.Behaviors.handleBehavior.isRequired,getMediaQualityState:r.Types.Media.getMediaQualityState,serviceTopologyStaticVideoUrl:r.Types.ServiceTopology.staticVideoUrl,showStoryboard:t.PropTypes.string,storyboardUrl:t.PropTypes.string,videoAspectRatio:t.PropTypes.number,iconsDescriptor:t.PropTypes.object.isRequired},r.santaTypesUtils.getSantaTypesByDefinition(s)),statics:{useSantaTypes:!0},getInitialState:function(){return this.isDragging=!1,this.setStoryboardState=null,this.lastPlayHeadPosition=0,{playbackState:n.playbackTypes.WAITING,currentTime:0,progress:0,duration:0,isStoryboardVisible:!1,storyboardPlaybackError:!1}},getDefaultProps:function(){return{showVideoInStoryboard:!0,showProgressBuffer:!1}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setState.bind(this))},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},componentWillUpdate:function(e,t){"idle"===t.storyboardReadyState&&this.state.storyboardPlaybackError&&this.setState({storyboardPlaybackError:!1})},onSeekStart:function(e,t){this.isDragging=!0,this.lastPlayHeadPosition=t.endX/t.maxX*100+"%",this.refs.playHead.style.left=this.lastPlayHeadPosition,this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"seekStart"})},onSeekEnd:function(e,t){var o=t.endX/t.maxX*this.state.duration;this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"seekEnd",params:{time:o}}),this.isDragging=!1},onSeek:function(e,t){this.lastPlayHeadPosition=t.endX/t.maxX*100+"%",this.refs.playHead.style.left=this.lastPlayHeadPosition},seekStartDrag:function(e){this.isDragging||l({onDragStart:this.onSeekStart,onDragEnd:this.onSeekEnd,onDrag:this.onSeek,minX:0,maxX:e.target.offsetWidth,offsetX:e.nativeEvent.offsetX}).start(e)},getStoryboardComp:function(){var e=this.props.showStoryboard;if(!e||"none"===e)return null;var t="videoAndTime"===e&&this.props.storyboardUrl&&!this.state.storyboardPlaybackError,o=t?"storyboard":"storyboardMinimal",i=this.getStoryboardProps("storyboard",t);return this.createChildComponent(null,"wysiwyg.viewer.components.MediaControlStoryboard",o,i)},setStoryboardStateCallback:function(e){this.setStoryboardState=e},getStoryboardProps:function(e,t){var o={ref:e,id:this.props.id+e,iconsDescriptor:this.props.iconsDescriptor,hidden:!this.state.isStoryboardVisible,setStateCallback:this.setStoryboardStateCallback};return t&&(o.videoAspectRatio=this.props.videoAspectRatio,o.storyboardUrl=this.props.serviceTopologyStaticVideoUrl+this.props.storyboardUrl,o.showVideo=!0,o.playbackErrorCallback=this.handleStoryboardError),o},handleStoryboardError:function(){this.setState({storyboardPlaybackError:!0})},onStoryboardStart:function(){this.setState({isStoryboardVisible:!0})},onStoryboardEnd:function(){this.setState({isStoryboardVisible:!1})},onStoryboardScrub:function(e,t){this.setStoryboardState&&this.props.showStoryboard&&"none"!==this.props.showStoryboard&&this.setStoryboardState({left:t.endX,time:t.endX/t.maxX*this.state.duration}),this.refs.playHeadGhost.style.left=t.endX+"px"},storyboardStartScrub:function(e){l({onDragStart:this.onStoryboardStart,onDragEnd:this.onStoryboardEnd,onDrag:this.onStoryboardScrub,minX:0,maxX:e.target.offsetWidth,offsetX:e.clientX-e.currentTarget.getBoundingClientRect().left}).start(e)},getPlayHeadPosition:function(e){return!(this.isDragging||a(this.state.playbackState))?this.state.currentTime/this.state.duration*100+"%":e},getProgressPlaySize:function(e){return!this.isDragging?e:this.state.currentTime/this.state.duration*100+"%"},getIconComponent:function(e){var t={skin:"skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin",styleId:this.props.styleId+"_"+e},o={id:this.props.id+e,ref:e,svgString:this.props.iconsDescriptor[e]};return this.createChildComponent(this.props.compData,"wysiwyg.viewer.components.svgPrimitive",t,o)},getProgressLoad:function(e,t){return t.showProgressBuffer?{progressLoad:{style:{width:e.progress/e.duration*100+"%"}}}:null},getSkinProperties:function(){this.lastPlayHeadPosition=this.getPlayHeadPosition(this.lastPlayHeadPosition);var t={"":{style:this.props.style},progressDragArea:{onMouseDown:this.seekStartDrag,onMouseEnter:this.storyboardStartScrub},progressPlay:{style:{width:this.getProgressPlaySize(this.lastPlayHeadPosition)}},playHead:{children:this.getIconComponent("playhead"),style:{left:this.lastPlayHeadPosition}},playHeadGhost:{children:this.getIconComponent("playheadGhost"),hidden:!this.state.isStoryboardVisible},storyboard:this.getStoryboardComp()};return e.assign(t,this.getProgressLoad(this.state,this.props)),t}}}),define("mediaControls/mediaControlTime/mediaControlTime",["react","core","santaProps","mediaControls/utils/mediaControlsUtils"],function(e,t,o,i){"use strict";var r=i.getReadableTime;return{displayName:"MediaControlTime",mixins:[t.compMixins.skinBasedComp],propTypes:{style:e.PropTypes.object,playerId:e.PropTypes.string.isRequired,mediaAspect:o.Types.SiteAspects.mediaAspect.isRequired},statics:{useSantaTypes:!0},getInitialState:function(){return{currentTime:0,duration:0}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setState.bind(this))},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},getSkinProperties:function(){return{"":{style:this.props.style},played:{children:[r(this.state.currentTime)]},total:{children:[r(this.state.duration)]}}}}}),define("mediaControls/mediaControlsContainer/mediaControlsContainer",["react","lodash","core","santaProps","utils","mediaControls/mediaControlPlay/mediaControlPlay","mediaControls/mediaControlFullscreen/mediaControlFullscreen","mediaControls/mediaControlVolume/mediaControlVolume","mediaControls/mediaControlProgress/mediaControlProgress","mediaControls/mediaControlTime/mediaControlTime"],function(e,t,o,i,r,s,a,n,l,p){"use strict";var d=r.mediaConsts,c=[d.playbackTypes.LOADING,d.playbackTypes.READY,d.playbackTypes.IDLE],h={play:{componentName:"wysiwyg.viewer.components.MediaControlPlay"},volume:{componentName:"wysiwyg.viewer.components.MediaControlVolume"},fullscreen:{componentName:"wysiwyg.viewer.components.MediaControlFullscreen"},progress:{componentName:"wysiwyg.viewer.components.MediaControlProgress"},time:{componentName:"wysiwyg.viewer.components.MediaControlTime"}};return{displayName:"MediaControls",mixins:[o.compMixins.skinBasedComp,o.compMixins.animationsMixin],propTypes:t.defaults({id:i.Types.Component.id.isRequired,mediaAspect:i.Types.SiteAspects.mediaAspect.isRequired,iconsDescriptor:i.Types.MediaControls.iconsDescriptor,compProp:i.Types.Component.compProp,componentViewMode:i.Types.RenderFlags.componentViewMode.isRequired,enableFullsceen:e.PropTypes.bool,playerInteraction:e.PropTypes.string,playerInTimedHoverState:e.PropTypes.bool,playerInHoverState:e.PropTypes.bool},i.santaTypesUtils.getSantaTypesByDefinition(s),i.santaTypesUtils.getSantaTypesByDefinition(a),i.santaTypesUtils.getSantaTypesByDefinition(n),i.santaTypesUtils.getSantaTypesByDefinition(l),i.santaTypesUtils.getSantaTypesByDefinition(p)),statics:{useSantaTypes:!0},getInitialState:function(){return{playbackState:d.playbackTypes.WAITING}},getDefaultProps:function(){return{playerInteraction:"click",enableFullsceen:!1,playerInHoverState:!1}},componentDidMount:function(){this.props.compProp.playerId&&this.props.mediaAspect.registerStateChange(this.props.id,this.props.compProp.playerId,this.setPlaybackState)},componentDidUpdate:function(e,o){var i=!t.includes(c,this.state.playbackState),r=this.state.playbackState!==o.playbackState,s="preview"!==this.props.componentViewMode&&this.state.playbackState!==d.playbackTypes.PLAYING,a=i&&this.props.playerInTimedHoverState&&this.props.playerInHoverState,n=s||a;(this.props.playerInTimedHoverState!==e.playerInTimedHoverState||r||this.props.componentViewMode!==e.componentViewMode)&&(n?this.animate("controls","BaseFade",.2,.2,{opacity:1,ease:"Quad.easeOut"}):this.animate("controls","BaseFade",.15,.2,{opacity:0,ease:"Quad.easeIn"}))},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.compProp.playerId)},componentWillReceiveProps:function(e){var t=this.props.compProp.playerId,o=e.compProp.playerId;t!==o&&this.props.mediaAspect.unregisterStateChange(this.props.id,t),e.compProp.playerId&&this.props.mediaAspect.registerStateChange(this.props.id,o,this.setPlaybackState)},getProgressProps:function(e){var o={showStoryboard:this.props.compProp.showStoryboard};return t.assign(o,t.pick(e,["storyboardUrl","videoAspectRatio"]))},setPlaybackState:function(e){this.state.playbackState!==e.playbackState&&this.setState({playbackState:e.playbackState})},getControl:function(e,o){var i=h[e].componentName,r=e,s={height:this.props.style.height},a=t.assign({ref:e,skinPart:e,id:this.props.id+e,playerId:this.props.compProp.playerId,iconsDescriptor:this.props.iconsDescriptor,style:s,className:this.classSet({control:!0})},o);return this.createChildComponent(null,i,r,a)},getSkinProperties:function(){if("useNative"===this.props.playerInteraction)return{"":{style:{visibility:"hidden"},"data-player-id":this.props.compProp.playerId}};var e=this.props.mediaAspect.getControlsData(this.props.compProp.playerId),t=!1!==e.hasAudio;return{"":{style:this.props.style,"data-player-id":this.props.compProp.playerId,"data-element-queries-def":"controls",onClick:function(e){e.stopPropagation()}},controls:{className:this.classSet({"has-audio":t,controls:!0})},play:this.getControl("play"),volume:this.getControl("volume",{hasAudio:t}),fullscreen:this.props.enableFullsceen?this.getControl("fullscreen"):{style:{display:"none"}},progress:this.getControl("progress",this.getProgressProps(e)),time:this.getControl("time")}}}}),define("mediaControls/skins/skins.json",[],function(){"use strict";var e={};return e["skins.viewer.mediaControlFullscreenDefaultSkin"]={react:[["div","fullscreenButton",[],{}]],params:{fillcolor:"COLOR","alpha-fillcolor":"ALPHA"},paramsDefaults:{fillcolor:"color_11","alpha-fillcolor":"1"},css:{"%fullscreenButton":"width:100%;height:100%;cursor:pointer;","%fullscreenButton > div":"width:100%;height:100%;","%fullscreenButton svg":"width:100%;height:100%;fill:[fillcolor];fill-opacity:[alpha-fillcolor];stroke-width:0;","%fullscreenButton svg *":"vector-effect:non-scaling-stroke;"}},e["skins.viewer.mediaControlPlayDefaultSkin"]={react:[["div","playButton",[],{}]],params:{fillcolor:"COLOR","alpha-fillcolor":"ALPHA"},paramsDefaults:{fillcolor:"color_11","alpha-fillcolor":"1"},css:{"%playButton":"width:100%;height:100%;cursor:pointer;","%playButton > div":"width:100%;height:100%;","%playButton svg":"width:100%;height:100%;fill:[fillcolor];fill-opacity:[alpha-fillcolor];stroke-width:0;","%playButton svg *":"vector-effect:non-scaling-stroke;"}},e["skins.viewer.mediaControlProgressDefaultSkin"]={react:[["div","progressBar",[],{},["div",null,["_progress-indicator"],{},["div","progressIdle",["_progress-part","_progress-background"],{}],["div","progressLoad",["_progress-part","_progress-load"],{}],["div","progressPlay",["_progress-part","_progress-play"],{}],["div","playHead",["_progress-part","_play-head"],{}],["div","playHeadGhost",["_progress-part","_play-head-ghost"],{}],["div","progressDragArea",["_progress-part","_progress-drag-area"],{}]],["div","storyboard",[],{}]]],exports:{storyboard:{skin:"skins.viewer.mediaControlStoryboardDefaultSkin"},storyboardMinimal:{skin:"skins.viewer.mediaControlStoryboardMinimalSkin"}},params:{fillcolor:"COLOR",buffercolor:"COLOR",progresscolor:"COLOR",playheadcolor:"COLOR"},paramsDefaults:{fillcolor:"color_11",buffercolor:"#f80",progresscolor:"#f00",playheadcolor:"#8f0"},css:{"%progressBar":"height:100%;position:relative;","%progressBar [hidden]":"display:none;","%progressBar %_progress-indicator":"top:50%;width:100%;position:relative;","%progressBar %_progress-part":"height:2px;margin-top:-1px;position:absolute;left:0;","%progressBar %_progress-background":"width:100%;background:[fillcolor];border-radius:1px;box-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.3);","%progressBar %_progress-load":"width:0;background:[buffercolor];border-radius:1px;","%progressBar %_progress-play":"width:0;background:[progresscolor];border-radius:1px;","%progressBar %_play-head,%progressBar %_play-head-ghost":"pointer-events:none;height:16px;width:16px;margin-top:-8px;left:0;","%progressBar %_play-head > div,%progressBar %_play-head-ghost > div":"width:100%;height:100%;","%progressBar %_play-head svg,%progressBar %_play-head-ghost svg":"margin-left:-50%;width:100%;height:100%;fill:[playheadcolor];stroke-width:0;","%progressBar %_play-head svg *,%progressBar %_play-head-ghost svg *":"vector-effect:non-scaling-stroke;","%progressBar %_play-head-ghost svg":"fill-opacity:0.2;","%progressBar %_progress-drag-area":"width:100%;height:24px;margin-top:-12px;cursor:pointer;"}},e["skins.viewer.mediaControlsDarkSkin"]={react:[["div","controls",["_controls"],{},["div","play",["_control"],{}],["div","time",["_control"],{}],["div","progress",["_control"],{}],["div","volume",["_control"],{}],["div","fullscreen",["_control"],{}]]],exports:{play:{skin:"skins.viewer.mediaControlPlayDefaultSkin"},volume:{skin:"skins.viewer.mediaControlVolumeDefaultSkin"},fullscreen:{skin:"skins.viewer.mediaControlFullscreenDefaultSkin"},progress:{skin:"skins.viewer.mediaControlProgressDefaultSkin"},time:{skin:"skins.viewer.mediaControlTimeDefaultSkin"}},css:{"%_controls":"width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;","%_controls %_control:first-child":"margin-left:21px;","%_controls %_control:last-child":"margin-right:20px;","%_controls %play":"width:24px;min-width:24px;margin-right:14px;","%_controls %time":"width:auto;margin-right:25px;","%_controls %progress":"min-width:105px;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;margin-right:19px;","%_controls %volume":"width:31px;min-width:31px;margin-right:10px;","%_controls%_has-audio %volume":"width:81px;min-width:50px;margin-right:20px;","%_controls %fullscreen":"width:24px;min-width:24px;",'%[data-element-query-width~="small"] %_controls %_control:first-child':"margin-left:13px;",'%[data-element-query-width~="small"] %_controls %_control:last-child':"margin-right:12px;",'%[data-element-query-width~="small"] %_controls %time':"display:none;",'%[data-element-query-width~="minimal"] %_controls%_has-audio %volume':"width:31px;min-width:31px;margin-right:10px;"}},e["skins.viewer.mediaControlsLightSkin"]={react:[["div","controls",["_controls"],{},["div","play",["_control"],{}],["div","time",["_control"],{}],["div","progress",["_control"],{}],["div","volume",["_control"],{}],["div","fullscreen",["_control"],{}]]],exports:{play:{skin:"skins.viewer.mediaControlPlayDefaultSkin"},volume:{skin:"skins.viewer.mediaControlVolumeDefaultSkin"},fullscreen:{skin:"skins.viewer.mediaControlFullscreenDefaultSkin"},progress:{skin:"skins.viewer.mediaControlProgressDefaultSkin"},time:{skin:"skins.viewer.mediaControlTimeDefaultSkin"}},css:{"%_controls":"width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;","%_controls %_control:first-child":"margin-left:21px;","%_controls %_control:last-child":"margin-right:20px;","%_controls %play":"width:24px;min-width:24px;margin-right:14px;","%_controls %time":"width:auto;margin-right:25px;","%_controls %progress":"min-width:105px;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;margin-right:19px;","%_controls %volume":"width:31px;min-width:31px;margin-right:10px;","%_controls%_has-audio %volume":"width:81px;min-width:50px;margin-right:20px;","%_controls %fullscreen":"width:24px;min-width:24px;",'%[data-element-query-width~="small"] %_controls %_control:first-child':"margin-left:13px;",'%[data-element-query-width~="small"] %_controls %_control:last-child':"margin-right:12px;",'%[data-element-query-width~="small"] %_controls %time':"display:none;",'%[data-element-query-width~="minimal"] %_controls%_has-audio %volume':"width:31px;min-width:31px;margin-right:10px;"}},e["skins.viewer.mediaControlStoryboardDefaultSkin"]={react:[["div",null,["_video-storyboard"],{},["video","video",["_media-preview"],{muted:"",preload:"auto"},["source","mediaSource",[],{type:"video/mp4"}]],["div","label",["_media-preview-caption"],{}]]],params:{fillcolor:"COLOR"},paramsDefaults:{fillcolor:"color_11"},css:{"%":"position:absolute;pointer-events:none;","%_video-storyboard":"margin-left:-50%;width:100%;height:100%;background-color:rgba(30, 30, 30, 0.9);box-sizing:border-box;border-radius:2px;overflow:hidden;padding:2px;","%_media-preview":"width:100%;height:100%;box-sizing:border-box;margin:0;padding:0;","%label":"position:absolute;bottom:5px;width:100%;text-align:center;padding:0;color:[fillcolor];font-size:12px;text-shadow:0 1px 4px rgba(0, 0, 0, 0.2);"}},e["skins.viewer.mediaControlStoryboardMinimalSkin"]={react:[["div","backgroundSymbol",[],{}],["div","label",["_media-preview-caption"],{}]],params:{fillcolor:"COLOR",textcolor:"COLOR"},paramsDefaults:{fillcolor:"color_11",textcolor:"color_15"},css:{"%":"position:absolute;top:-10px;","%backgroundSymbol":"width:41px;height:20px;","%backgroundSymbol svg":"width:100%;height:100%;fill:[fillcolor];stroke-width:0;","%backgroundSymbol svg *":"vector-effect:non-scaling-stroke;","%label":"position:absolute;top:0;left:0;height:20px;line-height:20px;width:100%;text-align:center;color:[textcolor];font-size:12px;"}},e["skins.viewer.mediaControlTimeDefaultSkin"]={react:[["div","timeIndicator",[],{},["span","played",["_time-played"],{}],["span",null,["_divider"],{"aria-hidden":!0}],["span","total",["_total-time"],{}]]],params:{fillcolor:"COLOR"},paramsDefaults:{fillcolor:"color_11"},css:{"%timeIndicator":"display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100%;font-size:12px;line-height:12px;color:[fillcolor];text-shadow:0 1px 3px rgba(0, 0, 0, 0.4);","%timeIndicator %_divider::after":"content:'\\00a0/\\00a0';"}},e["skins.viewer.mediaControlVolumeDefaultSkin"]={react:[["div","volume",[],{},["div","mute",["_volume-mute"],{}],["div","volumeBar",["_volume-control","_volume-bar"],{},["div","volumeBarIdle",["_volume-bar-part","_volume-bar-idle"],{}],["div","volumeBarActive",["_volume-bar-part","_volume-bar-active"],{}],["div","volumeBarDragArea",["_volume-bar-part","_volume-bar-drag-area"],{}]]]],params:{fillcolor:"COLOR","alpha-fillcolor":"ALPHA",progresscolor:"COLOR",disabledcolor:"COLOR"},paramsDefaults:{fillcolor:"color_11","alpha-fillcolor":"1",progresscolor:"#1fdf67",disabledcolor:"#777"},css:{"%volume":"width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;","%volume %_volume-mute":"height:100%;width:31px;margin-right:2px;cursor:pointer;","%volume %_volume-mute > div":"width:100%;height:100%;","%volume %_volume-mute svg":"width:100%;height:100%;fill:[fillcolor];fill-opacity:[alpha-fillcolor];stroke-width:0;","%volume %_volume-mute svg *":"vector-effect:non-scaling-stroke;","%volume %_volume-bar":"-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;position:relative;","%volume %_volume-bar %_volume-bar-part":"top:50%;width:100%;height:2px;margin-top:-1px;position:absolute;left:0;","%volume %_volume-bar %_volume-bar-idle":"background:[fillcolor];border-radius:1px;box-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.3);","%volume %_volume-bar %_volume-bar-active":"pointer-events:none;width:0;background:[progresscolor];border-radius:1px;","%volume %_volume-bar %_volume-bar-drag-area":"height:24px;margin-top:-12px;cursor:pointer;","%volume%_muted %_volume-bar-drag-area":"cursor:default;","%volume%_muted %_volume-bar-active":"background:[disabledcolor];","%volume%_disabled %_volume-mute":"cursor:default;","%volume%_disabled %_volume-mute svg":"fill:#a9a9a9;fill-opacity:1;"}},e["skins.viewer.mediaOverlayControlsDefaultSkin"]={react:[["div","indicator",[],{}],["div","catcher",[],{}]],params:{fillcolor:"COLOR","alpha-fillcolor":"ALPHA",stroke:"COLOR_ALPHA",strokewidth:"SIZE"},paramsDefaults:{fillcolor:"color_11","alpha-fillcolor":"1",stroke:"color_15",strokewidth:"0"},css:{"%catcher":"position:absolute;top:0;right:0;bottom:0;left:0;cursor:pointer;","%_indicator":"position:absolute;top:0;right:0;bottom:0;left:0;","%_indicator svg":"width:100%;height:100%;fill:[fillcolor];fill-opacity:[alpha-fillcolor];stroke:[stroke];stroke-width:[strokewidth];","%_indicator svg *":"vector-effect:non-scaling-stroke;"}},e}),define("mediaControls/utils/mediaControlsDataRequiermentsChecker",["core","lodash","utils","experiment"],function(e,t,o){"use strict";function i(e,t){return a.createSvgFetchRequest(e.serviceTopology.mediaRootUrl,e,t)}function r(e,o){var r=t.get(o,["style","style","properties"]),s=t.filter(r,function(e){return t.startsWith(e,"svgshape")}),a=t.map(s,function(t){return i(e,t)});return t.compact(a)}var s=e.dataRequirementsChecker,a=o.svg;s.registerCheckerForCompType("wysiwyg.viewer.components.MediaOverlayControls",r),s.registerCheckerForCompType("wysiwyg.viewer.components.MediaControls",r)}),define("mediaControls",["core","mediaControls/mediaOverlayControls/mediaOverlayControls","mediaControls/mediaControlsContainer/mediaControlsContainer","mediaControls/mediaControlPlay/mediaControlPlay","mediaControls/mediaControlFullscreen/mediaControlFullscreen","mediaControls/mediaControlVolume/mediaControlVolume","mediaControls/mediaControlProgress/mediaControlProgress","mediaControls/mediaControlTime/mediaControlTime","mediaControls/mediaControlStoryboard/mediaControlStoryboard","skins","mediaControls/skins/skins.json","mediaControls/utils/mediaControlsDataRequiermentsChecker"],function(e,t,o,i,r,s,a,n,l,p,d){"use strict";var c={mediaOverlayControls:t,mediaControls:o,mediaControlPlay:i,mediaControlFullscreen:r,mediaControlVolume:s,mediaControlProgress:a,mediaControlTime:n,mediaControlStoryboard:l};return e.compRegistrar.register("wysiwyg.viewer.components.MediaOverlayControls",c.mediaOverlayControls,!0).register("wysiwyg.viewer.components.MediaControls",c.mediaControls,!0).register("wysiwyg.viewer.components.MediaControlPlay",c.mediaControlPlay).register("wysiwyg.viewer.components.MediaControlFullscreen",c.mediaControlFullscreen).register("wysiwyg.viewer.components.MediaControlVolume",c.mediaControlVolume).register("wysiwyg.viewer.components.MediaControlProgress",c.mediaControlProgress).register("wysiwyg.viewer.components.MediaControlTime",c.mediaControlTime).register("wysiwyg.viewer.components.MediaControlStoryboard",c.mediaControlStoryboard),p.skinsMap.addBatch(d),c});
//# sourceMappingURL=mediaControls.min.js.map