define("mobileActionsMenu/bi/events.json",[],function(){return{MOBILE_ACTION_BAR_TOGGLE:{eventId:370,adapter:"ugc-viewer",params:{site_id:"site_id",status:"status"}},MOBILE_ACTION_BAR_USAGE:{eventId:371,adapter:"ugc-viewer",params:{site_id:"site_id",button_name:"button_name"}}}}),define("mobileActionsMenu/components/mobileActionsMenuItem",["react","create-react-class","utils"],function(e,t,i){"use strict";return t({displayName:"MobileActionsMenuItem",statics:{useSantaTypes:!0},propTypes:{styleId:e.PropTypes.string.isRequired,target:e.PropTypes.string.isRequired,href:e.PropTypes.string.isRequired,label:e.PropTypes.string.isRequired,isSelected:e.PropTypes.bool,level:e.PropTypes.number,hasChildren:e.PropTypes.bool,"data-anchor":e.PropTypes.string,closeMenu:e.PropTypes.func,openPopup:e.PropTypes.func},render:function(){var t={};t[this.props.styleId+"_selected"]=this.props.isSelected,t[this.props.styleId+"_subItem"]=this.props.level>1,t[this.props.styleId+"_hasChildren"]=this.props.hasChildren;var o="#";return"page"===this.props.target?o=this.props.href:null===this.props.target&&(o=""),e.DOM.li({onClick:this.onItemClick},e.DOM.a({href:o,"data-anchor":this.props["data-anchor"],className:i.classNames(t)},this.props.level>1?"> "+this.props.label:this.props.label))},onItemClick:function(){"window"===this.props.target?this.props.openPopup(this.props.href):"page"===this.props.target&&this.props.closeMenu()}})}),define("mobileActionsMenu/skins/skins.json",[],function(){"use strict";var e={};return e["wysiwyg.viewer.skins.mobile.MobileActionsMenuSkin"]={react:[["div","wrapper",[],{},["div","knobContainer",[],{},["div","knob",[],{}]],["div","menuContainer",[],{}]],["div","lists",[],{},["div","listsShadow",[],{},["div","listsContainer",[],{},["div","pagesList",["_list"],{}],["div","socialList",["_list"],{}]],["div","header",[],{},["div","listTitle",[],{}],["div","closeBtn",[],{}]]]]],css:{"%":"pointer-events:none;","%wrapper":"position:fixed;z-index:98;width:100%;right:0;left:0;-webkit-transition:bottom .2s ease-in-out;transition:bottom .2s ease-in-out;bottom:-58px;",'%[data-state~="opened"] %wrapper':"bottom:0;","%knobContainer":"text-align:center;width:100%;","%knob":'pointer-events:auto;width:150px;height:40px;margin:0 auto;background-image:url("//static.parastorage.com/services/web/2.1113.24/images/wysiwyg/viewer/quickAction_darkSprite.png");background-position:50% -430px;background-size:430px;','%[data-state~="light"] %knob':'background-image:url("//static.parastorage.com/services/web/2.1113.24/images/wysiwyg/viewer/quickAction_lightSprite.png");',"%menuContainer":'display:table;width:100%;background-color:#3e3e3e;background-position:50% 60%;background-size:100% 23px;background-repeat:no-repeat;background-image:url("//static.parastorage.com/services/web/2.1113.24/images/wysiwyg/viewer/quickActions_dark_bg.png");height:53px;box-shadow:0 -5px 15px 0 rgba(0, 0, 0, 0.5);pointer-events:auto;','%[data-state~="light"] %menuContainer':"background:-webkit-linear-gradient(top, #fff 35%, #d7d7d7 80%);background:linear-gradient(to bottom, #fff 35%, #d7d7d7 80%);background-position:inherit;background-size:inherit;background-repeat:inherit;","%menuContainer ul":"display:table-row;list-style:none;","%menuContainer ul li":"display:table-cell;text-align:center;height:53px;border:1px solid #575757;border-left-color:#363636;",'%[data-state~="light"] %menuContainer ul li':"border:1px solid #d9d9d9;border-left-color:#999;","%menuContainer ul li a":'background-image:url("//static.parastorage.com/services/web/2.1113.24/images/wysiwyg/viewer/quickAction_darkSprite.png");background-repeat:no-repeat;width:40px;height:100%;display:inline-block;overflow:hidden;direction:ltr;white-space:nowrap;text-indent:-9999em;background-size:420px;','%[data-state~="light"] %menuContainer ul li a':'background-image:url("//static.parastorage.com/services/web/2.1113.24/images/wysiwyg/viewer/quickAction_lightSprite.png");',"%menuContainer ul li div":"border:1px solid #666;border-bottom-color:#999;margin:3px;","%actionsMenu %_menu ul li div":"border:1px solid #666;border-bottom-color:#999;margin:3px;","%menuContainer ul li%_navigation a":"background-position:-13px -4px;","%menuContainer ul li%_phone a":"background-position:-78px -4px;","%menuContainer ul li%_email a":"background-position:-141px -4px;","%menuContainer ul li%_address a":"background-position:-208px -4px;","%menuContainer ul li%_socialLinks a":"background-position:-273px -4px;","%lists":"position:fixed;background:rgba(0, 0, 0, 0.1);width:100%;height:100%;display:block;z-index:98;top:0;pointer-events:auto;","%lists %header":"left:0;right:0;position:absolute;background-color:rgba(255, 255, 255, 0.9);background-image:-webkit-linear-gradient(top, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.26) 26%, rgba(255, 255, 255, 0.52) 52%, rgba(214, 214, 214, 0.72) 72%, #c9c9c9 100%);background-image:linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.26) 26%, rgba(255, 255, 255, 0.52) 52%, rgba(214, 214, 214, 0.72) 72%, #c9c9c9 100%);","%lists %header %closeBtn":'width:35px;height:35px;float:right;background-image:url("//static.parastorage.com/services/web/2.1113.24/images/wysiwyg/viewer/x.png");background-size:40%;background-repeat:no-repeat;background-position:50% 50%;border-left:1px #B0AFAF solid;',"%lists %header %listTitle":"float:left;color:#808080;line-height:35px;padding-left:15px;margin:0;font-size:1.3em;","%listsShadow":"display:block;top:50px;bottom:0;left:13px;right:13px;position:absolute;box-shadow:0 0 5px 0 rgba(0, 0, 0, 0.3);-webkit-transition:top .8s ease-in-out;transition:top .8s ease-in-out;","%listsContainer":"top:35px;bottom:0;left:0;right:0;background:#FFF;position:absolute;overflow-y:auto;","%listsContainer %_list":"background-color:rgba(255, 255, 255, 0.9);",'%[data-state~="nolist"] %lists':"display:none;",'%[data-state~="nolist"] %listsShadow':"top:1000px;","%listsContainer %_list ul":"width:100%;height:100%;","%listsContainer %_list ul li a%_selected":"color:#FFF;background:rgba(16, 90, 200, 0.7);","%listsContainer %_list ul li a":"color:#000;font-size:1.7em;background:transparent;text-decoration:none;cursor:pointer;display:block;padding:1em;border-bottom:1px #B0AFAF solid;"}},e}),define("mobileActionsMenu/aspects/MobileActionsMenuAspect",["lodash","core"],function(e,t){"use strict";function i(t){var i=t.getSiteData(),o=e.get(i.getSiteMetaData(),"quickActions.configuration.quickActionsMenuEnabled",!1),s=!e.some(i.getMasterPageData(["structure","mobileComponents"]),{id:"QUICK_ACTION_BAR"});if(i.isMobileDevice()&&t.getRenderFlag("renderMobileActionMenu")&&o&&s)return{id:"MOBILE_ACTIONS_MENU",skin:"wysiwyg.viewer.skins.mobile.MobileActionsMenuSkin",componentType:"wysiwyg.viewer.components.MobileActionsMenu",styleId:"mobileActionsMenu",layout:{position:"static"}}}function o(){}return o.prototype={getComponentsToRender:function(e){var t=e.getSiteData(),o=i(e);return o?[{structure:o,props:{userColorScheme:t.rendererModel.siteMetaData.quickActions.colorScheme}}]:null}},t.siteAspectsRegistry.registerSiteAspect("mobileActionsMenu",o),o}),define("mobileActionsMenu",["lodash","react","core","santaProps","mobileActionsMenu/bi/events.json","mobileActionsMenu/components/mobileActionsMenuItem","skins","mobileActionsMenu/skins/skins.json","mobileActionsMenu/aspects/MobileActionsMenuAspect"],function(e,t,i,o,s,n,r,a){"use strict";function l(t,i,o,s){function n(e,t){return p(t,i,e,o,s)}return e(t).filter("isVisibleMobile").reduce(function(t,i){var o=e(i.items).filter("isVisibleMobile").map(n.bind(null,2)).value();return t.concat([n(1,i)]).concat(o)},[])}function p(i,o,s,r,a){var l=i.link?i.link.render.href:null;return t.createElement(n,{label:i.label,href:l,target:l?"page":null,"data-anchor":e.get(i,"link.render.data-anchor"),closeMenu:a,level:s,hasChildren:i.items&&i.items.length>0,isSelected:"#"+o===i.link&&i.link.pageId,styleId:r})}function c(t,i,o){return e.map(t,function(e){return d(e.id,e.url,i,o)})}function d(e,i,o,s){return t.createElement(n,{label:u(e),href:i,target:"window",styleId:o,openPopup:s})}function u(e){return{facebook:"Facebook",twitter:"Twitter",pinterest:"Pinterest",google_plus:"Google+",tumblr:"Tumblr",blogger:"Blogger",linkedin:"LinkedIn",youtube:"YouTube",vimeo:"Vimeo",flickr:"Flickr","":""}[e]||e}var h={displayName:"MobileActionsMenu",mixins:[i.compMixins.skinBasedComp],statics:{useSantaTypes:!0},propTypes:{userColorScheme:o.Types.RendererModel.siteMetaData.quickActions.colorScheme.isRequired,socialLinks:o.Types.RendererModel.siteMetaData.quickActions.socialLinks.isRequired,contactInfo:o.Types.RendererModel.siteMetaData.contactInfo.isRequired,configuration:o.Types.RendererModel.siteMetaData.quickActions.configuration.isRequired,getInvertedZoomRatio:o.Types.mobile.getInvertedZoomRatio.isRequired,siteMenuWithRender:o.Types.Menu.siteMenuWithRender.isRequired,currentUrlPageId:o.Types.Component.currentUrlPageId.isRequired,reportBI:o.Types.reportBI.isRequired,styleId:o.Types.Component.styleId.isRequired,siteId:o.Types.RendererModel.siteId.isRequired,openPopup:o.Types.popup.open.isRequired,siteScrollingBlocker:o.Types.SiteAspects.siteScrollingBlocker.isRequired},getInitialState:function(){return{$display:"closed",$theme:this.props.userColorScheme||"dark",$list:"nolist",zoom:1}},componentDidMount:function(){this.props.siteScrollingBlocker.registerScrollBlockedListener({handleUnblockedBy:this.display,handleBlockedBy:this.hide})},display:function(){this.setState({shouldHide:!1})},hide:function(){this.setState({shouldHide:!0})},componentDidLayout:function(){e.delay(function(){var e=this.props.getInvertedZoomRatio();this.setState({zoom:e})}.bind(this),1e3)},getSkinProperties:function(){var e={display:this.state.shouldHide?"none":""},i=this.props.siteMenuWithRender,o="pages"===this.state.$list?l(i,this.props.currentUrlPageId,this.props.styleId,this.onListCloseClick):[],s="social"===this.state.$list?c(this.props.socialLinks,this.props.styleId,this.props.openPopup):[],n=[];return this.props.configuration.navigationMenuEnabled&&n.push(t.DOM.li({className:this.props.styleId+"_navigation",onClick:this.onMenuItemClick.bind(this,"pages")},t.DOM.a())),this.props.configuration.phoneEnabled&&n.push(t.DOM.li({className:this.props.styleId+"_phone",onClick:this.onMenuItemClick.bind(this,"phone")},t.DOM.a())),this.props.configuration.emailEnabled&&n.push(t.DOM.li({className:this.props.styleId+"_email",onClick:this.onMenuItemClick.bind(this,"email")},t.DOM.a())),this.props.configuration.addressEnabled&&n.push(t.DOM.li({className:this.props.styleId+"_address",onClick:this.onMenuItemClick.bind(this,"address")},t.DOM.a())),this.props.configuration.socialLinksEnabled&&n.push(t.DOM.li({className:this.props.styleId+"_socialLinks",onClick:this.onMenuItemClick.bind(this,"social")},t.DOM.a())),0===n.length&&(e.display="none"),e.zoom=this.state.zoom,{"":{style:e},wrapper:{onSwipeUp:this.onTouchSwipeUp,onSwipeDown:this.onTouchSwipeDown,style:{className:"mobile-actions-menu-wrapper"}},knobContainer:{},knob:{onClick:this.onKnobClick},menuContainer:{children:t.DOM.ul({children:n}),style:{}},lists:{},listTitle:{children:"pages"===this.state.$list?"Pages":"See me on..."},pagesList:{children:t.DOM.ul({children:o})},socialList:{children:t.DOM.ul({children:s})},closeBtn:{onClick:this.onListCloseClick,onTouchEnd:this.onListCloseClick}}},componentWillReceiveProps:function(e){this.props.currentUrlPageId!==e.currentUrlPageId&&this.setState({$list:"nolist"})},onKnobClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.reportBI(s.MOBILE_ACTION_BAR_TOGGLE,{site_id:this.props.siteId,status:"opened"!==this.state.$display}),this.setState({$display:"opened"===this.state.$display?"closed":"opened"})},onTouchSwipeUp:function(e){e.preventDefault(),e.stopPropagation(),"opened"!==this.state.$display&&this.setState({$display:"opened"})},onTouchSwipeDown:function(e){e.preventDefault(),e.stopPropagation(),"closed"!==this.state.$display&&this.setState({$display:"closed"})},onMenuItemClick:function(e,t){switch(t.preventDefault(),t.stopPropagation(),this.props.reportBI(s.MOBILE_ACTION_BAR_USAGE,{site_id:this.props.siteId,button_name:e}),e){case"pages":this.setState({$list:"pages"});break;case"address":window.location.href="http://maps.apple.com/?q="+this.props.contactInfo.address;break;case"phone":window.location.href="tel:"+this.props.contactInfo.phone;break;case"email":window.location.href="mailto:"+this.props.contactInfo.email;break;case"social":this.setState({$list:"social"})}},onListCloseClick:function(){return this.setState({$list:"nolist"}),!1}};return i.compRegistrar.register("wysiwyg.viewer.components.MobileActionsMenu",h),r.skinsMap.addBatch(a),h});
//# sourceMappingURL=mobileActionsMenu.min.js.map