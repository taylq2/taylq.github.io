define("superAppMenuInfra/panels/firstTimeTour/slidesProvider",["lodash"],function(e){"use strict";function t(t,n,i,r){if(!e.includes(e.values(s),i))throw new Error("illegal flowName "+i);var p=t.getUserPreferences().site,a=n.id+"/first_time_tour_last_seen_slide",l=function(e,t){switch(t){case s.PROMOTIONAL:return e.firstTimeTour.promotionalFlow;case s.MANUALLY_INSTALLED:return e.firstTimeTour.manuallyInstalledFlow;case s.TEMPLATE:return e.firstTimeTour.templateFlow;default:return[]}}(n,i),o=void 0;if(void 0!==r)o=l[l.indexOf(r)+1];else{var u=p.get(a);u&&u.flow!==i&&(u.index=0),o=function(e,t){return t?-1===t.index?void 0:e[t.index]:e[0]}(l,u)}return p.set(a,{flow:i,index:l.indexOf(o)}),o}var s={PROMOTIONAL:"promotional",MANUALLY_INSTALLED:"manuallyInstalled",TEMPLATE:"template"};return{FLOW_NAMES:s,getNextSlide:t}}),define("superAppMenuInfra/utils/experiments",["experiment"],function(e){"use strict";return{isPromotionalExperimentOn:function(t){return{wixBookings:!0,blog:!0,newBlog:!0,wixStore:e.isOpen("PromotionalWixStore")}[t]},isLearnMoreExperimentOn:function(){return e.isOpen("SuperAppLearnMorePanelView")},isWaitForClickExperimentOn:function(t){return{newBlog:!0,blog:!0,wixStore:!0,shoutout:e.isOpen("WaitForClickShoutOut")}[t]}}}),define("superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel.rt",["react","lodash","baseUI","baseUILib"],function(e,t,s,n){"use strict";return function(){return e.createElement("div",{className:"super-app-first-time-tour-panel"},e.createElement(n.CustomScroll,{heightRelativeToParent:"100%"},void 0!==this.state.currentSlide?e.createElement(this.state.currentSlide,{key:"currentSlide",onClose:this.props.onClose,superApp:this.props.superApp,nextSlide:this.nextSlide,isFirstSlide:this.state.isFirstSlide,appWasManuallyInstalled:this.props.appWasManuallyInstalled}):null))}}),define("superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel",["lodash","react","core","superAppMenuInfra/panels/firstTimeTour/slidesProvider","superAppMenuInfra/utils/experiments","superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel.rt"],function(e,t,s,n,i,r){"use strict";return t.createClass({displayName:"superAppFirstTimeTourPanel",propTypes:{superApp:t.PropTypes.object.isRequired,onClose:t.PropTypes.func.isRequired,onTourEnd:t.PropTypes.func.isRequired,appWasManuallyInstalled:t.PropTypes.bool,flowType:t.PropTypes.string},mixins:[s.mixins.editorAPIMixin],_getFlowName:function(){return!this.props.superApp.isAppInstalled(this.getEditorAPI())&&i.isPromotionalExperimentOn(this.props.superApp.id)?n.FLOW_NAMES.PROMOTIONAL:this._getUsualFlowName()},_getUsualFlowName:function(){var e=this._getUserFlowFromUserPreferences();return e&&e!==n.FLOW_NAMES.PROMOTIONAL?e:this.props.appWasManuallyInstalled||this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()?n.FLOW_NAMES.MANUALLY_INSTALLED:n.FLOW_NAMES.TEMPLATE},_getUserFlowFromUserPreferences:function(){var e=this.props.superApp.id+"/first_time_tour_last_seen_slide",t=this.getEditorAPI().getUserPreferences().site.get(e);return t&&t.flow},getInitialState:function(){return{currentSlide:n.getNextSlide(this.getEditorAPI(),this.props.superApp,this._getFlowName()),isFirstSlide:!0}},componentDidMount:function(){void 0===this.state.currentSlide&&this.props.onTourEnd()},nextSlide:function(){var e=n.getNextSlide(this.getEditorAPI(),this.props.superApp,this._getFlowName(),this.state.currentSlide);this.setState({currentSlide:e,isFirstSlide:!1}),void 0===e&&this.props.onTourEnd()},render:r})}),define("superAppMenuInfra/bi/superAppEvents",["core"],function(e){"use strict";var t={appButton:{MAIN_BUTTON_HOVER:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string"}},MAIN_BUTTON_CLICK:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string",is_first:"boolean"}},MENU_OPENED:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string",app_state:"string",origin:"string",is_first:"boolean"}}},firstTimeTour:{template:{STEP_1_CONTINUE_CLICK:{evid:198,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_CLOSE_CLICK:{evid:199,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CONTINUE_CLICK:{evid:200,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CLOSE_CLICK:{evid:201,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CONTINUE_CLICK:{evid:202,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CLOSE_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}},manuallyInstalled:{STEP_1_WELCOME_CONTINUE_CLICK:{evid:202,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CLOSE_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}},promotional:{INSTALL_AGREE_CLICK:{evid:193,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},INSTALL_CLOSE_CLICK:{evid:194,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},INSTALL_FOUND_OUT_MORE_CLICK:{evid:195,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CONTINUE_CLICK:{evid:196,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CLOSE_CLICK:{evid:197,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}}},PANEL_SELECT:{evid:204,src:38,endpoint:"editor",fields:{panel:"string",app_id:"string",app_name:"string"}},MANAGE_PANEL_BUTTON_CLICK:{evid:205,src:38,endpoint:"editor",fields:{button_name:"string",app_id:"string",app_name:"string"}},UPGRADE_TOOLTIP_OPENED:{evid:206,src:38,endpoint:"editor",fields:{origin:"string",app_id:"string",app_name:"string"}},UPGRADE_CLICK:{evid:207,src:38,endpoint:"editor",fields:{origin:"string",app_id:"string",app_name:"string"}},LEARN_MORE_PANEL_CATEGORY_CLICK:{evid:209,src:38,endpoint:"editor",fields:{category:"string",app_id:"string",app_name:"string"}},HELP_ICON_CLICK:{evid:210,src:38,endpoint:"editor",fields:{panel:"string",app_id:"string",app_name:"string"}}};return{mixins:[e.mixins.editorAPIMixin],superAppEvents:t,registerEvents:function(){this.getEditorAPI().documentServices.bi.register("components","event",t)}}}),define("superAppMenuInfra/bi/superAppBi",["superAppMenuInfra/bi/superAppEvents"],function(e){"use strict";return{events:e.superAppEvents,registerEvents:e.registerEvents}}),define("superAppMenuInfra/panels/superAppTooltipUpgrade.rt",["react","lodash","util","baseUI","symbols"],function(e,t,s,n,i){"use strict";return function(){return function(){var r=this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive();return e.createElement("div",{className:t({superAppTooltipUpgrade:!0,"test-drive":r}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"wix-store-upgrade-left"},this.props.title?e.createElement("h3",{className:"upgrade-title",key:"upgradeTitle"},s.translate(this.props.title)):null,this.props.text?e.createElement("p",{className:"upgrade-content",key:"upgradeContent"},s.translate(this.props.text)):null,e.createElement(n.button,{className:t({"upgrade-button":!0,"migration-button":r}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),label:this.props.label,onClick:function(e){this.props.upgrade()}.bind(this,r)})),e.createElement(i.symbol,{name:this.props.image}))}.apply(this,[])}}),define("superAppMenuInfra/panels/superAppTooltipUpgrade",["react","lodash","core","superAppMenuInfra/panels/superAppTooltipUpgrade.rt"],function(e,t,s,n){"use strict";return e.createClass({displayName:"superAppTooltipUpgrade",mixins:[s.mixins.editorAPIMixin],propTypes:{title:e.PropTypes.string,text:e.PropTypes.string,label:e.PropTypes.string,image:e.PropTypes.string,upgrade:e.PropTypes.func},render:n})}),define("superAppMenuInfra/panels/menuPanels/superAppManagePanel.rt",["react","lodash","baseUI"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"super-app-manage-panel"},e.createElement(this.props.superApp.panel.manage.template,{}))}}),define("superAppMenuInfra/panels/menuPanels/superAppManagePanel",["lodash","react","superAppMenuInfra/panels/menuPanels/superAppManagePanel.rt"],function(e,t,s){"use strict";return t.createClass({displayName:"superAppManagePanel",propTypes:{superApp:t.PropTypes.object.isRequired},render:s})}),define("superAppMenuInfra/panels/menuPanels/superAppPagesPanel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"site-app-pages-panel"},e.createElement(this.props.superApp.panel.pages.template,{}))}}),define("superAppMenuInfra/panels/menuPanels/superAppPagesPanel",["lodash","react","core","superAppMenuInfra/panels/menuPanels/superAppPagesPanel.rt"],function(e,t,s,n){"use strict";return t.createClass({displayName:"superAppPagesPanel",render:n})}),define("superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel.rt",["react","lodash","util","baseUI","core","symbols"],function(e,t,s,n,i,r){"use strict";return function(){return function(){var n=this.props.superApp.panel.addElements,i=this.isMobile(),p=this.getEditorAPI().addPanelInfra.categoryView;return e.createElement("div",{className:"super-app-add-elements-panel category-view-wrapper"},i?null:e.createElement(p,t.assign({},{key:"categoryView",teaser:this.getTeaser(),origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())),i?e.createElement("div",{className:"super-app-mobile-view",key:"mobileView"},e.createElement(r.symbol,{name:this.props.superApp.panel.addElements.mobileImage}),e.createElement("p",{className:"bigger-text"},s.translate(n.disabledInMobileMessageTitle)),e.createElement("p",{},"\n            ",s.translate(n.disabledInMobileMessageDescription)," ",e.createElement("a",{onClick:this.goToDesktop},s.translate(n.disabledInMobileMessageDescriptionLink)))):null)}.apply(this,[])}}),define("superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel",["lodash","react","core","util","superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel.rt"],function(e,t,s,n,i){"use strict";return t.createClass({displayName:"superAppAddElementsPanel",mixins:[s.mixins.editorAPIMixin,n.dragToStageMixin],getInitialState:function(){return{firstTimeInfoBoxHeight:0}},propTypes:{superApp:t.PropTypes.object.isRequired},isMobile:function(){return this.getEditorAPI().documentServices.viewMode.get()===this.getEditorAPI().documentServices.viewMode.VIEW_MODES.MOBILE},needToNotifyInnerNavigationToCalculateSections:function(e){this.setState({firstTimeInfoBoxHeight:e})},getSections:function(){var t=this.getEditorAPI(),s=this.props.superApp.panel.addElements.sections;return e.isFunction(s)&&(s=s(t)),e.isUndefined(s)&&(s=t.addPanel.getCategory(this.props.superApp.panel.addElements.categoryId).items),e.isEqual(s,this.lastComputedSectionItems)||(this.lastComputedSectionItems=e.cloneDeep(s)),this.lastComputedSectionItems},getTeaser:function(){var t=this.props.superApp.panel.addElements.teaser;return e.isFunction(t)&&(t=t(this.getEditorAPI())),t},getCategoryViewProps:function(){return e.assign({},this.props,{changeStateOnInnerNavigationOpen:this.changeStateOnInnerNavigationOpen,firstTimeInfoBoxHeight:this.state.firstTimeInfoBoxHeight,onItemDrag:this.startItemDrag})},changeStateOnInnerNavigationOpen:function(e){this.props.onChangeStateOnInnerNavigationOpen(e)},goToDesktop:function(){this.getEditorAPI().setDesktopEditor()},render:i})}),define("superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel.rt",["react","lodash","util","panels","symbols","baseUI","baseUILib"],function(e,t,s,n,i,r,p){"use strict";return function(){function n(n,r){return e.createElement.apply(this,["div",{className:"section-container"},e.createElement("div",{className:"section-top"},e.createElement("h4",{className:"title"},s.translate(n.title)),e.createElement("a",{className:"see-all-link",href:n.link},"See All")),t.map(n.data,function(t,s,n,r){return e.createElement("div",{className:"content-wrapper",onClick:function(e,t,s,n){this.openPanel(s.link)}.bind(this,t,s,n,r)},e.createElement("img",{src:n.image,alt:!0}),e.createElement("div",{className:"description"},n.description),e.createElement("span",{className:"arrow-wrapper"},e.createElement(i.symbol,{name:"actionArrowRight",className:"actionArrowRight"})))}.bind(this,n,r))])}return e.createElement("div",{className:"site-app-learn-more"},e.createElement(p.CustomScroll,{heightRelativeToParent:"100%"},this.isLearnMoreExperimentOpen()?null:e.createElement("div",{className:"first-view",key:"firstView"},this.props.superApp.panel.learnMore.data.viewA.helpCenterPopUp.isHidden?null:e.createElement("div",{className:"image-container",onClick:function(){this.openPanel("helpCenterPopUp","viewA"),this.reportBiEvent("HelpCenter")}.bind(this),key:"434"},e.createElement("div",{className:"active-layer"}),e.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.helpCenterPopUp.image,alt:"WixStores Help Center"}),e.createElement("div",{className:"link-container"},e.createElement("p",{},s.translate(this.props.superApp.panel.learnMore.section1HeaderViewA)),e.createElement(i.symbol,{name:"arrowWithStates"}))),this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.isHidden?null:e.createElement("a",{className:"image-container",onClick:function(){this.reportBiEvent("Forums")}.bind(this),target:"_blank",href:this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.link,key:"1115"},e.createElement("div",{className:"active-layer"}),e.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.image,alt:"WixStores Support Forum"}),e.createElement("div",{className:"link-container"},e.createElement("p",{},s.translate(this.props.superApp.panel.learnMore.section2HeaderViewA)),e.createElement(i.symbol,{name:"arrowWithStates"}))),this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.isHidden?null:e.createElement("a",{className:"image-container",onClick:function(){this.reportBiEvent("FromTheWixBlog")}.bind(this),target:"_blank",href:this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.link,key:"1861"},e.createElement("div",{className:"active-layer"}),e.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.image,alt:"Tips from the Wix Blog"}),e.createElement("div",{className:"link-container"},e.createElement("p",{},s.translate(this.props.superApp.panel.learnMore.section3HeaderViewA)),e.createElement(i.symbol,{name:"arrowWithStates"})))),this.isLearnMoreExperimentOpen()?e.createElement.apply(this,["div",{className:"second-view",key:"secondView"},t.map(this.getLearnMoreDataForViewB(),n.bind(this))]):null))}}),define("superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel",["react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/utils/experiments","superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel.rt"],function(e,t,s,n,i){"use strict";return e.createClass({displayName:"superAppLearnMorePanel",mixins:[t.mixins.editorAPIMixin],getUrl:function(e,t){return"viewA"===t?this.props.superApp.panel.learnMore.data[t][e].link:e},openPanel:function(e,s){var n=this.getEditorAPI(),i={panel_name:e,origin:t.constants.BI.HELP.ORIGIN.LEFTBAR,component:this.props.superApp.appName,learn_more:!0};n.panelManager.openHelpCenter(this.getUrl(e,s),null,i)},reportBiEvent:function(e){var t=this.props.superApp,n={category:e,app_id:t.appDefId,app_name:t.appName};this.getEditorAPI().bi.event(s.events.LEARN_MORE_PANEL_CATEGORY_CLICK,n)},getLearnMoreDataForViewB:function(){return this.props.superApp.panel.learnMore.data.viewB},isLearnMoreExperimentOpen:function(){return n.isLearnMoreExperimentOn()},render:i})}),define("superAppMenuInfra/panels/superAppMenuPanel.rt",["react","lodash","util","baseUI","symbols","constants"],function(e,t,s,n,i,r){"use strict";return function(){function p(){var p=this.getSelectedTab();return e.createElement("div",{className:"super-app-menu-panel left-panel-frame-content "+(p.isDynamicHeight?"dynamic-height":""),onWheel:this.blockOuterScroll},e.createElement("div",{className:"tabs"},e.createElement.apply(this,["ul",{},t.map(this.getTabs(),function(t,n,i){return e.createElement("li",{onClick:function(e,t,s){this.selectTab(t)}.bind(this,t,n,i),className:"tab",style:{height:"100px"}},e.createElement("span",{className:"tabNameWrapper "+(t===n?"isSelected":"")},e.createElement("span",{className:"tabName"},s.translate(n.title))))}.bind(this,p))]),this.showPremiumLink()?e.createElement("div",{key:"premium"},e.createElement("div",{className:"separator"}),e.createElement("div",{className:"premium"},e.createElement(n.tooltip,{value:this.getTooltipValue(),alignment:r.UI.TOOLTIP.ALIGNMENT.BOTTOM,styleType:r.UI.TOOLTIP.STYLE_TYPE.NORMAL,interactive:!0,width:"432px",id:"superAppUpgradePopoverId"},e.createElement("p",{},s.translate(this.props.superApp.upgradeLinkText))))):null),e.createElement("div",{className:t({content:!0,"inner-navigation-open":this.state.isInnerNavigationOpened}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"header"},e.createElement("label",{className:"title"},s.translate(p.title)),e.createElement("div",{className:"actions"},p.helpId?e.createElement("div",{key:"helpButton",className:"button help",onClick:this.onHelpButtonClick},"\n                   ?\n                "):null,e.createElement("div",{className:"button close",onClick:this.props.onClose},e.createElement(i.symbol,{name:"headerCloseButton"})))),e.createElement("div",{className:"selected-content-wrapper "+(p.isDynamicHeight?"dynamic-height":"")},e.createElement(p.content,{superApp:this.props.superApp,onChangeStateOnInnerNavigationOpen:this.onChangeStateOnInnerNavigationOpen}))))}return p.apply(this,[])}}),define("superAppMenuInfra/panels/superAppMenuPanel",["lodash","react","core","baseUI","util","superAppMenuInfra/bi/superAppBi","addPanelDataConsts","superAppMenuInfra/panels/superAppTooltipUpgrade","superAppMenuInfra/panels/menuPanels/superAppManagePanel","superAppMenuInfra/panels/menuPanels/superAppPagesPanel","superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel","superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel","superAppMenuInfra/panels/superAppMenuPanel.rt"],function(e,t,s,n,i,r,p,a,l,o,u,d,c){"use strict";return t.createClass({displayName:"SuperAppMenuPanel",mixins:[s.mixins.editorAPIMixin,i.blockOuterScrollMixin],propTypes:{superApp:t.PropTypes.object.isRequired,onClose:t.PropTypes.func.isRequired,selectedTabName:t.PropTypes.string},getInitialState:function(){var t=this.getTabs();return{selectedTab:e.find(t,{name:this.props.selectedTabName})||t[0]}},getTabs:function(){var t=this.props.superApp,s=[{name:"Manage",isDynamicHeight:!1,title:t.panel.manage.title,helpId:t.panel.manage.helpId,isHidden:t.panel.manage.isHidden,content:l},{name:"Pages",isDynamicHeight:!0,title:t.panel.pages.title,helpId:t.panel.pages.helpId,isHidden:t.panel.pages.isHidden,content:o},{name:"Add",isDynamicHeight:!0,title:t.panel.addElements.title,helpId:t.panel.addElements.helpId,isHidden:t.panel.addElements.isHidden,content:u},{name:"LearnMore",isDynamicHeight:!1,title:t.panel.learnMore.title,isHidden:t.panel.learnMore.isHidden,content:d}];return s=e.reject(s,{isHidden:!0}),t.extraTabs&&t.extraTabs.forEach(function(e){s.splice(e.index,0,{name:"Manage",isDynamicHeight:e.isDynamicHeight,title:e.title,helpId:e.helpId,content:e.template})}),this.tabs=this.tabs||s,this.tabs},showPremiumLink:function(){var e=this.props.superApp;return e.hasPremiumPlan&&(this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()||!e.isPremium(this.getEditorAPI()))},selectTab:function(e){var t=this.props.superApp,s={panel:e.name,app_id:t.appDefId,app_name:t.appName};this.getEditorAPI().bi.event(r.events.PANEL_SELECT,s),this.setState({selectedTab:e,isInnerNavigationOpened:!1})},getSelectedTab:function(){return this.state.selectedTab},openAppPremiumPackagePicker:function(){var e=this.props.superApp,t={origin:"TooltipUpgradeLink",app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(r.events.UPGRADE_CLICK,t),e.openAppPremiumPackagePicker(this.getEditorAPI()),n.tooltipManager.hide("superAppUpgradePopoverId",!0)},openMigrationPopup:function(){this.props.superApp.openSwitchSitesPopup(this.getEditorAPI()),this.getEditorAPI().bi.event(s.bi.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"upgrade_popup"}),n.tooltipManager.hide("superAppUpgradePopoverId",!0)},getStyle:function(){return{width:p.CATEGORY_VIEW.TOTAL_WIDTH}},onHelpButtonClick:function(){var e=this.getEditorAPI(),t=this.props.superApp,n={panel:this.state.selectedTab.name,app_id:t.appDefId,app_name:t.appName};e.bi.event(r.events.HELP_ICON_CLICK,n);var i={panel_name:this.state.selectedTab.name,origin:s.constants.BI.HELP.ORIGIN.LEFTBAR,component:t.appName,learn_more:!1};e.panelManager.openHelpCenter(this.getSelectedTab().helpId,null,i)},getTooltipValue:function(){return this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()?t.createElement(a,{title:this.props.superApp.tooltip.migration.title,text:this.props.superApp.tooltip.migration.text,label:this.props.superApp.tooltip.migration.label,image:this.props.superApp.tooltip.migration.image,upgrade:this.openMigrationPopup}):t.createElement(a,{title:this.props.superApp.tooltip.upgrade.title,text:this.props.superApp.tooltip.upgrade.text,label:this.props.superApp.tooltip.upgrade.label,image:this.props.superApp.tooltip.upgrade.image,upgrade:this.openAppPremiumPackagePicker})},onChangeStateOnInnerNavigationOpen:function(e){this.setState({isInnerNavigationOpened:e})},render:c})}),define("superAppMenuInfra/panels/superAppPanel.rt",["react","lodash","panels","superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel","superAppMenuInfra/panels/superAppMenuPanel"],function(e,t,s,n,i){"use strict";return function(){return e.createElement(s.frames.leftPanelFrame,{ref:"superAppPanel",styleOverride:{overflow:"visible"},panelName:this.props.superApp.panel.name,panelClass:"super-app-panel "+this.props.panelClass,panelIndex:this.props.panelIndex},this.isInFirstTimeTour()||!this.props.superApp.isAppInstalled(this.getEditorAPI())?e.createElement(n,{key:"firstTimeTour",superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,onTourEnd:this.finishFirstTimeTour,onClose:this.closePanel}):null,!this.isInFirstTimeTour()&&this.props.superApp.isAppInstalled(this.getEditorAPI())?e.createElement(i,{key:"AppMenu",superApp:this.props.superApp,selectedTabName:this.props.selectedTabName,onClose:this.closePanel}):null)}}),define("superAppMenuInfra/panels/superAppPanel",["lodash","react","core","superAppMenuInfra/panels/superAppPanel.rt"],function(e,t,s,n){"use strict";return t.createClass({displayName:"SuperAppPanel",propTypes:{superApp:t.PropTypes.object.isRequired,appWasManuallyInstalled:t.PropTypes.bool,selectedTabName:t.PropTypes.string},mixins:[s.mixins.editorAPIMixin],getInitialState:function(){var e=this.props.superApp.id+"/in_first_time_tour",t=this.getEditorAPI().getUserPreferences().site.get(e);return{inFirstTimeTour:!t||"false"!==t}},isInFirstTimeTour:function(){return this.state.inFirstTimeTour},finishFirstTimeTour:function(){var e=this.props.superApp.id+"/in_first_time_tour";this.getEditorAPI().getUserPreferences().site.set(e,"false"),this.setState({inFirstTimeTour:!1})},closePanel:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.superApp.panel.name)},render:n})}),define("superAppMenuInfra/utils/button",["lodash","core","stateManagement","superAppMenuInfra/utils/experiments"],function(e,t,s,n){"use strict";function i(e){return e+"/calledUnRegisterButton"}var r={registerButton:function(e,t,r,p,a,l,o,u,d){e.registerInitUserPrefsCallback(function(){var c=void 0,m=e.getUserPreferences().site.get(i(p));if(r?(c=a,d=!0):n.isPromotionalExperimentOn(t)&&!m&&(c=l),void 0!==c){d=d||!1;var g=n.isWaitForClickExperimentOn(t)&&r;e.store.dispatch(s.leftBar.logic.addSuperAppsButton(p,{},c,o,u,!1,g,d))}})},unRegisterButton:function(e,t){e.store.dispatch(s.leftBar.logic.removeSuperAppsButton(t)),e.getUserPreferences().site.set(i(t),!0)},onAppInstalled:function(t,s,n,i,p,a){r.registerButton(t,s,!0,n,i,null,p,a,!0),void 0===e.find(t.panelManager.getOpenPanels(),{name:n})&&t.panelManager.openPanel(n,{appWasManuallyInstalled:!0},!0)}};return r}),define("superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide.rt",["react","lodash","util","baseUI","symbols"],function(e,t,s,n,i){"use strict";return function(){return e.createElement("div",{className:"get-started-slide"},e.createElement("div",{className:"button",onClick:this.onClose},e.createElement(i.symbol,{name:"headerCloseButton"})),e.createElement(i.symbol,{className:"main-image",name:this.props.mainImage}),e.createElement("h1",{className:"title"},s.translate(this.props.title)),e.createElement("p",{className:"sub-title"},s.translate(this.props.subTitle)),e.createElement("div",{className:"bullets-wrapper"},e.createElement.apply(this,["ul",{className:"tip-bullets"},t.map(this.props.pros,function(t,n){return e.createElement("li",{className:"bullet"},e.createElement("span",{className:"bullet-symbol"},e.createElement(i.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),e.createElement("p",{className:"bullet-text"},s.translate(t)))}.bind(this))])),this.props.teaser?e.createElement("p",{key:"teaser",className:"teaser"},s.translate(this.props.teaser)):null,e.createElement(n.button,{label:this.props.nextButtonLabel,onClick:this.onNextButtonClick,className:"get-started-add-btn"}),this.props.footer?e.createElement("footer",{key:"footer"},e.createElement("p",{},s.translate(this.props.footer),"\n            ",e.createElement("a",{href:!0,onClick:function(e){this.openAppPremiumPackagePicker(e)}.bind(this)},s.translate(this.props.upgradeLink)))):null)}}),define("superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide",["react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide.rt"],function(e,t,s,n){"use strict";return e.createClass({displayName:"GetStartedSlide",mixins:[t.mixins.editorAPIMixin],propTypes:{onClose:e.PropTypes.func.isRequired,nextSlide:e.PropTypes.func.isRequired,superApp:e.PropTypes.object.isRequired,title:e.PropTypes.string.isRequired,subTitle:e.PropTypes.string.isRequired,pros:e.PropTypes.arrayOf(e.PropTypes.string).isRequired,teaser:e.PropTypes.string,nextButtonLabel:e.PropTypes.string.isRequired,mainImage:e.PropTypes.string.isRequired,footer:e.PropTypes.string,upgradeLink:e.PropTypes.string,upgrade:e.PropTypes.func},onClose:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName},n=this.props.appWasManuallyInstalled?"manuallyInstalled":"template",i=s.events.firstTimeTour[n].STEP_1_WELCOME_CLOSE_CLICK;i&&this.getEditorAPI().bi.event(i,t),this.props.onClose()},onNextButtonClick:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName},n=this.props.appWasManuallyInstalled?"manuallyInstalled":"template",i=s.events.firstTimeTour[n].STEP_1_WELCOME_CONTINUE_CLICK;i&&this.getEditorAPI().bi.event(i,t),this.props.nextSlide()},openAppPremiumPackagePicker:function(e){e.preventDefault();var t=this.props.superApp,n={origin:"TooltipUpgradeLink",app_id:t.appDefId,app_name:t.appName};this.getEditorAPI().bi.event(s.events.UPGRADE_CLICK,n),t.openAppPremiumPackagePicker(this.getEditorAPI())},render:n})}),define("superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"inner-image-gallery"},e.createElement("div",{className:"gallery-viewport"},e.createElement.apply(this,["ul",{className:"gallery-images"},t.map(this.props.items,function(t,s){return e.createElement("li",{className:"slide "+this._getAlignment(s)},e.createElement("img",{src:t,alt:!0}))}.bind(this))])),this.props.showBullets?e.createElement("nav",{className:"gallery-navigation-wrapper",key:"bullets"},e.createElement.apply(this,["ul",{className:"navigation-bullets"},t.map(this.props.items,function(t,s){return e.createElement("li",{className:"bullet "+(this.state.currentIndex===s?"active":""),onClick:function(e,t,s){this.slideToIndex(t,s)}.bind(this,t,s)})}.bind(this))])):null)}}),define("superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery",["lodash","react","superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery.rt"],function(e,t,s){"use strict";return t.createClass({displayName:"innerImageGallery",propTypes:{items:t.PropTypes.array.isRequired,showBullets:t.PropTypes.bool,autoPlay:t.PropTypes.bool,slideInterval:t.PropTypes.number},getDefaultProps:function(){return{showBullets:!1,autoPlay:!1,slideInterval:4e3}},getInitialState:function(){return{currentIndex:0,containerWidth:0}},componentDidMount:function(){this.props.autoPlay&&this.play()},componentWillUnmount:function(){this.pause()},slideToIndex:function(e,t){var s=this.props.items.length-1;e<0?this.setState({currentIndex:s}):e>s?this.setState({currentIndex:0}):this.setState({currentIndex:e}),t&&(this._intervalId&&(this.pause(),this.play()),t.preventDefault())},play:function(){this._intervalId||(this._intervalId=window.setInterval(function(){this.slideToIndex(this.state.currentIndex+1)}.bind(this),this.props.slideInterval))},pause:function(){this._intervalId&&(window.clearInterval(this._intervalId),this._intervalId=null)},_getAlignment:function(e){var t=this.state.currentIndex,s="";switch(e){case t-1:s="left";break;case t:s="center",this.props.items.length<=3&&(s+=" relative");break;case t+1:s="right"}return this.props.items.length>=3&&(0===e&&t===this.props.items.length-1?s="right":e===this.props.items.length-1&&0===t&&(s="left")),s},render:s})}),define("superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide.rt",["react","lodash","util","baseUI","symbols","superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery"],function(e,t,s,n,i,r){"use strict";return function(){return e.createElement("div",{className:"first-time-install-app "+this.props.wixStoreClassName},this.props.wixStoreClassName?null:e.createElement("div",{className:"close white",onClick:this.onClose,key:"wixStoreClassName"},e.createElement(i.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),this.state.isInstalling?null:e.createElement("div",{key:"isInstalling",className:"pre-install-section"},this.props.sliderImages?e.createElement(r,t.assign({},{items:this.props.sliderImages,key:"654"},{autoPlay:!0,showBullets:!0})):null,this.props.bannerImgSrc?e.createElement("img",{className:"banner",src:this.props.bannerImgSrc,key:"825"}):null,e.createElement("h1",{className:"title"},s.translate(this.props.title)," "),e.createElement("p",{className:"sub-title"},s.translate(this.props.subTitle)),e.createElement("div",{},e.createElement.apply(this,["ul",{className:"tip-bullets"},t.map(this.props.pros,function(t,n){return e.createElement("li",{className:"bullet"},e.createElement("span",{className:"bullet-symbol"},e.createElement(i.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),e.createElement("p",{className:"bullet-text"},s.translate(t)))}.bind(this))])),this.props.teaser?e.createElement("p",{className:"helper-text",key:"helpText"},s.translate(this.props.teaser)):null,e.createElement(n.button,{label:this.props.nextButtonLabel,onClick:this.installApp,disabled:this.state.isInstalling,icon:"plus",className:"promotional-add-btn"}),e.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),this.openAppMarket()}.bind(this),className:"promotional-link"},"\n            ",s.translate(this.props.openAppMarketLabel),"\n        "),this.props.footer?e.createElement("footer",{key:"footer"},e.createElement("p",{},s.translate(this.props.footer)),e.createElement("a",{href:!0,onClick:function(e){e.preventDefault(),this.openAppPremiumPackagePicker}.bind(this)},s.translate(this.props.upgradeLink))):null),this.state.isInstalling&&!this.props.wixStoreClassName?e.createElement("div",{className:"install-section",key:"installSection"},e.createElement(i.symbol,{className:"installed-image",name:this.props.installImage}),e.createElement("p",{},s.translate(this.props.loadingLabel)),e.createElement("div",{className:"install-preloader"},e.createElement(n.preloader,{}))):null)}}),define("superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide",["lodash","react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/utils/button","superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide.rt"],function(e,t,s,n,i,r){"use strict";return t.createClass({displayName:"InstallAppSlide",propTypes:{onClose:t.PropTypes.func.isRequired,nextSlide:t.PropTypes.func.isRequired,installApp:t.PropTypes.func.isRequired,superAppPanelName:t.PropTypes.string.isRequired,superAppButtonLabel:t.PropTypes.string.isRequired,superAppPanelClassName:t.PropTypes.string.isRequired,superAppSymbolName:t.PropTypes.string.isRequired,title:t.PropTypes.string.isRequired,subTitle:t.PropTypes.string.isRequired,pros:t.PropTypes.arrayOf(t.PropTypes.string).isRequired,teaser:t.PropTypes.string,footer:t.PropTypes.string,upgradeLink:t.PropTypes.string,nextButtonLabel:t.PropTypes.string.isRequired,openAppMarketLabel:t.PropTypes.string.isRequired,openAppMarket:t.PropTypes.func.isRequired,loadingLabel:t.PropTypes.string.isRequired,sliderImages:t.PropTypes.array,installImage:t.PropTypes.string.isRequired,bannerImgSrc:t.PropTypes.string},mixins:[s.mixins.editorAPIMixin],getInitialState:function(){return{isInstalling:!1,installationDone:!1,minimumInstallationDurationPassed:!1}},installApp:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName,origin:this.props.origin};this.getEditorAPI().bi.event(n.events.firstTimeTour.promotional.INSTALL_AGREE_CLICK,t),this.setState({isInstalling:!0}),this.props.installApp(this._appInstalled),"wixStore"!==this.props.superAppPanelName&&window.setTimeout(this._minimumInstallationDurationPassed,2e3)},_appInstalled:function(){this._installationStepCompleted("installationDone"),i.onAppInstalled(this.getEditorAPI(),this.props.superApp.id,this.props.superAppPanelName,this.props.superAppButtonLabel,this.props.superAppPanelClassName,this.props.superAppSymbolName)},_minimumInstallationDurationPassed:function(){this._installationStepCompleted("minimumInstallationDurationPassed")},_installationStepCompleted:function(e){var t={};t[e]=!0,this.setState(t),this.state.installationDone&&this.state.minimumInstallationDurationPassed&&this.props.nextSlide()},openAppMarket:function(){var e=this.props.superApp;if(e&&e.appDefId&&e.appName){var t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(n.events.firstTimeTour.promotional.INSTALL_FOUND_OUT_MORE_CLICK,t)}this.props.openAppMarket()},onClose:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(n.events.firstTimeTour.promotional.INSTALL_CLOSE_CLICK,t),this.props.onClose()},openAppPremiumPackagePicker:function(){var e=this.props.superApp,t={origin:"TooltipUpgradeLink",app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(n.events.UPGRADE_CLICK,t),e.openAppPremiumPackagePicker(this.getEditorAPI())},render:r})}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide.rt",["react","lodash","util","baseUI","symbols"],function(e,t,s,n,i){"use strict";return function(){return e.createElement("div",{className:"welcome-slide"},e.createElement("div",{className:"close",onClick:this.onClose},e.createElement(i.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),e.createElement(i.symbol,{className:"installed-image",name:this.props.installedImage}),e.createElement("h1",{className:"title"},s.translate(this.props.title)),e.createElement("p",{className:"sub-title"},s.translate(this.props.details)),this.props.teaser?e.createElement("p",{key:"teaser"},s.translate(this.props.teaser)):null,e.createElement(n.button,{label:this.props.nextButtonLabel,onClick:this.onNextClick,className:"welcome-add-btn"}))}}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide",["lodash","react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide.rt"],function(e,t,s,n,i){"use strict";return t.createClass({displayName:"WelcomeSlide",mixins:[s.mixins.editorAPIMixin],propTypes:{onClose:t.PropTypes.func.isRequired,nextSlide:t.PropTypes.func.isRequired,title:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,details:t.PropTypes.string.isRequired,nextButtonLabel:t.PropTypes.string.isRequired,teaser:t.PropTypes.string,installedImage:t.PropTypes.string.isRequired},onNextClick:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(n.events.firstTimeTour[this.props.type].STEP_2_WELCOME_CONTINUE_CLICK,t),this.props.nextSlide()},onClose:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(n.events.firstTimeTour[this.props.type].STEP_2_WELCOME_CLOSE_CLICK,t),this.props.onClose()},render:i})}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation.rt",["react","lodash","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{type:"template"},this.filteredProps()))}}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation",["lodash","react","core","util","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation.rt"],function(e,t,s,n,i){"use strict";return t.createClass({displayName:"WelcomeSlideWithNavigation",mixins:[s.mixins.editorAPIMixin,n.propTypesFilterMixin],propTypes:{superAppMainPageId:t.PropTypes.string.isRequired,isFirstSlide:t.PropTypes.bool.isRequired},componentDidMount:function(){(this.props.isFirstSlide||this.getEditorAPI().documentServices.pages.getFocusedPageId()!==this.props.superAppMainPageId)&&this._navigateToAppMainPage()},_navigateToAppMainPage:function(){return this.getEditorAPI().pages.navigateTo(this.props.superAppMainPageId)},render:i})}),define("superAppMenuInfra",["superAppMenuInfra/panels/superAppPanel","superAppMenuInfra/utils/button","superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide","superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation"],function(e,t,s,n,i,r){"use strict";return{superAppPanel:e,firstTimeTourPanels:{getStartedSlide:s,installAppSlide:n,welcomeSlide:i,welcomeSlideWithNavigation:r},button:t}});
//# sourceMappingURL=superAppMenuInfra.min.js.map