var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("baseUI/panelInputs/inputMixin",["prop-types","lodash","util"],function(e,t,s){"use strict";return{mixins:[s.valueLinkMixin,s.propTypesFilterMixin],propTypes:{label:e.string,disabled:e.bool},hasLabel:function(){return void 0!==this.props.label&&this.props.label.trim().length>0},getLabel:function(){return void 0!==this.props.label?this.props.label:""},isDisabled:function(){return!0===this.props.disabled},getClassName:function(e){return s.inheritClassName(this.props,e)}}}),define("baseUI/panelInputs/registerDocumentEventsMixin",["lodash","jquery"],function(e,t){"use strict";var s={MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove"};return{componentWillMount:function(){this.documentEventListeners={}},componentWillUnmount:function(){(function(){var s=t(window.document);e.forEach(this.documentEventListeners,e.bind(function(e,t){s.off(t,e),delete this.documentEventListeners[t]},this))}).call(this)},registerEventListenersToDocument:function(i,n){e.includes(s,i)&&(this.removeEventListenersFromDocument(i),this.documentEventListeners[i]=n,t(window.document).on(i,n))},removeEventListenersFromDocument:function(e){var s=this.documentEventListeners[e];s&&(t(window.document).off(e,s),delete this.documentEventListeners[e])}}}),define("baseUI/mixins/classNameMixin",[],function(){"use strict";return{generateClassName:function(e){e=e||"";var t=this.props.className;return t&&(e+=" "+t),e}}}),define("baseUI/mixins/reportUIChangeMixin",["prop-types"],function(e){"use strict";return{contextTypes:{reportUIChange:e.func},reportUIChange:function(e,t){this.context.reportUIChange&&this.context.reportUIChange(t||this.constructor.displayName,this.props.instanceId||this.props.label,e)}}}),define("baseUI/controls/radioButtonsMixin",["prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","util"],function(e,t,s,i,n){"use strict";var o=n.translationMixin,a=0;return{propTypes:{options:e.arrayOf(e.shape({value:e.oneOfType([e.string,e.bool,e.number]).isRequired,className:e.string}))},mixins:[s,i,o],contextTypes:{reportUIChange:e.func},getRadioGroupId:function(){return this.groupId||(this.groupId="rb_"+a++),this.groupId},handleChange:function(e,t){this.callOnChangeIfExists(e,t),this.reportUIChange({value:e})}}}),define("baseUI/mixins/positionRelativeToElementMixin",["reactDOM","lodash","prop-types","jquery","util","uiConstants"],function(e,t,s,i,n,o){"use strict";var a=[o.TOOLTIP.ALIGNMENT.BOTTOM,o.TOOLTIP.ALIGNMENT.TOP],r=o.BUBBLE.DISTANCE_FROM_TARGET;return{mixins:[n.singlePassDOMReadWriteMixin],PropTypes:{alignment:s.oneOf(t.values(o.TOOLTIP.ALIGNMENT)),marginsFromElement:s.number,overridePositionAdjustments:s.shape({type:s.oneOf(t.values(o.TOOLTIP.ALIGNMENT)).isRequired,value:s.number.isRequired})},getInitialState:function(){return this.calculatedAlignment=null,{}},getDefaultProps:function(){return{alignment:o.TOOLTIP.ALIGNMENT.TOP,marginsFromElement:0}},getPosition:function(){var e={top:0,left:0};return t.includes(a,this.props.alignment)?(e.top=this.getTopInVerticalAlignment()+this.props.marginsFromElement,e.left=this.getLeftInVerticalAlignment()):(e.top=this.getTopInHorizontalAlignment(),e.left=this.getLeftInHorizontalAlignment()+this.props.marginsFromElement),e.top+=i(window).scrollTop(),e},getLayouts:function(){return{window:{width:i(window).width(),height:i(window).height()},target:this.props.targetNode.getBoundingClientRect(),self:e.findDOMNode(this).getBoundingClientRect()}},getTopInVerticalAlignment:function(){var e=this.getLayouts(),t=0,s=e.target.top-r-e.self.height>0,i=e.target.bottom+r+e.self.height<e.window.height,n=this.props.alignment===o.TOOLTIP.ALIGNMENT.TOP,a=this.props.alignment===o.TOOLTIP.ALIGNMENT.BOTTOM;return n&&s||a&&!i?(t=e.target.top-r-e.self.height,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.TOP)):(t=e.target.bottom+r,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.BOTTOM)),t},getLeftInVerticalAlignment:function(){var e=this.getLayouts(),t=Math.floor(e.target.left+e.target.width/2)-e.self.width/2,s=this.applyLeftRightOverridePositionAdjustments()||t,i=e.window.width-this.props.marginsFromWindow-e.self.width,o=this.props.marginsFromWindow;return n.math.ensureWithinLimits(s,o,i)},getTopInHorizontalAlignment:function(){var e=this.getLayouts(),t=Math.floor(e.target.top+e.target.height/2)-e.self.height/2,s=this.applyTopBottomOverridePositionAdjustments()||t,i=e.window.height-this.props.marginsFromWindow-e.self.height,o=this.props.marginsFromWindow;return n.math.ensureWithinLimits(s,o,i)},getLeftInHorizontalAlignment:function(){var e=this.getLayouts(),t=0,s=e.target.left-r-e.self.width>0,i=e.target.right+r+e.self.width<e.window.width,n=this.props.alignment===o.TOOLTIP.ALIGNMENT.LEFT,a=this.props.alignment===o.TOOLTIP.ALIGNMENT.RIGHT;return n&&s||a&&!i?(t=e.target.left-r-e.self.width,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.LEFT)):(t=e.target.right+r,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.RIGHT)),t},applyLeftRightOverridePositionAdjustments:function(){var e=this.getLayouts(),t=this.props.overridePositionAdjustments,s=Math.floor(e.target.left+e.target.width/2);return t&&t.type===o.TOOLTIP.ALIGNMENT.LEFT?s-t.value:t&&t.type===o.TOOLTIP.ALIGNMENT.RIGHT?s+t.value-e.self.width:null},applyTopBottomOverridePositionAdjustments:function(){var e=this.getLayouts(),t=this.props.overridePositionAdjustments,s=Math.floor(e.target.top+e.target.height/2);return t&&t.type===o.TOOLTIP.ALIGNMENT.TOP?s-t.value:t&&t.type===o.TOOLTIP.ALIGNMENT.BOTTOM?s+t.value-e.self.height:null},updateCalculatedAlignmentAndRender:function(e){this.calculatedAlignment!==e&&(this.calculatedAlignment=e,this.forceUpdate())},measurePhase:function(){return this.getPosition()},patchPhase:function(t){var s={top:t.top,left:t.left},n=e.findDOMNode(this);i(n).offset(s)}}}),define("baseUI/commonData/commonData",[],function(){"use strict";return{TEXT_DISPLAY_ITEMS:[{value:"titleAndDescription",label:"Gallery_Settings_Text_Display_Title_Description"},{value:"titleOnly",label:"Gallery_Settings_Text_Display_Title_Only"},{value:"descriptionOnly",label:"Gallery_Settings_Text_Display_Description_Only"},{value:"noText",label:"Gallery_Settings_Text_Display_No_Text"}],ALIGNMENT_MODES_NO_CENTER:[{value:"left",symbolName:"alignLeft"},{value:"right",symbolName:"alignRight"}],ALIGNMENT_MODES:[{value:"left",symbolName:"alignLeft"},{value:"center",symbolName:"alignCenter"},{value:"right",symbolName:"alignRight"}],ALIGNMENT_MODES_XY:[{value:"top_left",symbolName:"alignTypeTopLeft"},{value:"top",symbolName:"alignTypeTop"},{value:"top_right",symbolName:"alignTypeTopRight"},{value:"left",symbolName:"alignTypeLeft"},{value:"center",symbolName:"alignTypeCenter"},{value:"right",symbolName:"alignTypeRight"},{value:"bottom_left",symbolName:"alignTypeBottomLeft"},{value:"bottom",symbolName:"alignTypeBottom"},{value:"bottom_right",symbolName:"alignTypeBottomRight"}],TEXT_ALIGNMENT_MODES:[{value:"left",symbolName:"textAlignLeft"},{value:"center",symbolName:"textAlignCenter"},{value:"right",symbolName:"textAlignRight"}],GALLERIES_IMAGE_ON_CLICK_ACTIONS:[{value:"disabled",label:"Gallery_Settings_Image_Behavior_Image_Click_Nothing"},{value:"zoomMode",label:"Gallery_Settings_Image_Behavior_Image_Click_Expand"},{value:"goToLink",label:"Gallery_Settings_Image_Behavior_Image_Click_Gotolink"}]}}),define("baseUI/sortByDragList/dragHelper",["jquery"],function(e){"use strict";function t(t,s,i){return this._blockSelectionCssClass=t||"block-selection",this._dragPlaceholderCssClass=s||"drag-placeholder",this._dragContainerCssClass=i||"drag-container",this._body=e(window.document.body),this}return t.prototype.startDrag=function(t,s,i,n){this._startIdx=s,this._startedDrag=!1,this._movedElement=t,this._endCallback=n;var o=i.clientY+e(window).scrollTop();this._lastMouseY=o,this._deltaY=o-t.offset().top,this._body.on("mousemove.draghelper",this._onItemDrag.bind(this)),this._body.on("mouseup.draghelper",this._onItemEndDrag.bind(this)),this._body.addClass(this._blockSelectionCssClass)},t.prototype._undockAndDrag=function(){this._undockMovingItem(),this._startedDrag=!0},t.prototype._undockMovingItem=function(){var t={x:this._movedElement.outerWidth(!0),y:this._movedElement.outerHeight(!0)},s=this._movedElement.parent().parent(),i=s.offset(),n=this._movedElement.offset();this._placeholder=e("<div/>"),this._placeholder.addClass(this._dragPlaceholderCssClass),this._placeholder.get(0).style.width=t.x+"px",this._placeholder.get(0).style.height=t.y+"px",this._movedContainer=e("<div/>"),this._movedContainer.addClass(this._dragContainerCssClass),this._movedContainer.get(0).style.width=t.x+"px",this._movedContainer.get(0).style.height=t.y+"px",this._movedContainer.css({top:n.top-i.top+"px",position:"absolute"}),this._movedElement.before(this._placeholder),this._movedContainer.append(this._movedElement),s.children().first().before(this._movedContainer)},t.prototype._onItemDrag=function(t){this._startedDrag||this._undockAndDrag();var s=t.clientY+e(window).scrollTop(),i=this._movedContainer.parent(),n=s-i.offset().top-this._deltaY;this._movedContainer.css("top",n+"px");var o=s<this._lastMouseY;this._lastMouseY=s;for(var a=void 0,r=i.children().last().children(),l=0;l<r.length;l++){var p=r.eq(l),c=p.offset().top,u=c+p.outerHeight(!0);if(s>=c&&s<u){a=p;break}}this._placeholder.is(a)||(n<0&&(a=r.first()),a?o?a.before(this._placeholder):a.after(this._placeholder):r.last().after(this._placeholder))},t.prototype._onItemEndDrag=function(){if(this._body.off(".draghelper"),this._body.removeClass(this._blockSelectionCssClass),this._startedDrag){for(var e=-1,t=this._movedContainer.parent().children().last().children(),s=0;s<t.length;s++)if(this._placeholder.is(t[s])){e=s;break}this._dockMovingItem(),this._startIdx!==e&&this._endCallback(this._startIdx,e)}},t.prototype._dockMovingItem=function(){var e=this._movedContainer.parent().children().last();this._placeholder.remove();this._startIdx===e.children().length?e.append(this._movedElement):this._movedElement.insertBefore(e.children().eq(this._startIdx)),this._movedContainer.remove(),this._placeholder=void 0,this._movedContainer=void 0},t}),define("baseUI/sortByDragList/sortByDragList",["reactDOM","lodash","react","create-react-class","prop-types","jquery","baseUI/sortByDragList/dragHelper"],function(e,t,s,i,n,o,a){"use strict";return i({displayName:"SortByDragList",propTypes:{childrenTransition:n.func,transitionProps:n.object},getInitialState:function(){return this.dragHelper=new a,null},render:function(){var e=t.omit(this.props,["children","disabled"]);return e.style={position:"relative"},s.createElement("div",e,s.createElement("div",null,function(){return this.props.childrenTransition?s.createElement(this.props.childrenTransition,this.props.transitionProps,this.props.children):this.props.children}.call(this)))},startDrag:function(t,s){if(!0!==this.props.disabled){var i=o(e.findDOMNode(this)),n=o(s.currentTarget),a=this.props.onItemMoved||function(){},r=i.children().children();this.props.childrenTransition&&(r=r.children()),this.dragHelper.startDrag(r.has(n),t,s,a)}}})}),define("baseUI/controls/button.rt",["react","lodash","symbols","experiment","baseUILib"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(n.Button,{className:this.props.className,disabled:this.props.disabled,onClick:this.props.onClick},this.props.icon?e.createElement(s.symbol,{key:"symbol-"+this.props.icon,className:this.props.label?"symbol-with-label":"",name:this.props.icon}):null,e.createElement("span",{"data-hint-id":i.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.hintId:null},this.translateIfNeeded(this.props.label)))}}),define("baseUI/controls/button",["create-react-class","prop-types","lodash","util","baseUI/controls/button.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"Button",mixins:[i.translationMixin],propTypes:{label:t.string,className:t.string,disabled:t.bool,icon:t.string,hintId:t.string,onClick:t.func},render:n})}),define("baseUI/panelInputs/autoCompleteTextInput.rt",["react","lodash","baseUI/controls/button"],function(e,t,s){"use strict";return function(){return e.createElement("div",this.getContainerProps(),e.createElement("input",{ref:"input",type:"text",value:this.state.value,placeholder:this.props.placeholder,onKeyDown:this.onKeyDown,dir:this.props.dir,onChange:this.onChange}),this.state.value?e.createElement(s,{key:"cancel",icon:this.props.cancelIcon,onClick:this.onClickCancel}):null)}}),define("baseUI/panelInputs/autoCompleteTextInput",["reactDOM","create-react-class","prop-types","lodash","baseUI/panelInputs/autoCompleteTextInput.rt"],function(e,t,s,i,n){"use strict";return t({displayName:"autoCompleteTextInput",propTypes:{complete:s.func,onChange:s.func},getInitialState:function(){return{value:"",cursor:0,hasCompletion:!1}},getDefaultProps:function(){return{dir:"ltr"}},getContainerProps:function(){return i.pick(this.props,["style","class","className"])},onKeyDown:function(e){8===e.keyCode&&(this.isDelete=!0),this.props.onKeyDown&&this.props.onKeyDown(e)},onChange:function(t){var s=t.target.value,i=e.findDOMNode(this.refs.input).selectionStart;this.setValue(s,i)},focus:function(){var t=e.findDOMNode(this.refs.input);t&&t.focus()},setValue:function(e,t){if(t=t||e.length,e!==this.state.value){this.callOnChangeIfExists(e);var s=t===e.length,i=this.isDelete;this.isDelete=!1;var n=s&&!i,o=e;n&&this.props.complete&&((o=this.props.complete(e))||(n=!1,o=e)),this.setState({value:o,cursor:t,hasCompletion:n})}},componentDidUpdate:function(){this.state.hasCompletion&&e.findDOMNode(this.refs.input).setSelectionRange(this.state.cursor,this.state.value.length)},callOnChangeIfExists:function(e){var t=this.props.valueLink?this.props.valueLink.requestChange:this.props.onChange;t&&t(e)},onClickCancel:function(e){e.stopPropagation(),this.setValue("")},render:n})}),define("baseUI/panelInputs/inputValidationMixin",["prop-types","lodash"],function(e,t){"use strict";function s(e,s){return t.findIndex(e,function(e){return!e(s)})}return{propTypes:{validator:e.oneOfType([e.func,e.arrayOf(e.func)]),invalidMessage:e.oneOfType([e.func,e.string,e.arrayOf(e.string)]),onValidation:e.func},isValid:function(e){return!this.hasValidator()||(e=0===arguments.length?this.state.value:e,t.isArray(this.props.validator)?-1===s(this.props.validator,e):this.props.validator(e))},hasValidator:function(){return t.isFunction(this.props.validator)||t.isArray(this.props.validator)},hasValidationEventHandler:function(){return t.isFunction(this.props.onValidation)},getInvalidMessage:function(){return this.getValidationStatusMessage()},getValidationStatusMessage:function(){var e=this.state.value,i=this.props.invalidMessage||this.props.validationMessage;return t.isFunction(i)?i(e):t.isArray(this.props.invalidMessage)?t.isArray(this.props.validator)?function(e,t,i){var n=s(t,i);return n<0?"":e[n]}(i,this.props.validator,e):i[0]:i}}}),define("baseUI/panelInputs/inputValidationAsyncMixin",["prop-types","lodash"],function(e,t){"use strict";return{propTypes:{asyncValidator:e.oneOfType([e.func,e.arrayOf(e.objectOf(e.func)),e.arrayOf(e.func)])},isAsyncValid:function(e,s,i){if(this.hasAsyncValidator()||s(),t.isFunction(this.props.asyncValidator))this.props.asyncValidator(e,s,i);else{var n=t.size(this.props.asyncValidator),o={},a=!1;t.forEach(this.props.asyncValidator,function(t,r){t(e,function(e){e&&(o[r]=e),0==--n&&s(o)},function(e){a||(a=!0,i(e))})})}},hasAsyncValidator:function(){return!!this.props.asyncValidator}}}),define("baseUI/popovers/tooltipManager",["lodash"],function(e){"use strict";function t(){return e(i).filter("isDisplayed").map("presenterData").value()}function s(e){e.isDisplayed=!1,e.presenterData.mouseLeftTargetNode=!1}var i={},n={updateDisplayedTooltips:e.noop},o=0;return{generateId:function(){return"tooltip_"+o++},setTooltipRenderer:function(e){n=e},registerOrUpdateTooltip:function(s,o){i[s]=i[s]||{},i[s].presenterData=e.assign({},i[s].presenterData,o),i[s].isDisplayed&&n.updateDisplayedTooltips(t())},unRegisterTooltip:function(e){this.hide(e),delete i[e]},isDisplayed:function(e){return i[e]&&i[e].isDisplayed},isDisplayingAnything:function(){return e.some(i,"isDisplayed")},createTooltip:function(e,t){return t.id=t.id||this.generateId(),this.registerOrUpdateTooltip(t.id,t),e&&this.show(t.id),t.id},show:function(e){i[e]&&!i[e].isDisplayed&&(i[e].isDisplayed=!0,n.updateDisplayedTooltips(t()),i[e].presenterData.onOpen&&i[e].presenterData.onOpen())},toggle:function(e){i[e]&&(i[e].isDisplayed?this.hide(e):this.show(e))},showForDuration:function(t,s,i){this.show(t),window.setTimeout(function(){this.hide(t),e.isFunction(i)&&i()}.bind(this),s)},notifyMouseLeave:function(e){var s=i[e];s&&s.isDisplayed&&(s.presenterData.interactive?(s.presenterData.mouseLeftTargetNode=!0,n.updateDisplayedTooltips(t())):this.hide(e))},hide:function(o,a){if(a=e.isFunction(a)?a:e.noop,this.isDisplayed(o)){s(i[o]),n.updateDisplayedTooltips(t(),a)}},hideAll:function(o){e.forEach(i,function(e){s(e)}),n.updateDisplayedTooltips(t(),o)}}}),define("baseUI/popovers/tooltipEventCatcher",["lodash","react","create-react-class","prop-types"],function(e,t,s,i){"use strict";return s({displayName:"tooltipEventCatcher",propTypes:{children:i.element.isRequired},onEvent:function(e,t){this.props[e](t),this.props.children.props[e]&&this.props.children.props[e](t)},render:function(){var s=e(this.props).pickBy(function(e,t){return 0===t.indexOf("on")}).mapValues(e.bind(function(e,t){return this.onEvent.bind(this,t)},this)).value();return t.cloneElement(t.Children.only(this.props.children),s)}})}),define("baseUI/popovers/tooltip",["reactDOM","react","create-react-class","prop-types","lodash","uiConstants","baseUI/popovers/tooltipEventCatcher","baseUI/popovers/tooltipManager"],function(e,t,s,i,n,o,a,r){"use strict";return s({displayName:"tooltip",propTypes:{id:i.string,disabled:i.bool,value:i.oneOfType([i.string.isRequired,i.node.isRequired,i.element.isRequired,i.shape({classPath:i.string.isRequired,props:i.object.isRequired})]),noArrow:i.bool,width:i.string,marginsFromElement:i.number,alignment:i.string,delay:i.oneOfType([i.number,i.string]),closeDelay:i.number,interactive:i.bool,openTriggers:i.arrayOf(i.oneOf(n.values(o.TOOLTIP.TRIGGERS))),closeTriggers:i.arrayOf(i.oneOf(n.values(o.TOOLTIP.TRIGGERS))),shouldTranslate:i.bool,children:i.oneOfType([i.arrayOf(i.element),i.element]).isRequired,onOpen:i.func,onClose:i.func,styleType:i.oneOf(n.values(o.TOOLTIP.STYLE_TYPE)),marginsFromWindow:i.oneOfType([i.number,i.string])},getDefaultProps:function(){return{disabled:!1,alignment:o.TOOLTIP.ALIGNMENT.TOP,delay:"100",width:"240px",interactive:!1,openTriggers:[o.TOOLTIP.TRIGGERS.MOUSE_ENTER],closeTriggers:[o.TOOLTIP.TRIGGERS.MOUSE_LEAVE,o.TOOLTIP.TRIGGERS.CLICK],onOpen:n.noop,onClose:n.noop,marginsFromWindow:6,marginsFromElement:0}},getInitialState:function(){return this.id=this.props.id||r.generateId(),null},componentDidMount:function(){this.forceUpdate(),n.includes(this.props.openTriggers,o.TOOLTIP.TRIGGERS.IMMEDIATE)&&this.showTooltip()},componentDidUpdate:function(e){e.id!==this.props.id&&n.includes(this.props.openTriggers,o.TOOLTIP.TRIGGERS.IMMEDIATE)&&this.showTooltip()},componentWillUpdate:function(e){r.registerOrUpdateTooltip(this.id,this.getPresenterData(e))},componentWillUnmount:function(){r.unRegisterTooltip(this.id)},showTooltip:function(){var e=this.id;this.props.disabled||(this.pendingShowDelay=window.setTimeout(function(){r.show(e)},this.props.delay))},hideTooltip:function(){r.hide(this.id)},toggleTooltip:function(){r.isDisplayed(this.id)?this.hideTooltip():this.showTooltip()},handleMouseLeave:function(){window.clearTimeout(this.pendingShowDelay),r.notifyMouseLeave(this.id)},getPresenterData:function(t){t=t||this.props;return n.assign({},n.omit(t,"children"),{targetNode:e.findDOMNode(this),id:this.id})},render:function(){var e={onMouseEnter:this.showTooltip,onClick:this.showTooltip},s={onMouseLeave:this.handleMouseLeave,onClick:this.hideTooltip},i=n.pick(e,this.props.openTriggers),o=n.pick(s,this.props.closeTriggers),r=n.assign({},i,o);return i.onClick&&o.onClick&&(r.onClick=this.toggleTooltip),t.createElement(a,r,this.props.children)}})}),define("baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip.rt",["react","lodash","symbols","uiConstants"],function(e,t,s,i){"use strict";return function(){return function(){var t=this.hasImage();return e.createElement("div",{className:"imageAndTextTooltip"},this.props.calculatedAlignment===i.TOOLTIP.ALIGNMENT.TOP&&t?e.createElement("div",{key:"upperImage",className:"image-container upper-image",style:this.getImageContainerStyle()},this.props.image?e.createElement(s.symbol,{key:"image-top",name:this.props.image}):null):null,e.createElement("div",{className:"text-container "+(this.props.image?"":"text-no-image")},this.props.onClose?e.createElement(s.symbol,{className:"close",key:"closeButton",onClick:this.props.onClose,name:"bubble-close"}):null,this.props.title?e.createElement("div",{className:"title",key:"tooltipTitle"},this.translateIfNeeded(this.props.title)):null,this.props.text?e.createElement("div",{className:"text",key:"tooltipText"},this.translateIfNeeded(this.props.text)):null,this.props.linkAction?e.createElement("div",{className:"learn-more",onClick:this.onLinkClick,key:"learnMore"},this.translateIfNeeded(this.props.learnMoreText),"\n        "):null),this.props.calculatedAlignment===i.TOOLTIP.ALIGNMENT.BOTTOM&&t?e.createElement("div",{key:"lowerImage",className:"image-container lower-image",style:this.getImageContainerStyle()},this.props.image?e.createElement(s.symbol,{key:"image-bottom",name:this.props.image}):null):null)}.apply(this,[])}}),define("baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip",["create-react-class","prop-types","lodash","util","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"imageAndTextTooltip",propTypes:{title:t.string,text:t.string,image:t.string,imageContainerStyle:t.object,calculatedAlignment:t.string,onClose:t.func},mixins:[i.translationMixin],render:n,onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},hasImage:function(){return Boolean(this.props.image)||Boolean(this.props.imageContainerStyle)},getImageContainerStyle:function(){return this.props.imageContainerStyle||{}}})}),define("baseUI/controls/infoIcon.rt",["react","lodash","baseUI/popovers/tooltip","symbols","uiConstants"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(s,{disabled:this.props.disableTooltip,ref:"tooltip",value:this.getTooltipValue(),alignment:this.props.alignment,width:this.props.tooltipWidth},e.createElement("span",{className:this.generateClassName("info-icon"),onMouseMove:function(e){e.stopPropagation()}.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(i.symbol,{name:this.props.symbolName,onClick:function(e){this.onClick(e)}.bind(this)})))}}),define("baseUI/controls/infoIcon",["reactDOM","react","create-react-class","prop-types","lodash","uiConstants","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip","baseUI/mixins/classNameMixin","baseUI/controls/infoIcon.rt"],function(e,t,s,i,n,o,a,r,l){"use strict";return s({displayName:"infoIcon",propTypes:{title:i.string,text:i.string.isRequired,alignment:i.string,fitToBounds:i.bool,symbolName:i.string,tooltipWidth:i.string,propagate:i.bool},mixins:[r],getDefaultProps:function(){return{alignment:o.TOOLTIP.ALIGNMENT.TOP,fitToBounds:!0,symbolName:"infoIcon"}},getTooltipValue:function(){return t.createElement(a,n.assign({},this.props))},getTooltipsPanelBounds:function(){var t=function(e){for(var t=e;t&&t.parentElement&&!t.dataset.tooltipBounds;)t=t.parentElement;if(t)return t.getBoundingClientRect()}(e.findDOMNode(this));return{left:t?t.left:180,width:t?t.width:500}},onClick:function(e){this.props.propagate||e.stopPropagation()},showTooltip:function(){this.refs.tooltip.showTooltip()},hideTooltip:function(){this.refs.tooltip.hideTooltip()},render:l})}),define("baseUI/panelInputs/textInputCommon.rt",["react","lodash","baseUI/popovers/tooltip","uiConstants","symbols","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,i,n,o,a){"use strict";return function(){return e.createElement("div",t.assign({},{className:t(this.getWrapperClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.filteredProps()),this.hasLabel()?e.createElement("label",{key:"textInputControlTitle",className:"text-input-label"},this.translateIfNeeded(this.getLabel())):null,this.hasLabel()&&(this.props.infoText||this.props.infoTitle)?e.createElement(o,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle,size:18}):null,this.props.isMultiLine?null:e.createElement(a.TextInput,t.assign({},{key:"input"},this.getInputProps())),this.props.isMultiLine?e.createElement(a.TextInputMultiline,t.assign({},{key:"input"},this.getInputProps())):null,e.createElement(s,{id:this.getTooltipId(),value:this.getTooltipMessage?this.getTooltipMessage():this.getValidationStatusMessage(),width:"300px",styleType:i.TOOLTIP.STYLE_TYPE.SMALL,shouldTranslate:this.props.shouldTranslate,openTriggers:[],closeTriggers:[]},e.createElement("span",{className:"validation-icon-wrapper"},e.createElement("span",{className:"validation-icon validation-icon-success",onClick:this.focusInput},e.createElement(n.symbol,{name:"inputValidationSuccess"})),e.createElement("span",{className:"validation-icon validation-icon-error",onClick:this.focusInput},e.createElement(n.symbol,{name:"inputValidationError"})),e.createElement("span",{className:"validation-icon validation-icon-warning"},e.createElement(n.symbol,{name:"inputValidationWarning"})))))}}),define("baseUI/panelInputs/textInputSync",["lodash","react","create-react-class","prop-types","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputCommon.rt"],function(e,t,s,i,n,o,a,r,l){"use strict";var p={PROPS:"props",INPUT:"input"};return s({displayName:"textInputSync",mixins:[t.addons.LinkedStateMixin,o,a,n.translationMixin,n.blockOuterScrollMixin],propTypes:{label:i.string,type:i.string,placeholder:i.string,defaultText:i.string,maxLength:i.number,focus:i.bool,className:i.string,inputFocusTooltipMessage:i.string,isMultiLine:i.bool,infoText:i.string,infoTitle:i.string,onChangeInValidationStatus:i.func,textAreaClass:i.string,isWarning:i.bool,prefix:i.string,cancelOnBlur:i.bool,blurOnEnterKey:i.bool},getInitialState:function(){var e=this.getInitialValue();return this.lastValidValue=e,this.shouldDisplaySuccessIndicator=!1,{value:e,valueSrc:p.PROPS,isFocused:this.props.focus}},getInitialValue:function(){var e=this.getValueFromProps();return e||(this.translateIfNeeded(this.props.defaultText)||"")},getWrapperClasses:function(){var e=this.isValid(this.state.value),t={"control-text-input":!0,success:e&&this.shouldDisplaySuccessIndicator,error:!e,"instant-error":!e,warning:this.props.isWarning,"is-disabled":this.isDisabled(),focused:this.state.isFocused,"has-label":this.props.label};return this.props.className&&(t[this.props.className]=!0),t},focusInput:function(t){t&&t.preventDefault(),this.valueOnFocus=this.lastValidValue;var s=this.props.onFocus||e.noop;this.setState({isFocused:!0},s.bind(null,t))},_shouldRestoreLastValue:function(e){return e||this.props.cancelOnBlur&&!this.props.validator(this.state.value)},onBlur:function(t,s){if(this._shouldRestoreLastValue(s)){var i=this.props.onBlur||e.noop;this.lastValidValue=this.valueOnFocus,this.setState({isFocused:!1,value:this.lastValidValue,valueSrc:p.INPUT},i.bind(null,t))}else this.blurTimeoutID=window.setTimeout(function(){this.blurTimeoutID=null,this.setState({isFocused:!window.document.hasFocus()})}.bind(this),0)},getInputProps:function(){return{prefix:this.props.prefix,type:this.props.type,innerInputClass:this.props.innerInputClass,value:this.state.value,onChange:this.handleChange,disabled:this.isDisabled(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,spellCheck:!1,focus:this.state.isFocused,dir:this.props.dir,onFocus:this.focusInput,onBlur:this.onBlur,blurOnEnterKey:this.props.blurOnEnterKey,blurOnEscKey:this.props.blurOnEscKey,initialSelectionStart:this.props.initialSelectionStart,initialSelectionEnd:this.props.initialSelectionEnd}},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="text-input-sync-validation-error-"+e.uniqueId()),this.uniqueTooltipId},componentWillUnmount:function(){this.blurTimeoutID&&(window.clearTimeout(this.blurTimeoutID),this.blurTimeoutID=null),this.hideSuccessIndicatorTimeoutID&&(window.clearTimeout(this.hideSuccessIndicatorTimeoutID),this.hideSuccessIndicatorTimeoutID=null)},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e),s=t!==this.getValueFromProps(),i=t!==this.state.value;s&&i&&(this.setState({value:"number"===this.props.type?t:n.stringUtils.removeNonSupportedCharacters(t),valueSrc:p.PROPS}),this.isValid(t)&&(this.lastValidValue=t,this.valueOnFocus=t))},componentWillUpdate:function(e,t){var s=this;(function(){var e=s.state.isFocused&&!t.isFocused,i=t.value!==s.valueOnFocus;return e&&i&&s.isValid(t.value)})()&&(this.shouldDisplaySuccessIndicator=!0,this.hideSuccessIndicatorTimeoutID=window.setTimeout(function(){this.hideSuccessIndicatorTimeoutID=null,s.shouldDisplaySuccessIndicator=!1,s.forceUpdate()},1e3))},componentDidUpdate:function(e,t){var s=!t.isFocused&&this.state.isFocused,i=t.isFocused&&!this.state.isFocused,n=this.state.isFocused&&this.props.inputFocusTooltipMessage;s&&(this.valueOnFocus=this.lastValidValue),n&&r.show(this.getTooltipId()),i&&r.hide(this.getTooltipId());var o=this.state.value;if(t.value!==o){var a=this.isValid(o);this.hasValidationEventHandler()&&this.props.onValidation(a),a?(this.lastValidValue=o,this.state.valueSrc!==p.PROPS&&this.callOnChangeIfExists(o),n||r.hide(this.getTooltipId())):r.show(this.getTooltipId()),this.props.onChangeInValidationStatus&&this.props.onChangeInValidationStatus(a)}},handleChange:function(e){this.setState({value:e,valueSrc:p.INPUT})},getTooltipMessage:function(){var e=this.props.inputFocusTooltipMessage||"",t=this.getValidationStatusMessage();return""!==t?t:e},render:l})}),define("baseUI/panelInputs/textInputAsync",["lodash","react","create-react-class","prop-types","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/panelInputs/inputValidationAsyncMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputCommon.rt"],function(e,t,s,i,n,o,a,r,l,p){"use strict";return s({displayName:"textInputAsync",mixins:[t.addons.LinkedStateMixin,o,a,r,n.translationMixin,n.blockOuterScrollMixin],propTypes:{shouldTranslate:i.bool,label:i.string,type:i.string,placeholder:i.string,defaultText:i.string,maxLength:i.number,focus:i.bool,className:i.string,isMultiLine:i.bool,infoText:i.string,infoTitle:i.string,onChangeInValidationStatus:i.func,textAreaClass:i.string,isWarning:i.bool,prefix:i.string,validateOnBlurOnly:i.bool,blurOnEnterKey:i.bool},ValidationStatus:{NONE:"none",SUCCESS:"success",ERROR:"error"},getInitialState:function(){var e=this.getInitialValue();return this.lastValidValue=e,{value:e,validationStatus:this.ValidationStatus.NONE,isFocused:this.props.focus}},getInitialValue:function(){var e=this.getValueFromProps();return e||(this.translateIfNeeded(this.props.defaultText)||"")},getWrapperClasses:function(){var e={"control-text-input":!0,success:this.state.validationStatus===this.ValidationStatus.SUCCESS,error:this.state.validationStatus===this.ValidationStatus.ERROR,warning:this.props.isWarning,"is-disabled":this.isDisabled(),focused:this.state.isFocused,"has-label":this.props.label};return this.props.className&&(e[this.props.className]=!0),e},focusInput:function(t){t&&t.preventDefault();var s=this.props.onFocus||e.noop;this.setState({isFocused:!0},s.bind(null,t))},onBlur:function(t,s){if(s){var i=this.props.onBlur||e.noop;this.setState({isFocused:!1,value:this.lastValidValue,validationStatus:this.ValidationStatus.NONE},i.bind(null,t))}else window.setTimeout(function(){this.setState({isFocused:!window.document.hasFocus()})}.bind(this),0)},getInputProps:function(){return{shouldTranslate:this.props.shouldTranslate,prefix:this.props.prefix,type:this.props.type,innerInputClass:this.props.innerInputClass,value:this.state.value,onChange:this.handleChange,disabled:this.isDisabled(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,spellCheck:!1,focus:this.state.isFocused,dir:this.props.dir,onFocus:this.focusInput,onBlur:this.onBlur,blurOnEnterKey:this.props.blurOnEnterKey,initialSelectionStart:this.props.initialSelectionStart,initialSelectionEnd:this.props.initialSelectionEnd}},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="text-input-async-validation-error-"+e.uniqueId()),this.uniqueTooltipId},onValidationSuccess:function(e,t){this.isMounted()?(this.successResultObject=t,this.setState({validationStatus:this.ValidationStatus.SUCCESS})):this.callOnChangeIfExists(e,this.successResultObject)},onValidationFailure:function(){this.isMounted()&&this.setState({validationStatus:this.ValidationStatus.ERROR})},validate:function(e,t,s){this.isValid(e)?this.isAsyncValid(e,t,s):s(this.getInvalidMessage())},hideSuccessIndicator:function(){this.isMounted()&&this.setState({validationStatus:this.ValidationStatus.NONE})},onValueValid:function(e){this.props.alwaysShowValidationTooltip||(window.setTimeout(this.hideSuccessIndicator,1e3),l.hide(this.getTooltipId())),this.lastValidValue=e,this.callOnChangeIfExists(e,this.successResultObject)},toggleTooltip:function(){var e=this.state.isFocused,t=this.state.validationStatus,s=this.getTooltipId();!e&&(t===this.ValidationStatus.ERROR||t===this.ValidationStatus.SUCCESS&&this.props.alwaysShowValidationTooltip)?l.show(s):l.hide(s)},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);t!==this.getValueFromProps()&&t!==this.state.value&&(this.lastValidValue=t,this.setState({value:n.stringUtils.removeNonSupportedCharacters(t)}))},componentDidUpdate:function(e,t){var s=this.state.value,i=this.state.validationStatus,n=t.isFocused&&!this.state.isFocused,o=t.validationStatus!==i,a=s!==this.lastValidValue;this.toggleTooltip(),n&&a&&this.validate(s,this.onValidationSuccess.bind(this,s),this.onValidationFailure),o&&i===this.ValidationStatus.SUCCESS&&this.onValueValid(s)},handleChange:function(e){this.setState({value:e})},render:p})}),define("baseUI/panelInputs/textInput.rt",["react","lodash"],function(e,t){"use strict";return function(){return function(){var s=this.getInputComponent();return e.createElement(s,t.assign({},{ref:"inputComp"},this.props))}.apply(this,[])}}),define("baseUI/panelInputs/textInput",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputValidationMixin","baseUI/panelInputs/inputValidationAsyncMixin","baseUI/panelInputs/textInputSync","baseUI/panelInputs/textInputAsync","baseUI/panelInputs/textInput.rt"],function(e,t,s,i,n,o,a,r){"use strict";return e({displayName:"textInput",mixins:[i,n],propTypes:{label:t.string,type:t.string,placeholder:t.string,defaultText:t.string,maxLength:t.number,focus:t.bool,className:t.string,isMultiLine:t.bool,infoText:t.string,infoTitle:t.string,onChangeInValidationStatus:t.func,validateOnBlurOnly:t.bool,innerInputClass:t.string},getInputComponent:function(){return this.props.validateOnBlurOnly||this.hasAsyncValidator()?a:o},isValueValid:function(){return this.refs.inputComp.isValid()},focus:function(){this.refs.inputComp.focus()},render:r})}),define("baseUI/panelInputs/statefulInputMixin",["lodash","baseUI/panelInputs/inputMixin"],function(e,t){"use strict";return e.assign({},t,{componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);this.getValueFromProps(this.props)!==t&&this.setState({value:t})}})}),define("baseUI/panelInputs/domainInput.rt",["react","lodash","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("span",{className:t({"theme-blue":"blue"===this.props.theme,"domain-input-wrapper":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("span",{className:"mini-toolbar"},e.createElement(n.symbol,{name:"addressBarMiniToolbar"})),e.createElement("div",{className:"full-domain-wrapper"+(this.state.isFocused?" focus":"")},this.props.prefix?e.createElement(s,{value:"SAVE_PUBLISH_USERNAME_TOOLTIP",key:"domainPrefix"},e.createElement("span",{ref:"prefix",className:"domain-prefix",onClick:this.reportPrefixClicked},this.props.prefix)):null,e.createElement("span",{className:"input-wrapper",onClick:this.handleDomainNameClickBI},e.createElement("input",{ref:"domain",type:"text",value:this.state.value,className:this.state.invalidMessage?"invalid":"",onFocus:function(){this.setFocusState(!0)}.bind(this),onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,onClick:this.reportValueClickedIfNeeded,disabled:!this.props.isEditable,spellCheck:"false"})),e.createElement(s,{className:"domain-tooltip",id:this.getTooltipId(),value:this.state.invalidMessage,alignment:i.TOOLTIP.ALIGNMENT.TOP,openTriggers:[],closeTriggers:[]},e.createElement("div",{className:"tooltip-anchor"}))))}}),define("baseUI/panelInputs/domainInput",["reactDOM","react","create-react-class","prop-types","lodash","jquery","baseUI/panelInputs/statefulInputMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/domainInput.rt"],function(e,t,s,i,n,o,a,r,l){"use strict";return s({displayName:"DomainInput",mixins:[t.addons.LinkedStateMixin,a],propTypes:{isEditable:i.bool.isRequired,onChange:i.func,prefix:i.string,domainValidator:i.func,biHandler:i.func,theme:i.string},uniqueTooltipId:"",getInitialState:function(){this.uniqueTooltipId=n.uniqueId();var e=this.getValueFromProps(),t={value:e,sanitizedValue:null,invalidMessage:"",isFocused:Boolean(this.props.isEditable)};return this.props.domainValidator&&n.assign(t,this.validateDomainAndGetStateToSet(e)),t},getTooltipId:function(){return"domain-input-validation-error"+this.uniqueTooltipId},setFocusState:function(e){this.setState({isFocused:e})},validateDomainAndGetStateToSet:function(e){var t={value:e};if(this.props.domainValidator){var s=this.props.domainValidator(e);s.success?(t.invalidMessage="",t.sanitizedValue=s.extraInfo):(t.invalidMessage=s.errorMessage,t.sanitizedValue=null)}return t},handleChange:function(e){var t=e.target.value,s=this.validateDomainAndGetStateToSet(t);this.setState(s,this.callOnChangeIfExists({value:s.value,sanitizedValue:s.sanitizedValue,isValid:!s.invalidMessage}))},handleInputKeyDown:function(t){switch(t.keyCode){case 13:case 27:o(e.findDOMNode(this.refs.domain)).blur(),this.setFocusState(!1)}},handleInputBlur:function(){this.setFocusState(!1),this.reportInvalidValueIfNeeded()},handleDomainNameClickBI:function(){this.props.handleDomainNameClickBI&&this.props.handleDomainNameClickBI()},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);t!==this.state.value&&this.setState(this.validateDomainAndGetStateToSet(t))},componentDidMount:function(){var t=o(e.findDOMNode(this.refs.domain));this.props.isEditable&&(t.focus(),t.select())},componentDidUpdate:function(t,s){var i=o(e.findDOMNode(this.refs.domain));this.props.isEditable&&!t.isEditable&&(i.focus(),i.select()),this.state.invalidMessage?r.show(this.getTooltipId()):s.invalidMessage&&r.hide(this.getTooltipId())},componentWillUnmount:function(){r.hide(this.getTooltipId())},reportValueClickedIfNeeded:function(){!this.props.isEditable&&n.isFunction(this.props.biHandler)&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportPrefixClicked:function(){n.isFunction(this.props.biHandler)&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportInvalidValueIfNeeded:function(){this.state.invalidMessage&&n.isFunction(this.props.biHandler)&&this.props.biHandler("DOMAIN_VALIDATION_ERROR")},render:l})}),define("baseUI/panelInputs/domainInputWithEditButtons.rt",["react","lodash","baseUI/controls/button","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",{className:"domain-input-with-buttons"},e.createElement("span",{className:"address-part"},e.createElement("span",{className:"mini-toolbar"},e.createElement(o.symbol,{name:"addressBarMiniToolbar"})),e.createElement("div",{className:"full-domain-wrapper"+(this.state.isEditingDisabled?"":" focus")},this.props.prefix?e.createElement("div",{key:"domainPrefix",ref:"prefix",className:"domain-prefix",onClick:this.reportPrefixClicked},this.props.prefix):null,e.createElement("span",{className:"input-wrapper"},e.createElement("input",{ref:"domain",type:"text",className:this.state.invalidMessage?"invalid":"",value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,onClick:this.reportValueClickedIfNeeded,onBlur:this.reportInvalidValueIfNeeded,disabled:this.state.isEditingDisabled,spellCheck:"false"})),e.createElement(i,{className:"domain-tooltip",id:this.getTooltipId(),value:this.state.invalidMessage,alignment:n.TOOLTIP.ALIGNMENT.TOP,openTriggers:[],closeTriggers:[]},e.createElement("div",{className:"tooltip-anchor"})))),this.props.isEditable?e.createElement("div",{key:"buttonsContainer",className:"button-container"},e.createElement(s,{className:"edit-button"+(this.shouldDisplayEditButton()?" displayed":""),label:"SAVE_SITE_SAVED_BUTTON_EDIT",onClick:this.enableEditing}),e.createElement("div",{className:"dual-button-container"+(this.shouldDisplayApplyCancelButtons()?" displayed":"")},e.createElement("button",{className:"cancel-button",onClick:this.cancelEditing},e.createElement(o.symbol,{name:"x"})),e.createElement("button",{className:"apply-button",disabled:!!this.state.invalidMessage,onClick:this.applyEditing},e.createElement(o.symbol,{name:"check"})))):null)}}),define("baseUI/panelInputs/domainInputWithEditButtons",["reactDOM","react","create-react-class","prop-types","lodash","jquery","baseUI/panelInputs/statefulInputMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/domainInputWithEditButtons.rt"],function(e,t,s,i,n,o,a,r,l){"use strict";return s({displayName:"domainInputWithEditButtons",mixins:[t.addons.LinkedStateMixin,a],propTypes:{isEditable:i.bool.isRequired,prefix:i.string,domainValidator:i.func,domainHandler:i.func,biHandler:i.func},uniqueTooltipId:"",getInitialState:function(){this.uniqueTooltipId=n.uniqueId();return{isEditingDisabled:!0,value:this.getValueFromProps(),invalidMessage:null}},getTooltipId:function(){return"domain-input-validation-error"+this.uniqueTooltipId},enableEditing:function(e){e.stopPropagation();this.setState({isEditingDisabled:!1},this.callOnChangeIfExists),this.props.biHandler("DOMAIN_EDIT_CLICKED")},validateSiteName:function(e){return this.getValueFromProps()!==e&&this.props.domainValidator?this.props.domainValidator(e):{success:!0}},handleChange:function(e){var t=e.target.value,s=this.validateSiteName(t);this.setState({value:t,invalidMessage:s.success?null:s.errorMessage})},handleInputKeyDown:function(e){switch(e.keyCode){case 13:this.state.invalidMessage||this.applyEditing();break;case 27:this.cancelEditing()}},getSanitizedSiteName:function(e){return e===this.getValueFromProps()?e:this.props.domainValidator(e).extraInfo},wasSiteNameChangedByUser:function(e){return e!==this.getValueFromProps()},updateSiteName:function(e,t,s){this.props.domainHandler?this.props.domainHandler(e,t,s):t()},cancelEditing:function(){var e=this.getValueFromProps(),t={isEditingDisabled:!0,value:e,invalidMessage:null};this.setState(t,this.callOnChangeIfExists.bind(this,e)),this.props.biHandler("DOMAIN_EDIT_CANCEL_CLICKED")},applyEditing:function(){var e=this,t=this.getSanitizedSiteName(this.state.value);this.wasSiteNameChangedByUser(t)?this.updateSiteName(t,function(){var s={isEditingDisabled:!0,value:t};e.setState(s,e.callOnChangeIfExists.bind(e,t))},function(t){var s={};if(t)s={isEditingDisabled:!1,invalidMessage:t},e.setState(s);else{var i=e.getValueFromProps();s={isEditingDisabled:!0,value:i},e.setState(s,e.callOnChangeIfExists.bind(e,i))}}):this.setState({isEditingDisabled:!0,value:t},this.callOnChangeIfExists(t)),this.props.biHandler("DOMAIN_EDIT_SAVE_CLICKED")},shouldDisplayEditButton:function(){return this.props.isEditable&&this.state.isEditingDisabled},shouldDisplayApplyCancelButtons:function(){return this.props.isEditable&&!this.state.isEditingDisabled},componentDidUpdate:function(t,s){if(!this.state.isEditingDisabled&&s.isEditingDisabled){var i=o(e.findDOMNode(this.refs.domain));i.focus(),i.select()}else if(this.state.isEditingDisabled&&!s.isEditingDisabled){var n=e.findDOMNode(this.refs.domain);n.selectionEnd=0,o(n).blur()}this.state.invalidMessage?r.show(this.getTooltipId()):s.invalidMessage&&r.hide(this.getTooltipId())},reportPrefixClicked:function(){this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportValueClickedIfNeeded:function(){this.state.isEditingDisabled&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportInvalidValueIfNeeded:function(){this.state.invalidMessage&&this.props.biHandler("DOMAIN_VALIDATION_ERROR")},render:l})}),define("baseUI/panelInputs/proportionsSlider.rt",["react","lodash","symbols","baseUI/popovers/tooltip"],function(e,t,s,i){"use strict";return function(){return e.createElement.apply(this,["div",{className:"proportions-slider",style:{width:this.props.width}},t.map(this.getProportions(),function(t,n){return e.createElement("div",{key:"column-"+n,className:"column",style:{width:t+"%"}},e.createElement("div",{className:"label"},t,"%"),0!==n?e.createElement(i,{value:"STRIP_CONTAINER_LAYOUTS_CUSTOMIZE_PROPORTIONS_TOOLTIP",key:"divider-"+n},e.createElement("span",{className:"divider",onMouseDown:this.onDividerStartDrag.bind(this,n)},e.createElement(s.symbol,{name:"proportionsSliderDivider"}))):null)}.bind(this))])}}),define("baseUI/panelInputs/proportionsSlider",["create-react-class","prop-types","lodash","jquery","baseUI/panelInputs/inputMixin","baseUI/panelInputs/proportionsSlider.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"proportionsSlider",mixins:[n],propTypes:{width:t.number,value:t.array},getInitialState:function(){return this.throttleCallOnChangeIfExists=s.debounce(this.callOnChangeIfExists,300),{proportions:this.getValueFromProps()}},componentWillReceiveProps:function(e){this.setState({proportions:this.getValueFromProps(e)})},getDefaultProps:function(){return{value:[50,50],width:100}},getProportions:function(){var e=this.state.proportions,t=100-s.sum(e);return t&&(e[0]+=t),e},updateProportions:function(e){s.isEqual(e,this.getProportions())||(this.setState({proportions:e}),this.throttleCallOnChangeIfExists(e))},updateDividerPosition:function(e,t,i){var n=s.clone(e),o=n[t]-i,a=n[t-1]+i;o>=5&&a>=5&&(n[t]=o,n[t-1]=a,this.updateProportions(n))},onDividerStartDrag:function(e,t){t.preventDefault(),this.dragInfo={index:e,x:t.pageX,proportions:this.getProportions()},i(window.document).on("mousemove",this.onDividerDrag),i(window.document).on("mouseup",this.onDividerEndDrag)},onDividerDrag:function(e){if(e.preventDefault(),this.dragInfo){var t=e.pageX-this.dragInfo.x,s=Math.round(100*t/this.props.width);this.updateDividerPosition(this.dragInfo.proportions,this.dragInfo.index,s)}},onDividerEndDrag:function(e){e.preventDefault(),delete this.dragInfo,i(window.document).off("mousemove",this.onDividerDrag),i(window.document).off("mouseup",this.onDividerEndDrag)},render:o})}),define("baseUI/panelInputs/radioGroup.rt",["react","lodash"],function(e,t){"use strict";return function(){function s(t,s,i){return function(t,s){var i=this.getValueFromProps(this.props);return e.createElement("label",{key:"label"+s},e.createElement("input",{ref:"radio_"+s,type:"radio",name:this.getRadioGroupId(),onClick:function(e,t,s){this.handleOnRadioSelect(e.value)}.bind(this,t,s,i),onMouseOver:function(e,t,s){this.handleOnMouseOver(e.value)}.bind(this,t,s,i),onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,t,s,i),checked:i===t.value}),e.createElement("span",{ref:"option_"+s,className:"option"},this.translateIfNeeded(t.label)))}.apply(this,[t,s])}return e.createElement.apply(this,["span",{},e.createElement("span",{ref:"label",className:"label"},this.translateIfNeeded(this.getLabel())),t.map(this.props.options,s.bind(this))])}}),define("baseUI/panelInputs/radioGroup",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","util","baseUI/panelInputs/radioGroup.rt"],function(e,t,s,i,n,o){"use strict";var a=0;return e({displayName:"RadioGroup",propTypes:{options:t.arrayOf(t.shape({label:t.string.isRequired,value:t.string.isRequired}))},mixins:[i,n.translationMixin],getRadioGroupId:function(){return this.groupId||(this.groupId="rg_"+a++),this.groupId},handleChange:function(e){this.callOnChangeIfExists(e)},handleOnMouseOver:function(e){s.has(this.props,"onMouseOver")&&this.props.onMouseOver(e)},handleOnRadioSelect:function(e){s.has(this.props,"onRadioSelect")&&this.props.onRadioSelect(e)},render:o})}),define("baseUI/panelInputs/radioList.rt",["react","lodash","symbols","baseUI/controls/infoIcon"],function(e,t,s,i){"use strict";return function(){function n(t,i,n){return function(t,i){var n=this.getValueFromProps(this.props);return e.createElement("label",{className:t.className+(this.props.highlightOnHover?" highlight-on-hover":""),key:t.value},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t.value,checked:t.value===n,onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,t,i,n)}),e.createElement("span",{}),t.symbolName?e.createElement("div",{key:"symbol",className:t.symbolClass},e.createElement("div",{},e.createElement(s.symbol,{name:t.symbolName}))):null,e.createElement("span",{},this.translateIfNeeded(t.label)))}.apply(this,[t,i])}return e.createElement.apply(this,["div",{className:"control-radio-list"},this.props.label?e.createElement("div",{className:"title",key:"label"},this.translateIfNeeded(this.props.label)):null,this.hasLabel()&&(this.props.infoText||this.props.infoText)?e.createElement(i,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,t.map(this.props.options,n.bind(this))])}}),define("baseUI/panelInputs/radioList",["create-react-class","lodash","baseUI/controls/radioButtonsMixin","baseUI/panelInputs/radioList.rt"],function(e,t,s,i){"use strict";return e({displayName:"RadioList",mixins:[s],render:i})}),define("baseUI/panelInputs/buttonGroup.rt",["react","lodash"],function(e,t){"use strict";return function(){function s(){var s=this.getValueFromProps(this.props);return e.createElement.apply(this,["span",this.topLevelProps,e.createElement("span",{className:"label"},this.getLabel()),t.map(this.props.options,function(t,s,i){return e.createElement("div",{onClick:function(e,t,s){this.handleClick(s)}.bind(this,t,s,i)},e.createElement("span",{className:"option"},s.label," ",t===s.value?"selected":""))}.bind(this,s))])}return s.apply(this,[])}}),define("baseUI/panelInputs/buttonGroup",["create-react-class","lodash","baseUI/panelInputs/inputMixin","baseUI/panelInputs/buttonGroup.rt"],function(e,t,s,i){"use strict";return e({displayName:"ButtonGroup",mixins:[s],handleClick:function(e){var t=this.props.options[e];this.callOnChangeIfExists(t.value)},render:i})}),define("baseUI/mixins/mediaServicesMixin",["prop-types"],function(e){"use strict";return{contextTypes:{mediaServices:e.object},getMediaServices:function(){return this.context.mediaServices}}}),define("baseUI/panelInputs/changeMediaInput.rt",["react","lodash","symbols","baseUI/controls/button"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"media-button"},e.createElement(i,this.getButtonProps()),this.hasFile()?e.createElement("div",{key:"hasfile",className:"media-button-filename-text"},e.createElement("span",{className:"wrapper"},this.props.value,e.createElement(s.symbol,{name:"inputValidationSuccess"}))):null)}}),define("baseUI/panelInputs/changeMediaInput",["create-react-class","prop-types","lodash","util","baseUI/mixins/mediaServicesMixin","baseUI/panelInputs/changeMediaInput.rt","baseUI/panelInputs/inputMixin"],function(e,t,s,i,n,o,a){"use strict";var r={Image:"IMAGE",SingleAudioPlayer:"MUSIC",AudioPlayer:"MUSIC",Default:"DOCUMENT",Flash:"FLASH"},l={MULTIPLE:"multiple",SINGLE:"single"};return e({displayName:"changeMediaButton",mixins:[a,n],propTypes:{mediaType:t.oneOf(s.keys(r)),buttonLabelWithItems:t.string,buttonLabelWithoutItems:t.string,value:t.string,selectionType:t.oneOf(s.values(l)),mediaManagerHeaderLabel:t.string,mediaManagerButtonLabel:t.string},getButtonLabel:function(){return this.hasFile()?this.props.buttonLabelWithItems:this.props.buttonLabelWithoutItems},getDefaultProps:function(){return{mediaType:"Default",buttonLabelWithItems:"CHANGE_MEDIA",buttonLabelWithoutItems:"ADD_MEDIA",selectionType:"multiple"}},openMediaFrame:function(){var e=this.getMediaServices().mediaManager,t=void 0;(this.props.mediaManagerHeaderLabel||this.props.mediaManagerButtonLabel)&&((t={}).title=i.translate(this.props.mediaManagerHeaderLabel),t.submitButton=i.translate(this.props.mediaManagerButtonLabel)),e.open(r[this.props.mediaType],{translation:t,callback:this.onClose,multiSelect:this.props.selectionType===l.MULTIPLE})},getButtonProps:function(){var e={className:"btn-confirm-secondary upload-button no-margin",onClick:this.openMediaFrame,label:this.getButtonLabel()};return this.hasFile()&&(e.icon="organizeImagesIcon",e.className+=" has-file"),e},onClose:function(e){e&&this.callOnChangeIfExists.apply(this,arguments)},hasFile:function(){return this.props.value},render:o})}),define("baseUI/panelInputs/thumbnailSlider.rt",["react","lodash","symbols","util"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"control-thumbnailsSlider",style:{width:this.props.width+"px"}},e.createElement.apply(this,["div",{className:"itemsContainer",style:{left:"-"+this.state.position+"px"}},t.map(this.props.items,function(t,s){return e.createElement("label",{key:t.value},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),checked:t.value===this.getValueFromProps(),onChange:function(e,t){this.handleChange(e.value)}.bind(this,t,s)}),e.createElement("img",{src:i.media.getMediaUrl(t.iconSrc)}))}.bind(this))]),this.state.isLeftEdge?null:e.createElement("div",{className:"left arrow",key:"left",onMouseDown:this.startLeft,onMouseUp:this.endLeft},e.createElement("span",{})),this.state.isRightEdge?null:e.createElement("div",{className:"right arrow",key:"right",onMouseDown:this.startRight,onMouseUp:this.endRight},e.createElement("span",{})))}}),define("baseUI/panelInputs/thumbnailSlider",["reactDOM","create-react-class","prop-types","lodash","jquery","util","baseUI/controls/radioButtonsMixin","baseUI/panelInputs/thumbnailSlider.rt"],function(e,t,s,i,n,o,a,r){"use strict";function l(e){if(this.state.position!==e){var t=e-this.state.position,s=this.state.distanceToScroll-t;this.setState({position:e,distanceToScroll:s,isLeftEdge:0===e,isRightEdge:0===s})}}function p(){0!==this.state.distanceToScroll?function(){var e=Math.min(this.state.distanceToScroll,this.props.stepWidth),t=this.state.position+e;l.call(this,t)}.call(this):this.endRight()}function c(){0!==this.state.position?function(){var e=Math.min(this.state.position,this.props.stepWidth),t=this.state.position-e;l.call(this,t)}.call(this):this.endLeft()}return t({displayName:"thumbnailSlider",mixins:[a,o.imagesContainerMixin],moveInterval:void 0,propTypes:{items:s.array.isRequired,width:s.number,stepWidth:s.number,selectedItemOffset:s.number},getDefaultProps:function(){return{width:400,stepWidth:96,selectedItemOffset:50}},getInitialState:function(){return{}},componentDidMount:function(){this.focusOnSelectedSkin()},focusOnSelectedSkin:function(){var t=e.findDOMNode(this);this.afterImagesLoad(function(){var e=t.scrollWidth-t.clientWidth,s=n(t).find("input:checked").parent().position(),i=s?s.left:0,o=Math.max(i-this.props.selectedItemOffset,0),a=Math.min(e,o),r=e-a,l=n(t).find(".itemsContainer");l.css({"margin-top":-l.height()/2,visibility:"visible"}),this.setState({position:a,distanceToScroll:r,isRightEdge:0===r,isLeftEdge:0===a})}.bind(this),n(t))},getPosition:function(){return this.state.position},startRight:function(){p.apply(this),this.moveInterval=window.setInterval(p.bind(this),200)},endRight:function(){window.clearInterval(this.moveInterval),this.props.afterMoveRight()},startLeft:function(){c.apply(this),this.moveInterval=window.setInterval(c.bind(this),200)},endLeft:function(){window.clearInterval(this.moveInterval),this.props.afterMoveLeft()},componentWillUnmount:function(){window.clearInterval(this.moveInterval)},render:r})}),define("baseUI/panelInputs/labelWithCircleButton.rt",["react","lodash","baseUI/popovers/tooltip","baseUI/controls/infoIcon","baseUI/controls/button","util","symbols","uiConstants","baseUILib"],function(e,t,s,i,n,o,a,r,l){"use strict";return function(){return function(){var n=o.translate;return e.createElement("div",{className:o.inheritClassName(this.props,"label-with-circle-button"+(this.props.isDisabled?" disabled":""))},this.props.label?e.createElement("label",{key:"linkToLabel",className:t({"with-button":this.props.showButton}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},"\n        ",n(this.props.label),"\n    "):null,this.props.infoIconText?e.createElement(i,{key:"linkToIconInfo",className:"link-to-icon-info",text:this.props.infoIconText,title:this.props.infoIconTitle}):null,e.createElement("div",{className:"container-action"},e.createElement(l.ActionWithSymbol,{action:this.props.onClick,symbol:this.getSymbol(),disabled:this.props.isDisabled},e.createElement(s,{disabled:this.isTooltipDisabled(),value:this.props.displayedValue,shouldTranslate:!1},e.createElement("div",{className:"wrapper-to-not-lose-ref"},e.createElement("div",{className:"link",ref:"linkText"},this.props.displayedValue))))))}.apply(this,[])}}),define("baseUI/panelInputs/labelWithCircleButton",["reactDOM","react","create-react-class","prop-types","lodash","uiConstants","symbols","baseUI/panelInputs/labelWithCircleButton.rt"],function(e,t,s,i,n,o,a,r){"use strict";var l={name:"inputValidationSuccess",className:"validation-icon validation-icon-success"};return s({displayName:"labelWithCircleButton",propTypes:{isDisabled:i.bool,displayedValue:i.string.isRequired,label:i.string,onClick:i.func.isRequired,buttonIcon:i.string,showButton:i.bool,showSuccessSymbol:i.bool,infoIconText:i.string,infoIconTitle:i.string,eventsToShowButtonTooltip:i.array,eventsToHideButtonTooltip:i.array,tooltipText:i.string,tooltipWidth:i.number,tooltipStyle:i.oneOf(n.values(o.TOOLTIP.STYLE_TYPE))},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="TEXT_INPUT_TOOLTIP_ERROR"+n.uniqueId()),this.uniqueTooltipId},getInitialState:function(){return{isTextTruncated:!1}},getDefaultProps:function(){return{showButton:!0}},handleIsTextTruncated:function(){var t=e.findDOMNode(this.refs.linkText),s=t.scrollWidth>t.offsetWidth;this.setState({isTextTruncated:s})},isTooltipDisabled:function(){return!this.state.isTextTruncated},getSymbol:function(){if(this.props.showSuccessSymbol)return t.createElement(a.symbol,l);if(!this.props.showButton)return null;if("linkBtnThin"!==this.props.buttonIcon)return t.createElement(a.symbol,{name:this.props.buttonIcon})},componentDidMount:function(){this.handleIsTextTruncated()},componentDidUpdate:function(e){e.displayedValue!==this.props.displayedValue&&this.handleIsTextTruncated()},render:r})}),define("baseUI/panelInputs/media/wixStaticMediaMixin",["lodash","reactDOM","util"],function(e,t,s){"use strict";return{getInitialState:function(){return this.defaultPanelWidth=288,this.defaultPanelHeight=155,{}},componentDidMount:function(){var e=t.findDOMNode(this).getBoundingClientRect();this.containerWidth=e.width,this.containerHeight=e.height},getImageTransformData:function(t,i){var n=this.containerWidth||this.defaultPanelWidth,o=this.containerHeight||this.defaultPanelHeight,a=e.assign({width:n,height:o},t),r=s.imageTransform.getFromImageData(a,n,o,i||s.imageTransform.getImageScale(a,n,o),s.imageTransform.alignTypes.CENTER,"bg");return{url:r.uri,css:r.css.container}},getEmptyImageData:function(){return{uri:"",width:0,height:0,title:"",originalImageDataRef:""}}}}),define("baseUI/popovers/bubble.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:{maxWidth:this.props.width},onMouseLeave:this.onMouseLeave,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter},e.createElement("div",{ref:"arrow",className:"arrow"}),e.createElement("div",{className:"content-wrapper"},this.getContent()))}}),define("baseUI/popovers/bubble",["reactDOM","react","create-react-class","prop-types","lodash","jquery","core","util","uiConstants","baseUI/mixins/positionRelativeToElementMixin","baseUI/popovers/bubble.rt"],function(e,t,s,i,n,o,a,r,l,p,c){"use strict";function u(e){return n.isString(e)?l.TOOLTIP.VALUE_TYPE.STRING:e&&e.classPath&&e.props?l.TOOLTIP.VALUE_TYPE.CLASS:l.TOOLTIP.VALUE_TYPE.TEMPLATE}var h=l.BUBBLE.DISTANCE_FROM_TARGET;return s({mixins:[r.translationMixin,r.outerClickMixin,p],displayName:"bubble",propTypes:{value:i.oneOfType([i.string.isRequired,i.element.isRequired,i.shape({classPath:i.string,props:i.object}).isRequired]),targetNode:i.object,mouseLeftTargetNode:i.bool,closeTriggers:i.arrayOf(i.oneOf(n.values(l.TOOLTIP.TRIGGERS))),width:i.string,noArrow:i.bool,styleType:i.oneOf(n.values(l.TOOLTIP.STYLE_TYPE)),marginsFromWindow:i.oneOfType([i.number,i.string]),hideMethod:i.func,timeoutForMouseOverBubble:i.number,shake:i.bool,shouldHaveTransition:i.bool,behindPopUps:i.bool,arrowColor:i.string,customClasses:i.arrayOf(i.string),onMouseEnter:i.func,onMouseLeave:i.func,closeDelay:i.number},getInitialState:function(){return{measured:!1}},getDefaultProps:function(){return{timeoutForMouseOverBubble:150,marginsFromWindow:0,closeDelay:500}},getClasses:function(){var e={"tooltip-presenter":!0};e["alignment-"+this.calculatedAlignment]=!0;if(u(this.props.value)===l.TOOLTIP.VALUE_TYPE.STRING||this.props.styleType)switch(this.props.styleType){case l.TOOLTIP.STYLE_TYPE.SMALL:e["small-tooltip"]=!0;break;case l.TOOLTIP.STYLE_TYPE.CONTENT_ONLY:e["content-only"]=!0;break;default:e["normal-tooltip"]=!0}else e["content-only"]=!0;return this.props.shouldHaveTransition&&(e["tooltip-transition"]=!0),this.props.behindPopUps&&(e["tooltip-behind-pop-ups"]=!0),this.props.shake&&(e["tooltip-shake"]=!0),n.forEach(this.props.customClasses,function(t){e[t]=!0}),e},onOuterClick:function(e){var t=e.target;if(n.includes(this.props.closeTriggers,l.TOOLTIP.TRIGGERS.OUTER_CLICK)){for(;t;){if(t===this.props.targetNode)return;t=t.parentElement||t.parentNode}this.hide()}},componentWillReceiveProps:function(e){e.mouseLeftTargetNode&&this.hideAfterDelayIfMouseNotOverBubble()},hide:function(){window.clearTimeout(this.pendingCloseDelay),this.props.hideMethod()},hideAfterDelayIfMouseNotOverBubble:function(){window.setTimeout(function(){this.mouseOverBubble||this.hide()}.bind(this),this.props.timeoutForMouseOverBubble)},onMouseLeave:function(){this.props.onMouseLeave&&this.props.onMouseLeave(),this.mouseOverBubble=!1,n.includes(this.props.closeTriggers,l.TOOLTIP.TRIGGERS.MOUSE_LEAVE)&&this.hideAfterDelayIfMouseNotOverBubble()},onMouseEnter:function(){this.props.onMouseEnter&&this.props.onMouseEnter(),this.mouseOverBubble=!0},onMouseOver:function(){this.mouseOverBubble=!0},getContent:function(){var e=this.props.value;switch(u(e)){case l.TOOLTIP.VALUE_TYPE.STRING:return t.createElement("div",{className:"content",children:this.translateIfNeeded(e)});case l.TOOLTIP.VALUE_TYPE.CLASS:return t.createElement(a.lazyComponent,n.assign({moduleName:e.classPath,onLoad:this.onContentLoaded},n.assign({},e.props,{calculatedAlignment:this.calculatedAlignment})));case l.TOOLTIP.VALUE_TYPE.TEMPLATE:return this.props.value}},onContentLoaded:function(){this.forceUpdate()},componentDidUpdate:function(){var t=e.findDOMNode(this),s=this.getArrowStyle(t);o(e.findDOMNode(this.refs.arrow)).css(s)},componentDidMount:function(){this.props.hideMethod&&n.includes(this.props.closeTriggers,l.TOOLTIP.TRIGGERS.TIMER)&&(this.pendingCloseDelay=window.setTimeout(this.props.hideMethod,this.props.closeDelay))},componentWillUnmount:function(){window.clearTimeout(this.pendingCloseDelay)},getArrowStyle:function(e){if(!this.calculatedAlignment||!e||this.props.noArrow)return{display:"none"};var t=this.props.styleType===l.TOOLTIP.STYLE_TYPE.SMALL?8:10,s=this.props.targetNode.getBoundingClientRect(),i=void 0,n=void 0;switch(this.calculatedAlignment){case l.TOOLTIP.ALIGNMENT.TOP:i=s.top-h-t/2+this.props.marginsFromElement,n=s.left+(s.width-t)/2;break;case l.TOOLTIP.ALIGNMENT.BOTTOM:i=s.top+s.height+h-t/2+this.props.marginsFromElement,n=s.left+(s.width-t)/2;break;case l.TOOLTIP.ALIGNMENT.LEFT:i=s.top+(s.height-t)/2,n=s.left-h-t/2+this.props.marginsFromElement;break;case l.TOOLTIP.ALIGNMENT.RIGHT:i=s.top+(s.height-t)/2,n=s.left+s.width+h-t/2+this.props.marginsFromElement}return{position:"fixed",top:i-((e=o(e)).offset().top-o(window).scrollTop()-parseInt(e.css("top"),10)),left:n-(e.offset().left-parseInt(e.css("left"),10)),height:t,width:t,backgroundColor:this.props.arrowColor}},render:c})}),define("baseUI/popovers/tooltipPresenter.rt",["react","lodash","baseUI/popovers/bubble"],function(e,t,s){"use strict";return function(){return e.createElement(s,this.getBubbleProps())}}),define("baseUI/popovers/tooltipPresenter",["create-react-class","prop-types","lodash","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipPresenter.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"tooltipPresenter",propTypes:{id:t.string,onClose:t.func},getBubbleProps:function(){return s.assign({},this.props,{hideMethod:i.hide.bind(i,this.props.id)})},componentWillUnmount:function(){this.props.onClose&&this.props.onClose()},render:n})}),define("baseUI/popovers/tooltipsRenderer.rt",["react","lodash","baseUI/popovers/bubble","baseUI/popovers/tooltipPresenter","uiAnimations"],function(e,t,s,i,n){"use strict";return function(){return this.props.shouldDisplayTooltips?e.createElement("div",{key:"tooltip-renderer-wrapper",className:"tooltips-layer"},e.createElement.apply(this,[n.tooltipAnimation,{},t.map(this.state.presentedTooltips,function(s,n){return e.createElement(i,t.assign({},{key:s.id},s))}.bind(this))])):null}}),define("baseUI/popovers/tooltipsRenderer",["create-react-class","lodash","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipsRenderer.rt"],function(e,t,s,i){"use strict";return e({displayName:"tooltipsRenderer",getInitialState:function(){return{presentedTooltips:[]}},componentWillMount:function(){s.setTooltipRenderer(this)},updateDisplayedTooltips:function(e,t){this.setState({presentedTooltips:e},t)},render:i})}),define("baseUI/popovers/floatingBubble.rt",["react","lodash","baseUI/popovers/bubble"],function(e,t,s){"use strict";return function(){return e.createElement("div",{},e.createElement("div",{ref:"floatingBubbleTarget",style:this.getFloatingBubbleTargetStyle()}),this.props.value&&!this.props.pinMode?e.createElement(s,t.assign({},{key:"floatingBubble",value:this.props.value,targetNode:this.floatingBubbleTarget,hideMethod:this.hideFloatingBubble},this.getFloatingBubbleProps())):null)}}),define("baseUI/popovers/floatingBubble",["reactDOM","create-react-class","prop-types","lodash","baseUI/popovers/floatingBubble.rt"],function(e,t,s,i,n){"use strict";return t({displayName:"floatingBubble",propTypes:{pinMode:s.bool,value:s.oneOfType([s.string,s.element,s.shape({classPath:s.string,props:s.object})]),targetLayout:s.object,bubbleProps:s.object,shouldNotHideOnMouseLeaveTarget:s.bool},componentWillMount:function(){this.floatingBubbleTarget=null},componentDidMount:function(){this.floatingBubbleTarget=e.findDOMNode(this.refs.floatingBubbleTarget)},componentWillUnmount:function(){this.floatingBubbleTarget=null},getFloatingBubbleTargetStyle:function(){if(!this.props.targetLayout)return{display:"none"};var e=this.props.targetLayout;return i(e).pick(["width","height","top","left"]).assign({position:"fixed"}).value()},getFloatingBubbleProps:function(){return this.props.bubbleProps||{}},render:n})}),define("baseUI/popovers/templates/quickTip/quickTip.rt",["react","lodash","util","symbols","uiConstants"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"quick-tip"},e.createElement("div",{className:"close-quick-tip",onClick:this.closeFloatingBubble},e.createElement("span",{},e.createElement(i.symbol,{name:"bubble-close"}))),this.props.symbol?e.createElement("div",{key:"quickTipImage",className:"quick-tip-image"},e.createElement(i.symbol,{name:this.props.symbol})):null,e.createElement("div",{className:"text-container "+(this.props.symbol?"":"text-no-image")},this.props.text?e.createElement("div",{className:"text",key:"tooltipText"},"\n            ",s.translate(this.props.text),"\n        "):null,this.props.linkAction?e.createElement("div",{className:"text link-action",onClick:this.onLinkClick,onMouseEnter:this.onLinkMouseEnter,onMouseLeave:this.onLinkMouseLeave,key:"linkAction"},s.translate(this.props.linkActionText),"\n        "):null,this.props.textAfterLink?e.createElement("div",{className:"text",key:"tooltipTextAfterLink"},"\n            ",s.translate(this.props.textAfterLink),"\n        "):null))}}),define("baseUI/popovers/templates/quickTip/quickTip",["create-react-class","prop-types","lodash","core","util","baseUI/popovers/templates/quickTip/quickTip.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"quickTip",mixins:[i.mixins.editorAPIMixin,n.outerClickMixin],propTypes:{text:t.string,linkActionText:t.string,textAfterLink:t.string,linkAction:t.func,linkMouseEnter:t.func,linkMouseLeave:t.func,symbol:t.string,closeAction:t.func},render:o,onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},onLinkMouseEnter:function(){this.props.linkMouseEnter&&this.props.linkMouseEnter()},onLinkMouseLeave:function(){this.props.linkMouseLeave&&this.props.linkMouseLeave()},closeFloatingBubble:function(){this.props.closeAction&&this.props.closeAction()},onOuterClick:function(e){this.props.onOuterClick&&this.props.onOuterClick(e)}})}),define("baseUI/popovers/templates/iconAndText/iconAndText.rt",["react","lodash","util","symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"icon-and-text "+this.props.className},e.createElement(i.symbol,{name:this.props.icon}),e.createElement("span",{},this.props.shouldTranslate?s.translate(this.props.text):this.props.text))}}),define("baseUI/popovers/templates/iconAndText/iconAndText",["create-react-class","prop-types","baseUI/popovers/templates/iconAndText/iconAndText.rt"],function(e,t,s){"use strict";return e({displayName:"iconAndText",propTypes:{text:t.string.isRequired,icon:t.string.isRequired,shouldTranslate:t.bool},getDefaultProps:function(){return{shouldTranslate:!0,className:""}},render:s})}),define("baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip.rt",["react","lodash","util","symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"titleBodyAndLinkTooltip"},this.props.onClose?e.createElement(i.symbol,{className:"close",key:"closeButton",name:"bubble-close",onClick:this.props.onClose}):null,this.props.title?e.createElement("div",{className:"title",key:"title"},s.translate(this.props.title)):null,this.props.text?e.createElement("div",{className:"text",key:"text"},s.translate(this.props.text)):null,this.props.link?e.createElement("div",{className:"link",key:"link",onClick:this.onLinkClick},"\n        ",s.translate(this.props.link),"\n    "):null)}}),define("baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip",["create-react-class","prop-types","lodash","baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip.rt"],function(e,t,s,i){"use strict";return e({displayName:"titleBodyAndLinkTooltip",propTypes:{title:t.string,text:t.string,link:t.string,linkAction:t.func},onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},render:i})}),define("baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip.rt",["react","lodash","util"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"keyboardShortcutTooltip"},this.props.label?e.createElement("span",{className:"label",key:"label"},s.translate(this.props.label)):null,this.props.shortcut?e.createElement("span",{className:"shortcut",key:"shortcut"},"(",this.props.shortcut,")"):null)}}),define("baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip",["create-react-class","prop-types","lodash","baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip.rt"],function(e,t,s,i){"use strict";return e({displayName:"keyboardShortcutTooltip",propTypes:{label:t.string,shortcut:t.string},getInitialState:function(){return{}},render:i})}),define("baseUI/popovers/templates/popoverTemplates",["baseUI/popovers/templates/quickTip/quickTip","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip","baseUI/popovers/templates/iconAndText/iconAndText","baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip","baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip"],function(e,t,s,i,n){"use strict";return{quickTip:e,imageAndTextTooltip:t,iconAndText:s,titleBodyAndLinkTooltip:i,keyboardShortcutTooltip:n}}),define("baseUI/panelInputs/richTextParagraph.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{},this.props.paragraphTitle?e.createElement("div",{key:"title",className:"rich-text-paragraph-title"},"\n        ",this.props.paragraphTitle,"\n    "):null,e.createElement.apply(this,["div",{className:"rich-text-paragraph-content"},t.map(this.props.paragraphTextChunks,function(t,s){return e.createElement("span",{style:t.style},t.text)}.bind(this))]))}}),define("baseUI/panelInputs/richTextParagraph",["create-react-class","prop-types","lodash","baseUI/panelInputs/richTextParagraph.rt"],function(e,t,s,i){"use strict";return e({displayName:"RichTextParagraph",propTypes:{paragraphTitle:t.string,paragraphTextChunks:t.array},render:i})}),define("baseUI/panelInputs/dropDown/dropdownManager",["reactDOM","lodash"],function(e,t){"use strict";var s={optionsComponent:null,selectedIndex:null,currentDropdown:null,currentOptionsList:null,hoveredOption:null,isOptionsVisible:!1,blurEnabled:!0},i=[37,38,39,40];return{INDENT_FROM_EDGE:12,DEFAULT_SCROLL_SPEED:5,MIN_LIST_HEIGHT:180,KEYBOARD_CONTEXT:"dropdown",SCROLL_KEYS:i,setState:function(e,i){return"string"==typeof e?s[e]=i:"object"===(void 0===e?"undefined":_typeof(e))&&t.forEach(e,function(e,t){s[t]=e}),s},reset:function(){this.setState({optionsComponent:null,selectedIndex:null,currentDropdown:null,currentOptionsList:null,hoveredOption:null,isOptionsVisible:!1})},registerOptionsComponent:function(e){this.setState("optionsComponent",e)},addOption:function(e){t.includes(s.currentOptionsList,e)||s.currentOptionsList.push(e)},show:function(e){var t=s.optionsComponent;if(t){this.registerOuterClick();var i=e.getData();this.setState({selectedIndex:i.selectedIndex,currentDropdown:e,currentOptionsList:[],isOptionsVisible:!0}),this.disableBrowserScroll(),e.setExpanded(!0),t.show(i)}},hide:function(){var t=s.currentDropdown;this.hideOptions(),this.focus(e.findDOMNode(t)),t.setExpanded(!1)},hideOptions:function(){this.setState("isOptionsVisible",!1),this.unregisterOuterClick(),this.setHovered(null),this.enableBrowserScroll(),s.optionsComponent.hide()},getOptionsLocation:function(){var t=s.optionsComponent,i=s.currentDropdown,n=i.getDDEl(),o=t.getOptionsListEl(),a=e.findDOMNode(s.currentOptionsList[i.state.selectedIndex]),r=t.getFooterEl();return i.getOptionsLocation(n,o,a,r)},select:function(e){var t=s.currentDropdown;this.hide(),t.setSelected(e.getData())},getScrollData:function(e){var t=s.optionsComponent,i=s.currentDropdown;return i.getScrollData?i.getScrollData(e,t.getOptionsEl(),t.getOptionsListEl()):null},getViewportSize:function(){return{height:window.document.documentElement.clientHeight,width:window.document.documentElement.clientWidth}},getSelectedIndex:function(){return s.selectedIndex},setHovered:function(e){s.hoveredOption&&s.hoveredOption.unhover(),e&&(e.hover(),s.currentDropdown.onHover(e.getData())),this.setState("hoveredOption",e)},onOptionsVisible:function(){s.currentDropdown.onOptionsVisible(s.optionsComponent.getOptionsListEl())},getKeyboardHandlers:function(){var t=this,i=function(e){e.preventDefault(),e.stopPropagation()},n=function(e){s.hoveredOption&&t.select(s.hoveredOption),i(e)},o=function(n){var o=n.keyCode;if(38===o||40===o){var a=void 0,r=s.hoveredOption?s.hoveredOption.props.index:s.selectedIndex;if((a=38===o?r-1:r+1)>=0&&a<s.currentOptionsList.length){var l=s.currentOptionsList[a],p=s.optionsComponent,c=38===o,u=c?"top":"bottom",h=e.findDOMNode(l).getBoundingClientRect()[u]-p.getOptionsListEl().getBoundingClientRect()[u];t.setHovered(l),(c&&h<0||!c&&h>0)&&(p.showMouseEventsBlocker(),p.scrollBy(h))}}i(n)};return{esc:function(e){t.hide(),i(e)},enter:n,space:n,up:o,down:o,backspace:i}},isExpanded:function(e){return s.currentDropdown===e&&s.isOptionsVisible},getFocusedElement:function(){return window.document.activeElement},focus:function(e){e.focus()},search:function(e){var t=this.findOption(e);return t?(this.setHovered(t),this.scrollTo(t),t.getData()):null},findOption:function(e){if(e.length){var t=void 0,i=s.currentDropdown.getSearchTexts();for(t=0;t<i.length;t++){if(i[t].substr(0,e.length).toLowerCase()===e.toLowerCase())return s.currentOptionsList[t]}}return null},scrollTo:function(t){var i=s.optionsComponent,n=e.findDOMNode(t).getBoundingClientRect().top-i.getOptionsListEl().getBoundingClientRect().top;i.scrollBy(n)},registerOuterClick:function(){this.boundHide=this.hide.bind(this),window.document.addEventListener("mousedown",this.boundHide),window.addEventListener("blur",this.boundHide)},unregisterOuterClick:function(){window.document.removeEventListener("mousedown",this.boundHide),window.removeEventListener("blur",this.boundHide)},disableBrowserScroll:function(){window.document.addEventListener("keydown",this.preventKeyScroll),window.addEventListener("wheel",this.preventWheelScroll),window.addEventListener("mousewheel",this.preventWheelScroll)},enableBrowserScroll:function(){window.document.removeEventListener("keydown",this.preventKeyScroll),window.removeEventListener("wheel",this.preventWheelScroll),window.removeEventListener("mousewheel",this.preventWheelScroll)},preventWheelScroll:function(e){e.preventDefault()},preventKeyScroll:function(e){t.includes(i,e.keyCode)&&e.preventDefault()}}}),define("baseUI/panelInputs/dropDown/cacheMixin",["lodash"],function(e){"use strict";return{cache:null,resetCache:function(){this.cache=null},updateCache:function(t,s){return this.cache||(this.cache={}),"string"==typeof t?this.cache[t]=s:"object"===(void 0===t?"undefined":_typeof(t))&&e.forEach(t,e.bind(function(e,t){this.cache[t]=e},this)),this.cache},getCached:function(e){if(this.cache)return this.cache[e]}}}),define("baseUI/panelInputs/dropDown/dropDown.rt",["react","lodash","symbols","baseUI/controls/infoIcon","util","experiment"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:"dropdown "+this.getDDClassName(),style:this.props.style,onKeyDown:this.onKeyDown,tabIndex:"0"},this.getFilteredProps()),this.hasLabel()?e.createElement("label",{key:"dropdownLabel",className:"dropdown-label"},this.props.shouldTranslate?n.translate(this.getLabel()):this.getLabel()):null,this.hasLabel()&&(this.props.infoText||this.props.infoTitle)?e.createElement(i,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle}):null,e.createElement("div",{className:"dd",ref:"dropdown",onClick:this.onClick,onMouseDown:this.onMouseDown,onContextMenu:function(){o.isOpen("rightClickBehaviors")&&this.show()}.bind(this)},e.createElement("div",{className:"selected-container",ref:"selectedContainer"},this.props.template.call(this)),this.props.toggleIcon?e.createElement("i",{key:"toggleIcon",className:"expand arrow"},e.createElement(s.symbol,{name:"arrowDown"})):null))}}),define("baseUI/panelInputs/dropDown/dropDownMixin",["reactDOM","react","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/cacheMixin","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/dropDown/dropDown.rt"],function(e,t,s,i,n,o,a,r,l,p){"use strict";function c(e,t){return void 0===e.props.shouldTranslate?t:e.props.shouldTranslate}var u=[32,38,40];return{mixins:[o,r,l],propTypes:{label:s.string,searchText:s.string,tabIndex:s.number,scrollSpeed:s.number,optionsWidth:s.oneOfType([s.number,s.string]),toggleIcon:s.bool,showScrollBar:s.bool,showScroll:s.bool,template:s.func,infoText:s.string,setSelectedAnyway:s.bool,onHover:s.func,onClick:s.func,onExpand:s.func,onCollapse:s.func,infoTitle:s.string,onOptionsVisible:s.func},render:p,getDefaultProps:function(){return{shouldTranslate:!0}},getInitialState:function(){var e=this.getValueFromProps(),t=this.getOptionsData(e,this.props.children),s=t.options,i=t.selectedIndex,n=this.getSelectedData(i,s);return this.updateCache({selectedContent:n.content,selectedSearchText:n.searchText,options:s,items:t.items,footer:t.footer,searchTexts:t.searchTexts}),{value:e,selectedIndex:i,expanded:!1}},componentWillUpdate:function(e,t){var s=!t.expanded,i=t.selectedIndex!==this.state.selectedIndex;if(s||i){var n=this.getSelectedData(t.selectedIndex,this.getCached("options"));this.updateCache({selectedContent:n.content,selectedSearchText:n.searchText})}},componentWillReceiveProps:function(e){var t=void 0,s=this.getValueFromProps(e);if(e.children!==this.props.children){var i=this.getOptionsData(s,e.children);t=this.getSelectedData(i.selectedIndex,i.options),this.updateCache({selectedContent:t.content,selectedSearchText:t.searchText,options:i.options,items:i.items,footer:i.footer,searchTexts:i.searchTexts}),this.setState({selectedIndex:i.selectedIndex})}if(this.getValueFromProps()!==s){var n=this.getCached("options"),o=function(e,t){var s=0;return e.some(function(e,i){var n=e.props.value===t;return n&&(s=i),n}),s}(n,s);t=this.getSelectedData(o,n),this.updateCache({selectedContent:t.content,selectedSearchText:t.searchText}),this.setState({value:s,selectedIndex:o})}},componentWillUnmount:function(){this.isExpanded()&&a.hideOptions()},getSelectedData:function(e,t){var s={searchText:"",content:""};if(t.length){var i=t[e],o=i.props.children,a=i.props.searchText;o&&("string"==typeof o?(o=o.trim(),s.content=c(i,this.props.shouldTranslate)?n.translate(o):o):s.content=o),a&&(a=a.trim(),s.searchText=c(i,this.props.shouldTranslate)?n.translate(a):a)}return s},cloneOption:function(e,s){return t.cloneElement(e,{index:s,key:"option-"+s,shouldTranslate:c(e,this.props.shouldTranslate)})},cloneOptgroup:function(e,s){return t.cloneElement(e,{children:s,shouldTranslate:c(e,this.props.shouldTranslate)})},cloneFooter:function(e){return t.cloneElement(e,{shouldTranslate:c(e,this.props.shouldTranslate)})},getSearchText:function(e){var t=e.props.searchText;return t?(t=t.trim(),c(e,this.props.shouldTranslate)?n.translate(t):t):""},parseChildren:function(e,s,i){var n=(i=i||{}).optionIndex||0,o=i.selectedIndex,a=this,r={items:[],options:[],selectedIndex:void 0,footer:null,searchTexts:[]};return t.Children.forEach(s,function(s){if(t.isValidElement(s))if("footer"===s.props.type)r.footer=a.cloneFooter(s);else{var i=s;if("option"===s.props.type)(function(e,t,s){var i=s.props.value;return void 0===e&&void 0!==i&&t===s.props.value})(o,e,s)&&(o=n),i=a.cloneOption(s,n),r.options.push(i),r.searchTexts.push(a.getSearchText(s)),n++;else if("optgroup"===s.props.type){var l=a.parseChildren(e,s.props.children,{optionIndex:n,selectedIndex:o}),p=l.options;i=a.cloneOptgroup(s,l.items),r.options=r.options.concat(p),r.searchTexts=r.searchTexts.concat(l.searchTexts),o=l.selectedIndex,n+=p.length}r.items.push(i)}}),o&&(r.selectedIndex=o),r},getOptionsData:function(e,t){var s=this.parseChildren(e,t);return void 0===s.selectedIndex&&(s.selectedIndex=0),s},getData:function(){return{items:this.getCached("items"),footer:this.getCached("footer"),selectedIndex:this.state.selectedIndex,className:this.className,showScrollBar:this.props.showScrollBar}},getDDClassName:function(){var e="";return this.className&&(e+=" "+this.className),this.props.className&&(e+=" "+this.props.className),this.state.expanded&&(e+=" expanded"),this.props.showScroll&&(e+=" show-scroll"),this.isDropDownDisabled()&&(e+=" disabled"),e.trim()},getDDEl:function(){return e.findDOMNode(this.refs.dropdown)},getOnChange:function(e){return this.callOnChangeIfExists.bind(this,e)},setSelected:function(e){var t=e.value,s=e.index;(this.props.setSelectedAnyway||this.state.value!==t||this.state.selectedIndex!==s)&&(this.reportUIChange({value:t}),this.setState({value:t,selectedIndex:s},this.getOnChange(t)))},toggle:function(){this.isDropDownDisabled()||(this.isExpanded()?a.hide():(a.show(this),i.isFunction(this.props.onExpand)&&this.props.onExpand()))},isDropDownDisabled:function(){var e=i.isArray(this.props.children)?!this.props.children.length:!this.props.children;return this.props.disabled||e},onKeyDown:function(e){i.includes(u,e.keyCode)&&(this.toggle(),e.preventDefault(),e.stopPropagation())},focus:function(){this.isMounted()&&e.findDOMNode(this).focus()},isExpanded:function(){return a.isExpanded(this)},setExpanded:function(e){this.setState({expanded:e}),!e&&i.isFunction(this.props.onCollapse)&&this.props.onCollapse()},getFocusEl:function(){var t=this.refs.focusElement;if(t)return e.findDOMNode(t)},getSearchTexts:function(){return this.getCached("searchTexts")},onHover:function(e){this.props.onHover&&this.props.onHover(e)},onOptionsVisible:function(e){this.props.onOptionsVisible&&this.props.onOptionsVisible(e)},onMouseDown:function(e){a.isExpanded(this)&&e.nativeEvent.stopImmediatePropagation()},onClick:function(e){this.toggle(),i.isFunction(this.props.onClick)&&this.props.onClick(e)},getFilteredProps:function(){return i.omit(this.filteredProps(),"shouldTranslate")}}}),define("baseUI/panelInputs/dropDown/select.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"selected dropdown-selected"},this.getCached("selectedContent"))}}),define("baseUI/panelInputs/dropDown/select",["create-react-class","prop-types","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/select.rt"],function(e,t,s,i,n,o){"use strict";function a(e,t,s,i){var o=void 0,a={},l=void 0,p=t.top,c="top"===e;return(o=c?p+t.height:i-p)<n.MIN_LIST_HEIGHT+r?(l=c?i-(o+s.scrollHeight):p-s.scrollHeight)<r&&(l=r):o=r,a.currentSide=o,a.oppositeSide=l,a}var r=n.INDENT_FROM_EDGE;return e({displayName:"select",mixins:[i],className:"select",propTypes:{shouldTranslate:t.bool},getDefaultProps:function(){return{toggleIcon:!0,template:o,setSelectedAnyway:!1}},getOptionsLocation:function(e,t,s){var i=n.getViewportSize().height,o=e.getBoundingClientRect(),l=function(e,t){return t?e.top-t.offsetTop:e.top}(o,s),p=function(e,t,s){return s-e-t.scrollHeight}(l,t,i),c=l<r,u=p<r,h=c&&u,d=0,m=Number(this.props.optionsWidth)||o.width,g=void 0;return(c||h)&&(d=-l+r),c&&!u?(l=(g=a("top",o,t,i)).currentSide,g.oppositeSide&&(p=g.oppositeSide)):u&&!c?(p=(g=a("bottom",o,t,i)).currentSide,g.oppositeSide&&(l=g.oppositeSide)):c&&u&&(l=r,p=r),{style:{top:l,bottom:p,left:o.left,width:m},scrollTop:d}},getScrollData:function(e,t,s){var i=t.getBoundingClientRect(),o=void 0,a=void 0,l=i.height<s.scrollHeight,p={distance:0},c=n.getViewportSize().height;return l&&(e>0?(o="top",a=Math.floor(i.top)):(o="bottom",a=Math.floor(c-i.bottom)),!function(e){return e>r}(a)?p.distance=e:(p.distance=function(e,t,s,i){var n=e-Math.abs(t);if(Math.abs(n)<r)n=r;else{var o=i-r-s.scrollHeight;o<r&&(o=r),n<o&&(n=o)}return n}(a,e,s,c),p.edge=o)),p}})}),define("baseUI/panelInputs/dropDown/option",["reactDOM","react","create-react-class","prop-types","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,t,s,i,n,o,a,r){"use strict";return s({displayName:"option",mixins:[o,a],propTypes:{value:i.any,index:i.number},getDefaultProps:function(){return{type:"option"}},getInitialState:function(){return{selected:r.getSelectedIndex()===this.props.index,hovered:this.props.hovered}},componentWillReceiveProps:function(e){var t=e.value,s={};this.props.value!==t&&(s.value=t),s.selected=r.getSelectedIndex()===this.props.index,this.setState(s)},select:function(){r.select(this)},getData:function(){var e=this.props;return{value:e.value,index:e.index,content:this.getCached("content"),searchText:e.searchText}},hover:function(){e.findDOMNode(this).classList.add("hovered")},unhover:function(){e.findDOMNode(this).classList.remove("hovered")},onMouseEnter:function(){r.setHovered(this)},render:function(){var e="option dropdown-option",s=this.props.children||"";return this.state.selected?e+=" selected":(this.state.hovered||this.props.hovered)&&(e+=" hovered"),s&&"string"==typeof s&&(s=s.trim(),this.props.shouldTranslate&&(s=n.translate(s))),this.updateCache("content",s),r.addOption(this),t.DOM.li({onClick:this.select,className:this.generateClassName(e),style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.unhover},s)}})}),define("baseUI/panelInputs/stepper.rt",["react","lodash","baseUI/panelInputs/dropDown/select","baseUI/panelInputs/dropDown/option"],function(e,t,s,i){"use strict";return function(){function n(){var n=this.props.units;return e.createElement("div",{className:t(this.getWrapperClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e){this.refs.input.focus()}.bind(this,n),style:this.getStepperWidth()},e.createElement("input",{ref:"input",className:"input",type:"text",value:this.state.value,disabled:!!this.props.disabled,readOnly:!this.state.edited,maxLength:"8",step:this.props.step,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:function(e){this.onFocus()}.bind(this,n),onBlur:function(e){this.handleBlur()}.bind(this,n)}),n?e.createElement("span",{className:"units-container",key:"units"},t.isArray(n)?null:e.createElement("span",{key:"units-single",className:"units"},n),t.isArray(n)?e.createElement.apply(this,[s,{key:"units-select",ref:"unitsDropdown",className:"units-dd",value:this.props.selectedUnits,onChange:this.props.onUnitsChange,optionsWidth:54,shouldTranslate:!1,disabled:!!this.props.disabled},t.map(n,function(t,s,n){return e.createElement(i,{className:"units-dropdown",value:s.value,key:"unitsItem"+n},s.label)}.bind(this,n)),">\n        "]):null):null)}return n.apply(this,[])}}),define("baseUI/panelInputs/stepper",["reactDOM","lodash","jquery","create-react-class","prop-types","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/stepper.rt"],function(e,t,s,i,n,o,a,r){"use strict";return i({displayName:"stepper",mixins:[a],propTypes:{min:n.number,max:n.number,step:n.number,selectedUnits:n.string,onUnitsChange:n.func,units:n.oneOfType([n.string,n.array]),afterBlur:n.func,isInvalidValue:n.bool,dynamicInputSize:n.object,inputInFocus:n.bool},getDefaultProps:function(){return{max:100,min:0,step:1,units:""}},getInitialState:function(){var e=this.getValueFromProps();return{value:o.normalizeNumber(void 0!==e?Number(e):0,this.props.min,this.props.max,this.props.step),edited:!1}},componentDidMount:function(){this.props.inputInFocus&&e.findDOMNode(this.refs.input).focus()},handleKeyDown:function(t){var s=t.keyCode,i=t.shiftKey;13===s&&(t.preventDefault(),e.findDOMNode(this.refs.input).blur()),27===s&&(t.preventDefault(),this.handleCancel()),38===s&&(t.preventDefault(),i?this.changeValueByStep(!0,10*this.props.step):this.changeValueByStep(!0)),40===s&&(t.preventDefault(),i?this.changeValueByStep(!1,10*this.props.step):this.changeValueByStep(!1))},getWrapperClasses:function(){var e={"input-stepper":!0,disabled:this.isDisabled(),edited:this.state.edited,"has-units":this.props.units,"with-units-dd":this.props.units&&t.isArray(this.props.units),"units-dd-expanded":this.refs.unitsDropdown&&this.refs.unitsDropdown.isExpanded(),"bad-value":this.props.isInvalidValue,"no-padding":this.props.noPadding};return this.props.className&&(e[this.props.className]=!0),e},changeValueByStep:function(e,t){t=t||this.props.step;var s=e?parseFloat(this.state.value)+t:this.state.value-t;s=o.normalizeNumber(s,this.props.min,this.props.max,this.props.step),this.acceptChanges(s)},isTemporaryValue:function(e){return t.includes([".","-",""],e)},handleChange:function(e){var t=e.target.value;/^-?[0-9]*(\.[0-9]*)?$/.test(t)&&this.setState({value:t})},handleCancel:function(){var t=this.getValueFromProps(),s=this;this.setState({value:t},function(){e.findDOMNode(s.refs.input).blur()})},handleBlur:function(){if(this.setState({edited:!1}),!this.props.disabled){var e=o.normalizeNumber(this.state.value,this.props.min,this.props.max,this.props.step);this.isTemporaryValue(this.state.value)&&(e=this.getValueFromProps()),this.acceptChanges(e),this.props.afterBlur&&this.props.afterBlur(e)}},getStepperValue:function(e){var s=this.getValueFromProps(e);return t.isUndefined(s)?s:parseFloat(s)},componentWillReceiveProps:function(e){var t=this.getStepperValue(e);if(!this.state.edited&&t!==this.state.value){var s=o.normalizeNumber(t,isNaN(e.min)?this.props.min:e.min,e.max||this.props.max,e.step||this.props.step);this.setState({value:s})}},onFocus:function(){var t=s(e.findDOMNode(this.refs.input));this.setState({edited:!0},function(){t.select().one("mouseup",function(e){e.preventDefault()})})},acceptChanges:function(e){this.setState({value:e}),this.callOnChangeIfExists(e)},getStepperWidth:function(){if(this.props.dynamicInputSize){var e=Math.floor(this.getStepperValue(this.props)),t=String(Math.abs(e)).length;return t+=e<0?1:0,{width:Math.max(t*this.props.dynamicInputSize.characterWidth,this.props.dynamicInputSize.minWidth)}}return{}},render:r})}),define("baseUI/panelInputs/slider.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/infoIcon"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",t.assign({},{className:t({"input-slider":!0,"has-label":this.hasLabel(),disabled:this.isDisabled()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getTopLevelProps()),e.createElement("label",{className:"label"},this.translateIfNeeded(this.getLabel())),this.hasLabel()&&(this.props.infoText||this.props.infoText)&&!this.props.disabled?e.createElement(i,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("div",{className:"clearfix sliderArea"},e.createElement("div",{className:"sliderContainer"},e.createElement(s,{className:this.getStepperClass(),disabled:this.props.disabled,min:this.getStepperMin(),max:this.getStepperMax(),value:this.state.value,selectedUnits:this.props.selectedUnits,units:this.props.units,step:this.getStepperStep(),onUnitsChange:this.props.onUnitsChange,onChange:this.handleStepperChange,afterBlur:this.props.afterBlur}),e.createElement("div",{className:"slider",ref:"slider",onMouseDown:this.mouseDown},e.createElement("div",{className:"line"}),e.createElement("div",{className:"knobContainer"},e.createElement("div",{className:"coloredLine",style:{width:"calc("+this.getValueInPercent()+"% + 3px)"}}),e.createElement("div",{className:"sliderKnob",style:{left:"calc("+this.getValueInPercent()+"%)"}}))))))}}),define("baseUI/panelInputs/slider",["reactDOM","jquery","lodash","create-react-class","prop-types","baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/slider.rt"],function(e,t,s,i,n,o,a,r,l,p){"use strict";return i({displayName:"slider",mixins:[o,a,r.translationMixin,l],contextTypes:{reportUIChange:n.func},propTypes:{min:n.number,max:n.number,stepperMin:n.number,stepperMax:n.number,steppeStep:n.number,selectedUnits:n.string,onUnitsChange:n.func,units:n.oneOfType([n.string,n.array]),step:n.number,defaultValue:n.number,infoText:n.string,infoTitle:n.string,onSlideEnd:n.func,isSmallStepper:n.bool,afterBlur:n.func,middleValueForPolynomial:n.number},getDefaultProps:function(){return{max:100,min:0,step:1,units:"",isSmallStepper:!1}},getStepperClass:function(){var e="";return s.isArray(this.props.units)?e="with-units-dd":this.props.isSmallStepper&&(e="small"),e},getSliderValue:function(e){var t=this.getValueFromProps(e);return s.isUndefined(t)?t:parseFloat(t)},getInitialState:function(){this.sliderX=0,this.sliderWidth=0;var e=this.props.middleValueForPolynomial;e&&(this.quadraticEquation=r.math.getQuadraticEquationBy3Points({x:0,y:this.props.min},{x:50,y:e},{x:100,y:this.props.max}));var t=this.getSliderValue(),i=void 0!==this.props.defaultValue?Number(this.props.defaultValue):this.props.min,n=s.isNumber(t)?t:i;return{value:r.normalizeNumber(n,this.props.min,this.props.max,this.props.step)}},getValueInPercent:function(){var e=this.state.value;return this.state.value>this.props.max?e=this.props.max:this.state.value<this.props.min&&(e=this.props.min),this.quadraticEquation?Math.round(this.quadraticEquation.fInverse(e)):Math.round((e-this.props.min)/(this.props.max-this.props.min)*100)},fromPercent:function(e){return this.props.min+(this.props.max-this.props.min)*e/100},calcPositionOnSlider:function(e){var t=(e-this.sliderX)/this.sliderWidth*100;return Math.min(Math.max(t,0),100)},calcNewValueFromKnob:function(e){var t=this.calcPositionOnSlider(e);if(this.quadraticEquation){var s=Math.round(this.quadraticEquation.f(t));return Math.min(Math.max(s,this.props.min),this.props.max)}return r.normalizeNumber(this.fromPercent(t),this.props.min,this.props.max,this.props.step)},handleKnobPositionChange:function(e){if(!this.props.disabled){var t=this.calcNewValueFromKnob(e.pageX-8);this.handleChange(t)}},mouseUp:function(){t(window.document.body).removeClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup"),this.reportUIChange({value:this.state.value,value_change_origin:"Slider"}),this.props.onSlideEnd&&this.props.onSlideEnd()},mouseDown:function(s){t(window.document.body).addClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup");var i=t(e.findDOMNode(this.refs.slider));this.sliderX=i.offset().left,this.sliderWidth=i.width()-16,this.handleKnobPositionChange(s),this.registerEventListenersToDocument("mousemove",this.handleKnobPositionChange),this.registerEventListenersToDocument("mouseup",this.mouseUp)},handleChange:function(e,t){this.state.value!==e&&(this.setState({value:e}),this.callOnChangeIfExists(e,t))},handleStepperChange:function(e){e=r.normalizeNumber(e,this.getStepperMin(),this.getStepperMax(),this.getStepperStep()),this.handleChange(e,!0),this.reportUIChange({value:e,value_change_origin:"Input"})},getStepperMax:function(e){var t=void 0;return e&&(t=e.stepperMax||e.max),t||(t=this.props.stepperMax||this.props.max),t},getStepperMin:function(e){var t=void 0;return e&&(t=e.stepperMin,isNaN(t)&&(t=e.min)),isNaN(t)&&(t=this.props.stepperMin,isNaN(t)&&(t=this.props.min)),t},getStepperStep:function(e){var t=void 0;return e&&(t=e.stepperStep,isNaN(t)&&(t=e.step)),isNaN(t)&&(t=this.props.stepperStep,isNaN(t)&&(t=this.props.step)),t},componentWillReceiveProps:function(e){var t=this.getSliderValue(e);if(t!==this.state.value){var s=r.normalizeNumber(t,this.getStepperMin(e),this.getStepperMax(e),this.getStepperStep(e));this.setState({value:s})}},getTopLevelProps:function(){return s.omit(this.props,["min","max","selectedUnits","units","step","defaultValue","infoText","infoTitle","isSmallStepper","middleValueForPolynomial","shouldTranslate","value","onChange"])},render:p})}),define("baseUI/panelInputs/stepperWithSVG.rt",["react","lodash","symbols","baseUI/panelInputs/stepper"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"stepper-with-svg",onClick:function(e){this.handleToolTipClick(e)}.bind(this)},e.createElement(i,this.props.stepperProps),this.props.showSymbol?e.createElement(s.symbol,{className:t({safari:this.getBrowserData().safari}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),name:this.props.symbolName,key:"stepperSVG",onClick:function(e){this.handleSymbolClick(e)}.bind(this)}):null)}}),define("baseUI/panelInputs/stepperWithSVG",["core","create-react-class","prop-types","lodash","coreUtilsLib","baseUI/panelInputs/stepperWithSVG.rt"],function(e,t,s,i,n,o){"use strict";return t({displayName:"stepperWithSVG",mixins:[e.mixins.editorAPIMixin],propTypes:{showSymbol:s.bool,stepperClickFunc:s.func,symbolClickFunc:s.func,symbolName:s.string,stepperProps:s.object},getBrowserData:function(){var e=n.browserDetection(window.navigator.userAgent);return e&&e.browser},handleToolTipClick:function(e){e.stopPropagation(),this.props.stepperClickFunc()},handleSymbolClick:function(e){e.stopPropagation(),this.props.symbolClickFunc()},render:o})}),define("baseUI/panelInputs/prefixedTextInput.rt",["react","lodash","baseUI/panelInputs/textInput"],function(e,t,s){"use strict";return function(){return e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:"prefixed-text-input-container"},this.filteredProps()),this.hasLabel()?e.createElement("label",{key:"title",className:"label"},this.translateIfNeeded(this.getLabel())):null,e.createElement("div",{},e.createElement("label",{className:"prefixed-text-input-label"},this.translateIfNeeded(this.getInputPrefix())),e.createElement(s,this.getInputProps())))}}),define("baseUI/panelInputs/prefixedTextInput",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/prefixedTextInput.rt"],function(e,t,s,i,n,o){"use strict";return e({mixins:[n,i.translationMixin],displayName:"prefixedTextInput",propTypes:{label:t.string,prefix:t.string.isRequired},getInputPrefix:function(){return this.props.prefix},getInputProps:function(){return s.omit(this.props,"label")},render:o})}),define("baseUI/controls/button2.rt",["react","lodash","symbols","experiment"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",this.getWrapperProps({className:"control-button2-wrapper"}),e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:this.getClassName("control-button2"),disabled:this.props.disabled?"disabled":""},this.filteredProps()),e.createElement("input",{type:"button",disabled:this.props.disabled?"disabled":""}),this.props.symbolName?e.createElement(s.symbol,{name:this.props.symbolName,className:"symbol",key:"symbol",hintId:i.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.hintId:null}):null,this.props.label?e.createElement("span",{className:"label "+this.props.customLabelClass,"data-hint-id":i.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.hintId:null,key:"label"},this.translateIfNeeded(this.props.label)):null))}}),define("baseUI/controls/button2",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","util","baseUI/controls/button2.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"Button2",mixins:[i,n.translationMixin],propTypes:{label:t.string,className:t.string,wrapperClass:t.string,wrapperStyle:t.object,disabled:t.bool,symbolName:t.string,hintId:t.string},getWrapperProps:function(e){var t={};return s.assign(t,e),s.isEmpty(this.props.wrapperClass)||(t.class=s.compact([t.class,this.props.wrapperClass].join(" "))),s.isEmpty(this.props.wrapperStyle)||(t.style=this.props.wrapperStyle),t},render:o})}),define("baseUI/controls/fileInput.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement("label",{className:"file-input-control "+(this.props.onlyText?"text":"button"),disabled:!!this.props.disabled},e.createElement("input",{className:"input-"+this.props.name,type:"file",ref:"input",disabled:!!this.props.disabled,multiple:!0,onClick:this.onClick,accept:this.props.fileTypes,onChange:function(e){this.handleChange(e)}.bind(this)}),this.props.onlyText?null:e.createElement(s.symbol,{name:"upload-btn",key:"button-symbol"}),e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label)))}}),define("baseUI/controls/fileInput",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/controls/fileInput.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"fileInput",propTypes:{label:t.string.isRequired,disabled:t.bool,onChange:t.func,onlyText:t.bool,fileTypes:t.string},mixins:[i,o,n.translationMixin],render:a,handleChange:function(e){var t=e.target.files;this.reportUIChange({value:t}),this.callOnChangeIfExists(t)},onClick:function(){this.refs.input.value=null}})}),define("baseUI/controls/filesDrop.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({"drag-area-control":!0,"with-border ":this.props.hasBorder,dragging:this.state.isDragging}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onDragOver:this.handleDragOver,onDrop:this.handleDrop,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave},e.createElement("div",{className:"drag-area-content"},e.createElement("div",{},this.props.children)))}}),define("baseUI/controls/filesDrop",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","baseUI/controls/filesDrop.rt"],function(e,t,s,i,n,o){"use strict";function a(e){e.preventDefault()}return e({displayName:"filesDrop",propTypes:{onDrop:t.func,hasBorder:t.bool},mixins:[i,n],render:o,getDefaultProps:function(){return{hasBorder:!0}},getInitialState:function(){return{isDragging:!1}},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",this.setState({isDragging:!0})},handleDragEnter:function(e){e.preventDefault(),this.setState({isDragging:!0})},handleDragLeave:function(e){e.preventDefault(),this.setState({isDragging:!1})},handleDrop:function(e){e.preventDefault();var t=e.dataTransfer?e.dataTransfer.files:e.target.files;this.handleChange(t),s.isFunction(this.props.onDrop)&&this.props.onDrop(),this.setState({isDragging:!1})},handleChange:function(e){this.reportUIChange({value:e}),this.callOnChangeIfExists(e)},componentWillMount:function(){window.addEventListener("dragover",a),window.addEventListener("drop",a)},componentWillUnmount:function(){window.removeEventListener("dragover",a),window.removeEventListener("drop",a)}})}),define("baseUI/controls/sectionDividerLabeledC06.rt",["react","lodash","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,i){"use strict";return function(){return e.createElement(i.SectionDivider,{className:"labeled",label:this.props.label,shouldTranslate:this.props.shouldTranslate},this.translateIfNeeded(this.props.label),"\r\n    ",this.props.infoText?e.createElement(s,{key:"icon",size:18,text:this.props.infoText,title:this.props.infoTitle,fitToBoundsWidth:!1}):null)}}),define("baseUI/controls/sectionDividerLabeledC06",["create-react-class","prop-types","lodash","util","baseUI/controls/sectionDividerLabeledC06.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"sectionDividerLabeledC06",mixins:[i.translationMixin],propTypes:{label:t.string,infoTitle:t.string,infoText:t.string},render:n})}),define("baseUI/panelInputs/dropDown/contextMenu.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"symbol-more "+t({shrink:this.props.shrink}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(s.symbol,{name:this.props.icon||"more"}),t.isNumber(this.props.notificationCount)&&!t.isNaN(this.props.notificationCount)&&t.isFunction(this.props.onNotificationClick)?e.createElement("span",{key:"notification",className:"notification",onClick:this.onNotificationClick},this.props.notificationCount):null)}}),define("baseUI/panelInputs/dropDown/contextMenu",["create-react-class","prop-types","lodash","core","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/contextMenu.rt"],function(e,t,s,i,n,o,a){"use strict";function r(e,t,s){return e.height-t-s.scrollHeight}return e({displayName:"contextMenu",mixins:[n,i.mixins.editorAPIMixin],className:"context-menu",propTypes:{icon:t.string,notificationCount:t.number,onNotificationClick:t.func,shrink:t.bool},getDefaultProps:function(){return{toggleIcon:!1,template:a,setSelectedAnyway:!0}},getOptionsLocation:function(e,t){var s=e.getBoundingClientRect(),i=o.getViewportSize(),n=this.props.optionsWidth||t.getBoundingClientRect().width+1,a=s.left+s.width,l=s.top-10,p=r(i,l,t),c=["tag-triangle"];return!function(e,t,s){return e.width>=t+s}(i,a,n)?(a=s.left-n,c.push("tag-right")):c.push("tag-left"),!function(e){return e>=o.INDENT_FROM_EDGE}(p)?(p=r(i,l=s.bottom-t.scrollHeight+10,t),c.push("tag-side-bottom")):c.push("tag-side-top"),{style:{top:l,bottom:p,left:a,width:n},optionalClasses:c}},onNotificationClick:function(e){this.props.onNotificationClick(e),this.getEditorAPI().bi.event(i.bi.events.urlTooltip.url_tooltip_notification_clicked),e.stopPropagation()}})}),define("baseUI/panelInputs/dropDown/combobox.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"combo-box selected"},this.state.expanded?null:e.createElement("span",{key:"selectedContent"},this.getCached("selectedContent")),this.state.expanded?e.createElement("input",{className:"combo-box-input",key:"selectedInput",ref:"focusElement",type:"text",value:this.getCached("selectedSearchText"),onChange:this.onInputChange,onFocus:this.onFocus,onKeyDown:this.onInputKeyDown,onMouseDown:function(e){e.nativeEvent.stopImmediatePropagation()}.bind(this),onClick:function(e){e.stopPropagation()}.bind(this)}):null)}}),define("baseUI/panelInputs/dropDown/combobox",["reactDOM","create-react-class","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/combobox.rt"],function(e,t,s,i,n,o){"use strict";var a=n.INDENT_FROM_EDGE,r={13:"enter",27:"esc",32:"space",8:"backspace",38:"up",37:"left",39:"right",40:"down"};return t({displayName:"combobox",mixins:[i],className:"combobox",isBackspace:!1,getInitialState:function(){return{inputValue:""}},getDefaultProps:function(){return{toggleIcon:!0,template:o,setSelectedAnyway:!1,showScrollBar:!0}},componentDidUpdate:function(t,s){!s.expanded&&this.state.expanded&&n.focus(e.findDOMNode(this.refs.focusElement))},getOptionsLocation:function(e,t,s,i){var o=e.getBoundingClientRect(),r=n.getViewportSize().height,l=o.top+o.height,p=r-l-t.scrollHeight;i&&(p-=i.getBoundingClientRect().height),p<a&&(p=a);return r-l-p<n.MIN_LIST_HEIGHT&&(l=r-(p=r-o.top)-t.scrollHeight,i&&(l-=i.getBoundingClientRect().height),l<a&&(l=a)),{style:{top:l,bottom:p,left:o.left,width:Number(this.props.optionsWidth)||o.width},scrollTop:s&&s.offsetTop||0}},getScrollData:function(e){return{distance:e}},onInputChange:function(e){var t=e.currentTarget,s=void 0,i=void 0;s=this.isBackspace&&this.state.inputValue===t.value?t.value.slice(0,-1):t.value;var o=n.search(s);i=o?o.searchText:s,this.updateCache("selectedSearchText",i),this.setState({inputValue:s},function(){o&&t.setSelectionRange(s.length,i.length)})},onInputKeyDown:function(e){var t=r[e.keyCode];if(this.isBackspace="backspace"===t,t){if(s.includes(["enter","esc","up","down"],t)&&n.getKeyboardHandlers()[t](e),"space"===t&&e.stopPropagation(),"left"===t||"right"===t){(function(e,t){var s=e.selectionStart,i=e.value.length,n=e.selectionStart===e.selectionEnd,o=0===s,a=s===i;return!n||n&&(!o&&!a||o&&"right"===t||a&&"left"===t)})(e.currentTarget,t)&&e.nativeEvent.stopImmediatePropagation()}}},onFocus:function(e){e.currentTarget.select()}})}),define("baseUI/panelInputs/dropDown/options.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement("section",{className:"dropdown-options "+this.state.className+" "+(this.state.visible?"expanded":"")},e.createElement("div",{className:"options",ref:"options",onWheel:this.wheelScroll,onScroll:this.handleScroll,tabIndex:"0",onMouseLeave:this.onMouseLeave,onMouseDown:function(e){e.nativeEvent.stopImmediatePropagation()}.bind(this)},e.createElement("i",{className:"top arrow",onMouseEnter:function(){this.scrollTo(-1)}.bind(this),onMouseLeave:this.stopScrollAnimation},e.createElement(s.symbol,{name:"arrowDown"})),e.createElement("ol",{className:"list",ref:"list"},e.createElement("span",{className:"options-container"},"\n                ",this.getCached("options"),"\n            ")),this.getCached("footer")?e.createElement("footer",{className:"options-footer",ref:"footer",key:"options-footer"},this.getCached("footer")):null,e.createElement("i",{className:"bottom arrow",onMouseEnter:function(){this.scrollTo(1)}.bind(this),onMouseLeave:this.stopScrollAnimation},e.createElement(s.symbol,{name:"arrowDown"})),e.createElement("div",{className:"mouse-events-blocker",ref:"mouseEventsBlocker",onMouseMove:this.hideMouseEventsBlocker})))}}),define("baseUI/panelInputs/dropDown/options",["reactDOM","create-react-class","lodash","util","coreUtilsLib","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/options.rt"],function(e,t,s,i,n,o,a,r){"use strict";function l(e,t){return t.classList.contains(e)}var p=i.keyboardShortcuts,c=n.browserDetection(window.navigator.userAgent),u=c&&c.browser;return t({displayName:"options",mixins:[a],render:r,getInitialState:function(){return this.updateCache({optionalClasses:null,initialKeyboardContext:"",optionsElStyle:null}),{visible:!1,className:"",showScrollBar:!1}},getWindow:function(){return window},componentDidMount:function(){var e=this.getWindow();o.registerOptionsComponent(this),p.registerContext(o.KEYBOARD_CONTEXT,o.getKeyboardHandlers()),this.onWindowResize=function(){this.state.visible&&(this.locate(o.getOptionsLocation()),this.state.showScrollBar||this.toggleScrollArrows())}.bind(this),this.onWindowScroll=function(){this.state.visible&&this.hide()}.bind(this),e.addEventListener("resize",this.onWindowResize),e.addEventListener("scroll",this.onWindowScroll)},shouldComponentUpdate:function(e,t){return void 0!==t.visible&&t.visible!==this.state.visible||void 0!==t.className&&t.className!==this.state.className},componentDidUpdate:function(){var e=this.getOptionsEl();if(this.state.visible){var t=this.getOptionsListEl();u.chrome&&t.style.setProperty("flex-basis",t.scrollHeight+"px"),this.locate(o.getOptionsLocation()),this.state.showScrollBar?this.hideScrollArrows():this.toggleScrollArrows(),o.onOptionsVisible(),o.focus(e)}else{var s=this.getCached("optionalClasses");s&&s.length&&(s.forEach(function(t){e.classList.remove(t)}),this.updateCache("optionalClasses",null))}},componentWillUnmount:function(){var e=this.getWindow();e.removeEventListener("resize",this.onWindowResize),e.removeEventListener("scroll",this.onWindowScroll),p.unregisterContext(o.KEYBOARD_CONTEXT)},show:function(e){this.updateCache({options:e.items,initialKeyboardContext:p.getContext(),footer:e.footer}),p.setContext(o.KEYBOARD_CONTEXT),this.setState({visible:!0,className:e.className,showScrollBar:e.showScrollBar})},hide:function(){this.setState({visible:!1}),this.resetOptionsElStyle(),p.getContext()===o.KEYBOARD_CONTEXT&&p.setContext(this.getCached("initialKeyboardContext"))},getOptionsListEl:function(){return e.findDOMNode(this.refs.list)},getOptionsEl:function(){return e.findDOMNode(this.refs.options)},getFooterEl:function(){var t=this.refs.footer;return t?e.findDOMNode(t):null},locate:function(e){var t=this.getOptionsEl(),i=e.optionalClasses,n={};s.forEach(e.style,function(e,s){t.style.setProperty(s,e+"px")}),n.optionsElStyle=e.style,this.getOptionsListEl().scrollTop=e.scrollTop||0,i&&i.length&&(i.forEach(function(e){t.classList.add(e)}),n.optionalClasses=i),this.updateCache(n)},toggleScrollArrows:function(){var e=this.getOptionsListEl(),t=this.getOptionsEl(),s=l("up",t),i=l("down",t),n=l("scroll",t),o=function(e){return e.scrollTop>0}(e),a=function(e){return e.offsetHeight+e.scrollTop+1<e.scrollHeight}(e);!o&&!a||n?o||a||!n||t.classList.remove("scroll"):t.classList.add("scroll"),o&&!s?t.classList.add("up"):s&&!o&&t.classList.remove("up"),a&&!i?t.classList.add("down"):i&&!a&&t.classList.remove("down")},hideScrollArrows:function(){var e=this.getOptionsEl();l("up",e)&&e.classList.remove("up"),l("down",e)&&e.classList.remove("down")},wheelScroll:function(e){this.scroll(o.getScrollData(e.deltaY)),o.onOptionsVisible()},handleScroll:function(){o.onOptionsVisible()},scroll:function(e){e&&(e.edge?this.getOptionsEl().style.setProperty(e.edge,e.distance+"px"):this.getOptionsListEl().scrollTop+=e.distance,this.state.showScrollBar||this.toggleScrollArrows())},scrollTo:function(e){this.scroll(o.getScrollData(e*o.DEFAULT_SCROLL_SPEED)),this.scrollAnimationFrame=window.requestAnimationFrame(this.scrollTo.bind(this,e))},scrollBy:function(e){this.scroll(o.getScrollData(e))},stopScrollAnimation:function(){window.cancelAnimationFrame(this.scrollAnimationFrame)},onMouseLeave:function(){o.setHovered(null)},resetOptionsElStyle:function(){var e=this.getOptionsEl();s.forEach(this.getCached("optionsElStyle"),function(t,s){e.style.setProperty(s,"")}),this.getOptionsListEl().style.setProperty("flex-basis","auto")},showMouseEventsBlocker:function(){e.findDOMNode(this.refs.mouseEventsBlocker).classList.add("visible")},hideMouseEventsBlocker:function(t){var s=this.getCached("currentMouseCoordinates");s?!s||s.x===t.clientX&&s.y===t.clientY||(e.findDOMNode(this.refs.mouseEventsBlocker).classList.remove("visible"),this.updateCache("currentMouseCoordinates",null)):this.updateCache("currentMouseCoordinates",{x:t.clientX,y:t.clientY})}})}),define("baseUI/panelInputs/dropDown/optgroup",["react","create-react-class","prop-types","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,t,s,i,n,o){"use strict";return t({displayName:"optgroup",mixins:[n,o,i.translationMixin],propTypes:{label:s.string},getDefaultProps:function(){return{type:"optgroup"}},render:function(){var t=this.props.label;return t&&(t=this.translateIfNeeded(t.trim())),e.DOM.li({className:this.generateClassName("optgroup dropdown-optgroup"),style:this.props.style,children:[e.DOM.h5({className:"optgroup-label"},t),e.DOM.ol({className:"optgroup-list"},this.props.children)]})}})}),define("baseUI/panelInputs/dropDown/footer",["react","create-react-class","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,t,s,i,n){"use strict";return t({displayName:"footer",mixins:[i],getDefaultProps:function(){return{type:"footer"}},render:function(){var t=this.props.children||"";return"string"==typeof t&&(t=t.trim(),this.props.shouldTranslate&&(t=s.translate(t))),e.DOM.div({onClick:n.hide.bind(n),className:this.generateClassName(this.props.className),style:this.props.style},t)}})}),define("baseUI/panelInputs/dropDown/iconsMenu.rt",["react","lodash","baseUI/popovers/tooltip","symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement(s,{key:"iconsMenu",value:this.props.tooltip,disabled:!this.props.tooltip},e.createElement("div",{className:"icons-menu-button-wrapper",onClick:function(e){this.props.clickAction(e)}.bind(this)},e.createElement(i.symbol,{name:this.props.icon}),this.props.smallIndicator?e.createElement("div",{className:"small-indicator",key:"smallIndicator"}):null))}}),define("baseUI/panelInputs/dropDown/iconsMenu",["create-react-class","prop-types","lodash","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/iconsMenu.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"iconsMenu",mixins:[n],className:"icons-menu",propTypes:{label:t.string,tooltip:t.oneOfType([t.string,t.bool]),smallIndicator:t.bool,clickAction:t.func},getDefaultProps:function(){return{toggleIcon:!1,template:o,smallIndicator:!1,setSelectedAnyway:!0,tooltip:!1,clickAction:s.noop}},getOptionsLocation:function(e,t){var s=i.getViewportSize(),n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=n.left+n.width/2-o.width/2,r=n.top+n.height+5,l="tag-top";r+o.height+20>s.height&&(r-=o.height+2*n.height,l="tag-bottom");return{style:{top:r,left:a},optionalClasses:["tag-triangle",l]}}})}),define("baseUI/panelInputs/multiValueLinksMixin",[],function(){"use strict";return{getFieldValueFromProps:function(e,t){var s=(e=e||this.props)[t+"Link"];return void 0!==s?s.value:e[t]},callOnFieldChangeIfExists:function(e,t){var s=e+"Link",i=this.props[s]?this.props[s].requestChange:this.props["on"+s+"Change"];i&&i(t)}}}),define("baseUI/controls/toggleMixin",["prop-types","baseUI/panelInputs/inputMixin","util","baseUI/mixins/reportUIChangeMixin"],function(e,t,s,i){"use strict";return{mixins:[t,i,s.translationMixin],contextTypes:{reportUIChange:e.func},handleChange:function(){var e=!this.getValueFromProps(this.props);this.reportUIChange({value:e}),this.callOnChangeIfExists(e)}}}),define("baseUI/controls/mandatory.rt",["react","lodash","baseUI/popovers/tooltip"],function(e,t,s){"use strict";return function(){return e.createElement(s,{disabled:!this.props.forceDisable&&!!this.props.disabled,value:this.state.mandatoryTooltip},e.createElement("label",{className:this.getClassName("control-mandatory")},e.createElement("input",{type:"checkbox",checked:this.getValueFromProps(this.props),disabled:!!this.props.disabled,onChange:function(e){this.onMandatoryFieldChecked(e)}.bind(this)}),e.createElement("span",{})))}}),define("baseUI/controls/mandatory",["create-react-class","baseUI/controls/toggleMixin","baseUI/controls/mandatory.rt"],function(e,t,s){"use strict";return e({displayName:"mandatory",mixins:[t],render:s,getInitialState:function(){return this.originalDisabled=this.props.disabled,this.isChecked=this.getValueFromProps(this.props),{mandatoryTooltip:this.getTooltipValue(this.getValueFromProps(this.props),this.props.disabled,this.props.forceDisable)}},componentWillReceiveProps:function(e){this.props.disabled!==e.disabled&&(this.originalDisabled=e.disabled,this.setState({mandatoryTooltip:this.getTooltipValue(this.isChecked,e.disabled,e.forceDisable)}))},getTooltipValue:function(e,t,s){return t?s?this.props.hoverToolTipsKeys.forceDisabled:this.props.hoverToolTipsKeys.disabled:e?this.props.hoverToolTipsKeys.mandatoryEnabled:this.props.hoverToolTipsKeys.nonMandatoryEnabled},updateTooltipValue:function(e){this.setState({mandatoryTooltip:this.getTooltipValue(e.target.checked,this.props.disabled,this.props.forceDisable)})},onMandatoryFieldChecked:function(e){this.originalDisabled||(this.isChecked=e.target.checked,this.handleChange(),this.updateTooltipValue(e))}})}),define("baseUI/controls/toggle.rt",["react","lodash","symbols","util","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement(o.Toggle,this.getToggleProps(),this.props.label&&!this.props.labelAfterSymbol?e.createElement("span",{key:"labelBefore",className:"label label-"+this.props.name},this.translateIfNeeded(this.props.label)):null,e.createElement(s.symbol,{name:this.props.name}),this.props.label&&this.props.labelAfterSymbol?e.createElement("span",{key:"labelAfter",className:"label label-"+this.props.name},this.translateIfNeeded(this.props.label)):null,this.shouldDisplayInfoIcon()?e.createElement(n,t.assign({},{key:"infoIcon"},this.getInfoIconProps())):null)}}),define("baseUI/controls/toggle",["react","create-react-class","prop-types","lodash","baseUILib","baseUI/controls/infoIcon","baseUI/controls/toggleMixin","baseUI/controls/toggle.rt","coreUtilsLib"],function(e,t,s,i,n,o,a,r,l){"use strict";var p={switch:"ToggleSwitch",checkbox:"Checkbox"};return t({displayName:"boolean",propTypes:{name:s.string,label:s.oneOfType([s.string,s.element]),infoText:s.string,infoTitle:s.string,shouldDisplayInfoIcon:s.bool,infoAlignment:s.string,infoFitToBounds:s.bool,disabled:s.bool,labelAfterSymbol:s.bool,shouldTranslate:s.bool,size:s.string},mixins:[a],getDefaultProps:function(){return{name:"switch"}},componentDidMount:function(){"checkbox"===this.props.name&&l.log.error("DEPRECATED: Toggle with name checkbox is deprecated, use new base ui lib checkbox")},getClasses:function(){var e=i.includes(this.props.className,"show-on-all-pages")?"emphasise":"";return this.getClassName(["control-"+this.props.name,this.getSizeClass(),e].join(" "))},getSizeClass:function(){return"medium"===this.props.size?"medium-scale":"no-scale"},getToggleProps:function(){var e=this.props.valueLink,t=e?{value:e.value,onChange:this.callOnChangeIfExists}:{};return i.assign({},this.props,t,{className:this.getClasses()})},shouldDisplayInfoIcon:function(){return this.props.shouldDisplayInfoIcon||this.props.infoText||this.props.infoTitle},getInfoIconProps:function(){return{className:"info-"+this.props.name,key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText,alignment:this.props.infoAlignment,fitToBounds:this.props.infoFitToBounds}},render:function(){var t=n[p[this.props.name]];if(t){var s=this.shouldDisplayInfoIcon()?[this.props.children,e.createElement(o,this.getInfoIconProps())]:this.props.children;return e.createElement(t,this.getToggleProps(),s)}return r.call(this)}})}),define("baseUI/panelInputs/selectiveTextInputWithMandatoryButton.rt",["react","lodash","baseUI/panelInputs/textInput","baseUI/controls/mandatory","baseUI/controls/toggle","baseUILib"],function(e,t,s,i,n,o){"use strict";return function(){return function(){var t=!this.state.enabled;return e.createElement("div",{className:"selective-text-input"},e.createElement(s,{disabled:t,onChange:function(e,t){this.fieldNameChanged(t)}.bind(this,t),className:"textInput",maxLength:this.props.maxLength,placeholder:this.props.placeholder,value:this.state.fieldName}),e.createElement(o.Checkbox,{disabled:this.props.forceDisable,onChange:function(e){this.enabledChanged()}.bind(this,t),value:this.state.enabled}),e.createElement(i,{displayName:this.props.displayName,hoverToolTipsKeys:this.props.hoverToolTipsKeys,disabled:t||this.props.forceDisable,forceDisable:this.props.forceDisable,onChange:function(e){this.requiredChanged()}.bind(this,t),value:this.state.required}))}.apply(this,[])}}),define("baseUI/panelInputs/selectiveTextInputWithMandatoryButton",["react","create-react-class","prop-types","lodash","baseUI/panelInputs/multiValueLinksMixin","baseUI/panelInputs/selectiveTextInputWithMandatoryButton.rt","util"],function(e,t,s,i,n,o,a){"use strict";return t({displayName:"selectiveTextInputWithMandatoryButton",mixins:[a.translationMixin,n,e.addons.LinkedStateMixin],propTypes:{placeholder:s.string,enabledLink:s.any,fieldNameLink:s.any,requiredLink:s.any},getInitialState:function(){return{enabled:this.getFieldValueFromProps(this.props,"enabled"),required:this.getFieldValueFromProps(this.props,"required"),fieldName:this.getFieldValueFromProps(this.props,"fieldName")||this.translateIfNeeded(this.props.defaultFieldName)}},render:o,enabledChanged:function(){var e=!this.state.enabled;this.setState({enabled:e}),this.callOnFieldChangeIfExists("enabled",e)},requiredChanged:function(){var e=!this.state.required;this.setState({required:e}),this.callOnFieldChangeIfExists("required",e)},fieldNameChanged:function(e){this.setState({fieldName:e}),this.callOnFieldChangeIfExists("fieldName",e)}})}),define("baseUI/panelInputs/textInputWithToggle.rt",["react","lodash","baseUI/controls/button2","baseUI/controls/toggle","symbols","baseUI/panelInputs/textInput"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",{className:"text-input-with-toggle",style:{height:this.getCompHeight()}},this.props.symbol?e.createElement("div",{className:"input-with-toggle-symbol",key:this.props.symbol},e.createElement(n.symbol,{className:this.props.symbol+" symbol",name:this.props.symbol})):null,e.createElement("div",{className:"input-with-toggle-group",style:{left:this.getLeftOffset()}},e.createElement(i,{disabled:this.props.disabled,name:this.props.toggleType,valueLink:this.props.toggleValueLink,label:this.props.label}),this.props.toggleValueLink.value?e.createElement("div",{key:this.props.inputKey},e.createElement(o,{disabled:this.props.disabled,focus:this.props.shouldInputFocus,placeholder:this.props.placeholder,onBlur:this.props.onBlur,maxLength:this.props.maxLength,validator:this.props.validator,invalidMessage:this.props.invalidMessage,valueLink:this.props.inputValueLink})):null))}}),define("baseUI/panelInputs/textInputWithToggle",["create-react-class","prop-types","lodash","baseUI/panelInputs/textInputWithToggle.rt"],function(e,t,s,i){"use strict";return e({displayName:"textInputWithToggle",propTypes:{symbol:t.string,toggleType:t.string,toggleValueLink:t.object,inputValueLink:t.object,label:t.string,shouldInputFocus:t.bool,disabled:t.bool,placeholder:t.string,onBlur:t.func,maxLength:t.number,validator:t.oneOfType([t.func,t.arrayOf(t.func)]),invalidMessage:t.string,inputKey:t.string.isRequired},getDefaultProps:function(){return{toggleType:"switch",shouldInputFocus:!1}},getLeftOffset:function(){return this.props.symbol?"30px":0},getCompHeight:function(){return 30*this.props.toggleValueLink.value+35+"px"},render:i})}),define("baseUI/panelInputs/textInputWithButton.rt",["react","lodash","baseUI/controls/button","uiConstants","baseUI/panelInputs/textInput","symbols"],function(e,t,s,i,n,o){"use strict";return function(){function i(){var i=this.isDisabled();return e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:"control-text-input-with-button"+(i?" disabled":"")},this.filteredProps()),e.createElement(n,{valueLink:{value:this.getValueFromProps(),requestChange:this.updateValue},label:this.props.label,shouldTranslate:this.props.shouldTranslate,placeholder:this.props.placeholder,defaultText:this.props.defaultText,maxLength:this.props.maxLength,focus:this.props.focus,isMultiLine:this.props.multiLine,validator:this.props.validator,asyncValidator:this.props.asyncValidator,invalidMessage:this.props.invalidMessage,onFocus:function(e){this.toggleFocus(!0)}.bind(this,i),onBlur:function(e){this.toggleFocus(!1)}.bind(this,i),infoText:this.props.infoText,infoTitle:this.props.infoTitle,validateOnBlurOnly:!0}),this.shouldShowButton()?e.createElement(s,{key:"textInputWithButtonButton",ref:"actionButton",onClick:this.handleClick,disabled:!this.state.isFocused,label:this.props.buttonLabel,shouldTranslate:this.props.shouldTranslate}):null)}return i.apply(this,[])}}),define("baseUI/panelInputs/textInputWithButton",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/panelInputs/textInputWithButton.rt"],function(e,t,s,i,n,o){"use strict";return e({mixins:[n,i.translationMixin],displayName:"textInputWithButton",propTypes:{label:t.string,validator:t.oneOfType([t.func,t.arrayOf(t.func)]),invalidMessage:t.oneOfType([t.func,t.string,t.arrayOf(t.string)]),placeholder:t.string,defaultText:t.string,multiLine:t.bool,buttonLabel:t.string,maxLength:t.number,focus:t.bool,infoText:t.string,infoTitle:t.string,fixedButton:t.bool},getInitialState:function(){return{isFocused:!1}},updateValue:function(e,t){this.callOnChangeIfExists(e,t)},toggleFocus:function(e){this.setState({isFocused:e})},shouldShowButton:function(){return this.props.buttonLabel&&this.props.fixedButton&&this.state.isFocused},render:o})}),define("baseUI/panelInputs/textInputWithFixedButton.rt",["react","lodash","baseUI/controls/button","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,i,n,o){"use strict";return function(){return function(){var n=this.isValid();return e.createElement("div",t.assign({},{className:t({"control-text-input-with-fixed-button":!0,invalid:!this.isValid(),success:this.isValid(),focused:this.state.isFocused}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.filteredProps()),e.createElement(i,{id:this.getTooltipId(),value:this.getValidationStatusMessage(),disabled:this.isValid(),ref:"tooltip"},e.createElement("input",{className:"control-text",value:this.state.value,onChange:this.handleChange,maxLength:this.props.maxLength,onFocus:function(e){this.setFocusState(!0)}.bind(this,n),onKeyPress:this.onKeyPress,type:"text",autoFocus:"true",dir:this.props.dir})),e.createElement(s,{ref:"actionButton",onClick:this.handleClick,label:this.props.buttonLabel,className:t({disabled:!this.isValid()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")}))}.apply(this,[])}}),define("baseUI/panelInputs/textInputWithFixedButton",["reactDOM","create-react-class","prop-types","jquery","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputWithFixedButton.rt"],function(e,t,s,i,n,o,a,r,l,p){"use strict";return t({mixins:[a,r,o.translationMixin,o.outerClickMixin],displayName:"textInputWithFixedButton",propTypes:{buttonLabel:s.string.isRequired,defaultValue:s.string,maxLength:s.number,focus:s.bool,selectOnFocus:s.bool,shouldChangeOnOuterClick:s.bool,onOuterClick:s.func},uniqueTooltipId:"",getInitialState:function(){this.uniqueTooltipId=n.uniqueId();var e=this.getValueFromProps()||this.props.defaultValue;return{value:e,origValue:e,invalidMessage:"",showValidationIcon:!0,isFocused:!1}},getDefaultProps:function(){return{dir:"ltr",shouldChangeOnOuterClick:!1}},setFocusState:function(t){var s=t&&this.props.selectOnFocus&&function(){i("input",e.findDOMNode(this)).select()};this.setState({isFocused:t},s)},handleChange:function(e){var t=e.target.value;this.setState({value:o.stringUtils.removeNonSupportedCharacters(t)},function(){this.isValid()?l.hide(this.getTooltipId()):l.show(this.getTooltipId())}.bind(this))},handleClick:function(){this.onChange()},onOuterClick:function(){this.props.shouldChangeOnOuterClick&&this.onChange(),this.props.onOuterClick&&this.props.onOuterClick()},onChange:function(){this.isValid(this.state.value)&&(this.callOnChangeIfExists(this.state.value),this.setFocusState(!1))},onKeyPress:function(e){"Enter"===e.key&&this.handleClick()},getTooltipId:function(){return"text-input-with-button-validation-error"+this.uniqueTooltipId},getTextInputNode:function(){return e.findDOMNode(this.refs.tooltip)},focusControl:function(){this.setFocusState(!0),this.getTextInputNode().select()},render:p})}),define("baseUI/panelInputs/checkboxWithButton.rt",["react","lodash","baseUI/controls/button","baseUILib","symbols","util"],function(e,t,s,i,n,o){"use strict";return function(){return function(){var t=this.getValueFromProps(this.props);return e.createElement("div",{className:o.inheritClassName(this.props,"control-checkbox-with-button")},e.createElement("div",{className:"controls-wrapper"},e.createElement(i.Checkbox,{indeterminate:this.props.indeterminate,value:t,onChange:this.handleChange,ref:"checkbox",disabled:this.props.isCheckboxDisabled,label:this.props.label,shouldTranslate:this.props.shouldTranslate,labelAfterSymbol:!0}),t?e.createElement(s,{key:"ui-button",className:"checkbox-button",label:this.props.buttonLabel,onClick:this.onButtonClick,shouldTranslate:this.props.shouldTranslate,disabled:Boolean(this.props.isButtonDisabled)}):null))}.apply(this,[])}}),define("baseUI/panelInputs/checkboxWithButton",["create-react-class","prop-types","core","baseUI/controls/toggleMixin","baseUI/panelInputs/checkboxWithButton.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"CheckboxWithButton",mixins:[i,s.mixins.editorAPIMixin],propTypes:{buttonLabel:t.string.isRequired,onButtonClick:t.func,isCheckboxDisabled:t.bool,isButtonDisabled:t.bool,label:t.string},onButtonClick:function(){this.getEditorAPI().bi.event(s.bi.events.commonControls.CheckboxWithButton_DesignClicked,{cardId:this.props.label}),this.props.onButtonClick()},render:n})}),define("baseUI/panelInputs/actionWithSymbol.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e){this.props.action(e)}.bind(this)},this.props.symbol?e.createElement("span",{className:"action-symbol",key:"symbol"},e.createElement(s.symbol,{name:this.props.symbol})):null,e.createElement("span",{className:"action-label"},"\n        ",this.getLabel(),"\n    "))}}),define("baseUI/panelInputs/actionWithSymbol",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/actionWithSymbol.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"actionWithSymbol",propTypes:{label:t.string,action:t.func,symbol:t.string,symbolAlignedRight:t.bool,shouldTranslate:t.bool},getDefaultProps:function(){return{symbolAlignedRight:!1,action:s.noop}},getClasses:function(){return{"action-container":!0,"symbol-left":this.props.symbol&&!this.props.symbolAlignedRight,"symbol-right":this.props.symbol&&this.props.symbolAlignedRight}},getLabel:function(){var e=this.props.label;return this.props.shouldTranslate?i.translate(e):e},render:n})}),define("baseUI/tabs/tabHolder",["react","create-react-class","prop-types","baseUI/panelInputs/inputMixin","baseUI/mixins/classNameMixin"],function(e,t,s,i,n){"use strict";return t({mixins:[i,n],displayName:"tabs",propTypes:{className:s.string,style:s.object,defaultTab:s.any},getInitialState:function(){return{value:void 0!==this.getValueFromProps(this.props)?this.getValueFromProps(this.props):this.props.defaultTab}},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);void 0!==t&&this.state.value!==t&&this.setState({value:t})},setSelected:function(e){this.callOnChangeIfExists(e),this.setState({value:e})},generateChildren:function(){var t=[];return e.Children.forEach(this.props.children,function(s){var i=s.props.type;"tabHeader"===i?t.push(e.cloneElement(s,{setSelected:this.setSelected,value:this.state.value,key:"tab-header"})):"tabContent"===i?t.push(e.cloneElement(s,{value:this.state.value,key:"tab-content"})):t.push(s)},this),t},render:function(){return e.DOM.section({className:this.generateClassName("tabs"),style:this.props.style},this.generateChildren())}})}),define("baseUI/tabs/tabHeader",["react","create-react-class","baseUI/mixins/classNameMixin"],function(e,t,s){"use strict";return t({mixins:[s],displayName:"tabHeader",childrenList:[],i:1,getInitialState:function(){return{showMore:!1}},getDefaultProps:function(){return{type:this.displayName}},showMore:function(){this.setState({showMore:!0})},createLabel:function(t,s){return e.cloneElement(t,{setSelected:this.props.setSelected,selected:void 0!==t.props.for?this.props.value===t.props.for:this.props.value===t.props.htmlFor,key:"tab-label "+s})},createShowMoreLabel:function(t){return e.cloneElement(t,{showMore:this.showMore,key:"tab-show-more-label"})},addChild:function(e){if(!e)return!1;var t=e.props.type,s="tabShowMoreLabel"===t&&!this.state.showMore;return"tabLabel"===t?(this.childrenList.push(this.createLabel(e,this.i)),this.i++):s&&this.childrenList.push(this.createShowMoreLabel(e)),s},generateChildren:function(){var e=this.props.children;return this.i=1,this.childrenList=[],e.constructor===Array?e.some(this.addChild,this):e.constructor===Object&&this.addChild(e),this.childrenList},render:function(){return e.DOM.ul({className:this.generateClassName("tab-header"),style:this.props.style},this.generateChildren())}})}),define("baseUI/tabs/tabContent",["react","create-react-class","lodash","baseUI/mixins/classNameMixin"],function(e,t,s,i){"use strict";return t({mixins:[i],displayName:"tabContent",getDefaultProps:function(){return{type:this.displayName}},getSelectedTab:function(){var e=this.props.children,t=!1,i=this.props.value;return e.constructor===Array?t=s.find(e,function(e){return e&&"tab"===e.props.type&&i===e.props.name}):e.constructor===Object&&(t=i===e.props.name?e:null),t},render:function(){return e.DOM.section({className:this.generateClassName("tab-content "+this.props.value),style:this.props.style},this.getSelectedTab())}})}),define("baseUI/tabs/tabLabel",["react","lodash","create-react-class","baseUI/mixins/classNameMixin"],function(e,t,s,i){"use strict";return s({displayName:"tabLabel",mixins:[i],getDefaultProps:function(){return{type:this.displayName,tabsAmount:null}},setSelected:function(){var e=this.props,t=void 0!==e.for?e.for:e.htmlFor;e.setSelected(t)},render:function(){var s=this.props.style;if(this.props.tabsAmount){var i=480/this.props.tabsAmount;s=t.assign({},this.props.style,{width:i})}return e.DOM.li({onClick:this.setSelected,className:this.generateClassName("tab-label "+(this.props.selected?"selected":"")),style:s},this.props.children)}})}),define("baseUI/tabs/tabShowMoreLabel",["react","create-react-class","baseUI/mixins/classNameMixin"],function(e,t,s){"use strict";return t({displayName:"tabShowMoreLabel",mixins:[s],getDefaultProps:function(){return{type:this.displayName}},render:function(){return e.DOM.a({onClick:this.props.showMore,className:this.generateClassName("tab-show-more-label"),style:this.props.style},this.props.children)}})}),define("baseUI/tabs/tab",["react","create-react-class","baseUI/mixins/classNameMixin"],function(e,t,s){"use strict";return t({displayName:"tab",mixins:[s],getDefaultProps:function(){return{type:this.displayName}},render:function(){return e.createElement("div",{className:this.generateClassName("tab"),style:this.props.style},this.props.children)}})}),define("baseUI/controls/angle.rt",["react","lodash","baseUI/panelInputs/stepper"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"control-angle"},e.createElement("label",{className:t({disabled:this.props.disabled,"control-label":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translate(this.props.label)),e.createElement("div",{className:t({circle:!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:this.getCircleStyle(),onClick:this.onAngleClick},e.createElement("div",{className:"circle-center"}),e.createElement("div",{className:"knob",style:this.getKnobStyle(),onMouseDown:this.onKnobMouseDown})),e.createElement(s,{disabled:this.props.disabled,units:"°",value:this.getValueFromProps(),onChange:this.callOnChangeIfExists,onBlur:this.reportChangeFromUser,min:-1,max:360,step:1}))}}),define("baseUI/controls/angle",["reactDOM","create-react-class","lodash","jquery","util","baseUI/mixins/reportUIChangeMixin","baseUI/controls/angle.rt"],function(e,t,s,i,n,o,a){"use strict";function r(){var t=i(e.findDOMNode(this)).find(".circle-center")[0].getBoundingClientRect();this.circleCenter={x:t.left,y:t.top+window.pageYOffset}}var l=180/Math.PI;return t({displayName:"angle",mixins:[n.valueLinkMixin,o,n.translationMixin],translate:n.translate,componentDidMount:function(){this.previousValue=this.getValueFromProps()},onKnobMouseDown:function(){r.call(this),i(window.document).on("mousemove",this.changeAngle),i(window.document).on("mouseup",this.removeListenersAndReportChange)},removeListenersAndReportChange:function(){i(window.document).off("mouseup",this.removeListenersAndReportChange),i(window.document).off("mousemove",this.changeAngle),this.reportChangeFromUser()},changeAngle:function(e){var t=Math.atan2(e.pageY-this.circleCenter.y,e.pageX-this.circleCenter.x),s=Math.floor((450+t*l)%360);this.callOnChangeIfExists(s)},reportChangeFromUser:function(){var e=this.getValueFromProps();this.previousValue!==e&&(this.previousValue=e,this.reportUIChange({value:e}))},componentWillUnmount:function(){this.removeListenersAndReportChange()},getCircleStyle:function(){var e=this.getValueFromProps();return{transform:"rotate("+e+"deg)",WebkitTransform:"rotate("+e+"deg)"}},getKnobStyle:function(){var e=this.getValueFromProps();return{transform:"rotate(-"+e+"deg)",WebkitTransform:"rotate(-"+e+"deg)"}},onAngleClick:function(e){r.call(this),this.changeAngle(e)},render:a})}),define("baseUI/treeView/treeUtils",["lodash"],function(e){"use strict";function t(e,t,s){return e.left<=t&&t<=e.right&&e.top<=s&&s<=e.bottom}function s(e,t,s){return t<e?e-t:t>s?s-t:0}function i(e){e.removeAttribute("data-reactid")}function n(t,s){s(t),t&&e.forEachRight(t.children,e.partial(n,e,s))}function o(e){return e+"px"}return{isMouseInside:t,getManhattanDistance:function(e,t,s,i){return Math.abs(s-e)+Math.abs(i-t)},getDistanceFromComponent:function(e,i,n){if(t(e,i,n))return 0;var o=s,a=o(e.left,i,e.right),r=o(e.top,n,e.bottom);return Math.sqrt(a*a+r*r)},stripReactIds:function(e){return n(e,i),e},forEachNode:n,forEachChild:function(t,s){t&&e.forEachRight(t.children,s)},hasClass:function(e,t){return e&&t&&e.classList&&e.classList.contains(t)},searchUp:function(e,t,s,i){var n=e;for(s=s||function(){return!1};n;){if(t.call(i,n))return n;if(s.call(i,n))break;n=n.parentElement||n.parentNode}return null},positionate:function(e,t){return e.style.position="absolute",e.style.top=o(t.top),e.style.left=o(t.left),e},resize:function(e,t){return e.style.width=o(t.width),e.style.height=o(t.height),e},calculateRelativePosition:function(e,t){var s=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:i.top-s.top,left:i.left-s.left,right:s.right-i.right,bottom:s.bottom-i.bottom,width:i.width,height:i.height}}}}),define("baseUI/treeView/NodeState",[],function(){"use strict";function e(e){this.node=e,this.initialState={parentNode:e.parentNode,nextSibling:e.nextSibling,className:e.className}}return e.prototype.restore=function(){var e=this.node,t=this.initialState;e.parentNode===t.parentNode&&e.nextSibling===t.nextSibling||(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)),e.className!==t.className&&(e.className=t.className)},e}),define("baseUI/treeView/Path",[],function(){"use strict";function e(e){this.path=e||[]}function t(e,t){return e&&e[t]}function s(e,t,s){return e&&e[s]&&e[s][t]}function i(e,t,s){return s(e,t)}return e.prototype.length=function(){return this.path.length},e.prototype.append=function(t){if(void 0===t)throw new Error("segment should be defined");return new e(this.path.concat(t))},e.prototype.findIn=function(e,n){var o=e,a=void 0,r=void 0;for(void 0===n&&(r=t),"string"==typeof n&&(r=s),"function"==typeof n&&(r=i),a=0;o&&a<this.path.length;a++)o=r(o,this.path[a],n);return o},e.prototype.parent=function(){return new e(this.path.slice(0,this.path.length-1))},e.prototype.at=function(e){if("number"!=typeof e)throw new Error("index should be a number");return this.path[e]},e.prototype.first=function(t){return new e(this.path.slice(0,t||1))},e.prototype.atRight=function(e){return this.path[this.path.length-(e||0)-1]},e.prototype.toString=function(){return this.path.join(", ")},e.prototype.equalsTo=function(t){return this===t||t instanceof e&&(this.length()===t.length()&&this.path.every(function(e,s){return e===t.path[s]}))},e.prototype.startsWith=function(t,s){return t instanceof e&&(!(t.length()>this.length())&&((!s||t.length()!==this.length())&&t.path.every(function(e,t){return e===this.path[t]},this)))},e.prototype.inc=function(t){if(0===this.length())return new e([0]);var s=this.path.slice();return s[s.length-1]+=void 0===t?1:t,new e(s)},e.prototype.dec=function(e){return void 0===e?this.inc(-1):this.inc(-e)},e.prototype.increment=function(e){var t=void 0;return this.length()===e?t=this.append(0):(t=this.first(e+1)).path[e]+=1,t},e}),define("baseUI/treeView/TreeModel",["lodash","baseUI/treeView/Path","baseUI/treeView/treeUtils"],function(e,t,s){"use strict";function i(e){return s.hasClass(e,c.treeNodeClass)}function n(e,t){!function(e){c.treeClass=e.treeClass,c.treeNodeClass=e.treeNodeClass,c.treeNodeLabelClass=e.treeNodeLabelClass,c.collapsedClass=e.collapsedClass,c.previewClass=e.previewClass,c.cantBeChildClass=e.cantBeChildClass}(t),this.dom=e,this.children=[],this.refresh()}function o(e,t,s){return e.children.reduce(function(e,i,n){return e||(i.dom===t?s.concat(n):o(i,t,s.concat(n)))},null)}function a(e,t){return e&&(e.path=t),e}function r(e){var t=e.getElementsByClassName(c.treeClass)[0];this.dom=e,this.path=void 0,this.children=p(t),this.childrenLength=parseInt(this.dom.dataset.numofchildren||"0",10)}function l(e){return new r(e)}function p(e){if(e&&e.children&&e.children.length>0){return Array.prototype.slice.call(e.children).filter(i).map(l)}return[]}var c={treeClass:"",treeNodeClass:"",treeNodeLabelClass:"",collapsedClass:"",cantBeChildClass:""};return n.prototype.getChildHeight=function(){var e=this.children[0],t=e&&e.getLabel(),s=t&&t.getBoundingClientRect();return s?Math.round(1.15*s.height):NaN},n.prototype.refresh=function(){this.dom&&(this.children=p(this.dom))},n.prototype.findByDom=function(e){if(this.dom===e)return a(this,new t);var s=o(this,e,[]);if(Array.isArray(s)){s=new t(s);return a(this.findByPath(s),s)}return null},n.prototype.findByPath=function(e){return a(e.findIn(this,"children")||null,e)},n.prototype.findParentTree=function(e){var t=this.findByPath(e.parent());return t&&!function(e){return s.hasClass(e,c.treeClass)}(t.dom)?t.dom.getElementsByClassName(c.treeClass)[0]||null:t&&t.dom},n.prototype.insert=function(e,t){var s=this.findParentTree(t),i=function(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return s;return-1}(s.children,e),n=t.atRight(),o=i>=0&&i<n?1:0,a=s&&s.children[n+o];i!==n&&(a?s.insertBefore(e,a):s.appendChild(e),this.refresh())},r.prototype.getLabel=function(){var e=this.dom.getElementsByClassName(c.treeNodeLabelClass)[0];return e&&e.parentNode!==this.dom?null:e},r.prototype.hasChildren=function(){return this.childrenLength>0},r.prototype.cantBeChild=function(){return this.hasChildren()||function(e){return s.hasClass(e,c.cantBeChildClass)}(this.dom)},r.prototype.isCollapsed=function(){return this.hasChildren()&&function(e){return s.hasClass(e,c.collapsedClass)}(this.dom)},r.prototype.getFirstInsertPosition=function(){return this.isCollapsed()?this.getLastInsertPosition():0},r.prototype.getLastInsertPosition=function(e){return e?Math.max(0,(this.childrenLength||this.children.length)-1):this.childrenLength||this.children.length},n}),define("baseUI/treeView/DragVector",[],function(){"use strict";function e(e,t){this.depth=e,this.position=t}return e.prototype.isOutside=function(){return this.depth<0},e.prototype.isInside=function(){return this.depth>0},e.prototype.isBack=function(){return this.position<0},e.prototype.isForward=function(){return this.position>0},e.prototype.isZero=function(){return 0===this.depth&&0===this.position},e.prototype.toString=function(){return[this.depth,this.position].join(", ")},e}),define("baseUI/treeView/HierarchicalDragAlgorithm",["baseUI/treeView/DragVector"],function(e){"use strict";function t(e){this.root=e.root,this.tree=e.tree,this.draggedNode=null,this.threshold={dx:NaN,dy:NaN},this.x0=NaN,this.y0=NaN,this.x1=NaN,this.y1=NaN}function s(e,t,s){return Math.max(e,Math.min(t,s))}return t.prototype.setInitialPosition=function(e,t,s){this.tree.refresh(),this.threshold={dx:23,dy:.5*this.tree.getChildHeight()},this.draggedNode=this.tree.findByDom(e);var i=this.draggedNode.path.length()-1;this.x0=t-(1+i*this.threshold.dx)+this.root.scrollLeft,this.y0=s+this.root.scrollTop,this.x1=NaN,this.y1=NaN},t.prototype.setDragPosition=function(e,t){this.x1=e+this.root.scrollLeft,this.y1=t+this.root.scrollTop,this.updateLayout()},t.prototype.applyDragVector=function(e){var t=this.tree,i=this.draggedNode.path,n=this.draggedNode.cantBeChild(),o=i.length()-1,a=n?o:s(0,o+e.depth,1),r=i.inc(e.position),l=t.findByPath(r);if(l&&l.hasChildren()&&!l.isCollapsed()){if(n)return r;e.position>0&&(r=r.append(l.getFirstInsertPosition())),e.position<0&&(r=r.append(l.getLastInsertPosition()))}if(l||0!==o||(r=i),!l&&o>0&&(r=i.parent().inc(e.position),r=(l=t.findByPath(r))&&e.position>0?r.append(l.getFirstInsertPosition()):l&&e.position<0?r.append(l.getLastInsertPosition()):e.position<0?r.inc():i),a>o&&1===r.length()&&(l=t.findByPath(r.dec(1)))&&!l.path.equalsTo(i)&&(r=l.path.append(l.children.length)),a<o&&2===r.length()){var p=t.findByPath(r.parent()).getLastInsertPosition(!0);if(r.atRight()===p)return r.parent().inc()}return r},t.prototype.updateLayout=function(){var t=function(t){var i=t.x1-t.x0,n=t.y1-t.y0,o=parseInt(i/t.threshold.dx,10),a=parseInt(n/t.threshold.dy,10);return new e(s(-1,o,1),s(-1,a,1))}(this);if(!t.isZero()){var i=this.draggedNode,n=this.applyDragVector(t);if(!n.equalsTo(i.path)){n.length()===i.path.length()&&(t.depth=0);var o=i.dom.getBoundingClientRect();this.tree.insert(i.dom,n),this.draggedNode=this.tree.findByDom(i.dom);var a=i.dom.getBoundingClientRect();this.x0+=Math.abs(t.depth)*(a.left-o.left),this.y0+=Math.abs(t.position)*(a.top-o.top)}}},t}),define("baseUI/treeView/treeDocker",["reactDOM","react","create-react-class","prop-types","jquery","lodash","baseUI/treeView/treeUtils","baseUI/treeView/NodeState","baseUI/treeView/TreeModel","baseUI/treeView/HierarchicalDragAlgorithm"],function(e,t,s,i,n,o,a,r,l,p){"use strict";return s({displayName:"treeDocker",propTypes:{treeClass:i.string.isRequired,treeNodeClass:i.string.isRequired,treeNodeLabelClass:i.string.isRequired,collapsedClass:i.string.isRequired,draggedClass:i.string.isRequired,previewClass:i.string.isRequired,cantBeChildClass:i.string,className:i.string,scrollTopGetter:i.func,onNodeMoved:i.func},componentDidMount:function(){var t=e.findDOMNode(this),s=t.getElementsByTagName("ul")[0];this.algorithm=new p({root:t,tree:new l(s,{treeClass:this.props.treeClass,treeNodeClass:this.props.treeNodeClass,treeNodeLabelClass:this.props.treeNodeLabelClass,collapsedClass:this.props.collapsedClass,draggedClass:this.props.draggedClass,previewClass:this.props.previewClass,cantBeChildClass:this.props.cantBeChildClass})})},componentWillUnmount:function(){this.dragData=null,this.algorithm=null},render:function(){var e={className:this.props.className};return this.props.isDragAvailable&&(e.onMouseDown=this.startDrag,e.onDragStart=this.nativeDragStart),t.createElement("div",e,this.props.children)},nativeDragStart:function(e){e.preventDefault(),e.stopPropagation()},startDrag:function(t){n(window.document.body).addClass("block-selection");var s=n(window.document);s.off("mousemove",this.onMouseMove),s.off("mouseup",this.onMouseUp);var i=e.findDOMNode(this),o=this.findLabel(t.target,i),a=void 0,l=void 0;this.dragData=null,this.removeGhostElements(i),o&&((a=this.findListItem(o)).classList.remove(this.props.previewClass),a.attributes["data-disable-drag"]&&a.attributes["data-disable-drag"].value||(l=new r(a),this.dragData={root:i,clickedLabel:o,draggedNode:a,initialState:l,ghostElement:null,sx:t.clientX,sy:t.clientY,nx:NaN,ny:NaN},this.algorithm.setInitialPosition(a,this.dragData.sx,this.dragData.sy+this.getScrollTop()),s.on("mousemove",this.onMouseMove),s.on("mouseup",this.onMouseUp)))},removeGhostElements:function(t){var s=this.props.draggedClass;t=t||e.findDOMNode(this),a.forEachChild(t,function(e){a.hasClass(e,s)&&t.removeChild(e)})},findLabel:function(e,t){return a.searchUp(e,this.isTreeLabel,function(e){return e===t},this)},findListItem:function(e,t){return a.searchUp(e,this.isTreeItem,function(e){return e===t},this)},insertGhostElement:function(t,s){var i=this.props.draggedClass;return function(e,t,s){var i=a.calculateRelativePosition(t,e),n=e.cloneNode(!0),o=e.parentNode.cloneNode(!1);return o.classList.add(s),o.appendChild(n),a.stripReactIds(n),a.stripReactIds(o),a.resize(n,i),a.positionate(o,i),t.appendChild(o),o}(t,s||e.findDOMNode(this),i)},onMouseMove:function(e){if(this.dragData){var t=this.dragData;t.ghostElement||this.startDragIfNeeded(e),t.ghostElement&&(this.processDragMove(e),t.ghostElement.style.left=Math.min(44,Math.max(t.nx,10))+"px",t.ghostElement.style.top=Math.min(t.root.offsetHeight+10,Math.max(-5,t.ny))+"px")}},startDragIfNeeded:function(e){var t=this.dragData;a.getManhattanDistance(t.sx,t.sy,e.clientX,e.clientY)>5&&(t.ghostElement=this.insertGhostElement(t.clickedLabel,t.root),t.draggedNode.classList.add(this.props.previewClass),t.nx=parseInt(t.ghostElement.style.left,10),t.ny=parseInt(t.ghostElement.style.top,10))},getScrollTop:function(){return this.props.scrollTopGetter&&this.props.scrollTopGetter()||0},processDragMove:function(e){var t=this.dragData;t.nx+=e.clientX-t.sx,t.ny+=e.clientY-t.sy,t.sx=e.clientX,t.sy=e.clientY,this.algorithm.setDragPosition(e.clientX-12,e.clientY+this.getScrollTop())},onMouseUp:function(e){if(this.dragData){var t=Boolean(this.dragData.ghostElement);t&&this.processDragMove(e),this.removeGhostElements(),this.dragData.initialState.restore(),t&&this.processDragEnd(),this.dragData=null;var s=n(window.document);n(window.document.body).removeClass("block-selection"),s.off("mousemove",this.onMouseMove),s.off("mouseup",this.onMouseUp)}},processDragEnd:function(){if("function"==typeof this.props.onNodeMoved){var e=this.algorithm,t=e.tree,s=e.draggedNode,i=s.dom,n=s.path.parent(),o=t.findByPath(n).dom,a=s.path.atRight(),r=this.props.onNodeMoved;t.refresh();var l=t.findByDom(i).path,p=t.findByDom(o).path;p=p.append(a),l.equalsTo(p)||r({from:l,to:p})}},isTreeItem:function(e){return a.hasClass(e,this.props.treeNodeClass)},isTreeLabel:function(e){return a.hasClass(e,this.props.treeNodeLabelClass)}})}),define("baseUI/treeView/treeView.rt",["react","lodash","experiment"],function(e,t,s){"use strict";return function(){function i(){var i=this.getTreeNodeClass(),n=this.getChildren();return e.createElement.apply(this,["ul",{className:this.props.className+(this.props.isRoot?" tree-root":"")},s.isOpen("pagesPanelOpenCollapsed")&&this.props.isCollapsed?null:t.map(n,function(s,i,n,o){return e.createElement(s,t.assign({},{key:n.id},this.passNodeProps(n,o)))}.bind(this,i,n))])}return i.apply(this,[])}}),define("baseUI/treeView/treeNode.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return function(){var i=this.getTreeViewClass(),n=this.props.nodeContent,o=this.getChildren().length,a=this.hasChildren();return e.createElement("li",{"data-numofchildren":o,"data-disable-drag":this.props.dataSource.type.isDynamicPage||this.props.dataSource.type.isRouter,className:t({"tree-collapsed":this.state.collapsed,"has-children":this.hasChildren(),"pages-tree-node":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("span",{className:"expander",onClick:this.toggleCollapsed},a&&this.state.collapsed?e.createElement(s.symbol,{key:"expand",name:"expand"}):null,this.state.collapsed?null:e.createElement(s.symbol,{key:"collapse",name:"collapse"})),e.createElement(n,this.passNodeContentProps(this.props.dataSource)),e.createElement(i,t.assign({},{isCollapsed:this.state.collapsed},this.passNodeProps())))}.apply(this,[])}}),define("baseUI/treeView/treeView",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/treeView/treeView.rt","baseUI/treeView/treeNode.rt"],function(e,t,s,i,n,o){"use strict";function a(){return{nodePath:[],dataSource:[],collapsedSelector:null,childrenSelector:"items",nodeTemplate:o,treeTemplate:n,openSettings:function(){}}}function r(e,t){return s(this.props).omit(["selected","isRoot"]).assign({dataSource:e||this.getChildren(),nodePath:function(e,t){return void 0===t?e:e.concat(t)}(this.props.nodePath,t)}).assign(e&&e.id&&{key:e.id}).value()}function l(e,t,s){return"string"==typeof t?e[t]:"function"==typeof t?t.call(s,e):void 0}function p(e,t){return Array.isArray(e)?e:l(e,t.props.childrenSelector,t)||[]}function c(e,t){return Boolean(l(e,t.props.collapsedSelector,t))}var u=e({displayName:"treeNode",mixins:[i],propTypes:{dataSource:t.object,onNodeToggled:t.func,nodeTemplate:t.func,treeTemplate:t.func},getInitialState:function(){return{selected:!1,collapsed:c(this.props.dataSource,this)}},isSelected:function(){var e=this.props.dataSource,t=this.getValueFromProps();if(this.props.equalityComparer){var s=this.props.equalityComparer;return Boolean(s(e,t))}return e===t},getDefaultProps:a,passNodeProps:r,passNodeContentProps:function(e){return s(this.props).omit(["selected","isRoot"]).assign({dataSource:e,isSelected:this.isSelected(),setSelected:this.setSelected}).assign(e&&e.id&&{key:e.id}).value()},getChildren:function(){return p(this.props.dataSource,this)},hasChildren:function(){return this.getChildren().length>=1},componentWillReceiveProps:function(e){var t=c(e.dataSource,this);this.state.collapsed!==t&&this.setState({collapsed:t})},toggleCollapsed:function(e){var t=!this.state.collapsed;this.props.onNodeToggled&&this.props.onNodeToggled(this,t),this.setState({collapsed:t}),e&&(e.preventDefault(),e.stopPropagation())},setSelected:function(e){this.setState({selected:!0}),this.callOnChangeIfExists(this.props.dataSource),e&&(e.preventDefault(),e.stopPropagation())},render:function(){return this.props.nodeTemplate.call(this)},getTreeViewClass:function(){return h}}),h=e({displayName:"treeView",mixins:[i],render:function(){return this.props.treeTemplate.call(this)},getDefaultProps:a,passNodeProps:r,getChildren:function(){return p(this.props.dataSource,this)},getTreeNodeClass:function(){return u}});return h}),define("baseUI/controls/datePicker.rt",["react","lodash","baseUI/controls/button","symbols"],function(e,t,s,i){"use strict";return function(){function n(s,i,n,o){return e.createElement.apply(this,["tr",{className:"dp-week",key:s[7*n].getFullYear()+"_"+s[7*n].getMonth()+"_"+n},t.map(t.range(7),function(t,s,i,n,o,a){return e.createElement("td",{onClick:function(e,t,s,i,n,o){this.callOnChangeIfExists(e[7*s+n])}.bind(this,t,s,i,n,o,a)},e.createElement("div",{className:this.getElementClasses(t[7*i+o])},t[7*i+o]?t[7*i+o].getDate():""))}.bind(this,s,i,n,o))])}function o(){var s=this.getDatesInMonth(),i=this.state.value.getMonth();return e.createElement("table",{},e.createElement("thead",{},e.createElement.apply(this,["tr",{},t.map(this.getDays(),function(t,s,i,n){return e.createElement("td",{},e.createElement("div",{className:"dp-day-name"},i))}.bind(this,s,i))])),e.createElement.apply(this,["tbody",{},t.map(t.range(s.length/7),n.bind(this,s,i))]))}return e.createElement("div",{className:"input-date-picker"},e.createElement("div",{className:"dp-header"},e.createElement("div",{className:"dp-navigate dp-previous",onClick:function(){this.updateMonth(-1)}.bind(this)},e.createElement(i.symbol,{name:"greaterThen"})),e.createElement("div",{className:"dp-title"},this.getMonthTitle()),e.createElement("div",{className:"dp-navigate dp-next",onClick:function(){this.updateMonth(1)}.bind(this)},e.createElement(i.symbol,{name:"greaterThen"}))),e.createElement("div",{className:"dp-body"},o.apply(this,[])),e.createElement("div",{className:"dp-footer"+(this.props.showDelete?" with-delete-btn":"")},this.props.showDelete?e.createElement(s,{className:"delete-btn",key:"deleteButton",icon:"delete",onClick:function(){this.callOnChangeIfExists(null)}.bind(this)}):null,e.createElement(s,{className:"goto-today",onClick:function(){this.setState({value:new Date})}.bind(this),label:this.translateIfNeeded(this.props.todayLabel),shouldTranslate:!1}),e.createElement(s,{className:"goto-selection",disabled:!this.props.value,onClick:function(){this.getValueFromProps()&&this.setState({value:this.getValueFromProps()})}.bind(this),shouldTranslate:!1,label:this.translateIfNeeded(this.props.goToSelectedLabel)})))}}),define("baseUI/controls/datePicker",["create-react-class","prop-types","lodash","util","baseUI/controls/datePicker.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"datePicker",mixins:[i.valueLinkMixin,i.translationMixin],propTypes:{todayLabel:t.string,goToSelectedLabel:t.string,startDay:t.string,days:t.arrayOf(t.string),monthNames:t.arrayOf(t.string),showDelete:t.bool,fixedNumberOfRows:t.bool},getDefaultProps:function(){return{todayLabel:"Today",goToSelectedLabel:"Go to selected",value:new Date,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],fixedNumberOfRows:!0}},getDays:function(){for(var e=s.map(this.props.days,this.translateIfNeeded),t=this.props.startDay?this.translateIfNeeded(this.props.startDay):e[0];e[0]!==t;)e.push(e.shift());return e},getInitialState:function(){return{value:this.getValueFromProps()||new Date}},getDatesInMonth:function(){for(var e=[],t=new Date(this.state.value.getFullYear(),this.state.value.getMonth(),1),i=this.props.startDay?this.props.days.indexOf(this.props.startDay):0;t.getDay()!==i;)t=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),e.unshift(t);for(t=new Date(this.state.value.getFullYear(),this.state.value.getMonth(),1);t.getMonth()===this.state.value.getMonth();)e.push(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);for(;t.getDay()!==i;)e.push(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);if(this.props.fixedNumberOfRows){var n=42-e.length;s.times(n,function(){e.push(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)})}return e},updateMonth:function(e){var t=new Date(this.state.value.getFullYear(),this.state.value.getMonth()+e,this.state.value.getDate());this.setState({value:t})},getElementClasses:function(e){var t=["dp-day",!e||e.getMonth()!==this.state.value.getMonth()&&"dp-day-not-in-current-month",this.isEquals(e,this.getValueFromProps())&&"dp-day-selected",this.isEquals(e,new Date)&&"dp-today"];return s(t).compact().join(" ")},isEquals:function(e,t){return!(e&&!t||t&&!e)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},getMonthTitle:function(){var e=this.props.monthNames[this.state.value.getMonth()];return this.translateIfNeeded(e)+" "+this.state.value.getFullYear()},render:n})}),define("baseUI/controls/image.rt",["react","lodash","util"],function(e,t,s){"use strict";return function(){function i(){var i=this.getImageProps();return e.createElement("div",{className:s.inheritClassName(this.props),style:{}},"img"===this.imageHtmlTag?e.createElement("img",{key:"image_type_img",src:this.getUrl(i.uri),style:this.getImageStyle(i.css.img)}):null,this.effectName&&"img"===this.imageHtmlTag?e.createElement("svg",{key:"svg_type_img",version:"1.1",style:this.getSvgStyle()},e.createElement("defs",{dangerouslySetInnerHTML:{__html:this.getFilterDefinition()}})):null,this.effectName&&"svg"===this.imageHtmlTag?e.createElement("svg",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({key:this.getLegacyKey(i),version:"1.1",style:this.getLegacySvgStyle(i),dangerouslySetInnerHTML:{__html:this.getLegacySvgInnerHtml(i)}},i.attr.container)):null)}return i.apply(this,[])}}),define("baseUI/controls/image",["create-react-class","prop-types","lodash","util","coreUtilsLib","baseUI/controls/image.rt"],function(e,t,s,i,n,o){"use strict";var a=function(){var e="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent;if(e){var t=n.browserDetection(e).browser;return!(t.ie||t.edge)}return!0}(),r=s.template('<image xlink:href="${src}" x="${x}" y="${y}" width="${width}" height="${height}" transform="${transform}" preserveAspectRatio="${preserveAspectRatio}" filter="${filter}" />');return e({displayName:"Image",propTypes:{imageData:t.object.isRequired,imageWidth:t.number.isRequired,imageHeight:t.number.isRequired,fittingType:t.string,debounce:t.number},getSvgStyle:function(){return{width:this.props.imageWidth,height:this.props.imageHeight,left:0,top:0,overflow:"hidden",position:"absolute"}},filterId:"",effectName:"",imageHtmlTag:"img",getInitialState:function(){var e=s.get(this.props.imageData,"effectName","none");return"none"!==e&&(this.effectName=e,this.filterId="filter_"+s.uniqueId(),a||(this.imageHtmlTag="svg")),{imageUrl:""}},componentWillMount:function(){this.updateImageUrl=s.debounce(this.updateImageUrl,this.props.debounce||0,{trailing:!0})},updateImageUrl:function(e){this.setState({imageUrl:e})},getContainerStyle:function(e){return s.assign({},this.props.style||{},e)},getImageStyle:function(e){return this.effectName?s.assign({WebkitFilter:"url(#"+this.filterId+")",filter:"url(#"+this.filterId+")"},e):e},getImageProps:function(){var e=i.imageTransform.getFromImageData(this.props.imageData,this.props.imageWidth,this.props.imageHeight,this.props.fittingType||i.imageTransform.fittingTypes.SCALE_TO_FILL,i.imageTransform.alignTypes.CENTER,this.imageHtmlTag);return this.props.debounce&&e.uri!==this.state.imageUrl&&this.updateImageUrl(e.uri),e},getUrl:function(e){return this.props.debounce?this.state.imageUrl:e},getFilterDefinition:function(){return i.imageEffects.getFilter(this.filterId,this.effectName,{staticMediaUrl:i.serviceTopology.staticMediaUrl})},getLegacySvgStyle:function(e){return s.assign({width:Math.round(this.props.imageWidth),height:Math.round(this.props.imageHeight)},e.css.container)},getLegacySvgInnerHtml:function(e){var t="<defs>"+this.getFilterDefinition()+"</defs>",i=s.assign({filter:"url(#"+this.filterId+")",src:e.uri},e.attr.img);return t+r(i)},getLegacyKey:function(e){return"svg_type_svg"+e.attr.img.width*e.attr.img.height},render:o})}),define("baseUI/controls/radio.rt",["react","lodash","symbols","util","baseUI/popovers/tooltip","baseUI/controls/image"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement(n,{ref:"tooltip",value:this.props.tooltip||this.props.label,disabled:!this.shouldShowTooltip(),shouldTranslate:!0},e.createElement("label",{className:"radio-control "+this.getClassName("control-"+this.props.name)+" "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:this.props.name,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},e.createElement("input",{className:"input-"+this.props.name,type:"radio",name:this.props.group,checked:this.getValueFromProps(this.props),disabled:!!this.props.disabled,onChange:this.props.onChange}),"symbol"===this.props.radioType?e.createElement(s.symbol,{className:t(this.getRadioClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"radio-symbol",name:this.props.name}):null,"class"===this.props.radioType?e.createElement("div",{className:"class-"+this.props.name,key:"radio-class"}):null,"image"===this.props.radioType&&this.props.imageData?e.createElement("div",{className:"image-radio image-radio-"+this.props.valueName,key:"radio-image"},e.createElement(o,{className:"image-radio-src",imageData:this.props.imageData,imageWidth:this.props.imageWidth,imageHeight:this.props.imageHeight})):null,this.props.notifySymbol?e.createElement("div",{ref:"notifySymbol",key:"notifySymbol",className:"notify-symbol "+this.props.notifySymbolClassName,onMouseOver:function(){this.toggleNotifySymbolTooltip(!0)}.bind(this),onMouseLeave:function(){this.toggleNotifySymbolTooltip(!1)}.bind(this)},e.createElement("span",{},e.createElement(s.symbol,{name:this.props.notifySymbol,onClick:this.props.onNotifySymbolClick}))):null,this.props.label?e.createElement("span",{ref:"label",className:"label label-"+this.props.name+" "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"radio-label"},this.props.translate?i.translate(this.props.label):this.props.label):null))}}),define("baseUI/controls/radio",["reactDOM","create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/classNameMixin","baseUI/popovers/tooltipManager","baseUI/controls/radio.rt"],function(e,t,s,i,n,o,a,r){"use strict";return t({displayName:"radio",mixins:[n,o],propTypes:{options:s.array,name:s.string,imageData:s.object,imageWidth:s.number,imageHeight:s.number,label:s.string,tooltip:s.string,group:s.string,onChange:s.func,disabled:s.bool,translate:s.bool,onMouseOver:s.func,onMouseOut:s.func,notifySymbol:s.string,onNotifySymbolClick:s.func,notifySymbolClassName:s.string,notifSymbolTooltip:s.string,radioType:s.oneOf(["image","symbol","class"])},getDefaultProps:function(){return{notifySymbolClassName:"notify-symbol-small-right",disabled:!1,translate:!0}},isLabelEllipsisActive:function(){return this.props.label&&this.props.ellipsis&&e.findDOMNode(this).offsetWidth<e.findDOMNode(this.refs.label).scrollWidth},componentDidMount:function(){this.labelEllipsActive=this.isLabelEllipsisActive()},componentDidUpdate:function(){this.labelEllipsActive=this.isLabelEllipsisActive()},shouldShowTooltip:function(){return this.props.tooltip||this.labelEllipsActive},toggleNotifySymbolTooltip:function(e){e&&this.props.notifySymbolTooltip?a.createTooltip(!0,{id:"notifySymbol",targetNode:this.refs.notifySymbol,value:this.props.notifySymbolTooltip}):a.hide("notifySymbol")},getRadioClasses:function(){var e={"svg-radio":!0,disabled:this.props.disabled};return e["svg-radio-"+this.props.name]=!0,e},render:r})}),define("baseUI/controls/thumbnails.rt",["react","lodash","util","symbols","baseUI/controls/infoIcon","baseUI/controls/radio"],function(e,t,s,i,n,o){"use strict";return function(){function i(s,i,n){return function(s,i){var n=this.getValueFromProps(this.props);return e.createElement(o,{key:s.value,radioType:s.radioType||this.props.radioType,name:s.symbolName||s.className,imageData:s.imageData,imageWidth:s.width,imageHeight:s.height,disabled:s.disabled,translate:s.translate,label:s.label,tooltip:s.tooltip,ellipsis:!0,group:this.getRadioGroupId(),value:t.isEqual(s.value,n),valueName:s.value,notifySymbol:s.notifySymbol,notifySymbolTooltip:s.notifySymbolTooltip,onNotifySymbolClick:s.onNotifySymbolClick,onChange:function(e,t,s){this.handleChange(e.value,e.type)}.bind(this,s,i,n),onMouseOver:function(e,t,s){this.onMouseOver(e.value)}.bind(this,s,i,n),onMouseOut:function(e,t,s){this.onMouseOut(s)}.bind(this,s,i,n)})}.apply(this,[s,i])}return e.createElement.apply(this,["div",{className:this.getClassName("control-thumbnails")+" "+t({"with-title":!!this.props.title,square:this.props.square}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),"data-max-thumbs-per-row":this.props.maxThumbsPerRow,"data-items-to-skip":this.props.itemsToSkip},this.props.infoText?e.createElement(n,{key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText}):null,this.props.title?e.createElement("div",{key:"title"},s.translate(this.props.title)):null,t.map(this.props.options,i.bind(this))])}}),define("baseUI/controls/thumbnails",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnails.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"Thumbnails",mixins:[i],propTypes:{options:t.array,maxThumbsPerRow:t.string,itemsToSkip:t.string,title:t.string,onMouseOver:t.func,onMouseOut:t.func,infoTitle:t.string,infoText:t.string,square:t.bool,radioType:t.oneOf(["image","symbol","class"])},getDefaultProps:function(){return{radioType:"symbol",itemsToSkip:"0",options:[{value:"1",label:"16:9",symbolName:"aspect-ratio-16-9"},{value:"2",label:"4:3",symbolName:"aspect-ratio-4-3"},{value:"3",label:"1:1",symbolName:"aspect-ratio-1-1"},{value:"4",label:"1:1",symbolName:"aspect-ratio-3-4"},{value:"5",label:"1:1",symbolName:"aspect-ratio-1-1"}],square:!0}},onMouseOver:function(e){this.props.onMouseOver&&this.props.onMouseOver(e)},onMouseOut:function(e){this.props.onMouseOut&&this.props.onMouseOut(e)},render:n})}),define("baseUI/controls/radioWithIcon.rt",["react","lodash","symbols","util","baseUI/popovers/tooltip"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(n,{ref:"tooltip-"+this.props.value,value:this.props.tooltip,disabled:!this.props.tooltip,shouldTranslate:!0},e.createElement("label",{className:this.props.className},e.createElement("input",{type:"radio",name:this.props.group,value:this.props.value,checked:this.getValueFromProps(this.props),onChange:this.props.onChange}),e.createElement("span",{},e.createElement("span",{className:"image-container"},this.props.imageUrl?e.createElement("span",{key:"imgurl",style:{background:"url('"+this.props.imageUrl+"') 50% 50% no-repeat",height:"100%",width:"100%",display:"inline-block"}}):null,this.props.imageUrl?null:e.createElement(s.symbol,{key:"symbol",name:this.props.symbolName})),e.createElement("span",{className:"option-title"},this.props.title))))}}),define("baseUI/controls/radioWithIcon",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/controls/radioWithIcon.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"radioWithIcon",mixins:[i],propTypes:{title:t.string,tooltip:t.string,group:t.string,onChange:t.func,imageUrl:t.string,symbolName:t.string},render:n})}),define("baseUI/controls/thumbnailsWithIcons.rt",["react","lodash","symbols","baseUI/controls/infoIcon","baseUI/controls/radioWithIcon","baseUI/popovers/tooltip"],function(e,t,s,i,n,o){"use strict";return function(){function s(){var s=this.getValueFromProps(this.props);return e.createElement.apply(this,["div",{className:"thumbnails-with-icons"},e.createElement("div",{className:"control-header"},this.props.label?e.createElement("span",{key:"label",className:"thumbnails-with-icons-label"},this.translateIfNeeded(this.props.label)):null,this.props.shouldDisplayInfoIcon?e.createElement(i,{className:"info-"+this.props.name,key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText,alignment:this.props.infoAlignment,fitToBounds:this.props.infoFitToBounds}):null),t.map(this.props.options,function(t,s,i){return e.createElement(n,{key:s.value,symbolName:s.symbolName,imageUrl:s.imageUrl,title:this.translateIfNeeded(s.title),tooltip:s.tooltip,group:this.getRadioGroupId(),value:s.value===t,onChange:function(e,t,s){this.handleChange(t.value)}.bind(this,t,s,i)})}.bind(this,s))])}return s.apply(this,[])}}),define("baseUI/controls/thumbnailsWithIcons",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnailsWithIcons.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"thumbnailsWithIcons",mixins:[i],propTypes:{options:t.array.isRequired,label:t.string},render:n})}),define("baseUI/controls/thumbnailsVertical.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement.apply(this,["div",{className:"thumbnails-vertical"},t.map(this.props.options,function(i,n){return e.createElement("label",{key:"option_"+n},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:i.value,checked:this.isCurrentValue(i.value),onChange:function(e,t){this.handleChange(e.value)}.bind(this,i,n)}),e.createElement("div",{className:"thumbnail-container "+this.props.align},i.imgSrc?e.createElement("img",{key:"imgsrc",className:t({withoutLabel:!i.title}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),src:i.imgSrc,width:i.width||"",height:i.height||""}):null,i.symbolName?e.createElement(s.symbol,{key:"thumbnailContainerSymbol",name:i.symbolName}):null,i.title?e.createElement("span",{key:"title",className:"thumbnail-title"},this.translateIfNeeded(i.title)):null))}.bind(this))])}}),define("baseUI/controls/thumbnailsVertical",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnailsVertical.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"thumbnails-vertical",mixins:[i],propTypes:{options:t.array.isRequired,valueLink:t.object,imageMargin:t.string,align:t.string},getDefaultProps:function(){return{align:"center",imageMargin:"5px"}},isCurrentValue:function(e){var t=this.getValueFromProps(this.props);return s.isEqual(e,t)},render:n})}),define("baseUI/controls/buttonsGroup.rt",["react","lodash","baseUI/controls/infoIcon","util"],function(e,t,s,i){"use strict";return function(){function n(s,i,n){return function(s,i){var n=this.getValueFromProps(this.props);return e.createElement("label",{key:s.value,className:s.className},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:s.value,checked:s.value===n,disabled:this.props.disabled,onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,s,i,n)}),e.createElement("span",{className:t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(s.label)))}.apply(this,[s,i])}return e.createElement("div",{className:"control-buttons-group"},this.props.title?e.createElement("p",{key:"title"},i.translate(this.props.title)):null,this.props.title&&(this.props.infoText||this.props.infoTitle)?e.createElement(s,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle,size:18}):null,e.createElement.apply(this,["div",{className:"group-buttons-container"+(this.props.align?"-"+this.props.align:"")},t.map(this.props.options,n.bind(this))]))}}),define("baseUI/controls/buttonsGroup",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/buttonsGroup.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"ButtonsGroup",PropTypes:{align:t.string},mixins:[i],render:n})}),define("baseUI/controls/horizontalTabs.rt",["react","lodash","util"],function(e,t,s){"use strict";return function(){function i(t,i,n){return function(t,i){var n=this.getValueFromProps(this.props);return e.createElement("label",{className:"container "+(t.className||""),key:t.value},e.createElement("input",{type:"radio",className:"input",name:this.getRadioGroupId(),value:t.value,checked:t.value===n,onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,t,i,n)}),e.createElement("span",{className:"tab-decorator"},e.createElement("span",{className:"text-label"},this.props.shouldTranslate?s.translate(t.label):t.label)))}.apply(this,[t,i])}return e.createElement.apply(this,["div",{className:this.getClassName("control-tabs-horizontal")},t.map(this.props.options,i.bind(this))])}}),define("baseUI/controls/horizontalTabs",["create-react-class","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/horizontalTabs.rt"],function(e,t,s,i){"use strict";return e({displayName:"HorizontalTabs",mixins:[s],getDefaultProps:function(){return{options:[{label:"Image_Button_Settings_Regular_View_Label",value:1},{label:"Image_Button_Settings_Hover_View_Label",value:2},{label:"Image_Button_Settings_Clicked_View_Label",value:3}]}},render:i})}),define("baseUI/controls/linkToggle.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement("label",{className:t({"control-link":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("input",{type:"checkbox",defaultChecked:this.props.value,disabled:this.props.disabled}),e.createElement("div",{onClick:this.onClick},e.createElement(s.symbol,{name:"linkBtn"})))}}),define("baseUI/controls/linkToggle",["create-react-class","prop-types","lodash","baseUI/controls/linkToggle.rt"],function(e,t,s,i){"use strict";return e({displayName:"linkToggle",propTypes:{value:t.bool,onClick:t.func,disabled:t.bool},getDefaultProps:function(){return{disabled:!1}},onClick:function(){this.props.disabled||this.props.onClick()},render:i})}),define("baseUI/controls/verticalTabs.rt",["react","lodash","baseUILib","symbols","baseUI/popovers/tooltip","uiConstants"],function(e,t,s,i,n,o){"use strict";return function(){function a(){var a=this.getValueFromProps(this.props);return e.createElement.apply(this,["div",{className:t({"control-tabs-vertical":!0,closed:this.props.closed}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},t.map(this.props.options,function(t,a,r){return e.createElement("div",{key:"option-"+a.value,name:a.value},e.createElement(n,{shouldTranslate:!1,disabled:this.props.closed,value:a.text,alignment:o.TOOLTIP.ALIGNMENT.RIGHT,styleType:o.TOOLTIP.STYLE_TYPE.SMALL,interactive:!1},e.createElement("label",{},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:a.value,checked:a.value===t,onChange:function(e,t,s){this.handleChange(t.value)}.bind(this,t,a,r)}),e.createElement("span",{onClick:this.reportTabClicked},e.createElement(i.symbol,{name:a.symbolName}),this.props.closed?e.createElement("span",{className:"tab-text",key:"verticalTabText"},a.text):null),this.props.closed?e.createElement(s.Divider,{long:!0,key:"divider"}):null)))}.bind(this,a))])}return a.apply(this,[])}}),define("baseUI/controls/verticalTabs",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/verticalTabs.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"verticalTabs",propTypes:{tabClicked:t.func},mixins:[i],render:n,reportTabClicked:function(){s.isFunction(this.props.tabClicked)&&this.props.tabClicked()}})}),define("baseUI/colorPicker/colorPickerInput.rt",["react","lodash","baseUILib","util"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{onClick:this.openColorPicker,className:this.getClassName("color-picker-input")+(this.props.label?" with-label":"")},this.props.label?e.createElement("label",{className:"color-picker-label",key:"colorPickerLabel"},i.translate(this.props.label)):null,e.createElement("div",{className:t({"color-picker-wrapper":!0,disabled:this.props.disabled,colorPickerOpen:this.state.forceHighlight}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"color-picker-color",style:{backgroundColor:this.resolveColor(),opacity:this.getOpacity()}})),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInput",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/colorPicker/colorPickerInput.rt"],function(e,t,s,i,n,o){"use strict";return e({mixins:[n,i.translationMixin],displayName:"colorPickerInput",getInitialState:function(){return{forceHighlight:!1}},propTypes:{useMouseEvent:t.bool,position:t.object,openColorPicker:t.func.isRequired,colorResolver:t.func,previewOnHover:t.bool,helpText:t.string},getDefaultProps:function(){return{colorResolver:s.identity}},openColorPicker:function(e){this.setState({forceHighlight:!0});var t=this.props.position;!t&&this.props.useMouseEvent&&(t={top:e.clientY,left:e.clientX}),this.props.openColorPicker(this.handleChange,this.getValueFromProps(),!0,t,!1!==this.props.previewOnHover,this.props.enableHistory,this.onColorPickerClose)},handleChange:function(e){this.callOnChangeIfExists(e)},resolveColor:function(){return this.props.colorResolver(this.getValueFromProps())},getOpacity:function(){var e=1;return s.isNumber(this.props.opacity)&&(e=this.props.opacity),e},unHighlight:function(){this.isMounted()&&this.setState({forceHighlight:!1})},onColorPickerClose:function(){this.isMounted()&&this.unHighlight()},render:o})}),define("baseUI/colorPicker/colorPickerInputWithOpacity.rt",["react","lodash","baseUILib","baseUI/panelInputs/slider","baseUI/colorPicker/colorPickerInput"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"color-picker-input-with-opacity"},this.props.label?e.createElement("label",{key:"label",className:t({"color-picker-input-with-opacity-label":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(this.props.label)):null,e.createElement("div",{className:"color-picker-input-with-opacity-slider"},e.createElement(i,{isSmallStepper:this.props.isSmallStepper,disabled:this.props.disabled,units:"%",valueLink:this.linkOpacity(),min:0,max:100,step:1}),e.createElement(n,t.assign({},{disabled:this.props.disabled,valueLink:this.linkColor()},this.getPropsForColorInput()))),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInputWithOpacity",["create-react-class","prop-types","lodash","util","baseUI/colorPicker/colorPickerInputWithOpacity.rt"],function(e,t,s,i,n){"use strict";return e({propTypes:{label:t.string,helpText:t.string,isSmallStepper:t.bool},getDefaultProps:function(){return{isSmallStepper:!1}},mixins:[i.valueLinkMixin,i.propTypesFilterMixin,i.translationMixin],displayName:"colorPickerInputWithOpacity",linkColor:function(){return{value:this.getValueFromProps().color,requestChange:function(e){var t=0===this.getValueFromProps().alpha?1:this.getValueFromProps().alpha;this.callOnChangeIfExists({color:e,alpha:t})}.bind(this)}},linkOpacity:function(){return{value:100*this.getValueFromProps().alpha,requestChange:function(e){this.callOnChangeIfExists({color:this.getValueFromProps().color,alpha:e/100})}.bind(this)}},getPropsForColorInput:function(){var e=this.filteredProps();return e.opacity=this.getValueFromProps().alpha,e},render:n})}),define("baseUI/panelInputs/shadowControl.rt",["react","lodash","baseUILib","baseUI/panelInputs/slider","baseUI/colorPicker/colorPickerInputWithOpacity","baseUI/controls/angle"],function(e,t,s,i,n,o){"use strict";return function(){return this.props.disabled?null:e.createElement("div",{key:"shadowControl",className:"shadow-control"},e.createElement(o,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Angle",onChange:this.changeAngle,value:this.getAngleValue(),step:1}),e.createElement(s.Divider,{long:!1}),e.createElement(i,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Distance",onChange:this.distanceChanged,value:this.getDistanceValue(),min:0,max:50}),e.createElement(s.Divider,{long:!1}),e.createElement(i,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Size",onChange:this.sizeChanged,value:this.getSizeValue(),min:0,max:50}),e.createElement(s.Divider,{long:!1}),e.createElement(i,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Blur",onChange:this.blurChanged,value:this.getBlurValue(),min:0,max:50}),e.createElement(s.Divider,{long:!1}),e.createElement(n,t.assign({},{disabled:this.props.disabled,label:"CustomDesign_Shadow_Color&Opacity",valueLink:this.linkColorWithOpacity()},this.getColorPickerProps())),this.props.disabled?e.createElement("div",{className:"blocking-layer",key:"blockingLayer"}):null)}}),define("baseUI/panelInputs/shadowControl",["create-react-class","lodash","baseUI/panelInputs/shadowControl.rt","baseUI/panelInputs/inputMixin","core","panelUtils"],function(e,t,s,i,n,o){"use strict";function a(e){var s=c.exec(e)[1];return t.map(s.split(","),function(e){return parseFloat(e)})}function r(e){var t=this.getValueFromProps();return t?t.split(e):[]}var l=180/Math.PI,p=1/l,c=/rgba\(([^)]+)\)/,u=/rgba\(/;return e({displayName:"shadowControl",mixins:[i,n.mixins.editorAPIMixin,o.linkColorPickerMixin],render:s,getDefaultProps:function(){return{angle:0,distance:0,size:0,blur:0,color:"rgba(0,0,0,1)"}},changeAngle:function(e){this.oldDistance=this.getDistanceValue(),this.oldAngle=e,this.handleChange({angle:e})},distanceChanged:function(e){this.oldAngle=this.getAngleValue(),this.oldDistance=void 0,this.handleChange({distance:e})},sizeChanged:function(e){this.handleChange({size:e})},blurChanged:function(e){this.handleChange({blur:e})},getAngleValue:function(){if(this.oldAngle)return this.oldAngle;var e=r.call(this," "),s=t.map(e,function(e){return parseFloat(e)});return function(e,t){return((180+Math.atan2(e,-t)*l)%360).toFixed(2)}(s[0],s[1])},getDistanceValue:function(){if(this.oldDistance)return this.oldDistance;var e=r.call(this," "),s=t.map(e,function(e){return parseFloat(e)});return function(e,t){return Math.sqrt(e*e+t*t).toFixed(2)}(s[0],s[1])},getBlurValue:function(){var e=r.call(this," ");return parseFloat(e[2])},getSizeValue:function(){var e=r.call(this," "),t=parseFloat(e[3]);return t||0},getColorValue:function(){var e=this.getValueFromProps();e=e.substr(e.indexOf("rgb"));var t=/rgba\(([^)]+)\)/.exec(e);return t?t[0]:"rgba(0,0,0,1)"},getStringForValues:function(e){var s=t.defaults(e,{distance:this.getDistanceValue(),angle:this.getAngleValue(),blur:this.getBlurValue(),size:this.getSizeValue(),color:this.getColorValue()}),i=function(e,t){var s=t*p;return{x:(e*Math.sin(-s)).toFixed(2),y:(e*Math.cos(-s)).toFixed(2)}}(s.distance,s.angle);return i.x+"px "+i.y+"px "+s.blur+"px "+s.size+"px "+s.color},linkColorWithOpacity:function(){var e=this.getColorValue();return{value:{color:e,alpha:function(e){if(e.match(u))return a(e)[3];return 1}(e)},requestChange:function(e){var t=function(e){var t=a(e.color);return t[3]=e.alpha,"rgba("+t.join(",")+")"}(e);this.handleChange({color:t})}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker}},handleChange:function(e){this.callOnChangeIfExists(this.getStringForValues(e))}})}),define("baseUI/controls/cornerRadiusInput.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/linkToggle"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"control-border-radius"},e.createElement("label",{className:"inputLabel"},this.translateIfNeeded(this.props.label)),e.createElement("div",{className:"inputContainer"},e.createElement(s,{className:"small",name:"top_left",ref:"top_left",value:this.getCornerValue("top_left"),onChange:this.onCornerChange.bind(this,"top_left"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement(s,{className:"small",name:"top_right",ref:"top_right",value:this.getCornerValue("top_right"),onChange:this.onCornerChange.bind(this,"top_right"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement(s,{className:"small",name:"bottom_right",ref:"bottom_right",value:this.getCornerValue("bottom_right"),onChange:this.onCornerChange.bind(this,"bottom_right"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement(s,{className:"small",name:"bottom_left",ref:"bottom_left",value:this.getCornerValue("bottom_left"),onChange:this.onCornerChange.bind(this,"bottom_left"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement("div",{className:"cornersContainer"},e.createElement("div",{ref:"topLeft",className:"corner",style:{borderTopLeftRadius:this.getCornerValue("top_left")+"px"}}),e.createElement("div",{ref:"topRight",className:"corner",style:{borderTopRightRadius:this.getCornerValue("top_right")+"px"}}),e.createElement("div",{ref:"bottomRight",className:"corner",style:{borderBottomRightRadius:this.getCornerValue("bottom_right")+"px"}}),e.createElement("div",{ref:"bottomLeft",className:"corner",style:{borderBottomLeftRadius:this.getCornerValue("bottom_left")+"px"}}),e.createElement("span",{className:"link"},e.createElement(i,{name:"link",onClick:this.toggleLink,value:this.getLinkedToggleValue()})))))}}),define("baseUI/controls/cornerRadiusInput",["react","create-react-class","lodash","util","baseUI/controls/cornerRadiusInput.rt","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin"],function(e,t,s,i,n,o,a){"use strict";function r(e){return s.map(e.split(" "),function(e){return parseInt(e,10)})}var l={top_left:0,top_right:1,bottom_right:2,bottom_left:3};return t({displayName:"cornerRadiusInput",mixins:[o,a,e.addons.LinkedStateMixin,i.translationMixin],render:n,getInitialState:function(){return{isLinked:this.getInitialLinkState()}},getDefaultProps:function(){return{minBorderValue:0,maxBorderValue:9999,borderStep:1}},_isLinked:function(){return this.state.isLinked},getInitialLinkState:function(){var e=this.getValueFromProps(),t=s.isArray(e)?e:e.split(" ");return s.reduce(t,function(e,t,s,i){return e&&i[0]===t},!0)},onCornerChange:function(e,t){this._isLinked()?this.changeAllCorners(t):function(e,t){var s=r(this.getValueFromProps());s[l[e]]=t,this.handleChange(s)}.call(this,e,t)},changeAllCorners:function(e){this.handleChange(e)},getCornerValue:function(e){var t=this.getValueFromProps();if(this._isLinked())return parseInt(t,10);return r(t)[l[e]]},getLinkedToggleValue:function(){return this._isLinked()},toggleLink:function(){this.setState({isLinked:!this.state.isLinked});var e=r(this.getValueFromProps()),t=e[0];e=this._isLinked()?[t,t,t,t]:t,this.handleChange(e)},handleChange:function(e){var t=s.isArray(e)?e.join("px ")+"px":e+"px";this.callOnChangeIfExists(t),this.reportUIChange({value:t})}})}),define("baseUI/controls/alignment.rt",["react","lodash","util","symbols"],function(e,t,s,i){"use strict";return function(){function n(t,s,n){return function(t,s){var n=this.getValueFromProps(this.props);return e.createElement("label",{className:"item",key:"label"+s},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t.value,checked:t.value===n,onChange:function(e,t,s){this.handleChange(e.value,e.type)}.bind(this,t,s,n)}),e.createElement("span",{},t.symbolName?e.createElement(i.symbol,{key:"symbol",name:t.symbolName}):null))}.apply(this,[t,s])}return e.createElement("div",{className:this.getClassName("control-alignment")},e.createElement("div",{className:"label"},s.translate(this.props.label)),e.createElement.apply(this,["div",{className:"items"},t.map(this.props.options,n.bind(this))]))}}),define("baseUI/controls/alignment",["create-react-class","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/alignment.rt"],function(e,t,s,i){"use strict";return e({displayName:"alignment",mixins:[s],getDefaultProps:function(){return{options:[{value:"left top",label:"",className:""},{value:"center top",label:"",className:""},{value:"right top",label:"",className:""},{value:"left center",label:"",className:""},{value:"center center",label:"",className:""},{value:"right center",label:"",className:""},{value:"left bottom",label:"",className:""},{value:"center bottom",label:"",className:""},{value:"right bottom",label:"",className:""}]}},render:i})}),define("baseUI/controls/textAlignment.rt",["react","lodash","baseUI/commonData/commonData","baseUI/controls/thumbnails"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:t({"pick-text-alignment":!0,"has-label":this.hasLabel()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(i,{maxThumbsPerRow:"5",onMouseOver:t.noop,valueLink:this.props.valueLink,title:this.props.label,options:this.props.options||this.TEXT_ALIGNMENT_MODES}))}}),define("baseUI/controls/textAlignment",["create-react-class","util","baseUI/panelInputs/inputMixin","baseUI/controls/textAlignment.rt"],function(e,t,s,i){"use strict";return e({mixins:[s,t.translationMixin],TEXT_ALIGNMENT_MODES:[{value:"left",symbolName:"textAlignLeft"},{value:"center",symbolName:"textAlignCenter"},{value:"right",symbolName:"textAlignRight"}],displayName:"textAlignment",handleChange:function(e){this.callOnChangeIfExists(e)},render:i})}),define("baseUI/panelInputs/colorScheme.rt",["react","lodash","baseUILib","baseUI/commonData/commonData","baseUI/controls/toggle"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"color-scheme-picker"},e.createElement(s.Composites.RadioButtonsLabeled,{},e.createElement(s.TextLabel,{value:"CustomDesign_QuickActions_ColorScheme"}),e.createElement(s.RadioButtons,{value:this.getColorSchemeType(),onChange:this.changeColorSchemeType,options:this.props.options||this.COLOR_SCHEME_OPTIONS})),e.createElement(s.Divider,{long:!1}),e.createElement(n,{className:"invert-color-toggle",onChange:this.changeColorSchemeInvert,value:this.getColorSchemeInvert(),label:"CustomDesign_QuickActions_ReverseColor_Toogle"}))}}),define("baseUI/panelInputs/colorScheme",["core","create-react-class","lodash","baseUI/panelInputs/colorScheme.rt","baseUI/panelInputs/inputMixin"],function(e,t,s,i,n){"use strict";var o=/^(brand|grey|black)(?:\s(inv))?$/;return t({displayName:"colorScheme",mixins:[n,e.mixins.editorAPIMixin],COLOR_SCHEME_OPTIONS:[{value:"black",label:"CustomDesign_QuickActions_BlackandWhite"},{value:"grey",label:"CustomDesign_QuickActions_GreyScale"},{value:"brand",label:"CustomDesign_QuickActions_BrandColors"}],getDefaultProps:function(){return{type:"brand",invert:!0}},reportColorSchemeChangeBI:function(e,t){var i=this.getEditorAPI(),n=i.selection.getSelectedComponentType(),o=s.assign({component_type:n},t);i.bi.event(e,o)},changeColorSchemeType:function(t){this.reportColorSchemeChangeBI(e.bi.events.quickActionBar.CHANGE_COLOR_SCHEME,{value:t}),this.handleChange({type:t})},changeColorSchemeInvert:function(t){this.reportColorSchemeChangeBI(e.bi.events.quickActionBar.INVERT_COLOR_SCHEME,{invert:t}),this.handleChange({invert:t})},getColorSchemeValues:function(){return(o.exec(this.getValueFromProps().trim())||[]).slice(1)},getColorSchemeType:function(){return s.get(this.getColorSchemeValues(),[0],"brand")},getColorSchemeInvert:function(){return!!s.get(this.getColorSchemeValues(),[1])},handleChange:function(e){var t=s.get(e,"type",this.getColorSchemeType()),i=s.get(e,"invert",this.getColorSchemeInvert());this.callOnChangeIfExists(t+(i?" inv":""))},render:i})}),define("baseUI/controls/playButton.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{onClick:this.onPlayButtonClick,className:t({playButton:!0,isPlaying:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"playIcon"}))}}),define("baseUI/controls/playButton",["create-react-class","prop-types","lodash","baseUI/controls/playButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"playBtn",render:i,propTypes:{onClickAction:t.func},getInitialState:function(){return{isPlaying:!1}},onPlayButtonClick:function(){this.setState({isPlaying:!0}),this.props.onClickAction&&this.props.onClickAction(this.onPlayingDone)},onPlayingDone:function(){this.setState({isPlaying:!1})}})}),define("baseUI/controls/thumbnailPreviewPlay.rt",["react","lodash","baseUI/controls/playButton","symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"thumbnail-preview-play"},e.createElement(i.symbol,{name:this.props.iconSymbolName}),e.createElement("div",{className:"label"},this.props.label),e.createElement(s,{onClickAction:this.props.onClickAction}))}}),define("baseUI/controls/thumbnailPreviewPlay",["create-react-class","lodash","baseUI/controls/thumbnailPreviewPlay.rt"],function(e,t,s){"use strict";return e({displayName:"thumbnailPreviewPlay",render:s,getIconClass:function(){var e={icon:!0};return e[this.props.iconClass]=!0,e}})}),define("baseUI/panelInputs/media/imagePreview.rt",["react","lodash","util","baseUI/controls/button","baseUI/popovers/tooltip","symbols"],function(e,t,s,i,n,o){"use strict";return function(){function a(){var s=this.getButtons();return e.createElement.apply(this,["span",{className:"button-wrapper",key:"buttons"},t.map(s,function(s,o,a){return e.createElement(n,{key:this.getButtonLabel(o)||"button"+a,value:this.getButtonTooltip(o),disabled:!this.getButtonTooltip(o)},e.createElement(i,{className:t(this.getButtonClasses(o)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),label:this.getButtonLabel(o),icon:this.getButtonIcon(o),onClick:function(e,t,s){this.onClick(t)}.bind(this,s,o,a)}))}.bind(this,s))])}return e.createElement("div",{className:s.inheritClassName(this.props,"image-preview")+(this.isEmpty()?" empty":"")},this.isEmpty()?null:e.createElement("div",{className:"image-wrapper",key:"wrapper"},e.createElement("div",{className:"image",style:this.getImageTransformData()})),this.getNumberOfImages()>1?e.createElement("span",{onClick:this.showPrevImage,className:"arrow-button prev",key:"prev"}):null,this.getNumberOfImages()>1?e.createElement("span",{onClick:this.showNextImage,className:"arrow-button next",key:"next"}):null,this.isEmpty()?e.createElement("div",{className:t({"placeholder-wrapper":!0,"symbol-in-the-middle":0===this.getButtons().length}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"placeholder"},this.props.emptySymbolName?e.createElement(o.symbol,{name:this.props.emptySymbolName,key:"symbol"}):null,e.createElement("div",{className:"corner-borders top"}),e.createElement("div",{className:"corner-borders bottom"})):null,this.getButtons().length>0?a.apply(this,[]):null)}}),define("baseUI/panelInputs/media/imagePreview",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/panelInputs/media/imagePreview.rt"],function(e,t,s,i,n){"use strict";var o=t.shape({nonEmptyButtonLabel:t.string,nonEmptyButtonIcon:t.string,emptyButtonLabel:t.string,emptyButtonIcon:t.string,onClick:t.func});return e({displayName:"imagePreview",mixins:[i],propTypes:{emptySymbolName:t.string,getImageTransformData:t.func.isRequired,buttons:t.oneOfType([t.arrayOf(o),o]).isRequired},getDefaultProps:function(){return{buttons:[]}},getInitialState:function(){return{imageIndex:0,style:{}}},componentWillReceiveProps:function(e){this.state.imageIndex>=this.getNumberOfImages(e)&&this.setState({imageIndex:0})},getButtons:function(){var e=this.props.buttons;return e?s.isArray(e)||(e=[e]):e=[],e},getImageTransformData:function(){var e=this.props.getImageTransformData(this._getImages()[this.state.imageIndex]);return s.assign({},e.css,{backgroundImage:"url("+e.url+")"})},getButtonIcon:function(e){return this.isEmpty()?e.emptyButtonIcon:e.nonEmptyButtonIcon},getButtonLabel:function(e){return this.isEmpty()?e.emptyButtonLabel:e.nonEmptyButtonLabel},getButtonTooltip:function(e){return this.isEmpty()?e.emptyButtonTooltip:e.nonEmptyButtonTooltip},_showImage:function(e){var t=this._getImages();e<0?e=t.length-1:e===t.length&&(e=0),this.setState({imageIndex:e})},showPrevImage:function(){this._showImage(this.state.imageIndex-1)},showNextImage:function(){this._showImage(this.state.imageIndex+1)},_getImages:function(e){var t=this.getValueFromProps(e);return s.isEmpty(t)?t=[]:s.isArray(t)||(t=[t]),t},getNumberOfImages:function(e){return this._getImages(e).length},isEmpty:function(){var e=this._getImages();return s.isEmpty(e)||s.isEmpty(e[this.state.imageIndex].uri)},onClick:function(e){e.onClick(this.callOnChangeIfExists)},getButtonClasses:function(e){return{action:!0,"has-icon":!!this.getButtonIcon(e),"has-label":!!this.getButtonLabel(e)}},render:n})}),define("baseUI/panelInputs/media/organizeImagesInput.rt",["react","lodash","baseUI/panelInputs/media/imagePreview"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{buttons:this.getButton(),getImageTransformData:this.getImageTransformData,emptySymbolName:"camera"},this.props))}}),define("baseUI/panelInputs/media/organizeImagesInput",["create-react-class","lodash","core","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/organizeImagesInput.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"organizeImagesInput",mixins:[s.mixins.editorAPIMixin,i],getButton:function(){var e=this.getEditorAPI();return{nonEmptyButtonLabel:"Gallery_Settings_Main_Action_Button",emptyButtonLabel:"Gallery_Settings_Main_Action_Button_Empty",emptyButtonIcon:"plus",onClick:e&&e.panelHelpers.openOrganizeImagesPanel}},render:n})}),define("baseUI/panelInputs/media/videoInput.rt",["react","lodash","util","baseUI/controls/button","symbols"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:s.inheritClassName(this.props,"video-input")+(this.isEmpty()?" empty":""),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getFilteredProps()),this.isEmpty()?null:e.createElement("div",{className:"video-wrapper",key:"wrapper"},e.createElement("iframe",{src:this.getURL()})),this.isEmpty()?null:e.createElement("div",{className:"video-controls",key:"videoControls"},e.createElement("div",{className:t({"blocking-layer":!0,pause:!this.state.isPlaying,play:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e){e.preventDefault()}.bind(this)}),e.createElement("div",{className:t({"play-button":!this.state.isPlaying,"pause-button":this.state.isPlaying&&this.state.isMouseHovering}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(){this.state.isPlaying?this.pauseVideo():this.playVideo()}.bind(this)},e.createElement("span",{className:t({triangle:!this.state.isPlaying,pause:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")}))),this.isEmpty()?e.createElement("div",{className:t({"placeholder-wrapper":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"placeholder"},e.createElement(n.symbol,{name:"videoInvalid",key:"symbol"})):null,!this.state.isPlaying&&this.props.canChangeVideo?function(){var t=this.getButton();return e.createElement("span",{className:"button-wrapper",key:"button"},e.createElement(i,{className:"action"+(this.getButtonIcon(t)?" has-icon":"")+" btn-confirm-secondary",label:this.getButtonLabel(t),icon:this.getButtonIcon(t),key:this.getButtonLabel(t),onClick:function(e){this.onClick(e)}.bind(this,t)}))}.apply(this,[]):null)}}),define("baseUI/panelInputs/media/videoInput",["create-react-class","prop-types","lodash","core","util","uiConstants","baseUI/panelInputs/media/videoInput.rt"],function(e,t,s,i,n,o,a){"use strict";function r(e){return l[e.videoType]+e.videoId+function(e){var t=s.map(p[e],function(e,t){return t+"="+e}).join("&");return s.isEmpty(t)?"":"?"+t}(e.videoType)}var l=o.VIDEO.URL,p=o.VIDEO.QUERY_PARAMS,c=t.shape({videoType:t.string.isRequired,videoId:t.string.isRequired});return e({displayName:"videoInput",mixins:[i.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin],propTypes:{panelManager:t.object,nonEmptyButtonLabel:t.string.isRequired,emptyButtonLabel:t.string.isRequired,value:c,valueLink:t.shape({value:c,requestChange:t.func}),canChangeVideo:t.bool},getDefaultProps:function(){return{canChangeVideo:!0}},getInitialState:function(){return{isPlaying:!1,isMouseHovering:!1}},getButton:function(){return{nonEmptyButtonLabel:this.props.nonEmptyButtonLabel,nonEmptyButtonIcon:"magnifyingGlass",emptyButtonLabel:this.props.emptyButtonLabel,emptyButtonIcon:"magnifyingGlass",onClick:this._openVideoSearchPanel}},getButtonIcon:function(e){return this.isEmpty()?e.emptyButtonIcon:e.nonEmptyButtonIcon},getButtonLabel:function(e){return this.isEmpty()?e.emptyButtonLabel:e.nonEmptyButtonLabel},_onVideoSelected:function(e,t,s){this.props.canChangeVideo&&this.props.panelManager&&(this.props.panelManager.closePanelByName("videoSearch.panels.videoSearchPanel"),e({videoType:s||"YOUTUBE",videoId:t}))},_openVideoSearchPanel:function(e){var t=this.getValueFromProps();this.props.canChangeVideo&&this.props.panelManager&&this.props.panelManager.openPanel("videoSearch.panels.videoSearchPanel",{videoType:t&&t.videoType,onVideoSelected:this._onVideoSelected.bind(this,e)},!0)},getURL:function(){var e=this.getValueFromProps();if(e&&e.videoId){var t=r(e);return(t+=s.includes(t,"?")?"&":"?")+"autoplay="+(this.state.isPlaying?"1":"0")}return null},isEmpty:function(){var e=this.getValueFromProps();return!(e&&e.videoId)},playVideo:function(){this.setState({isPlaying:!0})},pauseVideo:function(){this.setState({isPlaying:!1})},onClick:function(e){e.onClick(this.callOnChangeIfExists)},onMouseEnter:function(){this.setState({isMouseHovering:!0})},onMouseLeave:function(){this.setState({isMouseHovering:!1})},getFilteredProps:function(){return s.omit(this.filteredProps(),"emptySymbolName")},render:a})}),define("baseUI/panelInputs/media/mediaManagerMixin",["prop-types","lodash","util"],function(e,t,s){"use strict";return{mixins:[s.valueLinkMixin],propTypes:{mediaManager:e.shape({open:e.func.isRequired,categories:e.object.isRequired}).isRequired,mediaManagerCategory:e.string,mediaManagerPath:e.string,mediaManagerHeaderLabel:e.string,mediaManagerButtonLabel:e.string},_changeImage:function(e,s,i){if(s){this.dataKeys=t.keys(this.getValueFromProps()),this.dataKeys=t.isEmpty(this.dataKeys)?t.keys(t.head(s)):this.dataKeys;var n=t.pick(s[0],this.dataKeys);n.uri=s[0].fileName,n.originalImageDataRef=null,n.type="Image",n.crop=null,e(n,i)}},openMediaGallery:function(e){var t=this.props.mediaManager,i=this.props.mediaManagerCategory||t.categories.IMAGE,n=void 0;(this.props.mediaManagerHeaderLabel||this.props.mediaManagerButtonLabel)&&((n={}).title=s.translate(this.props.mediaManagerHeaderLabel),n.submitButton=s.translate(this.props.mediaManagerButtonLabel)),t.open(i,{multiSelect:!1,callback:this._changeImage.bind(this,e),path:this.props.mediaManagerPath,translation:n})}}}),define("baseUI/panelInputs/media/imageChange.rt",["react","lodash","baseUI/panelInputs/media/imagePreview"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,buttons:this.getButtons(),getImageTransformData:this.getImageTransformData,emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChange",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/media/mediaManagerMixin","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChange.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"imageChange",mixins:[i.propTypesFilterMixin,n,o],propTypes:{addButtonLabel:t.string,changeButtonLabel:t.string,additionalButtons:t.oneOfType([t.object,t.array])},getDefaultProps:function(){return{additionalButtons:[]}},getButtons:function(){var e={nonEmptyButtonLabel:this.props.changeButtonLabel,nonEmptyButtonIcon:"image-change",emptyButtonLabel:this.props.addButtonLabel,emptyButtonIcon:"plus",onClick:this.props.onClick||this.openMediaGallery};return[].concat(e,this.props.additionalButtons)},render:a})}),define("baseUI/panelInputs/media/imageChangeEdit.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getEditButton(),addButtonLabel:this.props.addButtonLabel,emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeEdit",["create-react-class","prop-types","lodash","core","util","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChangeEdit.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"imageChangeEdit",mixins:[i.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin,o],propTypes:{editButtonLabel:t.string.isRequired,addButtonLabel:t.string},getEditButton:function(){var e=this.getValueFromProps();if(!s.isEmpty(e)&&!s.isEmpty(this.getImageTransformData(e)))return{nonEmptyButtonLabel:this.props.editButtonLabel,nonEmptyButtonIcon:"image-effects",onClick:this._openAviary}},_openAviary:function(){this.getEditorAPI().panelHelpers.openAviaryPanel(this.props.valueLink)},render:a})}),define("baseUI/panelInputs/media/imageChangeRemove.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getRemoveButton(),emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeRemove",["create-react-class","prop-types","lodash","core","util","baseUI/panelInputs/media/imageChangeRemove.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"imageChangeRemove",mixins:[i.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin],propTypes:{removeButtonLabel:t.string},getRemoveButton:function(){if((this.getValueFromProps()||{}).uri)return{nonEmptyButtonLabel:this.props.removeButtonLabel,nonEmptyButtonIcon:"delete",onClick:this._removeImage}},_removeImage:function(e){e(null)},render:o})}),define("baseUI/panelInputs/media/imageChangeEditRemove.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getAdditionalButtons(),emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeEditRemove",["create-react-class","prop-types","lodash","core","util","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChangeEditRemove.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"imageChangeEditRemove",mixins:[i.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin,o],propTypes:{removeButtonLabel:t.string},getRemoveButton:function(){return{nonEmptyButtonIcon:"delete",nonEmptyButtonTooltip:"strip_settings_Tooltip_Remove",onClick:this._removeImage}},getEditButton:function(){return{nonEmptyButtonIcon:"image-effects",nonEmptyButtonTooltip:"strip_settings_Tooltip_Crop",onClick:this._openAviary}},getAdditionalButtons:function(){return this.hasImage()?[this.getRemoveButton(),this.getEditButton()]:[]},_removeImage:function(e){e(this.getEmptyImageData())},_openAviary:function(){this.getEditorAPI().panelHelpers.openAviaryPanel(this.props.valueLink||{value:this.props.value,requestChange:this.props.onChange})},hasImage:function(){var e=this.getValueFromProps();return!s.isEmpty(e)&&!s.isEmpty(this.getImageTransformData(e).url)},render:a})}),define("baseUI/controls/listItemWithImage.rt",["react","lodash","util","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",{className:"listItemWithImage "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:this.props.disabled?t.noop:this.props.callback},e.createElement("img",{className:"image",src:this.props.url}),e.createElement("div",{className:"content"},this.props.title?e.createElement("div",{key:"title",className:"title ellipsis"},s.translate(this.props.title)):null,this.props.desc?e.createElement("div",{key:"desc",className:"desc ellipsis"},s.translate(this.props.desc)):null),e.createElement("div",{className:"indicator"},e.createElement(i,{value:this.props.tooltip,disabled:!this.props.tooltip,alignment:n.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{},e.createElement(o.symbol,{className:"listItemSymbol "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),name:this.props.symbol||"arrowWithStates",hintId:this.props.hintId})))))}}),define("baseUI/controls/listItemWithImage",["create-react-class","prop-types","lodash","baseUI/controls/listItemWithImage.rt"],function(e,t,s,i){"use strict";return e({displayName:"listItemWithImage",propTypes:{title:t.string,desc:t.string,tooltip:t.string,disabled:t.bool,url:t.string.isRequired,callback:t.func.isRequired,hintId:t.string},render:i})}),define("baseUI/controls/listItemWithSymbol.rt",["react","lodash","util","symbols","baseUILib"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"listItem list-item-with-symbol",onClick:function(){this.onItemClick()}.bind(this)},e.createElement(i.symbol,{className:"image",name:this.props.symbol}),e.createElement("div",{className:this.getClassesWithDisabled("content")},this.props.title?e.createElement("div",{key:"title",className:"title ellipsis"},s.translate(this.props.title)):null,this.props.desc?e.createElement("div",{key:"desc",className:"desc ellipsis"},s.translate(this.props.desc)):null),e.createElement(n.Tooltip,this.getTooltipProps(),e.createElement(i.symbol,{className:this.getClassesWithDisabled("expandSymbol"),name:this.getExpandSymbolName()})))}}),define("baseUI/controls/listItemWithSymbol",["create-react-class","prop-types","lodash","baseUI/controls/listItemWithSymbol.rt"],function(e,t,s,i){"use strict";return e({displayName:"listItemWithSymbol",render:i,propTypes:{title:t.string,desc:t.string,symbol:t.string.isRequired,expandSymbol:t.string,expandSymbolDisabled:t.string,callback:t.func.isRequired,disabled:t.bool},getClassesWithDisabled:function(e){return e+(this.props.disabled?" disabled":"")},getExpandSymbolName:function(){return s.isUndefined(this.props.expandSymbol)?"arrowWithStates":this.props.disabled?this.props.expandSymbolDisabled:this.props.expandSymbol},getTooltipProps:function(){return!this.props.disabled&&this.props.tooltip?s.assign({alignment:"RIGHT"},s.pick(this.props.tooltip,"key","id","content")):this.props.disabled&&this.props.disabledTooltip?s.assign({alignment:"RIGHT"},s.pick(this.props.disabledTooltip,"key","id","content")):{disabled:!0}},onItemClick:function(){this.props.callback&&this.props.callback()}})}),define("baseUI/controls/arrowButton.rt",["react","lodash","symbols"],function(e,t,s){"use strict";return function(){return e.createElement("i",{className:"arrow-button "+this.getClassName(),onClick:this.props.onClickAction},e.createElement(s.symbol,{name:"arrowDown"}))}}),define("baseUI/controls/arrowButton",["create-react-class","prop-types","lodash","baseUI/controls/arrowButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"arrowButton",render:i,propTypes:{withoutBorder:t.bool,className:t.string,onClickAction:t.func},getClassName:function(){var e="";return this.props.className&&(e+=" "+this.props.className),this.props.withoutBorder&&(e+=" without-border"),e.trim()}})}),define("baseUI/colorPicker/colorSpace.rt",["react","lodash"],function(e,t){"use strict";return function(){function s(){var s=this.getSelectedColor();return e.createElement("div",{className:"colorSpace"},e.createElement("div",{className:"top-section"},e.createElement("div",{ref:"colorSpace",className:"select-area",onMouseDown:this.selectAreaClicked},e.createElement("div",{className:"selector-layer",style:{backgroundColor:"hsl("+s.hue+", 100%, 50%)"}}),e.createElement("div",{className:"selector-layer saturation-layer"}),e.createElement("div",{className:"selector-layer brightness-layer"}),e.createElement("div",{className:"color-indicator "+(s.brightness>60?"bright-background":"dark-background"),style:this.getIndicatorStyle()})),e.createElement.apply(this,["div",{className:"brightness-options"},t.map(this.getBrightnessOptions(),function(t,s,i){return e.createElement("div",{key:"brightnessOption-"+i,className:"option",style:{backgroundColor:"rgb("+s.red+", "+s.green+", "+s.blue+")"},onClick:function(e,t,s){this.brightnessOptionSelected(s)}.bind(this,t,s,i)})}.bind(this,s))])),e.createElement("div",{className:"hue-scale",onMouseDown:this.hueScaleClicked},e.createElement("div",{className:"hue-indicator "+(this.state.hueIndicatorDrag?"hue-indicator-drag":""),style:this.getHueIndicatorStyle()})))}return s.apply(this,[])}}),define("baseUI/colorPicker/colorSpace",["reactDOM","jquery","lodash","create-react-class","prop-types","util","baseUI/colorPicker/colorSpace.rt"],function(e,t,s,i,n,o,a){"use strict";return i({displayName:"colorSpace",mixins:[o.valueLinkMixin],propTypes:{valueLink:n.object,value:n.object},getInitialState:function(){return this.layout={colorSpace:{}},{hueIndicatorDrag:!1}},updateLayoutDimensions:function(){var s=t(e.findDOMNode(this)),i=t(e.findDOMNode(this.refs.colorSpace));this.layout={colorSpace:{width:i.width(),height:i.height()},width:s.width(),left:s.offset().left,top:s.offset().top}},componentDidMount:function(){this.updateLayoutDimensions(),this.forceUpdate()},componentDidUpdate:function(){this.updateLayoutDimensions()},shouldComponentUpdate:function(e,t){return!s.isEqual(this.getValueFromProps(),this.getValueFromProps(e))||!s.isEqual(t,this.state)},getSelectedColor:function(){var e=this.getValueFromProps();if(s.isUndefined(e.hue)||s.isUndefined(e.saturation)||s.isUndefined(e.brightness))throw"no HSB color was provided to custom color picker";return s.clone(e)},getBrightnessOptions:function(){for(var e=[],t=this.getSelectedColor(),s=void 0,i=5;i>0;i--)s={hue:t.hue,saturation:t.saturation,brightness:20*i-10},e.push(o.colors.hsbToRgb(s));return e},hueScaleClicked:function(e){this.hueSelected(e),this.setState({hueIndicatorDrag:!0},function(){t(window.document).on("mousemove",this.hueSelected),t(window.document).on("mouseup",this.hueIndicatorDragEnd)}.bind(this))},hueSelected:function(e){var t=o.math.ensureWithinLimits(e.pageX,this.layout.left,this.layout.left+this.layout.width),s=Math.floor(o.math.percentFromValue(t,this.layout.left,this.layout.left+this.layout.width)),i=parseInt(o.math.valueFromPercent(s,0,360),10);this.updateColor({hue:i})},hueIndicatorDragEnd:function(){this.setState({hueIndicatorDrag:!1}),t(window.document).off("mousemove",this.hueSelected),t(window.document).off("mouseup",this.hueIndicatorDragEnd)},updateColor:function(e){var t=this.getSelectedColor(),i=s.assign({},t,e);this.callOnChangeIfExists(i)},brightnessOptionSelected:function(e){this.updateColor({brightness:20*(5-e)-10})},getIndicatorStyle:function(){if(!this.layout.colorSpace.width)return{};var e=this.getSelectedColor();return{left:o.math.valueFromPercent(e.saturation,0,this.layout.colorSpace.width)-5,bottom:o.math.valueFromPercent(e.brightness,0,this.layout.colorSpace.height)-5}},getHueIndicatorStyle:function(){if(!this.layout.width)return{};var e=100*this.getSelectedColor().hue/360;return{left:o.math.valueFromPercent(e,0,this.layout.width)-7}},selectAreaClicked:function(e){this.saturationBrightnessSelected(e),t(window.document).on("mousemove",this.saturationBrightnessSelected),t(window.document).on("mouseup",this.colorIndicatorDragEnd)},saturationBrightnessSelected:function(e){var t=o.math.ensureWithinLimits(e.pageX,this.layout.left,this.layout.left+this.layout.colorSpace.width),s=o.math.ensureWithinLimits(e.pageY,this.layout.top,this.layout.top+this.layout.colorSpace.height),i=o.math.percentFromValue(t,this.layout.left,this.layout.left+this.layout.colorSpace.width),n=100-o.math.percentFromValue(s,this.layout.top,this.layout.top+this.layout.colorSpace.height);this.updateColor({saturation:parseInt(i,10),brightness:parseInt(n,10)})},colorIndicatorDragEnd:function(){t(window.document).off("mousemove",this.saturationBrightnessSelected),t(window.document).off("mouseup",this.colorIndicatorDragEnd)},render:a})}),define("baseUI/colorPicker/colorFormat.rt",["react","lodash","baseUI/controls/horizontalTabs","baseUI/panelInputs/stepper","baseUI/panelInputs/textInput","uiConstants"],function(e,t,s,i,n,o){"use strict";return function(){function t(){var t=o.COLOR_FORMATS;return e.createElement("div",{className:"color-format"},e.createElement(s,{options:this.getFormatOptions(),valueLink:this.linkState("selectedFormat"),className:"arrowed"}),e.createElement("div",{className:"color-values-wrapper"},this.state.selectedFormat===t.HEX?function(t){var s=this.getColorAsHEX();return e.createElement("div",{key:"hexSection",className:"color-value-hex"},e.createElement(n,{validator:this.validateHexValue,invalidMessage:"ColorPicker_ColorSpace_HEXErrorTooltip",value:s,maxLength:6,onChange:this.handleHexChange,onChangeInValidationStatus:this.props.onChangeInValidationStatus}))}.apply(this,[t]):null,this.state.selectedFormat===t.RGB?function(t){var s=this.getColorAsRGB();return e.createElement("div",{key:"rgbSection",className:"color-values"},e.createElement("div",{className:"color-value-item"},e.createElement(i,{min:0,max:255,value:s.red,step:1,onChange:this.handleRedChange})),e.createElement("div",{className:"color-value-item"},e.createElement(i,{min:0,max:255,value:s.green,step:1,onChange:this.handleGreenChange})),e.createElement("div",{className:"color-value-item"},e.createElement(i,{min:0,max:255,value:s.blue,step:1,onChange:this.handleBlueChange})))}.apply(this,[t]):null,this.state.selectedFormat===t.HSB?function(t){var s=this.getColorAsExactHSB();return e.createElement("div",{key:"hsbSection",className:"color-values"},e.createElement("div",{className:"color-value-item"},e.createElement(i,{min:0,max:360,units:"°",value:Math.round(s.hue),step:1,onChange:this.handleHueChange})),e.createElement("div",{className:"color-value-item"},e.createElement(i,{min:0,max:100,units:"%",value:Math.round(s.saturation),step:1,onChange:this.handleSaturationChange})),e.createElement("div",{className:"color-value-item"},e.createElement(i,{min:0,max:100,units:"%",value:Math.round(s.brightness),step:1,onChange:this.handleBrightnessChange})))}.apply(this,[t]):null))}return t.apply(this,[])}}),define("baseUI/colorPicker/colorFormat",["react","create-react-class","prop-types","lodash","util","uiConstants","baseUI/colorPicker/colorFormat.rt"],function(e,t,s,i,n,o,a){"use strict";return t({displayName:"colorFormat",propTypes:{value:s.object.isRequired,onChangeInValidationStatus:s.func},mixins:[e.addons.LinkedStateMixin,n.valueLinkMixin,e.addons.PureRenderMixin],getInitialState:function(){var e=this.getValueFromProps(),t=n.colors.hsbToRgb(e);return{selectedFormat:o.COLOR_FORMATS.HEX,currentExactHSB:e,currentRGB:t,currentHEX:n.colors.rgbToHex(t)}},componentWillReceiveProps:function(e){if(!i.isEqual(e.value,this.props.value)&&!i.isEqual(e.value,this.state.currentExactHSB)){var t=n.colors.hsbToRgb(e.value);this.setState({currentExactHSB:e.value,currentRGB:t,currentHEX:n.colors.rgbToHex(t)})}},componentDidUpdate:function(e,t){t.selectedFormat!==this.state.selectedFormat&&this.props.onChangeInValidationStatus&&this.props.onChangeInValidationStatus(!0)},getFormatOptions:function(){return[{label:"ColorPicker_ColorSpace_HEX",value:o.COLOR_FORMATS.HEX},{label:"ColorPicker_ColorSpace_RGB",value:o.COLOR_FORMATS.RGB},{label:"ColorPicker_ColorSpace_HSB",value:o.COLOR_FORMATS.HSB}]},getColorAsExactHSB:function(){return i.clone(this.state.currentExactHSB)},getColorAsHEX:function(){return this.state.currentHEX.substr(1)},getColorAsRGB:function(){return i.clone(this.state.currentRGB)},handleRedChange:function(e){var t=this.getColorAsRGB();t.red=e;var s=n.colors.rgbToHsbExact(t);this.setState({currentExactHSB:s,currentRGB:t,currentHEX:n.colors.rgbToHex(t)},this.callOnChangeIfExists.bind(this,i.clone(s)))},handleGreenChange:function(e){var t=this.getColorAsRGB();t.green=e;var s=n.colors.rgbToHsbExact(t);this.setState({currentExactHSB:s,currentRGB:t,currentHEX:n.colors.rgbToHex(t)},this.callOnChangeIfExists.bind(this,i.clone(s)))},handleBlueChange:function(e){var t=this.getColorAsRGB();t.blue=e;var s=n.colors.rgbToHsbExact(t);this.setState({currentExactHSB:s,currentRGB:t,currentHEX:n.colors.rgbToHex(t)},this.callOnChangeIfExists.bind(this,i.clone(s)))},handleHueChange:function(e){var t=this.getColorAsExactHSB();if(Math.round(t.hue)!==e){t.hue=n.math.ensureWithinLimits(e,0,360);var s=n.colors.hsbToRgb(t);this.setState({currentExactHSB:t,currentRGB:s,currentHEX:n.colors.rgbToHex(s)},this.callOnChangeIfExists.bind(this,i.clone(t)))}},handleSaturationChange:function(e){var t=this.getColorAsExactHSB();if(Math.round(t.saturation)!==e){t.saturation=e;var s=n.colors.hsbToRgb(t);this.setState({currentExactHSB:t,currentRGB:s,currentHEX:n.colors.rgbToHex(s)},this.callOnChangeIfExists.bind(this,i.clone(t)))}},handleBrightnessChange:function(e){var t=this.getColorAsExactHSB();if(Math.round(t.brightness)!==e){t.brightness=e;var s=n.colors.hsbToRgb(t);this.setState({currentExactHSB:t,currentRGB:s,currentHEX:n.colors.rgbToHex(s)},this.callOnChangeIfExists.bind(this,i.clone(t)))}},handleHexChange:function(e){e="#"+e;var t=n.colors.hexToRgb(e),s=n.colors.rgbToHsbExact(t);this.setState({currentExactHSB:s,currentRGB:t,currentHEX:e},this.callOnChangeIfExists.bind(this,i.clone(s)))},validateHexValue:function(e){return/^[0-9A-F]{6}$/i.test(e)},render:a})}),define("baseUI/colorPicker/paletteDisplayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:"palette-displayer",onMouseOut:function(){this.previewColor(this.getValueFromProps())}.bind(this)},this.filteredProps()),t.map(this.getColors(),function(s,i){return e.createElement("div",{key:"paletteColor-"+i,className:t(this.getOptionClasses(s)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e,t){this.selectColor(e.symbol,t)}.bind(this,s,i),onDoubleClick:this.selectColorAndClose.bind(this,s.symbol),onMouseEnter:function(e,t){this.previewColor(e.symbol)}.bind(this,s,i),style:{backgroundColor:s.value}})}.bind(this))])}}),define("baseUI/colorPicker/paletteDisplayer",["create-react-class","prop-types","lodash","util","baseUI/mixins/reportUIChangeMixin","baseUI/colorPicker/paletteDisplayer.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"paletteDisplayer",mixins:[n,i.valueLinkMixin,i.propTypesFilterMixin],propTypes:{palette:t.objectOf(t.string).isRequired,isSelectable:t.bool,onPreview:t.func},getColors:function(){var e=[];return s.forEach(this.props.palette,function(t,s){parseInt(/color_(\d+)/.exec(s)[1],10)>=11&&e.push({symbol:s,value:t})}),function(e,t,s){for(var i=[],n=t*s,o=0;o<t;o++)for(var a=o;a<n;a+=t)i.push(e[a]);return i}(e,5,e.length/5)},getOptionClasses:function(e){return{"palette-color-option":!0,"white-option":i.colors.getDistanceToWhite(e.value)<3,"option-selected":this.getValueFromProps()===e.symbol,selectable:this.props.isSelectable}},previewColor:function(e){this.props.isSelectable&&this.props.onPreview&&this.props.onPreview(e)},selectColor:function(e,t){this.reportUIChange({value:t}),this.props.isSelectable&&this.callOnChangeIfExists(e)},selectColorAndClose:function(e){this.props.isSelectable&&this.callOnChangeIfExists(e,!0)},render:o})}),define("baseUI/colorPicker/palettesList.rt",["react","lodash"],function(e,t){"use strict";return function(){function s(s,i){return e.createElement("div",{className:"palette-option-wrapper",key:"paletteOption-"+i,onMouseEnter:this.previewPalette.bind(null,s),onMouseDown:this.selectPalette.bind(null,s)},e.createElement.apply(this,["div",this.getPaletteOptionProps(s),t.map(this.getRootColors(s),function(s,i,n,o){return e.createElement("span",{key:"paletteRootColor-"+o,className:t(this.getPaletteOptionColorClasses(n)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:{backgroundColor:n}})}.bind(this,s,i))]))}return e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:"palettes-list"},this.filteredProps()),e.createElement.apply(this,["div",{className:"palette-options",onMouseLeave:this.resetPalette},t.map(this.props.palettes,s.bind(this))]))}}),define("baseUI/colorPicker/palettesList",["reactDOM","create-react-class","prop-types","lodash","jquery","util","baseUI/colorPicker/palettesList.rt"],function(e,t,s,i,n,o,a){"use strict";var r=["color_13","color_19","color_23","color_29","color_33"];return t({displayName:"paletteList",mixins:[o.propTypesFilterMixin,o.valueLinkMixin],propTypes:{palettes:s.arrayOf(s.object).isRequired,valueLink:s.shape({value:s.object,requestChange:s.func.isRequired}).isRequired,onPreview:s.func.isRequired},componentDidMount:function(){if(this.refs.selectedPalette){var t=n(e.findDOMNode(this)),s=n(e.findDOMNode(this.refs.selectedPalette)).position().top,i=t.height();t.scrollTop(s-.5*i)}},arePalettesEqual:function(e,t){return i.isEmpty(i.difference(this.getRootColors(e),this.getRootColors(t)))},getPaletteOptionProps:function(e){var t=this.getValueFromProps(),s=this.arePalettesEqual(t,e),i={className:"palette-option"+(s?" selected":"")};return s&&(i.ref="selectedPalette"),i},getPaletteOptionColorClasses:function(e){return{"palette-option-color":!0,"white-color":o.colors.getDistanceToWhite(e)<3}},getRootColors:function(e){return i(e).pick(r).values().value()},previewPalette:function(e){this.props.onPreview(e)},selectPalette:function(e){this.callOnChangeIfExists(e)},resetPalette:function(){this.callOnChangeIfExists(this.getValueFromProps())},render:a})}),define("baseUI/panelInputs/opacitySlider.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/infoIcon"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",t.assign({},{className:t({"input-slider-opacity":!0,"has-label":this.hasLabel(),disabled:this.isDisabled()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getTopLevelProps()),e.createElement("label",{className:"label"},this.translateIfNeeded(this.getLabel())),this.hasLabel()&&(this.props.infoText||this.props.infoText)&&!this.props.disabled?e.createElement(i,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("div",{className:"clearfix sliderArea"},e.createElement("div",{className:"sliderContainer"},e.createElement(s,{className:this.getStepperClass(),disabled:this.props.disabled,min:this.getStepperMin(),max:this.getStepperMax(),value:this.state.value,selectedUnits:this.props.selectedUnits,units:this.props.units,step:this.getStepperStep(),onUnitsChange:this.props.onUnitsChange,onChange:this.handleStepperChange,afterBlur:this.props.afterBlur}),e.createElement("div",{className:"slider",ref:"slider",onMouseDown:this.mouseDown},e.createElement("div",{className:"empty-line"}),e.createElement("div",{className:"line",style:this.getColorGradient()}),e.createElement("div",{className:"knobContainer"},e.createElement("div",{className:"sliderKnob",style:{left:"calc("+this.getValueInPercent()+"%)"}}))))))}}),define("baseUI/panelInputs/opacitySlider",["reactDOM","jquery","lodash","create-react-class","prop-types","baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/opacitySlider.rt"],function(e,t,s,i,n,o,a,r,l,p){"use strict";return i({displayName:"opacitySlider",mixins:[o,a,r.translationMixin,l],contextTypes:{reportUIChange:n.func},propTypes:{min:n.number,max:n.number,stepperMin:n.number,stepperMax:n.number,steppeStep:n.number,selectedUnits:n.string,onUnitsChange:n.func,colorResolver:n.func,units:n.oneOfType([n.string,n.array]),step:n.number,defaultValue:n.number,infoText:n.string,infoTitle:n.string,onSlideEnd:n.func,isSmallStepper:n.bool,afterBlur:n.func,middleValueForPolynomial:n.number},getDefaultProps:function(){return{max:100,min:0,step:1,units:"",isSmallStepper:!1}},getStepperClass:function(){var e="";return s.isArray(this.props.units)?e="with-units-dd":this.props.isSmallStepper&&(e="small"),e},getSliderValue:function(e){var t=this.getValueFromProps(e);return s.isUndefined(t)?t:parseFloat(t)},getInitialState:function(){this.sliderX=0,this.sliderWidth=0;var e=this.props.middleValueForPolynomial;e&&(this.quadraticEquation=r.math.getQuadraticEquationBy3Points({x:0,y:this.props.min},{x:50,y:e},{x:100,y:this.props.max}));var t=this.getSliderValue(),i=void 0!==this.props.defaultValue?Number(this.props.defaultValue):this.props.min,n=s.isNumber(t)?t:i;return{value:r.normalizeNumber(n,this.props.min,this.props.max,this.props.step)}},getValueInPercent:function(){var e=this.state.value;return this.state.value>this.props.max?e=this.props.max:this.state.value<this.props.min&&(e=this.props.min),this.quadraticEquation?Math.round(this.quadraticEquation.fInverse(e)):Math.round((e-this.props.min)/(this.props.max-this.props.min)*100)},fromPercent:function(e){return this.props.min+(this.props.max-this.props.min)*e/100},calcPositionOnSlider:function(e){var t=(e-this.sliderX)/this.sliderWidth*100;return Math.min(Math.max(t,0),100)},calcNewValueFromKnob:function(e){var t=this.calcPositionOnSlider(e);if(this.quadraticEquation){var s=Math.round(this.quadraticEquation.f(t));return Math.min(Math.max(s,this.props.min),this.props.max)}return r.normalizeNumber(this.fromPercent(t),this.props.min,this.props.max,this.props.step)},handleKnobPositionChange:function(e){if(!this.props.disabled){var t=this.calcNewValueFromKnob(e.pageX-8);this.handleChange(t)}},mouseUp:function(){t(window.document.body).removeClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup"),this.reportUIChange({value:this.state.value,value_change_origin:"Slider"}),this.props.onSlideEnd&&this.props.onSlideEnd()},mouseDown:function(s){t(window.document.body).addClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup");var i=t(e.findDOMNode(this.refs.slider));this.sliderX=i.offset().left,this.sliderWidth=i.width()-16,this.handleKnobPositionChange(s),this.registerEventListenersToDocument("mousemove",this.handleKnobPositionChange),this.registerEventListenersToDocument("mouseup",this.mouseUp)},handleChange:function(e,t){this.state.value!==e&&(this.setState({value:e}),this.callOnChangeIfExists(e,t))},handleStepperChange:function(e){e=r.normalizeNumber(e,this.getStepperMin(),this.getStepperMax(),this.getStepperStep()),this.handleChange(e,!0),this.reportUIChange({value:e,value_change_origin:"Input"})},getStepperMax:function(e){var t=void 0;return e&&(t=e.stepperMax||e.max),t||(t=this.props.stepperMax||this.props.max),t},getStepperMin:function(e){var t=void 0;return e&&(t=e.stepperMin,isNaN(t)&&(t=e.min)),isNaN(t)&&(t=this.props.stepperMin,isNaN(t)&&(t=this.props.min)),t},getStepperStep:function(e){var t=void 0;return e&&(t=e.stepperStep,isNaN(t)&&(t=e.step)),isNaN(t)&&(t=this.props.stepperStep,isNaN(t)&&(t=this.props.step)),t},componentWillReceiveProps:function(e){var t=this.getSliderValue(e);if(t!==this.state.value){var s=r.normalizeNumber(t,this.getStepperMin(e),this.getStepperMax(e),this.getStepperStep(e));this.setState({value:s})}},getTopLevelProps:function(){return s.omit(this.props,["min","max","value","units","defaultValue","onChange","step"])},getColorGradient:function(){var e=this.props.color;/color_/.test(e)&&(e=this.props.colorResolver(e.replace(/[\{\}]/g,"")));var t=r.colors.hexToRgb(e),i=s.values(t).join(",");return{background:"linear-gradient(to right, rgba("+i+",0) 0%,rgba("+i+" ,0.5) 50%,rgba("+i+",1) 100%)"}},render:p})}),define("baseUI/colorPicker/colorPickerInputWithOpacitySlider.rt",["react","lodash","baseUILib","baseUI/panelInputs/opacitySlider","baseUI/colorPicker/colorPickerInput"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"color-picker-input-with-opacity"},this.props.label?e.createElement("label",{key:"label",className:t({"color-picker-input-with-opacity-label":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(this.props.label)):null,e.createElement("div",{className:"color-picker-input-with-opacity-slider"},e.createElement(i,{isSmallStepper:this.props.isSmallStepper,disabled:this.props.disabled,units:"%",color:this.getValueFromProps().color,colorResolver:this.props.colorResolver,valueLink:this.linkOpacity(),min:0,max:100,step:1}),e.createElement(n,t.assign({},{disabled:this.props.disabled,valueLink:this.linkColor()},this.filteredProps()))),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInputWithOpacitySlider",["create-react-class","prop-types","lodash","util","baseUI/colorPicker/colorPickerInputWithOpacitySlider.rt"],function(e,t,s,i,n){"use strict";return e({propTypes:{label:t.string,helpText:t.string,isSmallStepper:t.bool},getDefaultProps:function(){return{isSmallStepper:!1}},mixins:[i.valueLinkMixin,i.propTypesFilterMixin,i.translationMixin],displayName:"colorPickerInputWithOpacitySlider",linkColor:function(){return{value:this.getValueFromProps().color,requestChange:function(e){var t=0===this.getValueFromProps().alpha?1:this.getValueFromProps().alpha;this.callOnChangeIfExists({color:e,alpha:t})}.bind(this)}},linkOpacity:function(){return{value:100*this.getValueFromProps().alpha,requestChange:function(e){this.callOnChangeIfExists({color:this.getValueFromProps().color,alpha:e/100})}.bind(this)}},render:n})}),define("baseUI/controls/iframe.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("iframe",t.assign({},{src:this.props.src,name:this.name,ref:"iframe"},this.filteredProps()))}}),define("baseUI/controls/iframe",["create-react-class","prop-types","lodash","baseUI/controls/iframe.rt","util"],function(e,t,s,i,n){"use strict";return e({displayName:"IFrame",render:i,mixins:[n.propTypesFilterMixin],propTypes:{src:t.string.isRequired,onPostMessage:t.func},_postMessageHandler:function(e){this.props.onPostMessage&&0===this.props.src.indexOf(e.origin)&&this.props.onPostMessage(e)},componentWillMount:function(){window.addEventListener("message",this._postMessageHandler),this.name=this.props.name||s.uniqueId("iframe")},componentWillUnmount:function(){window.removeEventListener("message",this._postMessageHandler)},sendMessage:function(e){window.frames[this.name].postMessage(e,this.props.src)}})}),define("baseUI/controls/preloader.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"circle-preloader "+(this.props.className||"")})}}),define("baseUI/controls/preloader",["create-react-class","baseUI/controls/preloader.rt"],function(e,t){"use strict";return e({displayName:"preloader",render:t})}),define("baseUI/controls/video.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("figure",{className:"video-container"},e.createElement("video",{ref:"video",key:"video",preload:"metadata",poster:this.props.poster,src:this.props.src}),e.createElement("div",{className:"controls",ref:"controls",key:"controls","data-state":"stopped"},e.createElement("div",{className:"main-action",onClick:this.play},e.createElement("button",{className:"play-big"})),e.createElement("footer",{},e.createElement("div",{className:"progress-bar",ref:"progressBar",key:"progressBar",onClick:this.rewind},e.createElement("span",{className:"progress",ref:"progress",key:"progress"})),e.createElement("div",{className:"actions"},e.createElement("button",{className:"play-pause",onClick:this.play}),e.createElement("button",{className:"stop",onClick:this.stop}),e.createElement("button",{className:"fullscreen",onClick:this.switchFullscreen})))))}}),define("baseUI/controls/video",["create-react-class","prop-types","lodash","baseUI/controls/video.rt"],function(e,t,s,i){"use strict";return e({displayName:"video",propTypes:{src:t.string.isRequired,poster:t.string},video:null,controls:null,progressBar:null,progress:null,render:i,componentDidMount:function(){this.getDOMNodes(),this.setCrutches(),this.addVideoEventListeners()},play:function(){this.video.paused||this.video.ended?this.video.play():this.video.pause()},stop:function(){this.video.pause(),this.video.currentTime=0,this.setControlState("stopped")},rewind:function(e){this.video.currentTime=this.video.duration*e.nativeEvent.offsetX/this.progressBar.offsetWidth,this.onTimeUpdate()},switchFullscreen:function(){this.video.requestFullScreen()},setControlState:function(e){this.controls.dataset.state=e},onPlay:function(){this.setControlState("playing")},onPause:function(){this.video.ended?this.setControlState("stopped"):this.setControlState("paused")},onEnded:function(){this.video.currentTime=0,this.setControlState("stopped")},onTimeUpdate:function(){var e=this.video.currentTime*this.progressBar.offsetWidth/this.video.duration;this.progress.style.setProperty("width",e+"px")},getDOMNodes:function(){this.video=this.refs.video,this.controls=this.refs.controls,this.progressBar=this.refs.progressBar,this.progress=this.refs.progress},setCrutches:function(){this.video.requestFullScreen||(this.video.requestFullScreen=this.video.webkitRequestFullScreen||this.video.mozRequestFullScreen||this.video.msRequestFullscreen)},addVideoEventListeners:function(){this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause),this.video.addEventListener("ended",this.onEnded),this.video.addEventListener("timeupdate",this.onTimeUpdate)}})}),define("baseUI/controls/toggleButton.rt",["react","lodash","baseUI/controls/toggle","baseUI/popovers/tooltip","uiConstants"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(i,{value:this.props.tooltipValue,disabled:!this.props.tooltipValue,styleType:n.TOOLTIP.STYLE_TYPE.SMALL},e.createElement("span",{},e.createElement(s,{name:this.props.name,className:t({"toggle-button":!0,checked:this.props.value}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),value:this.props.value,instanceId:this.props.name,onChange:this.props.onChange,disabled:this.props.disabled})))}}),define("baseUI/controls/toggleButton",["create-react-class","prop-types","lodash","baseUI/controls/toggleButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"toggleButton",propTypes:{name:t.string},render:i})}),define("baseUI/controls/dock.rt",["react","lodash","baseUI/controls/infoIcon"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"control-dock",onMouseLeave:this.props.onMouseLeave},this.hasLabel()&&(this.props.infoText||this.props.infoText)?e.createElement(s,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("label",{className:"dock-label"},this.getLabel()),e.createElement.apply(this,["div",{className:"dock-corners-wrapper"},t.map(this.getDockValues(),function(s,i){return e.createElement("label",{key:s.direction,className:t(this.getClasses(s.direction)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onMouseEnter:this.onDockMouseEnter.bind(null,s.direction),onMouseLeave:this.props.onMouseLeave},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),onChange:this.onDockChange.bind(null,s.direction),checked:this.props.value===s.direction,value:s.direction}),e.createElement("span",{className:"square "+s.className}))}.bind(this)),e.createElement("div",{className:"dashed horizontal"}),e.createElement("div",{className:"dashed vertical"})]))}}),define("baseUI/controls/dock",["create-react-class","prop-types","lodash","baseUI/controls/dock.rt","baseUI/controls/radioButtonsMixin"],function(e,t,s,i,n){"use strict";return e({displayName:"dock",propTypes:{value:t.oneOf(s.values(["TOP_LEFT","TOP","TOP_RIGHT","LEFT","MIDDLE","RIGHT","BOTTOM_LEFT","BOTTOM","BOTTOM_RIGHT"])),disabledValues:t.arrayOf(t.oneOf(["MIDDLE"]))},mixins:[n],onDockMouseEnter:function(e){s.isFunction(this.props.onPreviewHover)&&this.props.onPreviewHover(e)},onDockChange:function(e){this.callOnChangeIfExists(e)},getClasses:function(e){return{disabled:function(e){return this.props.disabledValues&&s.includes(this.props.disabledValues,e)}.call(this,e)}},getDockValues:function(){return[{className:"top left",direction:"TOP_LEFT"},{className:"top",direction:"TOP"},{className:"top right",direction:"TOP_RIGHT"},{className:"left",direction:"LEFT"},{className:"middle",direction:"MIDDLE"},{className:"right",direction:"RIGHT"},{className:"bottom left",direction:"BOTTOM_LEFT"},{className:"bottom",direction:"BOTTOM"},{className:"bottom right",direction:"BOTTOM_RIGHT"}]},render:i})}),define("baseUI/panelInputs/accordion.rt",["react","lodash","baseUILib","symbols","baseUI/controls/infoIcon"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"control-accordion"},this.props.useDividers?e.createElement(s.Divider,{long:!0,key:"203"}):null,e.createElement("div",{className:"accordion-header",onClick:this.toggle},e.createElement("span",{className:t({"accordion-icon":!0,open:this.state.opened}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(i.symbol,{name:this.state.opened?"accordionOpen":"accordionClose"})),e.createElement("label",{className:"control-label"},this.translateIfNeeded(this.getLabel())),this.props.isOptionSelected?e.createElement("span",{key:"selectedIndicator",className:"selected-indicator"},e.createElement(i.symbol,{name:this.props.selectedIndicatorIcon})):null,this.props.infoText||this.props.infoTitle?e.createElement(n,{key:"accordionInfoIcon",title:this.props.infoTitle,text:this.props.infoText}):null),this.props.useDividers&&this.state.opened?e.createElement(s.Divider,{long:!1,key:"977"}):null,this.state.opened?e.createElement("div",{ref:"accordionContent",key:"accordionContent",className:"content"},this.props.children):null)}}),define("baseUI/panelInputs/accordion",["create-react-class","prop-types","lodash","core","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/accordion.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"accordion",mixins:[n.translationMixin,o,i.mixins.editorAPIMixin],propTypes:{label:t.string,isOptionSelected:t.bool,infoText:t.string,infoTitle:t.string,selectedIndicatorIcon:t.string,userPreferencesKey:t.string,useDividers:t.bool,onExpand:t.func,openedOnInit:t.bool},contextTypes:{reportUIChange:t.func},getInitialState:function(){var e=void 0;return this.props.userPreferencesKey&&(e=this.getEditorAPI().getUserPreferences().session.get(this.props.userPreferencesKey)),{opened:s.isUndefined(e)?this.props.openedOnInit:e}},getLabel:function(){return void 0!==this.props.label?this.props.label:""},toggle:function(){var e=this.state.opened?"close":"open";this.setState({opened:!this.state.opened},function(){"open"===e&&this.props.onExpand&&this.props.onExpand()}.bind(this)),this.updateUserPrefsIfNeeded("open"===e),this.reportUIChange({state:e})},updateUserPrefsIfNeeded:function(e){if(this.props.userPreferencesKey){this.getEditorAPI().getUserPreferences().session.set(this.props.userPreferencesKey,e)}},render:a})}),define("baseUI/controls/splitter/splitterPane.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",function(e,s){var i=t.assign({},e,s);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(i.className=s.className+" "+e.className),i}({className:this.getClass(),style:this.getStyle()},this.filteredProps()),this.props.children)}}),define("baseUI/controls/splitter/splitterPane",["create-react-class","prop-types","lodash","util","baseUI/controls/splitter/splitterPane.rt"],function(e,t,s,i,n){"use strict";var o={VERTICAL:"vertical",HORIZONTAL:"horizontal"};return e({displayName:"SplitterPane",mixins:[i.propTypesFilterMixin],propTypes:{layout:t.oneOf([o.VERTICAL,o.HORIZONTAL]).isRequired,size:t.string,minSize:t.string,maxSize:t.string,disableEvents:t.bool},getDefaultProps:function(){return{layout:o.VERTICAL}},getClass:function(){var e=s.isEmpty(this.props.size)?"splitter-pane-auto-size":null;return s.compact(["splitter-pane","splitter-pane-"+this.props.layout,this.props.className,e]).join(" ")},getStyle:function(){var e={position:"relative"};return this.props.layout===o.HORIZONTAL?s.assign(e,{height:this.props.size,width:"100%",minHeight:this.props.minSize,maxHeight:this.props.maxSize}):s.assign(e,{width:this.props.size,height:"100%",minWidth:this.props.minSize,maxWidth:this.props.maxSize}),s.isEmpty(this.props.size)&&(e.flex=1,e.WebkitFlex=1),this.props.style&&s.assign(e,this.props.style),s.pickBy(e)},render:n})}),define("baseUI/controls/splitter/splitterDivider.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:this.getClass(),onMouseDown:this.handleMouseDown})}}),define("baseUI/controls/splitter/splitterDivider",["reactDOM","create-react-class","prop-types","jquery","lodash","baseUI/controls/splitter/splitterDivider.rt"],function(e,t,s,i,n,o){"use strict";return t({displayName:"splitterDivider",propTypes:{layout:s.oneOf(["vertical","horizontal"]).isRequired,onClick:s.func,onDrag:s.func,onDragEnd:s.func},getClass:function(){return n.compact(["splitter-divider","splitter-divider-"+this.props.layout,this.props.className]).join(" ")},componentWillMount:function(){this.active=!1,this.dragging=!1},componentDidMount:function(){this.props.onDrag&&(i(window.document).on("mousemove",this.handleMouseMove),i(window.document).on("mouseup",this.handleMouseUp))},componentWillUnmount:function(){this.props.onDrag&&(i(window.document).off("mousemove",this.handleMouseMove),i(window.document).off("mouseup",this.handleMouseUp))},handleMouseDown:function(){this.active=!0},handleMouseUp:function(t){!this.dragging&&this.props.onClick&&t.target===e.findDOMNode(this)&&this.props.onClick(t),this.dragging&&this.props.onDragEnd&&this.props.onDragEnd(t),this.active=!1,this.dragging=!1},handleMouseMove:function(e){this.active&&(this.dragging=!0,this.props.onDrag&&this.props.onDrag(e))},render:o})}),define("baseUI/controls/splitter/splitter.rt",["react","lodash","baseUI/controls/splitter/splitterPane","baseUI/controls/splitter/splitterDivider"],function(e,t,s,i){"use strict";return function(){return function(){var n=this.getPaneProps();return e.createElement("div",{className:this.getClass(),style:this.getStyle()},e.createElement(s,n[0]),n[1]?e.createElement(i,t.assign({},{key:"splitter-divider"},this.getDividerProps())):null,n[1]?e.createElement(s,t.assign({},{key:"splitter-pane-1"},n[1])):null)}.apply(this,[])}}),define("baseUI/controls/splitter/splitter",["reactDOM","react","create-react-class","prop-types","lodash","util","baseUI/controls/splitter/splitter.rt","baseUI/controls/splitter/splitterPane"],function(e,t,s,i,n,o,a,r){"use strict";var l=s({displayName:"splitter",mixins:[o.singlePassDOMReadWriteMixin],propTypes:{layout:i.oneOf(["vertical","horizontal"]),splitPosition:i.string,onResize:i.func,statefulResize:i.bool,onDividerClick:i.func,onDragStarted:i.func,children:function(e,s){var i=n.compact(e[s]);return 1!==i.length&&2!==i.length?new Error('Wrong number of children. Only one or two "Pane" objects are allowed'):n.every(i,t.isValidElement)?void 0:new Error('Only "SplitterPane" is allowed as a child')}},getDefaultProps:function(){return{layout:"horizontal",splitPosition:"50%",statefulResize:!1}},getInitialState:function(){return{dragging:!1,draggingPosition:null}},measurePhase:n.noop,patchPhase:n.noop,getClass:function(){return["splitter","splitter-"+this.props.layout,this.props.className].join(" ")},getStyle:function(){return n.defaults({display:"flex",flexDirection:"horizontal"===this.props.layout?"column":"row",WebkitFlexDirection:"horizontal"===this.props.layout?"column":"row"},this.props.style)},getPaneSizes:function(){if(!this.props.children[0]||!this.props.children[1])return[null,null];return[this.state.dragging?this.state.draggingPosition:this.props.splitPosition,null]},getPaneProps:function(){var e=this.props.children,t=this.getPaneSizes(this.state);return n(e).map(n.bind(function(e,s){return e&&n.assign({},e.props,{layout:this.props.layout,size:t[s],key:e.key||s,style:{pointerEvents:this.state.dragging?"none":""}})},this)).compact().value()},getRelativeMousePosition:function(t){var s=e.findDOMNode(this).getBoundingClientRect(),i="horizontal"===this.props.layout?s.height:s.width,n="horizontal"===this.props.layout?t.clientY-s.top:t.clientX-s.left;return{firstPanePercent:(100*n/i).toPrecision(4)+"%",relativePosition:n,splitterSize:i}},handleDividerDrag:function(e){var t=this.getRelativeMousePosition(e);this.props.statefulResize?this.setState({dragging:!0,draggingPosition:t.firstPanePercent}):this.props.onResize&&this.props.onResize(t.firstPanePercent,t.relativePosition,t.splitterSize)},handleDividerDragEnd:function(e){var t=this.getRelativeMousePosition(e);this.props.statefulResize&&this.setState({dragging:!1,draggingPosition:t.firstPanePercent}),this.props.onResize&&this.props.onResize(t.firstPanePercent,t.relativePosition,t.splitterSize)},getDividerProps:function(){return{layout:this.props.layout,onClick:this.props.onDividerClick,onDrag:this.handleDividerDrag,onDragEnd:this.props.statefulResize?this.handleDividerDragEnd:null}},render:a});return l.Pane=r,l}),define("baseUI/panelInputs/checkableTextInput.rt",["react","lodash","baseUI/controls/toggle","baseUI/panelInputs/textInput","baseUILib"],function(e,t,s,i,n){"use strict";return function(){return this.hasNeededExperiment()?e.createElement("div",{className:"control-checkable-text-input",key:"checkable-text-input-key"},e.createElement("div",{className:"checkable-text-input"},e.createElement(n.Checkbox,{valueLink:this.props.checkStateValueLink}),e.createElement(i,{disabled:!this.props.checkStateValueLink.value||"true"===this.props.shouldDisableTextEditing,placeholder:this.props.placeholderText,valueLink:this.props.textValueLink}))):null}}),define("baseUI/panelInputs/checkableTextInput",["baseUI/panelInputs/checkableTextInput.rt","create-react-class","prop-types","experiment"],function(e,t,s,i){"use strict";return t({displayName:"checkableTextInput",hasNeededExperiment:function(){return void 0===this.props.experimentNeeded||i.isOpen(this.props.experimentNeeded)},propTypes:{checkStateValueLink:s.shape({requestChange:s.func.isRequired,value:s.bool.isRequired}).isRequired,placeholderText:s.string,experimentNeeded:s.string,textValueLink:s.shape({requestChange:s.func.isRequired,value:s.string.isRequired}).isRequired},render:e})}),define("baseUI/panelInputs/labeledStepper.rt",["react","lodash","baseUI/panelInputs/stepper"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"control-numeric-input",onClick:this.handleContainerClick},e.createElement("label",{className:"label",ref:"label"},"\n      ",this.props.label||"​"," "),e.createElement(s,{value:this.getValueFromProps(this.props),min:this.props.min,max:this.props.max,step:this.props.step,onChange:this.callOnChangeIfExists}))}}),define("baseUI/panelInputs/labeledStepper",["lodash","create-react-class","baseUI/panelInputs/inputMixin","baseUI/panelInputs/labeledStepper.rt"],function(e,t,s,i){"use strict";return t({displayName:"labeledStepper",mixins:[s],getInputWrapperClasses:function(){return{"input-stepper":!0}},render:i})}),define("baseUI",["baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","baseUI/mixins/classNameMixin","baseUI/mixins/reportUIChangeMixin","baseUI/controls/radioButtonsMixin","baseUI/mixins/positionRelativeToElementMixin","uiConstants","baseUI/commonData/commonData","baseUI/sortByDragList/sortByDragList","symbols","baseUI/panelInputs/autoCompleteTextInput","baseUI/panelInputs/textInput","baseUI/panelInputs/domainInput","baseUI/panelInputs/domainInputWithEditButtons","baseUI/panelInputs/proportionsSlider","baseUI/panelInputs/radioGroup","baseUI/panelInputs/radioList","baseUI/panelInputs/buttonGroup","baseUI/panelInputs/changeMediaInput","baseUI/panelInputs/thumbnailSlider","baseUI/panelInputs/labelWithCircleButton","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/popovers/tooltip","baseUI/popovers/tooltip","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipsRenderer","baseUI/popovers/floatingBubble","baseUI/popovers/bubble","baseUI/popovers/templates/popoverTemplates","baseUI/panelInputs/richTextParagraph","baseUI/panelInputs/slider","baseUI/panelInputs/stepper","baseUI/panelInputs/stepperWithSVG","baseUI/panelInputs/prefixedTextInput","baseUI/controls/button","baseUI/controls/button2","baseUI/controls/fileInput","baseUI/controls/filesDrop","baseUI/controls/sectionDividerLabeledC06","baseUI/panelInputs/dropDown/select","baseUI/panelInputs/dropDown/contextMenu","baseUI/panelInputs/dropDown/combobox","baseUI/panelInputs/dropDown/options","baseUI/panelInputs/dropDown/option","baseUI/panelInputs/dropDown/optgroup","baseUI/panelInputs/dropDown/footer","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/iconsMenu","baseUI/panelInputs/selectiveTextInputWithMandatoryButton","baseUI/panelInputs/textInputWithToggle","baseUI/panelInputs/textInputWithButton","baseUI/panelInputs/textInputWithFixedButton","baseUI/panelInputs/checkboxWithButton","baseUI/panelInputs/actionWithSymbol","baseUI/tabs/tabHolder","baseUI/tabs/tabHeader","baseUI/tabs/tabContent","baseUI/tabs/tabLabel","baseUI/tabs/tabShowMoreLabel","baseUI/tabs/tab","baseUI/controls/angle","baseUI/treeView/treeDocker","baseUI/treeView/treeView","baseUI/controls/datePicker","baseUI/controls/thumbnails","baseUI/controls/thumbnailsWithIcons","baseUI/controls/thumbnailsVertical","baseUI/controls/mandatory","baseUI/controls/buttonsGroup","baseUI/controls/horizontalTabs","baseUI/controls/linkToggle","baseUI/controls/infoIcon","baseUI/controls/verticalTabs","baseUI/panelInputs/shadowControl","baseUI/controls/cornerRadiusInput","baseUI/controls/alignment","baseUI/controls/textAlignment","baseUI/panelInputs/colorScheme","baseUI/controls/playButton","baseUI/controls/thumbnailPreviewPlay","baseUI/panelInputs/media/imagePreview","baseUI/panelInputs/media/organizeImagesInput","baseUI/panelInputs/media/videoInput","baseUI/panelInputs/media/imageChange","baseUI/panelInputs/media/imageChangeEdit","baseUI/panelInputs/media/imageChangeRemove","baseUI/panelInputs/media/imageChangeEditRemove","baseUI/controls/listItemWithImage","baseUI/controls/listItemWithSymbol","baseUI/controls/arrowButton","baseUI/colorPicker/colorSpace","baseUI/colorPicker/colorFormat","baseUI/colorPicker/paletteDisplayer","baseUI/colorPicker/palettesList","baseUI/colorPicker/colorPickerInput","baseUI/colorPicker/colorPickerInputWithOpacity","baseUI/colorPicker/colorPickerInputWithOpacitySlider","baseUI/controls/iframe","baseUI/controls/preloader","baseUI/controls/video","baseUI/controls/toggle","baseUI/controls/toggleButton","baseUI/controls/dock","baseUI/panelInputs/accordion","baseUI/controls/splitter/splitter","baseUI/controls/image","baseUI/controls/radioWithIcon","baseUI/panelInputs/checkableTextInput","baseUI/panelInputs/labeledStepper"],function(e,t,s,i,n,o,a,r,l,p,c,u,h,d,m,g,f,b,v,I,y,E,C,T,x,N,S,M,D,U,k,w,O,P,L,B,V,R,A,_,F,W,H,q,G,z,j,K,Y,X,$,Q,Z,J,ee,te,se,ie,ne,oe,ae,re,le,pe,ce,ue,he,de,me,ge,fe,be,ve,Ie,ye,Ee,Ce,Te,xe,Ne,Se,Me,De,Ue,ke,we,Oe,Pe,Le,Be,Ve,Re,Ae,_e,Fe,We,He,qe,Ge,ze,je,Ke,Ye,Xe,$e,Qe,Ze,Je,et){"use strict";return{inputMixin:e,registerDocumentEventsMixin:t,classNameMixin:s,radioButtonsMixin:n,positionRelativeToElementMixin:o,commonData:r,uiConstants:a,sortByDragList:l,symbol:p.symbol,autoCompleteTextInput:c,textInput:u,domainInput:h,domainInputWithEditButtons:d,changeMediaInput:v,thumbnailSlider:I,labelWithCircleButton:y,popover:C,tooltip:T,tooltipManager:x,tooltipsRenderer:N,floatingBubble:S,bubble:M,popoverTemplates:D,richTextParagraph:U,imageChange:Ue,imageChangeEdit:ke,imageChangeRemove:we,imageChangeEditRemove:Oe,slider:k,stepper:w,stepperWithSVG:O,prefixedTextInput:P,button:L,button2:B,fileInput:V,filesDrop:R,sectionDividerLabeled:A,dropDown:{select:_,contextMenu:F,combobox:W,options:H,option:q,optgroup:G,footer:z,dropDownManager:j,iconsMenu:K},selectiveTextInputWithMandatoryButton:Y,textInputWithToggle:X,textInputWithButton:$,textInputWithFixedButton:Q,textAlignment:Ce,colorScheme:Te,checkboxWithButton:Z,actionWithSymbol:J,radioGroup:g,radioList:f,buttonGroup:b,tabs:{holder:ee,header:te,content:se,label:ie,showMoreLabel:ne,tab:oe},angle:ae,treeDocker:re,treeView:le,toggle:je,toggleButton:Ke,datePicker:pe,thumbnails:ce,thumbnailsWithIcons:ue,thumbnailsVertical:he,mandatory:de,buttonsGroup:me,horizontalTabs:ge,linkToggle:fe,infoIcon:be,verticalTabs:ve,shadowControl:Ie,cornerRadiusInput:ye,alignment:Ee,playButton:xe,thumbnailPreviewPlay:Ne,imagePreview:Se,organizeImagesInput:Me,videoInput:De,listItemWithImage:Pe,listItemWithSymbol:Le,arrowButton:Be,colorSpace:Ve,colorFormat:Re,paletteDisplayer:Ae,palettesList:_e,colorPickerInput:Fe,colorPickerInputWithOpacity:We,colorPickerInputWithOpacitySlider:He,iframe:qe,preloader:Ge,video:ze,dock:Ye,accordion:Xe,reportUIChangeMixin:i,media:{wixStaticMediaMixin:E},splitter:$e,image:Qe,radioWithIcon:Ze,proportionsSlider:m,checkableTextInput:Je,labeledStepper:et}});
//# sourceMappingURL=baseUI.min.js.map