function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("stateManagement/store/connect",["lodash","react","create-react-class","reduxLibs","prop-types"],function(e,t,n,a,o){"use strict";return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.noop,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.noop,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(l){var c=function(t,n){var a=n.dsRead;return function(n,o){var i=r(n,o,a),l=s(t,o);return e.assign({},i,l,o)}};return n({contextTypes:{dsRead:o.object},componentWillMount:function(){this.connectedComponentClass=a.reactRedux.connectAdvanced(c,{methodName:"connect",shouldHandleStateChanges:i,dsRead:this.context.dsRead})(l)},render:function(){return t.createElement(this.connectedComponentClass,this.props)}})}}}),define("stateManagement/store/combineReducers",["lodash","wixImmutable"],function(e,t){"use strict";return function(n,a){return a?function(n){var a=function(e){return t.Iterable.isIterable(e)}(n)?n:t.Map(n),o=a.map(function(){});return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1],r=!1,s=t.map(function(t,o){var s=(a.get(o)||e.identity)(t,n);return s!==t&&(r=!0),s});return r?s:t}}(n):function(t){return function(n,a){var o=!1,r=e.mapValues(n,function(n,r){var s=(t[r]||e.identity)(n,a);return s!==n&&(o=!0),s});return o?r:n}}(n)}}),define("stateManagement/panels/panelsActionTypes",[],function(){"use strict";return{OPEN_PANEL:"openPanel",UPDATE_PANEL:"updatePanel",CLOSE_ALL_PANELS:"closeAllPanels",CLOSE_PANEL_BY_NAME:"closePanelByName",CLOSE_PANEL_BY_PROP:"closePanelByProp",STAGE_MOUSE_DOWN:"STAGE_MOUSE_DOWN",OPEN_HELP_CENTER:"openHelpCenter",CLOSE_HELP_CENTER:"closeHelpCenter"}}),define("stateManagement/panels/panelsReducer",["lodash","stateManagement/panels/panelsActionTypes","constants"],function(e,t,n){"use strict";var a=t.OPEN_PANEL,o=t.UPDATE_PANEL,r=t.CLOSE_ALL_PANELS,s=t.CLOSE_PANEL_BY_NAME,i=t.CLOSE_PANEL_BY_PROP,l=t.STAGE_MOUSE_DOWN,c=[n.PANEL_TYPES.LEFT,n.PANEL_TYPES.PAGES,n.PANEL_TYPES.TPA_SETTINGS];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];switch(n.type){case a:return t.concat(n.panelDescriptor);case o:return e.map(t,function(t){return t.name===n.panelDescriptor.name?e.assign({},t,n.panelDescriptor,{props:e.assign({},t.props,n.panelDescriptor.props)}):t});case s:return e.reject(t,{name:n.panelName});case i:return e.reject(t,function(e){return e.props[n.prop]===n.propValue});case r:return t.length?[]:t;case l:return e.reject(t,function(t){return e.includes(c,t.frameType)});default:return t}}}),define("stateManagement/selection/selectionActionTypes",[],function(){"use strict";return{SELECT_COMPONENTS:"selectComponents",ADD_TO_SELECTION:"addToSelection",CLEAR_SELECTED_COMPONENTS:"clearSelectedComponents"}}),define("stateManagement/selection/selectionReducer",["lodash","coreUtilsLib","stateManagement/selection/selectionActionTypes"],function(e,t,n){"use strict";var a=n.SELECT_COMPONENTS,o=n.ADD_TO_SELECTION,r=n.CLEAR_SELECTED_COMPONENTS,s={selectedComponents:[],compRestrictions:{}};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,i=arguments[1];switch(i.type){case a:return e.isArray(i.compRefs)?e.defaults({selectedComponents:i.compRefs},n):(t.log.error("selected comps must be an array"),n);case o:return e.isArray(i.compRefs)?e.defaults({selectedComponents:n.selectedComponents.concat(i.compRefs)},n):(t.log.error("selected comps must be an array"),n);case r:return e.defaults({selectedComponents:[]},n);default:return n}}}),define("stateManagement/userProfile/userProfileActionTypes",[],function(){"use strict";return{SET_USER_PROFILE:"setUserProfile"}}),define("stateManagement/userProfile/userProfileReducer",["stateManagement/userProfile/userProfileActionTypes"],function(e){"use strict";var t=e.SET_USER_PROFILE;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case t:return n.userProfile;default:return e}}}),define("stateManagement/highlights/highlightsActionTypes",[],function(){"use strict";return{ADD_TO_HIGHLIGHTS:"addToHighlights",REMOVE_COMPS_FROM_HIGHLIGHTS:"removeCompsFromHighlights",SET_HIGHLIGHTS:"setHighlights",CLEAR_HIGHLIGHTS:"clearHighlights",REMOVE_FROM_HIGHLIGHTS_BY_HIGHLIGHT_TYPE:"removeFromHighlightsByHighlightType"}}),define("stateManagement/highlights/highlightsReducer",["lodash","coreUtilsLib","stateManagement/highlights/highlightsActionTypes"],function(e,t,n){"use strict";var a=n.ADD_TO_HIGHLIGHTS,o=n.REMOVE_COMPS_FROM_HIGHLIGHTS,r=n.SET_HIGHLIGHTS,s=n.CLEAR_HIGHLIGHTS,i=n.REMOVE_FROM_HIGHLIGHTS_BY_HIGHLIGHT_TYPE;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments[1];switch(l.type){case a:return e.isArray(l.highlightsDefs)?n.concat(l.highlightsDefs):(t.log.error("highlights must be an array"),n);case o:return e.isArray(l.compRefs)?e.reject(n,function(t){return e.find(l.compRefs,t.compRef)}):(t.log.error("highlights must be an array"),n);case i:return e.isArray(l.highlightTypes)?e.reject(n,function(t){return e.includes(l.highlightTypes,t.type)}):(t.log.error("highlightTypes must be an array"),n);case r:return e.isArray(l.highlightsDefs)?l.highlightsDefs:(t.log.error("highlights must be an array"),n);case s:return[];default:return n}}}),define("stateManagement/pinMode/pinModeActionTypes",[],function(){"use strict";return{OPEN_PIN_MODE:"openPinMode",CLOSE_PIN_MODE:"closePinMode",SHOW_PIN_PREVIEW_RECT:"showPinPreviewRect",HIDE_COMPONENT_PREVIEW_RECT:"hideComponentPreviewRect"}}),define("stateManagement/pinMode/pinModeReducer",["lodash","stateManagement/pinMode/pinModeActionTypes"],function(e,t){"use strict";return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];switch(a.type){case t.OPEN_PIN_MODE:return e.defaults({isOpen:!0},n);case t.CLOSE_PIN_MODE:return e.defaults({isOpen:!1},n);case t.SHOW_PIN_PREVIEW_RECT:return e.defaults({pinPreviewRectStyle:a.style},n);case t.HIDE_COMPONENT_PREVIEW_RECT:var o=e.defaults({opacity:0},n.pinPreviewRectStyle);return e.defaults({pinPreviewRectStyle:o},n);default:return n}}}),define("stateManagement/contextMenu/contextMenuActionTypes",[],function(){"use strict";return{OPEN_CONTEXT_MENU:"openContextMenu"}}),define("stateManagement/contextMenu/contextMenuReducer",["lodash","stateManagement/pinMode/pinModeActionTypes","stateManagement/contextMenu/contextMenuActionTypes"],function(e,t,n){"use strict";return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments[1];switch(o.type){case n.OPEN_CONTEXT_MENU:return e.defaults({editorMousePosition:{x:o.editorPositionX,y:o.editorPositionY},viewerPosition:{x:o.viewerPositionX,y:o.viewerPositionY}},a);case t.OPEN_PIN_MODE:return null;default:return a}}}),define("stateManagement/panels/helpPropsReducer",["lodash","stateManagement/panels/panelsActionTypes"],function(e,t){"use strict";var n=t.OPEN_HELP_CENTER,a=t.CLOSE_HELP_CENTER;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case n:return t.helpPanelProps;case a:return null;default:return e}}}),define("stateManagement/legacy/legacyActionTypes",[],function(){"use strict";return{SET_STATE:"set-state"}}),define("stateManagement/legacy/setStateReducer",["lodash","stateManagement/legacy/legacyActionTypes"],function(e,t){"use strict";var n=t.SET_STATE,a=e.assign;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n:return a({},e,t.state);default:return e}}}),define("stateManagement/legacy/legacyReducer",["lodash","stateManagement/legacy/setStateReducer"],function(e,t){"use strict";return function(e){return function(n,a){var o=t(n,a);return e(o,a)}}}),define("stateManagement/devMode/devModeActionTypes",[],function(){"use strict";return{RESET_CONTEXT:"resetContext"}}),define("stateManagement/devMode/devModeReducer",["lodash","constants","stateManagement/devMode/devModeActionTypes"],function(e,t,n){"use strict";var a={type:t.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,data:void 0},o=n.RESET_CONTEXT;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case o:return a;default:return e}}}),define("stateManagement/store/initialEditorState",["constants"],function(e){"use strict";return{editorIsInit:!1,previewReady:!1,config:{topBarHeight:e.UI.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40},navControlsSize:null,previewPosition:{top:e.UI.TOPBAR_HEIGHT,left:0,height:0,width:0},editingAreaPosition:{top:0,left:0,height:0,width:0,right:0,bottom:0},wixCodeLoaded:!1,devModeContext:{type:e.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,data:void 0},contextMenu:null,performingMouseMoveAction:!1,selection:{selectedComponents:[],compRestrictions:{}},userProfile:{},stage:{highlights:[]},focusedContainer:null,lastSelectionClickPos:null,previewMode:!1,isMobileEditor:!1,isLayoutTractorOpen:!1,snapData:null,lassoLayout:null,candidates:null,clipboard:{},site:{premiumPackage:void 0},topBar:{modeSwitchAnimationProgress:e.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_PROGRESS.IDLE,openedDropPanel:null,dropPanelDisabled:!1,shouldDropPanelRemainOpen:!1},viewTools:{toolbarEnabled:void 0,developerToolBarEnabled:void 0,platformToolBarEnabled:void 0,guidelinesEnabled:void 0,sectionsHandlesEnabled:void 0,snapToEnabled:void 0,rulersEnabled:void 0,rulers:{guidesState:void 0,selectedGuide:void 0,isHovered:void 0,isDragging:null}},hasDatabaseCollections:null,platformToolBarPanelProps:void 0,helpProps:null,attachCandidate:null,constraintArea:null,openPanels:[],previewingStatus:e.PROGRESS_STATUS.IDLE,savingStatus:e.PROGRESS_STATUS.IDLE,publishingStatus:e.PROGRESS_STATUS.IDLE,savePublish:{isSaveInProgress:!1,isPublishInProgress:!1,isDiffSaveInProgress:!1,publishPanelPromotionIndex:0},sitePremiumState:null,portalComps:{},mobile:{isHiddenItemsCounterVisible:!0,reAddedHiddenElement:{compRef:null,addingPhase:e.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE}},applyModeFromClipboardSuggestion:null,leftBar:{isCollapsed:!1,isMobileCollapsed:!1,notifications:{},superApps:{desktop:[],mobile:[]},buttonsBoundingRect:{}},topBarPagesFilter:"",topBarCustomization:{tooltipOverrides:{UNDO:null,SAVE:null}},pageSections:{sections:null,selectedSection:null},siteScale:1,pinMode:{isOpen:!1,pinPreviewRectStyle:{opacity:0}},hideTools:!1,hideToolsAndMaintainStagePosition:!1,shouldHideToolsBtnBlink:!1,halfOpacityTools:!1,unreadComments:0,isOpenTextEditor:!1,imageCrop:{isOn:!1,cropArea:null,cropOriginArea:null},shouldOverlayUpdate:!0,tabIndicationState:{indication:"INACTIVE",activeMode:void 0},isTooltipsDisabled:!1,floatingBubble:{value:null,targetLayout:null,bubbleProps:{},shouldNotHideOnMouseLeaveTarget:!1},tpa:{appsIdsToRefreshOnDashboardClose:[]},scrollTo:null,animateScrollTo:null,eventCounters:{focus:0,clearTextSelection:0,forceOpenPagesQuickNavigation:0,forcePageSettingsTab:0},viewerRendersCounter:0,__renderCounter:0}}),define("stateManagement/store/stateFreezer",["util"],function(e){"use strict";var t=e.deepFreeze;return function(e){return function(n,a){return t(e(n,a))}}}),define("stateManagement/legacy/editorAPIMiddleware",["constants"],function(e){"use strict";return{createEditorAPIMiddleware:function(t){return function(){return function(n){return function(a){return"object"===(void 0===a?"undefined":_typeof(a))&&!0===a[e.EDITOR_API_ACTION]?a.editorThunkAction(t()):n(a)}}}},createEditorAPIAction:function(t){var n;return n={},_defineProperty(n,e.EDITOR_API_ACTION,!0),_defineProperty(n,"editorThunkAction",t),n}}}),define("stateManagement/leftBar/leftBarActionTypes",[],function(){"use strict";return{COLLAPSE_DESKTOP_MENU:"collapse-desktop-menu",COLLAPSE_MOBILE_MENU:"collapse-mobile-menu",EXPAND_BUTTON:"expand-button",COLLAPSE_BUTTON:"collapse-button",UPDATE_BUTTONS_BOUNDING_RECT:"update-buttons-bounding-rect",SET_NOTIFICATION_COUNT:"set-notification-count",INCREASE_NOTIFICATION_COUNT:"increase-notification-count",DECREASE_NOTIFICATION_COUNT:"decrease-notification-count"}}),define("stateManagement/leftBar/leftBarReducer",["lodash","stateManagement/leftBar/leftBarActionTypes"],function(e,t){"use strict";var n=t.COLLAPSE_DESKTOP_MENU,a=t.COLLAPSE_MOBILE_MENU,o=t.EXPAND_BUTTON,r=t.COLLAPSE_BUTTON,s=t.UPDATE_BUTTONS_BOUNDING_RECT,i=t.SET_NOTIFICATION_COUNT,l=t.INCREASE_NOTIFICATION_COUNT,c=t.DECREASE_NOTIFICATION_COUNT;return function(t,u){switch(u.type){case n:return e.assign({},t,{isCollapsed:!0});case a:return e.assign({},t,{isMobileCollapsed:!0});case o:return e.assign({},t,{collapseOnClick:e.union(t.collapseOnClick,[u.panelName])});case r:return e.assign({},t,{collapseOnClick:e.without(t.collapseOnClick,u.panelName)});case s:var p=["left","right","top","bottom"],d=e.pick(t.buttonsBoundingRect,p),g=e.pick(u.boundingRect,p);return e.isEqual(d,g)?t:e.assign({},t,{buttonsBoundingRect:g});case i:return e.assign({},t,{notifications:e.assign({},t.notifications,_defineProperty({},u.panelName,u.count))});case l:return e.assign({},t,{notifications:e.assign({},t.notifications,_defineProperty({},u.panelName,t.notifications[u.panelName]+(u.count||1)))});case c:return e.assign({},t,{notifications:e.assign({},t.notifications,_defineProperty({},u.panelName,t.notifications[u.panelName]-(u.count||1)))});default:return t}}}),define("stateManagement/tpa/tpaActionTypes",[],function(){"use strict";return{ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE:"ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE",SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE:"SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE"}}),define("stateManagement/tpa/tpaReducer",["lodash","coreUtilsLib","stateManagement/tpa/tpaActionTypes"],function(e,t,n){"use strict";var a=n.ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE,o=n.SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE,r=function(e){return!s(e)},s=function(t){return e.isArray(t)&&t.every(function(t){return e.isNumber(t)&&t>0||e.isNumber(parseInt(t,10))&&parseInt(t,10)>0})};return function(n,s){switch(e.isNil(n)&&(n={appsIdsToRefreshOnDashboardClose:[]}),s.type){case a:if(r(s.appIds))return t.log.error("appIds must be an array of numbers"),n;var i=n.appsIdsToRefreshOnDashboardClose,l=[].concat(i).concat(s.appIds);return e.assign({},n,{appsIdsToRefreshOnDashboardClose:l});case o:return r(s.appIds)?(t.log.error("appIds must be an array of numbers"),n):e.assign({},n,{appsIdsToRefreshOnDashboardClose:s.appIds});default:return n}}}),define("stateManagement/store/createEditorStore",["lodash","reduxLibs","util","stateManagement/store/combineReducers","stateManagement/panels/panelsReducer","stateManagement/selection/selectionReducer","stateManagement/userProfile/userProfileReducer","stateManagement/highlights/highlightsReducer","stateManagement/pinMode/pinModeReducer","stateManagement/contextMenu/contextMenuReducer","stateManagement/panels/helpPropsReducer","stateManagement/legacy/legacyReducer","stateManagement/devMode/devModeReducer","stateManagement/store/initialEditorState","stateManagement/store/stateFreezer","stateManagement/legacy/editorAPIMiddleware","stateManagement/leftBar/leftBarReducer","stateManagement/tpa/tpaReducer"],function(e,t,n,a,o,r,s,i,l,c,u,p,d,g,f,m,P,E){"use strict";var M=t.redux,_=t.reduxThunk;return function(e,t,h){var T=p(a({openPanels:o,helpProps:u,devModeContext:d,stage:a({highlights:i}),contextMenu:c,pinMode:l,userProfile:s,selection:r,leftBar:P,tpa:E})),S=t?f(T):T,O=m.createEditorAPIMiddleware(e),A=_.withExtraArgument(h),y=n.url.getParameterByName("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:M.compose;return M.createStore(S,g,y(M.applyMiddleware(O,A)))}}),define("stateManagement/store/throttledStore",["lodash","util"],function(e,t){"use strict";var n=function(e){return e()},a=t.animationFrameRenderer;return function(t,o,r){var s=[],i=function(){return e.forEach(s,n)},l=a(t,o,i),c=e.noop;r.subscribe(function(){c=l()});return e.defaults({subscribe:function(t){return s=e.concat(s,t),function(){s=e.without(s,t)}},dispatch:r.dispatch,getState:r.getState,flush:function(){c(),i()}},r)}}),define("stateManagement/legacy/setStateAction",["stateManagement/legacy/legacyActionTypes"],function(e){"use strict";var t=e.SET_STATE;return function(e){return{type:t,state:e}}}),define("stateManagement/preview/previewSelectors",[],function(){"use strict";return{isPreviewReady:function(e){return e.previewReady}}}),define("stateManagement/preview/preview",["stateManagement/preview/previewSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/popups/popupsSelectors",["stateManagement/preview/preview"],function(e){"use strict";var t=e.selectors.isPreviewReady;return{isPopUpMode:function(e,n){return Boolean(t(e)&&n.pages.popupPages.getCurrentPopupId())}}}),define("stateManagement/popups/popups",["stateManagement/popups/popupsSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/leftBar/leftBarActions",["stateManagement/leftBar/leftBarActionTypes"],function(e){"use strict";return{collapseDesktopMenu:function(){return{type:e.COLLAPSE_DESKTOP_MENU}},collapseMobileMenu:function(){return{type:e.COLLAPSE_MOBILE_MENU}},expandButton:function(t){return{type:e.EXPAND_BUTTON,panelName:t}},collapseButton:function(t){return{type:e.COLLAPSE_BUTTON,panelName:t}},updateButtonsBoundingRect:function(t){return{type:e.UPDATE_BUTTONS_BOUNDING_RECT,boundingRect:t}},setNotificationsCount:function(t,n){return{type:e.SET_NOTIFICATION_COUNT,panelName:t,count:n}},increaseNotificationsCount:function(t,n){return{type:e.INCREASE_NOTIFICATION_COUNT,panelName:t,count:n}},decreaseNotificationsCount:function(t,n){return{type:e.DECREASE_NOTIFICATION_COUNT,panelName:t,count:n}}}}),define("stateManagement/leftBar/leftBarData",["util","coreBi","constants","experiment"],function(e,t,n,a){"use strict";return{desktop:function(){var o=[{panelName:"addPanelInfra.addPanel",panelProps:{},label:"LEFTBAR_ADD_LABEL",className:"add-panel",symbolName:"leftBarAddPanel",hintProps:{id:"AddPanel"}},{panelName:"tpa.compPanels.appMarketPanel",panelProps:{urlParams:{openMarketOrigin:"market_button"},openPanelBiEvent:e.bi.events.OPEN_MARKET_CLICK,openPanelBiParams:{referral_info:"market_button"}},label:"app_market_button_text",className:"app-market-panel",symbolName:"leftBarAppMarketPanel",hintProps:{id:"AppMarket"}},{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}];a.isOpen("ChangeBG")||(o=[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:n.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}}].concat(o));a.isOpen("newPagesPanel")&&(o=[{panelName:"pages.pagesPanel",panelProps:{openPanelBiEvent:t.events.pages.click_on_pages_panel_open,openPanelBiParams:{origin:"left_bar"}},label:"LEFTBAR_PAGES_LABEL",className:"pages-panel-pp",symbolName:"leftBarPagesPanelManager"}].concat(o));a.isOpen("us_addPages_leftBar")&&(o=[{panelName:"rEditor.panels.pagesAndPopupsPanel",panelProps:{},label:"Pages_Menu_Title_Title",className:"bg-panel",symbolName:"leftBarPagesPanel",hintProps:{id:"PagesPanel"}}].concat(o));return o}(),mobile:function(){var e=[];a.isOpen("newPagesPanel")&&e.push({panelName:"pages.pagesPanel",panelProps:{},label:"LEFTBAR_PAGES_LABEL",className:"pages-panel-pp",symbolName:"leftBarPagesPanelManager"});var t={panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:n.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},o={panelName:"mobileEditor.mobileElementsPanel",panelProps:{},label:"mobile_features_section_title_mobile_tools",className:"mobile-elements-panel",symbolName:"mobileView",tooltips:[{id:"mobileElementsPanel_quickActionBar_afterRemove",value:"mobile_quick_actions_hide_tooltip",width:"240px"}]};return a.isOpen("changeBG")?e.push(o,t):e.push(t,o),e=e.concat([{panelName:"mobileEditor.hiddenItemsPanel",panelProps:{},label:"mobile_hidden_items_panel_title",className:"hidden-items-panel",symbolName:"hiddenComp",hintProps:{id:"MobileEditorHiddenElements"}},{panelName:"mobileEditor.layoutOptimizerPanel",panelProps:{},label:"mobile_layoutoptimizer_title",className:"layout-optimizer-panel",symbolName:"mobile_left_bar_optimize_layout",hintProps:{id:"MobileLayoutOptimizer"}}])}(),myUploadsButton:{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}}}),define("stateManagement/leftBar/leftBarSelectors",["lodash","reduxLibs","coreUtilsLib","stateManagement/leftBar/leftBarData","constants","experiment"],function(e,t,n,a,o,r){"use strict";var s=t.reselect.createSelector,i=function(e){return e.leftBar},l=function(e){return e.isMobileEditor},c=s(i,l,function(t,n){return e.get(t,n&&r.isOpen("se_mobileLeftBarNotCollapsed")?"isMobileCollapsed":"isCollapsed")}),u=s(i,function(e){return e.collapseOnClick});return{getLeftBar:i,isCollapsed:c,getCollapseOnClick:u,isMobileEditor:l,getDesktopSuperAppsCount:function(e){return e.leftBar.superApps.desktop.length},getMenuItems:function(t,s){var i=[],l=t.leftBar.superApps,c=[];return r.isOpen("enableMyUploadsButton")&&c.push(a.myUploadsButton),i=t.isMobileEditor?e.map(a.mobile,e.clone).concat(c,e.sortBy(n.objectUtils.cloneDeep(l.mobile),"order")):e.map(a.desktop,e.clone).concat(c,e.sortBy(n.objectUtils.cloneDeep(l.desktop),"order")),(i=s?function(t){var n=[o.ROOT_COMPS.LEFTBAR.BLOG_PANEL_NAME,o.ROOT_COMPS.LEFTBAR.BACKGROUND_PANEL_NAME];return e.filter(t,function(t){return!e.includes(n,t.panelName)})}(i):i).forEach(function(n,a){n.panelProps=n.panelProps||{},n.panelProps.panelIndex=a,n.collapseOnClick=function(t,n){return e.includes(t||[],n)}(u(t),n.panelName)}),e.compact(i).map(function(e){if("tpa.compPanels.appMarketPanel"===e.panelName){switch((r.getValue("se_appMarketIcons")||"old").toLowerCase()){case"icon1":e.symbolName="leftBarAppMarketPanel-B";break;case"icon2":e.symbolName="leftBarAppMarketPanel-C";break;case"icon3":e.symbolName="leftBarAppMarketPanel-D"}switch((r.getValue("se_appMarketLabels")||"old").toLowerCase()){case"add_apps":e.label="app_market_button_text_experiment_add_apps";break;case"get_apps":e.label="app_market_button_text_experiment_get_apps"}}return e})},getNotifications:function(e){return e.leftBar.notifications},getNotificationsCount:function(e,t){return e.leftBar.notifications[t]}}}),define("stateManagement/userPreferences/userPreferences",["stateManagement/legacy/editorAPIMiddleware"],function(e){"use strict";var t=e.createEditorAPIAction;return{logic:{setSiteUserPreference:function(e,n){return t(function(t){return t.getUserPreferences().site.set(e,n)})}}}}),define("stateManagement/panels/panelsActions",["stateManagement/panels/panelsActionTypes"],function(e){"use strict";var t=e.OPEN_PANEL,n=e.UPDATE_PANEL,a=e.CLOSE_ALL_PANELS,o=e.CLOSE_PANEL_BY_NAME,r=e.CLOSE_PANEL_BY_PROP,s=e.STAGE_MOUSE_DOWN,i=e.OPEN_HELP_CENTER,l=e.CLOSE_HELP_CENTER;return{openPanel:function(e){return{type:t,panelDescriptor:e}},updatePanel:function(e){return{type:n,panelDescriptor:e}},closeAllPanels:function(){return{type:a}},closePanelByName:function(e){return{type:o,panelName:e}},closePanelByPropKey:function(e,t){return{type:r,prop:e,propValue:t}},stageMouseDown:function(){return{type:s}},setPanelType:function(e,t,a){return{type:n,panelDescriptor:{name:e,frameType:t,singleInstance:a}}},openHelpCenter:function(e){return{type:i,helpPanelProps:e}},closeHelpCenter:function(){return{type:l}}}}),define("stateManagement/panels/panelsSelectors",["lodash","reduxLibs"],function(e,t){"use strict";var n=function(e){return e.openPanels};return{selectOpenPanels:n,selectOpenPlatformPanels:t.reselect.createSelector(n,function(t){return e.filter(t,{type:"platform"})}),selectHelpProps:function(e){return e.helpProps},isColorPickerClosed:t.reselect.createSelector(n,function(t){return!e.some(t,{name:"panels.toolPanels.colorPicker.colorPickerPanel"})}),isLinkDialogClosed:t.reselect.createSelector(n,function(t){return!e.some(t,{name:"panels.toolPanels.linkPanel"})})}}),define("stateManagement/devMode/devModeSelectors",[],function(){"use strict";return{selectDevModeContext:function(e){return e.devModeContext}}}),define("stateManagement/devMode/devModeActions",["stateManagement/devMode/devModeActionTypes"],function(e){"use strict";var t=e.RESET_CONTEXT;return{resetDevModeContext:function(){return{type:t}}}}),define("stateManagement/bi/bi",["lodash","util","experiment"],function(e,t,n){"use strict";return{event:function(a,o){return function(r,s,i){var l=i.dsWrite;if(l){a=e.defaults({},a,{src:38,endpoint:"editor",sampleRatio:0,esi:t.editorModel.editorSessionId}),o=[].concat(o)||[{}];var c=t.editorModel.permissionsInfo;if(c){var u=c.ownerId,p=e.map(c.loggedInUserRoles,"role").join(",");o=e.map(o,function(t){return e.assign({},t,{ownerId:u,roles:p})})}n.isMultiValueExperimentOpen("editorHintsConfigs")&&require.defined("editorHints")&&require("editorHints").manager.handleBiEvent(a,o),e.forEach(o,function(e){l.bi.event(a,e)})}}}}}),define("stateManagement/panels/panelsLogic",["lodash","util","stateManagement/panels/panelsSelectors","stateManagement/devMode/devModeSelectors","stateManagement/panels/panelsActions","stateManagement/devMode/devModeActions","stateManagement/bi/bi","coreUtilsLib","constants","coreBi"],function(e,t,n,a,o,r,s,i,l,c){"use strict";function u(t,n){return e.defaults({},n,{panelName:t,key:t+e.uniqueId()})}function p(t,n){t&&e.isFunction(t.resolve)&&t.resolve(n)}var d=a.selectDevModeContext,g=n.selectOpenPanels,f=n.selectOpenPlatformPanels,m=function(t){return function(n,a){var o=a(),s=g(o),i=e.difference(t,s),c=e.filter(i,{name:"platformPanels.fullStagePanel"});e.isEmpty(c)||d(o).type!==l.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION||n(r.resetDevModeContext())}},P=function(t,n,a){return function(r,s){a||r(M()),e.includes(t,"help")&&i.log.error("openPanel method is deprecated for help panels. Use openHelpCenter instead");var l=g(s()),c=e.find(l,{name:t});r(c&&c.singleInstance?o.updatePanel({name:t,props:n}):E(t,n))}},E=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var r={name:t,props:u(t,n)};e.get(n,"token")&&e.assign(r,{token:e.get(n,"token")}),a(o.openPanel(r)),a(s.event(c.events.panels.PANEL_OPENED,{panel_name:t}))}},M=function(){return function(t,n){var a=n(),r=g(a);e.forEach(r,function(e){t(s.event(c.events.panels.PANEL_CLOSED,{panel_name:e.name}))}),function(t){e.forEach(t,function(e){p(e)})}(f(a)),t(o.closeAllPanels()),t(m(r))}},_=function(t,n){return function(a,r){var i=r(),l=g(i);e(i).thru(f).filter(function(e){return e.props[t]===n}).forEach(function(e){p(e)}),a(o.closePanelByPropKey(t,n));var u=g(r()),d=e.difference(l,u);e.forEach(d,function(e){a(s.event(c.events.panels.PANEL_CLOSED,{panel_name:e.props.panelName}))}),a(m(l))}},h=function(e){return function(t){t(_("panelName",e))}},T=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){a(M());var r={name:t,props:e.assign({},u(t,n),{useLastPanelPosition:!!n.useLastPanelPosition}),frameType:l.PANEL_TYPES.COMP};a(o.openPanel(r)),a(s.event(c.events.panels.PANEL_OPENED,{panel_name:t}))}};return{updateOrOpenPanel:P,openComponentPanel:T,openPlatformPanel:function(t){return function(n){var a=e.assign({name:t.panelName,props:u(t.panelName,t.panelProps),type:l.PANEL_TYPES.PLATFORM,token:t.panelProps.token},e.get(t,"panelMetaData",{}));n(P(a.name,a.props,!a.closeAllOtherPanels)),n(o.updatePanel(a))}},closeOpenedPanels:M,closePanelByPropKey:_,closePanelByName:h,openHelpCenter:function(n,a,r){return function(i){var u=[],p=function(){var n=t.editorModel.permissionsInfo;return n?"ownerId="+n.ownerId+"&roles="+e.map(n.loggedInUserRoles,"role").join(","):""}();p&&u.push(p),r&&r.component&&u.push("selectedCompType="+r.component);var d=n||l.GENERAL_HELP_KEY,g=u.length?d+"?"+u.join("&"):d,f=e.assign({},a,{helpUrl:g,biHelpParams:r,panelName:"panels.helpPanels.helpPanel"});i(o.openHelpCenter(f));var m=e.assign({learn_more:!1},r);i(s.event(c.events.help.HELP_CLICK,m))}},closeAllPanelsOfType:function(t){return function(n,a){var o=g(a());e(o).filter({frameType:t}).map("name").map(h).forEach(n)}},closePlatformPanel:function(t,n){return function(a,o){var r=g(o()),s=e.find(r,{token:t});s&&(p(s,n),a(h(s.name)))}},openFirstTimePanel:function(t){return function(n){if(e.includes(l.FIRST_TIME_PANEL_COMPONENTS,t)){var a="compPanels.panels."+t+".firstTime";n(T(a,{panelName:a,title:"firstTime"}))}}},updatePanel:function(e,t){return function(n){n(o.updatePanel({name:e,props:t}))}}}}),define("stateManagement/leftBar/leftBarLogic",["lodash","coreBi","constants","experiment","stateManagement/leftBar/leftBarActions","stateManagement/leftBar/leftBarSelectors","stateManagement/userPreferences/userPreferences","stateManagement/panels/panelsActions","stateManagement/panels/panelsLogic","stateManagement/legacy/editorAPIMiddleware","stateManagement/bi/bi"],function(e,t,n,a,o,r,s,i,l,c,u){"use strict";var p=u.event,d=c.createEditorAPIAction,g=function(){return function(e,t){e(r.isMobileEditor(t())&&a.isOpen("se_mobileLeftBarNotCollapsed")?o.collapseMobileMenu():o.collapseDesktopMenu())}};return{collapseMenu:g,collapseButton:function(e){return function(t){t(o.collapseButton(e)),t(s.logic.setSiteUserPreference(e+n.LEFT_BAR.WAS_BUTTON_CLICKED_KEY,!0))}},openAddPanel:function(){return function(e){e(g()),e(l.updateOrOpenPanel("addPanelInfra.addPanel"))}},sendBIButtonsCount:function(a){return function(o,s,i){var l=i.dsRead,c=r.getMenuItems(s(),a),u=l&&l.generalInfo.getSiteId();if(u){var d=e.map(c,"panelName"),g={count:c.length,site_id:u,shoutout_bool:e.includes(d,n.SUPER_APPS.SHOUTOUT_PANEL_NAME),blog_bool:e.includes(d,n.SUPER_APPS.BLOG_PANEL_NAME),social_blog_bool:e.includes(d,n.SUPER_APPS.NEW_BLOG_PANEL_NAME),booking_bool:e.includes(d,n.SUPER_APPS.BOOKINGS_PANEL_NAME),ecomm_bool:e.includes(d,n.SUPER_APPS.WIX_STORE_PANEL_NAME),rest_bool:!1};o(p(t.events.leftBar.LEFT_BAR_NUMBER_OF_BUTTONS,g))}}},addSuperAppsButton:function(t,a,r,s,i,l,c,u){return function(p,g){var f=function(t,a,o,r,s,i){return{panelName:t,panelProps:a,label:o,className:r,symbolName:s,order:e.indexOf(n.LEFT_BAR.SUPER_APPS_ORDER.DESKTOP,t),isButtonOpen:i}}(t,a,r,s,i,u),m=e.cloneDeep(g().leftBar),P=[m.superApps.desktop];l&&P.push(m.superApps.mobile),P.forEach(function(n){var a=e.find(n,{panelName:t});a?e.assign(a,f):n.push(f)}),p(function(e,t,a){return d(function(r){return r.updateState({leftBar:e},function(){var e=r.getUserPreferences().site.get(t+n.LEFT_BAR.WAS_BUTTON_CLICKED_KEY);a&&!e&&r.store.dispatch(o.expandButton(t))})})}(m,t,c))}},removeSuperAppsButton:function(t){return function(n,a){var o=a(),r=e.cloneDeep(o.leftBar);r.superApps.desktop=e.reject(o.leftBar.superApps.desktop,{panelName:t}),r.superApps.mobile=e.reject(o.leftBar.superApps.mobile,{panelName:t}),delete r.notifications[t],n(i.closePanelByName(t)),n(function(e){return d(function(t){return t.updateState({leftBar:e})})}(r))}}}}),define("stateManagement/leftBar/leftBar",["stateManagement/leftBar/leftBarLogic","stateManagement/leftBar/leftBarActions","stateManagement/leftBar/leftBarReducer","stateManagement/leftBar/leftBarSelectors","stateManagement/leftBar/leftBarData"],function(e,t,n,a,o){"use strict";return{logic:e,actions:t,reducer:n,selectors:a,leftBarData:o}}),define("stateManagement/dataFixers/dataFixers",["lodash","util","stateManagement/bi/bi","coreBi"],function(e,t,n,a){"use strict";return{runDataFixers:function(){return function(o){e.defer(function(){o(function(o,r,s){var i=s.dsRead,l=s.dsWrite,c=e.find(i.pages.getPagesData(),{appPageId:"7326bfbb-4b10-4a8e-84c1-73f776051e10"}),u=t.translate("Pages_Blog_Post_Title");c&&c.title!==u&&(l.pages.data.update(c.id,{title:u}),o(n.event(a.events.dataFixers.blogSinglePostFix,{msid:i.generalInfo.getMetaSiteId()})))})})}}}}),define("stateManagement/store/dsPaths.json",[],function(){return{read:["errors","generalInfo.getSiteId","generalInfo.getUserInfo","generalInfo.urlFormat.isSlash","generalInfo.isHttpsEnabled","generalInfo.getPublicUrl","generalInfo.getMetaSiteId","pages.getReference","pages.getFocusedPageId","pages.getPrimaryPageId","pages.getPagesData","pages.popupPages.getCurrentPopupId","components.isDescendantOfComp","components.getPage","components.data.get","components.getContainer","components.getAncestors","components.design.get","components.properties.get","components.getType","components.layout.getSnugLayout","components.layout.getSnugLayoutRelativeToScreen","components.layout.getSnugLayoutRelativeToScreenConsideringScroll","components.layout.getSnugLayoutRelativeToStructure","components.layout.canBeFixedPosition","components.layout.get","components.layout.getDock","components.layout.getRelativeToScreen","components.layout.isHorizontallyStretched","components.layout.isHorizontallyStretchedToScreen","components.is.horizontallyMovable","tpa.app.getDataByAppDefId","platform.controllers.connections.get","platform.controllers.getStageData","platform.controllers.connections.getConnectedComponents","platform.controllers.getStageData"],write:["waitForChangesApplied","components.setContainer","components.reparentComponentToPage","components.multiComponents.distribute","components.multiComponents.matchSize","bi.event","renderPlugins.setCompsToShowOnTop","renderPlugins.setBlockingLayer","pages.data.update"]}}),define("stateManagement/legacy/legacyLogic",["lodash","stateManagement/popups/popups","stateManagement/leftBar/leftBar","stateManagement/dataFixers/dataFixers","stateManagement/store/dsPaths.json"],function(e,t,n,a,o){"use strict";var r=t.selectors.isPopUpMode;return{loadDocumentServices:function(t){return function(n,a,r){var s=e.pick(t,o.read),i=e.pick(t,o.write);e.assign(r,{dsRead:s,dsWrite:i})}},onPreviewReady:function(){return function(e,t,o){var s=o.dsRead,i=t();e(n.logic.sendBIButtonsCount(r(i,s))),e(a.runDataFixers())}}}}),define("stateManagement/legacy/legacy",["stateManagement/legacy/legacyReducer","stateManagement/legacy/setStateAction","stateManagement/legacy/legacyLogic"],function(e,t,n){"use strict";return{reducer:e,setState:t,logic:n}}),define("stateManagement/panels/panels",["stateManagement/panels/panelsActions","stateManagement/panels/panelsLogic","stateManagement/panels/panelsReducer","stateManagement/panels/helpPropsReducer","stateManagement/panels/panelsSelectors"],function(e,t,n,a,o){"use strict";return{actions:e,logic:t,reducer:n,helpPropsReducer:a,selectors:o}}),define("stateManagement/selection/selectionSelectors",["lodash","constants"],function(e,t){"use strict";var n=function(e){return e.selection.selectedComponents};return{getSelectedCompsRefs:n,getSelectedComponentType:function(a,o){var r=n(a);if(e.isEmpty(r))return null;if(r.length>1)return t.MULTISELECT.TYPE;return o.components.getType(e.head(r)).split(".").pop()},getSelectedCompRestrictions:function(e){return e.selection.compRestrictions}}}),define("stateManagement/selection/selectionActions",["stateManagement/selection/selectionActionTypes"],function(e){"use strict";var t=e.SELECT_COMPONENTS,n=e.ADD_TO_SELECTION,a=e.CLEAR_SELECTED_COMPONENTS;return{addToSelection:function(e){return{type:n,compRefs:e}},selectComponents:function(e){return{type:t,compRefs:e}},clearSelectedComponents:function(){return{type:a}}}}),define("stateManagement/selection/selection",["stateManagement/selection/selectionReducer","stateManagement/selection/selectionSelectors","stateManagement/selection/selectionActions"],function(e,t,n){"use strict";return{reducer:e,selectors:t,actions:n}}),define("stateManagement/userProfile/userProfileSelectors",[],function(){"use strict";return{getUserProfile:function(e){return e.userProfile}}}),define("stateManagement/userProfile/userProfileActions",["stateManagement/userProfile/userProfileActionTypes"],function(e){"use strict";var t=e.SET_USER_PROFILE;return{setUserProfile:function(e){return{type:t,userProfile:e}}}}),define("stateManagement/userProfile/userProfile",["stateManagement/userProfile/userProfileReducer","stateManagement/userProfile/userProfileSelectors","stateManagement/userProfile/userProfileActions"],function(e,t,n){"use strict";return{reducer:e,selectors:t,actions:n}}),define("stateManagement/domain/domainSelectors",["lodash","util"],function(e,t){"use strict";var n=function(e){return e.generalInfo.urlFormat.isSlash()?"wixsite.com":"wix.com"},a=function(e,t){return t.generalInfo.isHttpsEnabled()?"https":"http"};return{getSiteProtocol:a,isDomainConnected:function(t,a){var o=a.generalInfo.getPublicUrl();return!e.isNil(o)&&!e.includes(o,n(a))},getFreeDomainPrefix:function(e,t){return a(0,t)+"://"+t.generalInfo.getUserInfo().name+"."+n(t)+"/"},doesUserOwnGoogleDomain:function(){var e=t.cookie.getCookie("wixClient");return e.indexOf("GOOGLE_DOMAIN")>0||e.indexOf("REGRU")>0}}}),define("stateManagement/domain/domain",["stateManagement/domain/domainSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/highlights/highlightsActions",["stateManagement/highlights/highlightsActionTypes"],function(e){"use strict";var t=e.ADD_TO_HIGHLIGHTS,n=e.REMOVE_COMPS_FROM_HIGHLIGHTS,a=e.SET_HIGHLIGHTS,o=e.CLEAR_HIGHLIGHTS,r=e.REMOVE_FROM_HIGHLIGHTS_BY_HIGHLIGHT_TYPE;return{addToHighlights:function(e){return{type:t,highlightsDefs:e}},removeCompsFromHighlights:function(e){return{type:n,compRefs:e}},removeFromHighlightsByHighlightType:function(e){return{type:r,highlightTypes:e}},setHighlights:function(e){return{type:a,highlightsDefs:e}},clearHighlights:function(){return{type:o}}}}),define("stateManagement/highlights/highlightsSelectors",[],function(){"use strict";return{getHighlights:function(e){return e.stage.highlights}}}),define("stateManagement/stage/stageSelectors",[],function(){"use strict";return{isPerformingMouseMoveAction:function(e){return e.performingMouseMoveAction}}}),define("stateManagement/highlights/logic/itemHighlightsHelper",["lodash","uiConstants"],function(e,t){"use strict";return{getItemHighlight:function(e,n,a){return{compRef:n,layout:e.components.layout.getRelativeToScreen(n),type:a?t.HIGHLIGHTS.TYPES.THICK_WITH_OPACITY:t.HIGHLIGHTS.TYPES.THICK}},getManageItemsPanelHighlight:function(e,t,n){return{compRef:t,layout:e.components.layout.getRelativeToScreen(t),type:n}}}}),define("stateManagement/highlights/highlightsLogic",["lodash","uiConstants","stateManagement/highlights/highlightsActions","stateManagement/highlights/highlightsSelectors","stateManagement/selection/selectionSelectors","stateManagement/stage/stageSelectors","stateManagement/highlights/logic/itemHighlightsHelper"],function(e,t,n,a,o,r,s){"use strict";return{handleSelectionHighlights:function(){return function(a,r,i){var l=i.dsRead,c=[],u=o.getSelectedCompsRefs(r()),p=e.head(u);if(a(n.removeFromHighlightsByHighlightType([t.HIGHLIGHTS.TYPES.THICK_WITH_OPACITY,t.HIGHLIGHTS.TYPES.THICK])),p){var d=function(t,n){var a=t.platform.controllers.connections.get(n);if(e.isArray(a)){var o=a.find(function(n){var a=n.controllerRef,o=n.role,r=t.platform.controllers.getStageData(a);return e.get(r,["connections",o,"relatedToRole"])});if(o){var r=o.controllerRef,s=o.role,i=t.platform.controllers.connections.getConnectedComponents(r),l=t.platform.controllers.getStageData(r).connections[s];return i.filter(function(n){return e.head(t.platform.controllers.connections.get(n)).role===l.relatedToRole})}}}(l,p);if(!e.isEmpty(d))return d.forEach(function(e){return c.push(s.getItemHighlight(l,e,!1))}),void a(n.addToHighlights(c));if("wysiwyg.viewer.components.Repeater"===l.components.getType(l.components.getContainer(p)))return c.push(s.getItemHighlight(l,p,!1)),void a(n.addToHighlights(c));var g=l.components.getAncestors(p),f=e.find(g,function(e){return"wysiwyg.viewer.components.Repeater"===l.components.getType(l.components.getContainer(e))});f&&(c.push(s.getItemHighlight(l,f,!0)),a(n.addToHighlights(c)))}}},handleRepeaterManageItemsHighlights:function(e,a){return function(o,r,i){var l=i.dsRead,c=[],u=a?t.HIGHLIGHTS.TYPES.OVERLAY_WITH_OPACITY:t.HIGHLIGHTS.TYPES.OVERLAY;o(n.removeFromHighlightsByHighlightType([u])),c.push(s.getManageItemsPanelHighlight(l,e,u)),o(n.addToHighlights(c))}},updateHighlights:function(){return function(t,o,s){var i=s.dsRead,l=o(),c=a.getHighlights(l);if(!e.isEmpty(c)&&!r.isPerformingMouseMoveAction(l)){var u=e.map(c,function(t){return e.defaults({layout:i.components.layout.getRelativeToScreen(t.compRef)},t)});t(n.setHighlights(u))}}}}}),define("stateManagement/highlights/highlights",["stateManagement/highlights/highlightsLogic","stateManagement/highlights/highlightsReducer","stateManagement/highlights/highlightsSelectors","stateManagement/highlights/highlightsActions"],function(e,t,n,a){"use strict";return{logic:e,reducer:t,selectors:n,actions:a}}),define("stateManagement/tpa/tpaActions",["lodash","stateManagement/tpa/tpaActionTypes"],function(e,t){"use strict";var n=t.ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE,a=t.SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE;return{addAppIdsToRefreshOnDashboardClose:function(e){return{type:n,appIds:e}},setAppIdsToRefreshOnDashboardClose:function(e){return{type:a,appIds:e}}}}),define("stateManagement/tpa/tpaLogic",["lodash","stateManagement/tpa/tpaActions"],function(e,t){"use strict";var n=function(t){return e.map(t,a)},a=function(e){return parseInt(e,10)};return{addAppDefIdsToRefreshOnDashboardClose:function(a){return function(o,r,s){var i=s.dsRead,l=e(a).map(i.tpa.app.getDataByAppDefId).map("applicationId").value();o(t.addAppIdsToRefreshOnDashboardClose(n(l)))}},setAppDefIdsToRefreshOnDashboardClose:function(a){return function(o,r,s){var i=s.dsRead,l=e(a).map(i.tpa.app.getDataByAppDefId).map("applicationId").value();o(t.setAppIdsToRefreshOnDashboardClose(n(l)))}}}}),define("stateManagement/tpa/tpaSelectors",[],function(){"use strict";return{getAppIdsToRefreshAfterDashboardClose:function(e){return e.tpa.appsIdsToRefreshOnDashboardClose}}}),define("stateManagement/tpa/tpa",["stateManagement/tpa/tpaLogic","stateManagement/tpa/tpaSelectors"],function(e,t){"use strict";return{logic:e,selectors:t}}),define("stateManagement/stage/stage",["stateManagement/stage/stageSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/componentMetaData/componentMetaData",["lodash","constants","experiment"],function(e,t,n){"use strict";var a=e.curryRight(e.every),o=function(t){return function(n,a){return!e.isEmpty(n)&&e.every(n,function(e){return t(e,a)})}},r=function(t){return!e.isUndefined(t.docked)&&t.fixedPosition},s=function(e,t){var n=t.components.layout.get(e);return n.docked=t.components.layout.getDock(e),r(n)};return{isHorizontallyMovable:o(function(e,t){return n.isOpen("layoutTractor")?t.components.is.horizontallyMovable(e)&&!s(e,t)&&!t.components.layout.isHorizontallyStretched(e):t.components.is.horizontallyMovable(e)&&!s(e,t)&&!t.components.layout.isHorizontallyStretchedToScreen(e)}),isPinnedBySerializedLayout:a(r),isPinned:o(s),isPlatformShowFocusBox:function(t,n){var a=n.platform.controllers.connections.get(t);if(!e.isEmpty(a))return e(a).map(function(t){return function(t,n){var a=n.controllerRef,o=n.role,r=t.platform.controllers.getStageData(a);return e.get(r,["connections",o,"showFocusBox"])}(n,t)}).find(e.isBoolean)},getPlatformFocusBoxNavType:function(){return t.UI.NAVIGATION_TYPES.TABS},getPlatformFocusBoxNavContent:function(e,t,n){return{tabs:[{id:"platform-tab",label:n,active:!0}],onTabClick:function(){return t.selection.selectComponentByCompRef(e)},translate:!1}}}}),define("stateManagement/applyModeFromClipboard/applyModeFromClipboardSelectors",[],function(){"use strict";return{selectApplyModeFromClipboardSuggestion:function(e){return e.applyModeFromClipboardSuggestion}}}),define("stateManagement/applyModeFromClipboard/applyModeFromClipboard",["stateManagement/applyModeFromClipboard/applyModeFromClipboardSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/pinMode/pinModeActions",["stateManagement/pinMode/pinModeActionTypes"],function(e){"use strict";return{openPinMode:function(){return{type:e.OPEN_PIN_MODE}},closePinMode:function(){return{type:e.CLOSE_PIN_MODE}},showPinPreviewRect:function(t){return{type:e.SHOW_PIN_PREVIEW_RECT,style:t}},hidePinPreviewRect:function(){return{type:e.HIDE_COMPONENT_PREVIEW_RECT}}}}),define("stateManagement/pinMode/pinModeSelectors",[],function(){"use strict";return{isOpen:function(e){return e.pinMode.isOpen},getPinnedCompType:function(e){return e.pinMode.pinnedCompType},getPinPreviewRectStyle:function(e){return e.pinMode.pinPreviewRectStyle}}}),define("stateManagement/pinMode/pinModeLogic",["lodash","constants","stateManagement/panels/panelsLogic","stateManagement/pinMode/pinModeActions","stateManagement/pinMode/pinModeSelectors","stateManagement/selection/selectionSelectors"],function(e,t,n,a,o,r){"use strict";var s={default:"compPanels.dynamicPanels.pinnedDockPanel",PopupContainer:t.COMP_PANELS.POPUP.CONTAINER.POPUP_GRID_LAYOUT_PANEL.NAME},i=t.EDITOR_API.BLOCKING_LAYER_STYLE,l=function(e){return s[e]||s.default};return{open:function(o,s){return function(c,u,p){var d=p.dsRead,g=p.tooltipManager,f=u(),m=r.getSelectedComponentType(f,d),P="WRichText"===m?["LEFT","MIDDLE","RIGHT"]:["MIDDLE"];g.hide(t.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);var E=e.assign({origin:o,selectedComponents:r.getSelectedCompsRefs(f),disabledValues:P},s);c(n.openComponentPanel(l(m),E)),c(function(t,n,a){var o=a.dsWrite,s=n();o.renderPlugins.setCompsToShowOnTop(e.map(r.getSelectedCompsRefs(s),"id")),o.renderPlugins.setBlockingLayer(i)}),c(a.openPinMode())}},close:function(){return function(e,t){var r=t();if(o.isOpen(r)){var s=o.getPinnedCompType(r);e(n.closePanelByName(l(s))),e(a.hidePinPreviewRect()),e(function(e,t,n){var a=n.dsWrite;a.renderPlugins.setCompsToShowOnTop(null),a.renderPlugins.setBlockingLayer(null)}),e(a.closePinMode())}}}}}),define("stateManagement/pinMode/pinMode",["stateManagement/pinMode/pinModeActions","stateManagement/pinMode/pinModeLogic","stateManagement/pinMode/pinModeReducer","stateManagement/pinMode/pinModeSelectors"],function(e,t,n,a){"use strict";return{actions:e,logic:t,reducer:n,selectors:a}}),define("stateManagement/contextMenu/contextMenuActions",["stateManagement/contextMenu/contextMenuActionTypes"],function(e){"use strict";return{openContextMenu:function(t){var n=t.editorPositionX,a=t.editorPositionY,o=t.viewerPositionX,r=t.viewerPositionY;return{type:e.OPEN_CONTEXT_MENU,editorPositionX:n,editorPositionY:a,viewerPositionX:o,viewerPositionY:r}}}}),define("stateManagement/contextMenu/contextMenuSelectors",[],function(){"use strict";var e=function(e){return e.pinMode.pinnedCompType};return{isOpen:function(t){return Boolean(e(t))},getPinnedCompType:e}}),define("stateManagement/contextMenu/contextMenu",["stateManagement/contextMenu/contextMenuActions","stateManagement/contextMenu/contextMenuReducer","stateManagement/contextMenu/contextMenuSelectors"],function(e,t,n){"use strict";return{actions:e,reducer:t,selectors:n}}),define("stateManagement/components/componentsSelectors",["lodash","constants"],function(e,t){"use strict";var n=function(n,a){if(n&&(e.isArray(n)&&n.length||n.id)){var o=e.isUndefined(n.length)&&n.id?[n]:n;return o.length>1?t.MULTISELECT.TYPE:a.components.getType(e.head(o))}return null},a=function(e,t){var n=function(e){return e.length?e:[e]}(e);return t.components.getContainer(n[0])};return{getCompType:n,getCompTypeSuffix:function(e,t){var a=n(e,t);return a&&a.split(".").pop()},getContainer:a,isRepeaterItem:function(e,t){if(!e)return!1;var o=a(e,t);return"wysiwyg.viewer.components.Repeater"===n(o,t)}}}),define("stateManagement/components/components",["stateManagement/components/componentsSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement",["stateManagement/store/connect","stateManagement/store/createEditorStore","stateManagement/store/throttledStore","stateManagement/legacy/legacy","stateManagement/panels/panels","stateManagement/leftBar/leftBar","stateManagement/selection/selection","stateManagement/userProfile/userProfile","stateManagement/domain/domain","stateManagement/highlights/highlights","stateManagement/tpa/tpa","stateManagement/stage/stage","stateManagement/componentMetaData/componentMetaData","stateManagement/applyModeFromClipboard/applyModeFromClipboard","stateManagement/bi/bi","stateManagement/pinMode/pinMode","stateManagement/contextMenu/contextMenu","stateManagement/components/components","stateManagement/store/combineReducers","stateManagement/dataFixers/dataFixers"],function(e,t,n,a,o,r,s,i,l,c,u,p,d,g,f,m,P,E,M,_){"use strict";return{connect:e,createEditorStore:t,throttledStore:n,legacy:a,panels:o,leftBar:r,selection:s,userProfile:i,domain:l,highlights:c,tpa:u,stage:p,componentMetaData:d,applyModeFromClipboard:g,bi:f,pinMode:m,contextMenu:P,components:E,combineReducers:M,dataFixers:_}});
//# sourceMappingURL=stateManagement.min.js.map