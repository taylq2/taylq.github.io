var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("panelUtils/mixins/linkColorPickerMixin",["core","react","lodash"],function(e,t,i){"use strict";function n(e,t){if(t)return t;return function(e){return e?{top:e.top+72+"px",left:e.left-12+"px"}:null}(e)||{top:null,left:null}}return{contextTypes:{panelMeasures:t.PropTypes.object},componentDidMount:function(){if(!i.isFunction(this.getEditorAPI))throw new Error("You must use editorAPIMixin to use the linkStyleMixin")},componentWillUpdate:function(e,t,s){var o=this.context.panelMeasures&&this.context.panelMeasures.designPanel,r=s.panelMeasures&&s.panelMeasures.designPanel;if(o&&r&&!i.isEqual(o,r)){var l=n(r);this.getEditorAPI().panelManager.updatePanelProps("panels.toolPanels.colorPicker.colorPickerPanel",{top:l.top,left:l.left})}},openColorPicker:function(e,t,i,s,o,r,l){var a=this.getEditorAPI(),u=n(this.context.panelMeasures&&this.context.panelMeasures.designPanel,s);a.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:t,onChange:e,onClose:l,sessionStorage:a.userPreferences.session,enableHistory:!1!==r,palettePresets:i?a.theme.colors.getColorPresets():null,updateSitePalette:i?this.updateSitePalette:null,previewOnHover:o,top:u.top,left:u.left},!0)},updateSitePalette:function(e){this.getEditorAPI().theme.colors.update(e)},resolveColor:function(e){return this.getEditorAPI().theme.colors.render(e)}}}),define("panelUtils/mixins/linkStyleMixin",["lodash","styles"],function(e,t){"use strict";function i(t,i,n,s,r){var l=e.cloneDeep(t),a=l.style;"object"===(void 0===n?"undefined":_typeof(n))?(a.properties[i]=n.value,a.propertiesSource&&(a.propertiesSource[i]=n.source)):(a.properties[i]=n,a.propertiesSource&&(a.propertiesSource[i]=o.getPropertySource(n))),this.getEditorAPI().theme.styles.update(l.id,l,r),this.isMounted()&&this.setState({styleDataItem:l})}function n(e){return this.getEditorAPI().documentServices.theme.styles.get(e)}function s(t,i,n){var s=i.style.properties[n];return e.isUndefined(s)?r.getSkinParamDefaultValue(t,i.skin,n):s}var o=t.advancedStyle.styleUtil,r=t.advancedStyle.advancedStyleDataUtil,l=["TEXT_COLOR","COLOR","BG_COLOR","BORDER_COLOR"];return{componentDidMount:function(){if(!e.isFunction(this.getEditorAPI))throw new Error("You must use editorAPIMixin to use the linkStyleMixin")},componentWillReceiveProps:function(e){e.styleId!==this.state.styleId&&this.setState({styleId:e.styleId,styleDataItem:n.call(this,e.styleId)})},getInitialState:function(){return this.cachedStylePropertiesForSkins={},{styleId:this.props.styleId,styleDataItem:n.call(this,this.props.styleId)}},linkStyleParam:function(t,n,o){if(e.includes(n,"COLOR_ALPHA"))return this.linkColorAlphaWithMutator(t,o);var r=this.state.styleDataItem;return{value:s(this.getEditorAPI(),r,t),requestChange:function(s){i.call(this,this.state.styleDataItem,t,s,o||"active",function(t){return e.includes(l,t)}(n))}.bind(this)}},linkColorAlphaWithMutator:function(e,t){var n="alpha-"+e,o=this.state.styleDataItem,r=this.getEditorAPI(),l=s(r,o,n);return{value:{color:s(r,o,e),alpha:l},requestChange:function(o){var l=o.alpha,a=o.color;s(r,this.state.styleDataItem,n)!==l?i.call(this,this.state.styleDataItem,n,l,t):i.call(this,this.state.styleDataItem,e,a,t)}.bind(this)}},cacheStylePropertiesForSkin:function(e,t){this.cachedStylePropertiesForSkins[e]=t},changeSkin:function(t){var i=this.getEditorAPI().documentServices.theme.styles.get(this.props.styleId);if(t!==i.skin){var n=function(t,i){var n=this.getEditorAPI(),s=i.style,r=o.getStyleForSkin(n,t,this.cachedStylePropertiesForSkins[t]);o.mergeSharedProperties(n,r.properties,s.properties,t,i.skin);var l=e.cloneDeep(i);return e.assign(l.style,r),l.skin=t,l}.call(this,t,i);this.cacheStylePropertiesForSkin(i.skin,i.style.properties),this.getEditorAPI().theme.styles.update(this.props.styleId,n),this.setState({styleDataItem:n})}}}}),define("panelUtils",["panelUtils/mixins/linkColorPickerMixin","panelUtils/mixins/linkStyleMixin"],function(e,t){"use strict";return{linkColorPickerMixin:e,linkStyleMixin:t}});
//# sourceMappingURL=panelUtils.min.js.map