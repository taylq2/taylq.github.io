define("rEditor/rootComps/keyboard/config/topContextShortcuts",["lodash"],function(e){"use strict";var t=function(e){e.preventDefault()},o={esc:t,"ctrl + t, command + t":t,"ctrl + y, command + y":t,"ctrl + d, command + d":t,"ctrl + s, command + s":t,"ctrl + ], command + ]":t,"ctrl + [, command + [":t,"ctrl + shift + ], command + shift + ]":t,"ctrl + shift + [, command + shift + [":t,backspace:t,"ctrl + left, command + left":t,"ctrl + right, command + right":t,"ctrl + shift + left, command + shift + left":t,"ctrl + shift + right, command + shift + right":t,"ctrl + m, command + m":t,"ctrl + shift + m, command + shift + m":t};return{init:e.once(e.noop),shortcuts:o}}),define("rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap",["core","util"],function(e,t){"use strict";var o=t.browserUtil.getKeyboardSpecialKey(),n=o.value,i=o.label;return{editor:{SELECT_ALL:{key:n+" + a",label:""},GROUP_COMPONENTS:{key:n+" + g",label:""},UNGROUP_COMPONENTS:{key:n+" + shift + g",label:""},COPY:{key:n+" + c",label:i+" + C"},PASTE:{key:n+" + v",label:i+" + V"},APPLY_MODE:{key:n+" + shift + v",label:i+" + Shift + V"},CUT:{key:n+" + x",label:i+" + X"},DUPLICATE:{key:n+" + d",label:i+" + D"},UNDO:{key:n+" + z",label:i+" + Z"},REDO:{key:[n+" + y",n+" + shift + z"].join(","),label:i+" + Y"},DELETE:{key:["del","backspace"].join(","),label:"Del"},SAVE:{key:n+" + s",label:i+" + S"},SAVE_AS_TEMPLATE:{key:n+" + alt + t",label:""},SELECT_NEXT_COMP:{key:n+" + m",label:""},SELECT_PREV_COMP:{key:n+" + shift + m",label:""},CLOSE_PANELS:{key:"esc",label:""},MOVE_RIGHT:{key:"right",label:""},SHIFT_RIGHT:{key:"shift + right",label:""},MOVE_LEFT:{key:"left",label:""},SHIFT_LEFT:{key:"shift + left",label:""},MOVE_UP:{key:"up",label:""},SHIFT_UP:{key:"shift + up",label:""},MOVE_DOWN:{key:"down",label:""},SHIFT_DOWN:{key:"shift + down",label:""},SEND_FORWARD:{key:n+" + right",label:i+" + →"},SEND_TO_FRONT:{key:n+" + shift + right",label:i+" + Shift + →"},SEND_BACKWARD:{key:n+" + left",label:i+" + ←"},SEND_TO_BACK:{key:n+" + shift + left",label:i+" + Shift + ←"},TOGGLE_MOBILE:{key:n+" + j",label:i+" + j"},TOGGLE_PREVIEW:{key:n+" + p",label:i+" + P"},PUBLISH_SITE:{key:n+" + shift + p",label:i+" + Shift + P"},HIDE_TOOLS:{key:"shift + f",label:"Shift + F"},TOGGLE_RULERS:{key:"shift + r",label:"Shift + R"},PLATFORM_APP_CONFIGURATION:{key:n+"+ shift + e",label:i+"+ shift + e"},ADD_APPLICATIVE_MODE:{key:n+"+ shift + a",label:i+"+ shift + e"}},preview:{EXIT_PREVIEW:{key:"esc",label:""},TOGGLE_MOBILE:{key:n+" + j",label:i+" + j"},TOGGLE_PREVIEW:{key:n+" + p",label:i+" + P"},PUBLISH_SITE:{key:n+" + shift + p",label:i+" + Shift + P"}},topBar:{CLOSE_DROP_PANEL:{key:"esc",label:""}},imageCrop:{APPLY:{key:"enter",label:"Enter"},CANCEL:{key:"esc",label:"Esc"}}}}),define("rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions",["lodash","core","util","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","editorHints","experiment","helpIds","multilingual"],function(e,t,o,n,i,a,r,s){"use strict";function l(t,o,n){e.invoke(h,"documentServices.generalInfo.isFirstSave")?h.panelManager.openPanel(f,{title:o,messageBody:n},!0):t()}function c(t,o,n,i){var a=i?e.cloneDeep(o):o;a.fields.status=t?1:0,i&&a.fields.category&&(a.fields.category+=i),h.bi.event(a.type,a.fields),n.call(h)}function p(e,o){var n={panel_name:o||null,origin:t.constants.BI.HELP.ORIGIN.TOPBAR,learn_more:!1};h.panelManager.openHelpCenter(e,null,n)}function d(){return!!e.find(h.platform.getInstalledEditorApps(),["appDefinitionId","dataBinding"])}function u(){var u=h.account.getEditorVersionsInfo()||{},f={SITE_BAR:{label:a.isOpen("us_topbarHacks")?"Settings":o.translate("TOPBAR_Site_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"site"}},getCounter:function(){if(!m())return g()},hintProps:{id:"SiteMenuBar"},hintContainerId:i.hintsContainers.TOP_BAR_SITE_MENU_PANEL},EDIT_BAR:{label:o.translate("TOPBAR_Edit_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"edit"}}},VIEW_BAR:{label:o.translate("Topbar_Tools_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"view"}},hintProps:{id:"ToolsMenuBar"},hintContainerId:i.hintsContainers.TOP_BAR_TOOLS_MENU_PANEL},SETTINGS:{action:function(){l(function(){h.bi.event(t.bi.events.topbar.top_bar_open_settings_click),h.account.openSettings()},"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_BODY")},label:a.isOpen("us_topbarHacks")?o.translate("TOPBAR_Site_Label"):o.translate("TOPBAR_Settings_Label"),bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"settings"}},hintProps:{id:"SiteSettings"}},HELP_BAR:{label:o.translate("TOPBAR_HELP_TOOLTIP_TITLE"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"help"}},hintProps:{id:"Help"}},HELP_CENTER:{label:o.translate("TOPBAR_HELP_EDITOR_HELP"),action:function(){var e=a.isOpen("developerModeToggle"),t=e?r.HELP_CENTER.WIXCODE_DESKTOP_HELP_ITEM:r.HELP_CENTER.DESKTOP_HELP_ITEM,o=e?r.HELP_CENTER.WIXCODE_MOBILE_HELP_ITEM:r.HELP_CENTER.MOBILE_HELP_ITEM;p(h.isDesktopEditor()?t:o,b.EDITOR)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_center"}}},HELP_VIDEOS:{label:o.translate("TOPBAR_HELP_HOWTO_VIDEOS"),action:function(){h.panelManager.openPanel("panels.focusPanels.howToVideoGalleryPanel")},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_videos"}}},HELP_KB_SHORTCUTS:{separator:!0,label:o.translate("TOPBAR_HELP_KB_SHORTCUTS"),action:function(){p("5a3238e6-ebe9-4aca-a7a2-1c717598e334",b.KEYBOARD_SHORTCUTS)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_kb_shortcuts"}}},HELP_CONNECT_DOMAIN:{label:o.translate("TOPBAR_HELP_CONNECT_DOMAIN"),action:function(){p("a06941d9-7683-4ced-bce3-bd2cc3c7d6e9",b.CONNECT_DOMAIN)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_connect_domain"}}},HELP_SEO:{separator:!0,label:o.translate("TOPBAR_HELP_SEO"),action:function(){p("ab2c2a83-5bc0-435e-ab82-f2c1036580a7",b.SEO)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_seo"}}},TERMS_OF_USE:{label:o.translate("TOPBAR_HELP_TERMS_OF_USE"),action:function(){var e=o.serviceTopology.basePublicUrl+"about/terms-of-use",t=o.languages.getLocalizedLink(e);window.open(t)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"terms_of_use"}}},PRIVACY_POLICY:{label:o.translate("TOPBAR_HELP_PRIVACY_POLICY"),action:function(){var e=o.serviceTopology.basePublicUrl+"about/privacy",t=o.languages.getLocalizedLink(e);window.open(t)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"privacy_policy"}}},SAVE:{label:o.translate("TOPBAR_Site_Save"),action:function(){h.saveManager.save({origin:"top_bar_site_menu"})},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"save"}}},VIEW_SITE:{label:o.translate("TOPBAR_SITE_VIEWSITE"),action:function(){if(!f.VIEW_SITE.disabledChecker()){var e=h.site.getSitePublicUrl();return window.open(e),!0}return!1},disabledChecker:function(){return!(h&&h.documentServices&&h.documentServices.generalInfo&&h.documentServices.generalInfo.isSitePublished())},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"view_site"}}},PREVIEW:{label:o.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE"),action:h.preview.togglePreview,bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"preview"}},{type:t.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}]},FEEDBACK:{label:o.translate("TOPBAR_GetFeedback_Label"),action:function(){l(h.panelManager.openPanel.bind(null,"panels.focusPanels.feedbackPanel"),"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY")},getCounter:g,bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"feedback"}},{type:t.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}],visibilityFunc:function(){return!((h.account.getEditorVersionsInfo()||{}).isEligibleForSwitch&&!h.isSavedInCurrentSession&&!h.documentServices.generalInfo.isTemplate())&&h.account.isUserOwner()},hintProps:{id:"GetFeedback"}},GET_TRAFFIC:{label:o.translate("TOPBAR_GetTraffic_Label"),action:function(){return!f.GET_TRAFFIC.disabledChecker()&&(h.panelManager.openPanel("panels.focusPanels.getTrafficPanel",{title:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY"},!0),!0)},bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}}],disabledChecker:function(){return!(h&&h.documentServices&&h.documentServices.generalInfo&&h.documentServices.generalInfo.isSitePublished())},visibilityFunc:function(){return!e.result(h,"account.isWixSEOWizExperimentOpen")}},GO_TO_SEO_WIZ:{label:o.translate("TOPBAR_GetTraffic_New_Label"),action:function(){h.account.openWixSEOWiz("EDITOR_MENU")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}},visibilityFunc:function(){return e.result(h,"account.isWixSEOWizExperimentOpen")}},PUBLISH:{label:o.translate("TOPBAR_Site_Publish"),action:function(){f.PUBLISH.disabledChecker()||h.publishManager.saveAndPublish("top_bar_site_menu_publish")},disabledChecker:function(){return!h.savePublish.canUserPublish()},bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"publish"}},{type:t.bi.events.publish.PUBLISH_CLICK,fields:{origin:"menubar"}}]},EDITOR_MODE_SWITCH:{separator:!0,labelFunc:function(){return h&&h.isMobileEditor()?o.translate("Topbar_Site_Desktop_Editor"):o.translate("Topbar_Site_Mobile_Editor")},action:function(){h.setEditorMode(!h.isMobileEditor())},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"editor_mode_switch"}}},REVISIONS:{label:o.translate("TOPBAR_Site_Site_Revisions"),action:function(){l(h.account.openRevisions,"TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_BODY")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"revisions"}},hintProps:{id:"SiteHistory"}},SITE_DASHBOARD:{label:o.translate("TOPBAR_SITE_DASHBOARD"),action:function(){l(h.account.manage,"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"site_dashboard"}}},EXIT:{label:o.translate("TOPBAR_Site_Logout"),action:h.exitEditor,bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"logout"}}},UNDO:{label:o.translate("TOPBAR_Edit_Undo"),shortcutLabel:n.editor.UNDO.label,action:h.history.undo,bi:{type:t.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"undo"}}},REDO:{label:o.translate("TOPBAR_Edit_Redo"),shortcutLabel:n.editor.REDO.label,action:h.history.redo,bi:{type:t.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"redo"}}},CUT:{label:o.translate("TOPBAR_Edit_Cut"),shortcutLabel:n.editor.CUT.label,compActionRestrictionNames:["duplicatable","removable"],action:function(){h.selectedComponent.sendSelectedComponentBI(t.bi.events.topbar.top_bar_EDIT_menu_click,{category:"cut"}),h.selectedComponent.cut(),h.history.add("component - cut")}},COPY:{label:o.translate("TOPBAR_Edit_Copy"),shortcutLabel:n.editor.COPY.label,compActionRestrictionNames:["duplicatable"],action:function(){h.selectedComponent.sendSelectedComponentBI(t.bi.events.topbar.top_bar_EDIT_menu_click,{category:"copy"}),h.selectedComponent.copy()}},PASTE:{label:o.translate("TOPBAR_Edit_Paste"),shortcutLabel:n.editor.PASTE.label,compActionRestrictionNames:["duplicatable"],action:function(){h.copyPaste.paste(),h.history.add("component - paste")},bi:{type:t.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"paste"}}},DUPLICATE:{label:o.translate("TOPBAR_Edit_Duplicate"),shortcutLabel:n.editor.DUPLICATE.label,compActionRestrictionNames:["duplicatable"],action:function(){h.selectedComponent.sendSelectedComponentBI(t.bi.events.rightClickMenu.DUPLICATE,{category:"duplicate"}),h.selectedComponent.duplicate(),h.history.add("component - duplicate")}},DELETE:{labelFunc:function(){return h.isDesktopEditor()?o.translate("TOPBAR_Edit_Delete"):o.translate("TOPBAR_Edit_HIDE")},shortcutLabel:n.editor.DELETE.label,compActionRestrictionNames:["removable"],action:function(){h.selectedComponent.sendSelectedComponentBI(t.bi.events.topbar.top_bar_EDIT_menu_click,{category:"delete"}),h.selectedComponent.remove(),h.history.add("component - remove")}},TOOLBAR:{label:o.translate("TOPBAR_VIEW_TOOLBAR_TITLE"),isCheckbox:!0,menuPropsKey:"toolbarEnabled",action:function(e,t){c(!h.toolbar.isToolbarEnabled(),f.TOOLBAR.biData,h.toolbar.toggleToolbar,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"toolbar",status:null}}},RULERS:{label:o.translate("TOPBAR_VIEW_RULERS1"),isCheckbox:!0,menuPropsKey:"rulersEnabled",action:function(t,o){var n=e.cloneDeep(f.RULERS.biData);n.fields.editor_view_mode=h.getDeviceType(),c(!h.rulers.isRulersEnabled(),n,h.rulers.toggleRulers,o?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"rulers",status:null,editor_view_mode:null}},hintProps:{id:"Rulers"}},GUIDELINES:{label:o.translate("TOPBAR_VIEW_GRIDLINES_TITLE"),isCheckbox:!0,isDisabled:function(){return!h.isDesktopEditor()},menuPropsKey:"guidelinesEnabled",action:function(e,t){c(!h.grid.guidelines.isGuidelinesEnabled(),f.GUIDELINES.biData,h.grid.guidelines.toggleGuidelines,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"guidelines",status:null}}},SNAP:{label:o.translate("TOPBAR_VIEW_SNAP_TITLE"),isCheckbox:!0,separator:a.isOpen("developerModeToggle"),menuPropsKey:"snapToEnabled",action:function(e,t){c(!h.grid.snapTo.isSnapToEnabled(),f.SNAP.biData,h.grid.snapTo.toggleSnapTo,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"snap",status:null}}},SECTIONS:{label:o.translate("TOPBAR_VIEW_SECTIONS"),isCheckbox:!0,menuPropsKey:"sectionsHandlesEnabled",visibilityFunc:function(){return h.isDesktopEditor()},action:function(e,t){c(!h.sectionsHandles.areSectionsHandlesEnabled(),f.SECTIONS.biData,h.sectionsHandles.toggleSectionsHandles,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"sectionshandles",status:null}}}};return f.IMAGE_OPTIMIZATION={label:o.translate("TOPBAR_SITE_IMAGE_QUALITY"),action:function(){h.panelManager.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"})},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"image_optimization"}}},a.isOpen("se_multilingual")&&(f.MULTILINGUAL={label:o.translate("TOPBAR_MULTILINGUAL_LABEL"),action:function(){s.openMultilingualManagePanel(h)},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"multilingual"}}}),a.isOpen("developerModeToggle")&&(f.SECTIONS.separator=!0),f.DEVELOPER_MODE={label:o.translate("TOPBAR_VIEW_DEVELOPER_MODE_TITLE"),isCheckbox:!0,visibilityFunc:function(){return d()||a.isOpen("developerModeToggle")},menuPropsKey:"developerModeEnabled",action:function(e,o,n){h.userPreferences.site.get(t.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)||n(),c(!h.developerMode.isEnabled(),f.DEVELOPER_MODE.biData,h.developerMode.toggle,o?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"dev_mode",status:null}}},f.PROPERTIES_TOOLBAR={label:o.translate("TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE"),isCheckbox:!0,isIndented:!0,visibilityFunc:function(){return h.developerMode.isEnabled()&&(d()||a.isOpen("developerModeToggle"))},menuPropsKey:"developerToolBarEnabled",action:function(){c(!h.developerToolBar.isEnabled(),f.PROPERTIES_TOOLBAR.biData,h.developerToolBar.toggle)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"properties_panel",status:null}}},f.HIDDEN_ELEMENTS={label:o.translate("TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE"),isCheckbox:!0,isIndented:!0,visibilityFunc:function(){return h.developerMode.isEnabled()&&(d()||a.isOpen("developerModeToggle"))},menuPropsKey:"showHiddenComponents",action:function(){c(!h.developerHiddenComponents.isEnabled(),f.HIDDEN_ELEMENTS.biData,h.developerHiddenComponents.toggle)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"show_hidden_components",status:null}}},h.account.isUserOwner()&&(f.UPGRADE={label:o.translate(a.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"upgrade"}},hintProps:{id:"Premium"}},h.wixStores.isSiteInWixStoreTestDrive()||(f.UPGRADE_ITEM={label:o.translate(a.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),separator:!0,className:"menu-bar-item-upgrade",action:function(){l(h.account.upgrade.bind(h,"edhtml_TOP_BAR_SITE_MENU_UPGRADE"),"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_BODY")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"upgrade"}}},f.CONNECT_DOMAIN={label:o.translate("TOPBAR_SITE_CONNECT_DOMAIN"),action:function(){h.documentServices.generalInfo.isFirstSave()?h.saveManager.save():h.account.openConnectDomain(t.constants.CONNECT_DOMAIN.FLOWS.TOP_BAR)},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"connect_domain"}}})),m()&&(f.BACK_TO_OLD_EDITOR={label:o.translate("Topbar_oldeditor_link"),action:function(){u.isEligibleForSwitch?h.panelManager.openPanel("panels.messagePanels.switchToOldEditorConfirmationPanel",{title:"Notification_Box_ToOldEditor_Title"}):p("85aae89a-84f6-4967-b866-e5c39c91d635",b.BACK_TO_OLD_EDITOR)},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"back_to_old_editor"}},visibilityFunc:m}),a.isOpen("se_accessibilityPanel")&&(f.ACCESSIBILITY={label:o.translate("TOPBAR_SITE_ACCESSIBILITY"),action:function(){h.bi.event(t.bi.events.accessibilityPanel.click_accessbility_in_topbar_menu,{site_id:h.documentServices.generalInfo.getSiteId()}),h.panelManager.openPanel("panels.focusPanels.accessibilityPanel")}}),f}function m(){var e=h.account.getEditorVersionsInfo()||{};return!e.isNewUser&&"none"===e.userOverride&&e.isEligibleForSwitch&&!h.isSavedInCurrentSession}function g(){var e=h.feedback.getNewCommentsCounter();return e>99?"99+":e}var h=null,f="savePublish.panels.save.saveYourSitePanel",b={EDITOR:"editor",KEYBOARD_SHORTCUTS:"kb_shortcuts",SEO:"seo",CONNECT_DOMAIN:"connect_domain",BACK_TO_OLD_EDITOR:"back_to_old_editor"},y={init:e.once(function(t){h=t;var o=u();e.merge(y,o)})};return y}),define("rEditor/rootComps/keyboard/config/topBarShortcuts",["lodash","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(e,t){"use strict";var o={};return{init:e.once(function(n){t.init(n),e.forEach(t,function(e){e&&e.shortcut&&(o[e.shortcut]=e.action)})}),shortcuts:o}}),define("rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions",["lodash","core","stateManagement"],function(e,t,o){"use strict";function n(t){var o=t.documentServices.pages.getFocusedPageId(),n=t.components.getAllComponents(o);return e.filter(n,function(t){return!e.includes(l,t.id)})}function i(t,o,n){var a=e.findIndex(o,{id:n}),r=a+1===o.length?0:a+1;return t.components.is.selectable(o[r])?o[r]:i(t,o,o[r].id)}function a(t,o,n){var i=e.findIndex(o,{id:n}),r=0===i?o.length-1:i-1;return t.components.is.selectable(o[r])?o[r]:a(t,o,o[r].id)}function r(e,o){var n=t.utils.stageUtils.getStageLayout(),i=e.components.layout.getRelativeToScreen(o);t.utils.scrollUtils.setScroll({scrollTop:function(e,t){var o=e.height/2;return Math.max(t-o,0)}(n,i.y)})}function s(e,t){e.selection.selectComponentByCompRef(t),r(e,t)}var l=["PAGES_CONTAINER","SITE_PAGES","BACK_TO_TOP_BUTTON"];return{selectNextComponent:function(e){var t=e.selection.getSelectedComponentId();if(t){s(e,i(e,n(e),t))}},selectPreviousComponent:function(e){var t=e.selection.getSelectedComponentId();if(t){s(e,a(e,n(e),t))}},moveComponent:function(t,n,i){var a=t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t.selection.getSelectedComponents());return a&&function(e,t,n){return"x"===n&&o.componentMetaData.isHorizontallyMovable(t,e.documentServices)||"y"===n&&e.components.is.verticallyMovable(t)}(t,a,n)&&t.documentServices.waitForChangesApplied(function(){var o=t.components.layout.getRelativeToStructure(a),r=e.clone(o);r[n]+=i,10===i?r[n]=10*Math.floor(r[n]/10):-10===i&&(r[n]=10*Math.ceil(r[n]/10)),t.components.layout.updateRelativeToStructure(a,r)}),a}}}),define("rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil",["core","lodash","util","savePublish"],function(e,t,o,n){"use strict";var i=o.browserUtil.getKeyboardSpecialKey().value;return function(e){var o={},a=t(window.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().value();o["ctrl + alt + shift + v"]=e.openEditorVersionInfoPanel.bind(e),o["ctrl + alt + shift + e"]=function(){window.alert("Active Experiments:\n"+a.join("\n"))};var r=window.location.search&&window.location.search.toLowerCase();return(t.includes(r,"debug=")||t.includes(r,"isqa=true"))&&(o[i+" + shift + alt + s"]=t.partial(n.configureSave,e),o[i+" + shift + alt + p"]=e.publishManager.configureMockPostPublish),o}}),define("rEditor/rootComps/keyboard/util/sendBIAndActionUtil",["core","lodash"],function(e,t){"use strict";function o(e,o,n){if(e&&o){var i=e.selection.getSelectedComponents(),a=e.bi.getComponentsBIParams(i);t.forEach(a,function(e,o){t.assign(o,e)}.bind(null,n)),t.isEmpty(a)&&n&&a.push(n),e.bi.reportBI(o,a)}}return o}),define("rEditor/rootComps/keyboard/config/editorShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","experiment"],function(e,t,o,n,i,a,r){"use strict";function s(o){var n={};n[p.GROUP_COMPONENTS.key]=function(e,t){var o=e.selection.getSelectedComponents();e.components.is.groupable(o)&&e.multiselect.isMultiselect(o)&&e.groupComponents(o);t.preventDefault()}.bind(null,o),n[p.UNGROUP_COMPONENTS.key]=function(e,t){var o=e.selection.getSelectedComponents();e.components.is.group(o)&&e.components.ungroup(o);t.preventDefault()}.bind(null,o),n[p.COPY.key]=function(e){var o=t.bi.events.rightClickMenu,n=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(n)?1:0;if(e.selectedComponent.copy(),n){var r=e.components.getType(n);a(e,o.COPY,{origin:"keyboard",is_component_pinned:i,component_type:r})}}.bind(null,o),n[p.CUT.key]=function(e){var o=t.bi.events.rightClickMenu,n=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(n)?1:0;e.selectedComponent.cut(),e.history.add("component - cut"),a(e,o.CUT,{origin:"keyboard",is_component_pinned:i})}.bind(null,o),n[p.DUPLICATE.key]=function(e){var o=t.bi.events.rightClickMenu,n=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(n)?1:0;e.selectedComponent.duplicate(),"Column"!==e.selection.getSelectedComponentType()&&e.history.add("component - duplicate");a(e,o.DUPLICATE,{origin:"keyboard",is_component_pinned:i})}.bind(null,o),n[p.MOVE_RIGHT.key]=l.bind(null,o,"x",1),n[p.MOVE_LEFT.key]=l.bind(null,o,"x",-1),n[p.MOVE_UP.key]=l.bind(null,o,"y",-1),n[p.MOVE_DOWN.key]=l.bind(null,o,"y",1),n[p.SHIFT_RIGHT.key]=l.bind(null,o,"x",10),n[p.SHIFT_LEFT.key]=l.bind(null,o,"x",-10),n[p.SHIFT_UP.key]=l.bind(null,o,"y",-10),n[p.SHIFT_DOWN.key]=l.bind(null,o,"y",10),n[p.ADD_APPLICATIVE_MODE.key]=function(){if(r.isOpen("applicativeModes")){var t=e.head(o.selection.getSelectedComponents());if(t){var n=o.components.modes.getModes(t),i="mode-"+(n?n.length:"0");o.components.modes.addModeDefinition(t,"APPLICATIVE",null,i)}}};var s=i(o);e.merge(n,s),e.merge(c,n)}function l(e,t,o,i){i&&i.preventDefault(),n.moveComponent(e,t,o)}var c={},p=o.editor;return{init:function(e){s(e)},shortcuts:c}}),define("rEditor/rootComps/keyboard/config/previewShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";function n(e){e.preventDefault()}var i=o.preview,a={};return{init:e.once(function(e){a[i.EXIT_PREVIEW.key]=e.preview.togglePreview,a[i.TOGGLE_PREVIEW.key]=function(e,t){t.preventDefault(),e.preview.togglePreview()}.bind(this,e),a[i.TOGGLE_MOBILE.key]=function(e,o){o.preventDefault(),e.bi.event(t.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var n=e.isMobileEditor();e.setEditorMode(!n)}.bind(null,e),a[i.PUBLISH_SITE.key]=n}),shortcuts:a}}),define("rEditor/rootComps/keyboard/config/pinModeShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(e,t,o,n){"use strict";function i(t,o,n){if(t&&o){var i=t.selection.getSelectedComponents(),a=t.bi.getComponentsBIParams(i);e.forEach(a,function(t,o){e.assign(o,t)}.bind(null,n)),e.isEmpty(a)&&n&&a.push(n),t.bi.reportBI(o,a)}}function a(e){e.preventDefault()}var r={},s=o.editor;return{init:function(o){!function(o){var l=t.bi.events.rightClickMenu,c={};c[s.GROUP_COMPONENTS.key]=a,c[s.UNGROUP_COMPONENTS.key]=a,c[s.COPY.key]=i.bind(null,o,l.COPY,{is_component_pinned:1}),c[s.CUT.key]=i.bind(null,o,l.CUT,{is_component_pinned:1}),c[s.DUPLICATE.key]=i.bind(null,o,l.DUPLICATE,{is_component_pinned:1}),c[s.MOVE_RIGHT.key]=a,c[s.MOVE_LEFT.key]=a,c[s.MOVE_UP.key]=a,c[s.MOVE_DOWN.key]=a,c[s.SHIFT_RIGHT.key]=a,c[s.SHIFT_LEFT.key]=a,c[s.SHIFT_UP.key]=a,c[s.SHIFT_DOWN.key]=a;var p=n(o);e.merge(c,p),e.merge(r,c)}(o)},shortcuts:r}}),define("rEditor/rootComps/keyboard/util/commonKeyboardActions",["core","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","coreUtilsLib"],function(e,t,o){"use strict";function n(o,n){var i=e.bi.events.editor.undo_redo_component_change;t(o,i,{type:n,origin:"keyboard"})}return{undoFromKeyboard:function(e){n(e,"undo"),e.history.undo()},redoFromKeyboard:function(e){n(e,"redo"),e.history.redo()},saveSiteFromKeyboard:function(e){e.saveManager.save({origin:"keyboard"})},saveSiteAsTemplateFromKeyboard:function(e){e.saveManager.saveAsTemplate(function(){o.log.info("Saved successfully as Template.")})},publishSiteFromKeyboard:function(t,o){t.savePublish.canUserPublish()&&(o.preventDefault(),t.bi.event(e.bi.events.publish.PUBLISH_CLICK,{origin:"keyboard"}),t.publishManager.saveAndPublish("keyboard_publish"))}}}),define("rEditor/rootComps/keyboard/config/zoomModeShortcuts",["lodash","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";var n={},i=o.editor;return{init:function(o){!function(o){var a={};a[i.UNDO.key]=t.undoFromKeyboard.bind(null,o),a[i.REDO.key]=t.redoFromKeyboard.bind(null,o),a[i.SAVE.key]=t.saveSiteFromKeyboard.bind(null,o),a[i.SAVE_AS_TEMPLATE.key]=t.saveSiteAsTemplateFromKeyboard.bind(null,o),a[i.PUBLISH_SITE.key]=t.publishSiteFromKeyboard.bind(null,o),e.assign(n,a)}(o)},shortcuts:n}}),define("rEditor/rootComps/keyboard/config/imageCropShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";function n(o){var n={};n[a.APPLY.key]=function(o){var n=o.selection.getSelectedComponents(),i=o.selection.getSelectedComponentData().crop;o.imageCrop.updateCrop(),o.imageCrop.toggleCropMode(!1),o.documentServices.waitForChangesApplied(function(){var a=o.components.data.get(n).crop,r=!e.isEqual(i,a);o.bi.event(t.bi.events.imageCrop.apply_crop,{is_changed:r,origin:"enter"})})}.bind(null,o),n[a.CANCEL.key]=function(e){e.imageCrop.toggleCropMode(!1)}.bind(null,o),e.merge(i,n)}var i={},a=o.imageCrop;return{init:function(e){n(e)},shortcuts:i}}),define("rEditor/rootComps/keyboard/config/baseEditorShortcuts",["lodash","core","experiment","stateManagement","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(e,t,o,n,i,a,r,s,l){"use strict";function c(i){var c={};c[d.SELECT_ALL.key]=i.selection.selectAll,c[d.PASTE.key]=function(o){var i=t.bi.events.rightClickMenu,a=o.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(a){var r=e.map(a.components,"serializedComp.layout"),s=n.componentMetaData.isPinnedBySerializedLayout(r,o.documentServices);o.copyPaste.paste(),o.history.add("component - paste"),l(o,i.PASTE,{origin:"keyboard",is_component_pinned:s})}}.bind(null,i),c[d.APPLY_MODE.key]=function(e){var n=t.bi.events.rightClickMenu;o.isOpen("se_hoverBox")&&e.copyPaste.canApplyModeFromClipboard()&&(e.copyPaste.applyModeFromClipboard(e.selection.getSelectedComponents()),l(e,n.APPLY_MODE_FROM_CLIPBOARD,{origin:"keyboard"}))}.bind(null,i),c[d.UNDO.key]=s.undoFromKeyboard.bind(null,i),c[d.REDO.key]=s.redoFromKeyboard.bind(null,i),c[d.DELETE.key]=function(e){var o=e.selection.getSelectedComponents(),n=e.components.layout.isPinned(o)?1:0;l(e,t.bi.events.editor.component_removed,{removal_method:"keyboard",is_component_pinned:n}),e.selectedComponent.remove(),e.history.add("component - remove")}.bind(null,i),c[d.SAVE.key]=s.saveSiteFromKeyboard.bind(null,i),c[d.SAVE_AS_TEMPLATE.key]=s.saveSiteAsTemplateFromKeyboard.bind(null,i),c[d.SELECT_NEXT_COMP.key]=function(e){e.panelManager.closeAllPanels(),a.selectNextComponent(e)}.bind(null,i),c[d.SELECT_PREV_COMP.key]=function(e){e.panelManager.closeAllPanels(),a.selectPreviousComponent(e)}.bind(null,i),c[d.TOGGLE_RULERS.key]=function(e){e.rulers.toggleRulers()}.bind(null,i),c[d.CLOSE_PANELS.key]=function(o){var i=o.panelManager;i.getOpenPanels().length>0?e.forEach(m,i.closeAllPanelsOfType):n.panels.selectors.selectHelpProps(o.store.getState())?i.closeHelpCenter():o.selection.isComponentSelected()?o.selection.deselectComponents():(o.toolsControl.toggleHideTools(!1),o.bi.event(t.bi.events.editor.hide_tools.show_controls,{origin:"shortcut"}))}.bind(null,i),c[d.SEND_TO_FRONT.key]=g.toFront.bind(null,i),c[d.SEND_TO_BACK.key]=g.toBack.bind(null,i),c[d.SEND_FORWARD.key]=g.forward.bind(null,i),c[d.SEND_BACKWARD.key]=g.backward.bind(null,i),c[d.TOGGLE_PREVIEW.key]=function(e,o){o.preventDefault(),e.bi.event(t.bi.events.preview.PREVIEW_CLICK,{origin:"keyboard"}),e.preview.togglePreview()}.bind(null,i),c[d.TOGGLE_MOBILE.key]=function(e,o){o.preventDefault(),e.bi.event(t.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var n=e.isMobileEditor();e.setEditorMode(!n)}.bind(null,i),c[d.PLATFORM_APP_CONFIGURATION.key]=function(e){if(u>=8){var t=e.documentServices.platform.getAppDataByAppDefId("editorPlatformWixComponents");t?e.documentServices.platform.notifyApplication(t.applicationId,{eventType:"openModal"}):e.documentServices.platform.initApp({appDefinitionId:"editorPlatformWixComponents",editorUrl:"https://static.parastorage.com/services/editor-platform-app-configuration-ui-node/1.33.0/assets/editor.js"}),u=0}else u++}.bind(null,i),c[d.PUBLISH_SITE.key]=s.publishSiteFromKeyboard.bind(null,i),c[d.HIDE_TOOLS.key]=function(e){var o=e.toolsControl.toggleHideTools()?"hide_controls":"show_controls";e.bi.event(t.bi.events.editor.hide_tools[o],{origin:"shortcut"})}.bind(null,i);var h=r(i);e.merge(c,h),e.merge(p,c)}var p={},d=i.editor,u=0,m=["leftPanelFrame","compPanelFrame","focusPanelFrame","messagePanelFrame","pagesPanelFrame","toolPanelFrame","tpaSettingsPanelFrame"],g={toFront:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveToFront(o),l(e,t.bi.events.rightClickMenu.BRING_TO_FRONT,{origin:"keyboard"}))},toBack:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveToBack(o),l(e,t.bi.events.rightClickMenu.SEND_TO_BACK,{origin:"keyboard"}))},forward:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveForward(o),l(e,t.bi.events.rightClickMenu.MOVE_FORWARD,{origin:"keyboard"}))},backward:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveBackward(o),l(e,t.bi.events.rightClickMenu.MOVE_BACKWARDS,{origin:"keyboard"}))}};return{init:function(e){c(e)},shortcuts:p}}),define("rEditor/rootComps/keyboard/config/shortcutsConfig",["util","lodash","rEditor/rootComps/keyboard/config/topContextShortcuts","rEditor/rootComps/keyboard/config/topBarShortcuts","rEditor/rootComps/keyboard/config/editorShortcuts","rEditor/rootComps/keyboard/config/previewShortcuts","rEditor/rootComps/keyboard/config/pinModeShortcuts","rEditor/rootComps/keyboard/config/zoomModeShortcuts","rEditor/rootComps/keyboard/config/imageCropShortcuts","rEditor/rootComps/keyboard/config/baseEditorShortcuts"],function(e,t,o,n,i,a,r,s,l,c){"use strict";function p(e,o){return t.mapValues(e,function(e){return function(e,t){return function(){return t(),e.apply(null,arguments)}}(e,o)})}var d=e.keyboardShortcuts;return{init:t.once(function(e){o.init(e),a.init(e),c.init(e),r.init(e),l.init(e),s.init(e),i.init(e),n.init(e),function(e,t){d.registerContext(d.CONTEXTS.TOP_CONTEXT,p(o.shortcuts,t),e);var u=d.extendContext(d.CONTEXTS.TOP_CONTEXT,p(c.shortcuts,t));d.registerContext(d.CONTEXTS.BASE_EDITOR,u,e);var m=d.extendContext(d.CONTEXTS.TOP_CONTEXT,p(a.shortcuts,t));d.registerContext(d.CONTEXTS.PREVIEW,m,e);var g=d.extendContext(d.CONTEXTS.BASE_EDITOR,p(i.shortcuts,t));d.registerContext(d.CONTEXTS.EDITOR,g,e);var h=d.extendContext(d.CONTEXTS.BASE_EDITOR,p(r.shortcuts,t));d.registerContext(d.CONTEXTS.PIN_MODE,h,e);var f=d.extendContext(d.CONTEXTS.EDITOR,p(n.shortcuts,t));d.registerContext(d.CONTEXTS.TOP_BAR,f,e);var b=d.extendContext(d.CONTEXTS.TOP_CONTEXT,p(l.shortcuts,t));d.registerContext(d.CONTEXTS.IMAGE_CROP,b,e);var y=d.extendContext(d.CONTEXTS.TOP_CONTEXT,p(s.shortcuts,t));d.registerContext(d.CONTEXTS.ZOOM_MODE,y,e)}(e,e.closeRightClickMenu)})}}),define("rEditor/utils/isRightClickWithCtrlInDebugMode",["util"],function(e){"use strict";return function(t){var o=e.url.parseUrlParams(window.location);return t.ctrlKey&&"all"===o.debug}}),define("rEditor/rootComps/leftBar/leftBarMapper",["stateManagement"],function(e){"use strict";return function(t){var o=t.store,n=o.dispatch,i=o.getState;return{sendBIButtonsCount:function(){n(e.leftBar.logic.sendBIButtonsCount(t.isPopUpMode()))},superAppsDesktopCount:e.leftBar.selectors.getDesktopSuperAppsCount(i()),isCollapsed:e.leftBar.selectors.isCollapsed(i()),leftBarMenuItems:e.leftBar.selectors.getMenuItems(i(),t.isPopUpMode()),isMobileEditor:t.isMobileEditor(),openPanels:t.getOpenPanels(),isEnabled:t.editorIsInit(),halfOpacityTools:t.toolsControl.isHalfOpacityTools(),isHidden:t.toolsControl.areToolsHidden(),reportBI:t.bi.event,leftBarNotifications:e.leftBar.selectors.getNotifications(i()),collapseMenu:function(){n(e.leftBar.logic.collapseMenu())},openPanel:t.panelManager.openPanel,collapseButton:function(t){n(e.leftBar.logic.collapseButton(t))},hideFloatingBubble:t.hideFloatingBubble,updateLeftBarButtonsBoundingRect:function(t){n(e.leftBar.actions.updateButtonsBoundingRect(t))}}}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt",["react","lodash","symbols","experiment"],function(e,t,o,n){"use strict";return function(){return e.createElement("li",{className:t(this.getButtonClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"root",onClick:this.handleOnClick,"data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},this.shouldShowSelectedSvg()?e.createElement(o.symbol,t.assign({},{key:"selectedSvg"},this.getSelectedButtonSvgProps())):null,e.createElement(o.symbol,{name:this.props.symbolName,className:"icon",hintId:n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null}),e.createElement("span",{className:"mask"}),e.createElement("span",{className:"text"},this.props.label),this.shouldShowNotificationCounter()?e.createElement("span",{key:"notificationCount",className:"notifications"},this.props.notificationCount):null)}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton",["lodash","create-react-class","prop-types","constants","baseUI","rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt","symbols"],function(e,t,o,n,i,a){"use strict";var r=i.tooltipManager;return t({displayName:"leftBarButton",propTypes:{className:o.string.isRequired,symbolName:o.string.isRequired,label:o.string.isRequired,isSelected:o.bool.isRequired,isMobileEditor:o.bool.isRequired,onClick:o.func.isRequired,isMenuCollapsed:o.bool,notificationCount:o.number.isRequired,isFirstPanel:o.bool,collapseOnClick:o.bool,isButtonOpen:o.bool,hintProps:o.object,tooltips:o.array},getInitialState:function(){return{activeState:null}},componentDidMount:function(){this.setButtonTooltips()},setButtonTooltips:function(){e.forEach(this.props.tooltips,function(e){r.createTooltip(!1,{id:e.id,targetNode:this.refs.root,value:e.value,width:e.width,alignment:n.UI.TOOLTIP.ALIGNMENT.LEFT,closeTriggers:[n.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],onOpen:this.setState.bind(this,{activeState:"force-hover"}),onClose:this.setState.bind(this,{activeState:null})})}.bind(this))},closeTooltips:function(){e.forEach(this.props.tooltips,function(e){r.isDisplayed(e.id)&&r.hide(e.id)})},getButtonClasses:function(){var e={"left-bar-item":!0,selected:this.props.isSelected,"first-panel":this.props.isFirstPanel,"wait-for-click":this.props.collapseOnClick};return this.state.activeState&&(e[this.state.activeState]=!0),e[this.props.className]=!0,e},shouldShowNotificationCounter:function(){return this.props.notificationCount>0},handleOnClick:function(){this.closeTooltips(),this.props.onClick&&this.props.onClick()},getSelectedButtonSvgProps:function(){var e=void 0,t=void 0;return this.props.isFirstPanel?(e="leftBarButtonEarTop",t="ear-top"):(e="leftBarButtonEarMiddle",t="ear-middle"),{name:e,className:"ear "+t}},shouldShowSelectedSvg:function(){return this.props.isMenuCollapsed&&this.props.isSelected},render:a})}),define("rEditor/rootComps/leftBar/leftBar.rt",["react","lodash","rEditor/rootComps/leftBar/leftBarButton/leftBarButton","util"],function(e,t,o,n){"use strict";return function(){return e.createElement("div",{className:t({"left-bar":!0,"is-hidden":this.props.isHidden,"half-opacity":this.props.halfOpacityTools,"menu-collapsed-wrapper":this.props.isCollapsed}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{left:this.getLeftOffset()},onContextMenu:this.onContextMenu,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},e.createElement.apply(this,["ul",{ref:"buttons",className:t({"left-bar-items":!0,"menu-collapsed":this.props.isCollapsed,"menu-opened":this.isMenuOpened()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.leftBarMenuItems,function(t,i){return e.createElement(o,{tooltips:t.tooltips,key:t.panelName,label:n.translate(t.label),isMenuCollapsed:this.props.isCollapsed,className:t.className,symbolName:t.symbolName,isMobileEditor:this.props.isMobileEditor,isSelected:this.isSelected(t.panelName),onClick:function(e,t){this.handleOnClick(e.panelName,e.panelProps)}.bind(this,t,i),isFirstPanel:0===i,collapseOnClick:t.collapseOnClick,isButtonOpen:t.isButtonOpen,notificationCount:this.getNotificationCount(t.panelName),hintProps:t.hintProps,getUserSitePreferences:this.props.getUserSitePreferences,setUserSitePreferences:this.props.setUserSitePreferences})}.bind(this))]))}}),define("rEditor/rootComps/leftBar/leftBar",["reactDOM","lodash","react","create-react-class","prop-types","higherOrderComponents","jquery","core","baseUI","rEditor/utils/isRightClickWithCtrlInDebugMode","rEditor/rootComps/leftBar/leftBarMapper","rEditor/rootComps/leftBar/leftBar.rt","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u){"use strict";function m(e){var o=t.find(e.openPanels,{frameType:"leftPanelFrame"});return o&&o.name}var g=n({displayName:"leftBar",propTypes:{superAppsDesktopCount:i.number,isCollapsed:i.bool,leftBarMenuItems:i.array.isRequired,isMobileEditor:i.bool.isRequired,openPanels:i.array.isRequired,isEnabled:i.bool.isRequired,isHidden:i.bool.isRequired,halfOpacityTools:i.bool.isRequired,reportBI:i.func,sendBIButtonsCount:i.func,leftBarNotifications:i.object.isRequired,collapseMenu:i.func.isRequired,openPanel:i.func.isRequired,collapseButton:i.func.isRequired,hideFloatingBubble:i.func.isRequired,updateLeftBarButtonsBoundingRect:i.func.isRequired},componentDidMount:function(){this.updateButtonsBoundingRect(),this.props.isHidden&&r(e.findDOMNode(this)).css({left:this.getLeftOffset()})},componentDidUpdate:function(e){this.updateButtonsBoundingRect(),this.sendBIButtonsCountIfNeeded(e)},getNotificationCount:function(e){return this.props.leftBarNotifications[e]||0},sendBIButtonsCountIfNeeded:function(e){this.props.superAppsDesktopCount!==e.superAppsDesktopCount&&this.props.sendBIButtonsCount()},componentWillReceiveProps:function(e){m(e)&&(this.props.isCollapsed||this.props.collapseMenu())},handleOnClick:function(e,t){var o=m(this.props);this.props.isEnabled&&e!==o&&(this.props.collapseMenu(),this.props.openPanel(e,t),t.openPanelBiEvent&&this.props.reportBI(t.openPanelBiEvent,t.openPanelBiParams)),this.props.collapseButton(e),this.props.hideFloatingBubble()},isMenuOpened:function(){return!!m(this.props)},updateButtonsBoundingRect:function(){var o=void 0,n=t.some(this.props.leftBarMenuItems,"collapseOnClick");o=this.props.isCollapsed&&!n?null:e.findDOMNode(this.refs.buttons).getBoundingClientRect(),this.props.updateLeftBarButtonsBoundingRect(o)},getLeftOffset:function(){if(this.props.isHidden){if(this.isMounted()){return-(e.findDOMNode(this).offsetWidth+8)+"px"}return"-1000px"}return""},onContextMenu:function(e){c(e)||e.preventDefault()},isSelected:function(e){var t=m(this.props);return!(!t||t!==e)},render:function(){if(u.isMultiValueExperimentOpen("editorHintsConfigs")&&require.defined("editorHints")){var e=require("editorHints");return o.createElement(e.hintsNotify,{id:e.hintsContainers.LEFT_BAR},d.call(this))}return d.call(this)}}),h=a.connectEditorAPI(p)(a.renderWhenMutated(g));return h.pure=g,h}),define("rEditor/rootComps/mixins/hiddenableMixin",["reactDOM","jquery","lodash","util"],function(e,t,o,n){"use strict";return{mixins:[n.singlePassDOMReadWriteMixin],componentWillMount:function(){this.lastCustomXPosition=null,this.shouldCompSlideRight=!0},componentWillReceiveProps:function(o){!o.toolsHidden&&this.props.toolsHidden&&this.state.isCustomPosition&&t(e.findDOMNode(this)).css({left:this.lastCustomXPosition})},measurePhase:function(){return this.shouldCompSlideRight=this.shouldSlideRight(),this.getComponentPosition(this.lastCustomXPosition)},patchPhase:function(o){t(e.findDOMNode(this)).css(o)},shouldSlideRight:function(){var o=t(e.findDOMNode(this));return o.offset().left+o.width()/2>t(window).width()/2},updateLastCustomXPosition:function(e){this.lastCustomXPosition=e},getHiddenableClasses:function(){return{"hide-tools":this.props.toolsHidden,"show-tools":!this.props.toolsHidden,"slide-right":this.shouldCompSlideRight,"slide-left":!this.shouldCompSlideRight,"half-opacity":this.props.halfOpacityTools}}}}),define("rEditor/rootComps/mixins/keepInViewportMixin",["reactDOM","lodash","util","core"],function(e,t,o,n){"use strict";return{fitPositionToScreen:function(t,n,i){var a=this.getDragLimits(n),r=e.findDOMNode(this).getBoundingClientRect(),s=r.top,l=t||r.left,c=a.x[1]-r.width-i+n;return{left:o.math.ensureWithinLimits(l,a.x[0],c),top:o.math.ensureWithinLimits(s,a.y[0],a.y[1])}},getDragLimits:function(t){var o=n.utils.stageUtils.getStageLayout(),i=n.constants.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW,a=e.findDOMNode(this).clientHeight;return{x:[o.left+t,o.right-t],y:[o.top+t,o.bottom+a-i]}}}}),define("rEditor/rootComps/toolBar/toolBarLogic",[],function(){"use strict";return{isPasteEnabled:function(e){return e.clipboardContainsComp()&&e.isDesktopEditor()&&!e.components.layout.isPinned(e.selection.getSelectedComponents())}}}),define("rEditor/rootComps/toolBar/toolBarMapper",["lodash","rEditor/utils/isRightClickWithCtrlInDebugMode","stateManagement","rEditor/rootComps/toolBar/toolBarLogic"],function(e,t,o,n){"use strict";function i(e){t(e)||e.preventDefault()}function a(t){var o=t.store.getState(),a=s.selectors.getSelectedCompsRefs(o),l=void 0;e.isEmpty(a)?(a=null,l={}):l=t.getCompRestrictions(a);return{hidden:r.selectors.isOpen(o)||t.imageCrop.isCropMode(),toolsHidden:t.toolsControl.areToolsHidden(),halfOpacityTools:t.toolsControl.isHalfOpacityTools(),components:a,componentsWithoutAncestor:t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(a),onContextMenu:i,previewTopPosition:t.getPreviewPosition().top,layout:function(t,o){return o?t.components.layout.isHorizontallyStretchedToScreen(o)?{componentLayout:t.components.layout.getRelativeToScreen(o),update:t.components.layout.updateRelativeToScreen,updateAndPreserveProportions:t.components.layout.updateRelativeToScreenAndPreserveProportions}:{componentLayout:t.components.layout.getRelativeToStructure(o),update:t.components.layout.updateRelativeToStructure,updateAndPreserveProportions:t.components.layout.updateRelativeToStructureAndPreserveProportions}:{componentLayout:null,update:e.noop,updateAndPreserveProportions:e.noop}}(t,a),componentsRestrictions:l,areComponentsMultiSelectedOrGrouped:function(e,t){if(!t)return!1;var o=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t);return e.multiselect.isMultiselect(o)||e.components.is.group(o)}(t,a),componentsProportions:function(e,t){var o=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t);return e.multiselect.isMultiselect(o)||e.components.is.group(o)?e.components.layout.getProportionStructure(o):null}(t,a),componentLayoutLimits:a?t.documentServices.components.layout.getLimits(e.head(a)):{},addHistory:t.history.add,toggleShowOnAllPages:e.partial(t.components.toggleShowOnAllPages,a),shouldDisableShowOnAllPages:a&&t.components.shouldDisableShowOnAllPages(a),isPage:a&&t.utils.isPage(a),reportBI:t.bi.event,isComponentShowOnAllPages:a&&t.components.isShowOnAllPages(a),isPasteEnabled:n.isPasteEnabled(t),toggleToolbar:t.toolbar.toggleToolbar,componentType:t.selection.getSelectedComponentType(),onHelp:function(e,o){t.panelManager.openHelpCenter(e,null,o)},toggleFixedPosition:t.selectedComponent.toggleFixedPosition,compDeleteTooltipText:t.tooltipTextService.getComponentTooltipText(a,"DELETE"),compBIParams:t.bi.getComponentsBIParams(a),isCompControlledByParent:t.components.is.controlledByParent(a),copyPasteAPI:e.pick(t.copyPaste,["duplicate","paste","copy"]),canDistributeAllDirections:t.components.multiComponents.canDistributeAllDirections(a),distribute:t.components.multiComponents.distribute,canMatchAllSizes:t.components.multiComponents.canMatchAllSizes(a),matchSize:t.components.multiComponents.matchSize,isMobileEditor:t.isMobileEditor(),canAlignAllDirections:t.components.alignment.canAlignAllDirections(a),alignComp:t.components.alignment.align,removeComp:t.components.remove,arrangementAPI:e.pick(t.components.arrangement,["moveToFront","moveForward","moveToBack","moveBackward"])}}var r=o.pinMode,s=o.selection;return a}),define("rEditor/rootComps/toolBar/toolSelector.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{position:"relative"}},this.state.isMenuDisplayed?e.createElement("div",{className:t(this.getDropDownClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"menuDropDown",onMouseLeave:this.hideMenu},this.props.children):null,e.createElement(o.tooltip,{disabled:!this.props.tooltip,value:this.props.tooltip,className:this.props.tooltipClass,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:this.props.disabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.displayMenu},e.createElement(o.symbol,{name:this.props.symbol}))),this.props.children&&this.props.children.length>1?e.createElement("div",{key:"smallIndicator",className:"small-indicator"}):null)}}),define("rEditor/rootComps/toolBar/toolSelector",["create-react-class","prop-types","lodash","rEditor/rootComps/toolBar/toolSelector.rt"],function(e,t,o,n){"use strict";return e({displayName:"toolSelector",propTypes:{symbol:t.string.isRequired,columns:t.number,onShow:t.func,tooltipClass:t.string,disabled:t.bool},getInitialState:function(){return{isMenuDisplayed:!1}},getDefaultProps:function(){return{columns:3,disable:!1}},displayMenu:function(){this.props.disabled||(this.setState({isMenuDisplayed:!0}),o.isFunction(this.props.onShow)&&this.props.onShow())},hideMenu:function(){var e=this;window.setTimeout(function(){e.setState({isMenuDisplayed:!1})},300)},getDropDownClasses:function(){var e={"drop-down":!0,disabled:this.props.disabled};return e["grid-"+this.props.columns+"-col"]=!0,e},getClasses:function(){var e={"tool-selector":!0};if(this.props.className){var t=this.props.className.split(" ");o.forEach(t,function(t){e[t]=!0})}return this.props.disabled&&(e.disabled=!0),e},render:n})}),define("rEditor/rootComps/toolBar/toolbarTop.rt",["react","lodash","baseUI","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","coreBi","rEditor/rootComps/toolBar/toolSelector","constants"],function(e,t,o,n,i,a,r){"use strict";return function(){return function(){var s=this.props.restrictions,l=n.editor;return e.createElement("div",{},e.createElement("div",{className:"inner button-grid"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_copy",l.COPY.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleCopy},e.createElement(o.symbol,{name:"toolbarCopy"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_paste",l.PASTE.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!this.props.pasteEnabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handlePaste},e.createElement(o.symbol,{name:"toolbarPaste"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_duplicate",l.DUPLICATE.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDuplicate},e.createElement(o.symbol,{name:"toolbarDuplicate"}))),e.createElement(o.tooltip,{value:this.getDeleteTooltipText(),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.removable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDelete},this.props.isMobileEditor?null:e.createElement(o.symbol,{key:"deleteSymbol",name:"toolbarDelete"}),this.props.isMobileEditor?e.createElement(o.symbol,{key:"hideSymbol",name:"gfpp_hide"}):null))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner button-grid"},e.createElement(a,{disabled:!(s.canMoveForward||s.canMoveBackward)||this.props.isCompControlledByParent,symbol:"toolbarMoveForward",columns:2,tooltip:this.getInfoTooltip("toolbar_tooltip_arrange","toolbar_tooltip_arrange_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_forward",l.SEND_FORWARD.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveForward()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveForward"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_backward",l.SEND_BACKWARD.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveBackward()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveBackward"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_bring_to_front",l.SEND_TO_FRONT.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveToFront()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveToFront"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_send_to_back",l.SEND_TO_BACK.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveToBack()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveToBack"})))),e.createElement(a,{disabled:!this.isAlignEnabled(),symbol:"toolbarAlignRight",columns:3,onShow:t.partial(this.props.reportBI,i.events.toolbar.TOOL_BAR_ALIGNMENT_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_align","toolbar_tooltip_align_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_left"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("left")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignLeft"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_center"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("center")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignCenter"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_right"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("right")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignRight"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_top"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("top")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignTop"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_middle"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("middle")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignMiddle"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_bottom"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("bottom")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignBottom"})))),e.createElement(a,{key:"distributeButtons",disabled:!this.isDistributeEnabled(),symbol:"distribute-vertical-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,i.events.toolbar.TOOL_BAR_DISTRIBUTION_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_distribute","toolbar_tooltip_distribute_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_horizontally"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("horizontal")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-horizontal-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_both"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("verticalAndHorizontal")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_vertically"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("vertical")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-vertical-btn-bld"})))),e.createElement(a,{key:"matchSizeButtons",disabled:!this.isMatchSizeEnabled(),symbol:"mech-to-height-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,i.events.toolbar.TOOL_BAR_MATCH_SIZE_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_match_size","toolbar_tooltip_match_size_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_width"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("width")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-to-width-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_both"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("heightAndWidth")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_height"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("height")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-to-height-btn-bld"}))))))}.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolbarTop",["react","create-react-class","prop-types","lodash","baseUI","core","util","higherOrderComponents","rEditor/rootComps/toolBar/toolbarTop.rt"],function(e,t,o,n,i,a,r,s,l){"use strict";var c=a.bi,p=t({displayName:"toolbarTop",propTypes:{restrictions:o.object,components:o.arrayOf(o.object),pasteEnabled:o.bool,compDeleteTooltipText:o.func,compBIParams:o.array,isCompControlledByParent:o.bool,reportBI:o.func,copyPasteAPI:o.shape({copy:o.func,paste:o.func,duplicate:o.func}),canDistributeAllDirections:o.bool,distribute:o.func,canMatchAllSizes:o.bool,matchSize:o.func,addHistory:o.func,isMobileEditor:o.bool,canAlignAllDirections:o.bool,alignComp:o.func,removeComp:o.func,arrangementAPI:o.shape({moveToFront:o.func,moveForward:o.func,moveToBack:o.func,moveBackward:o.func})},getShortcutTooltip:function(t,o){return e.createElement(i.popoverTemplates.keyboardShortcutTooltip,{label:t,shortcut:o})},getDeleteTooltipText:function(){var e=this.props.isMobileEditor?"toolbar_tooltip_hide":"toolbar_tooltip_delete";return this.props.restrictions.removable?this.getShortcutTooltip(e,r.translate("toolbar_tooltip_delete_shortcut")):this.getDisabledDeleteTooltipText(e,r.translate("toolbar_tooltip_delete_shortcut"))},getDisabledDeleteTooltipText:function(e,t){var o=this.props.compDeleteTooltipText;return o||this.getShortcutTooltip(e,t)},getInfoTooltip:function(t,o){return e.createElement(i.popoverTemplates.titleBodyAndLinkTooltip,{title:t,text:o})},handleCopy:function(){this.props.restrictions.duplicatable&&(n.forEach(this.props.compBIParams,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.reportBI(c.events.rightClickMenu.COPY,this.props.compBIParams),this.props.copyPasteAPI.copy(this.props.components))},handlePaste:function(){if(this.props.pasteEnabled){var e=this.props.compBIParams;n.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.paste(),this.props.addHistory("component - paste"),this.props.reportBI(c.events.rightClickMenu.PASTE,e)}},handleDuplicate:function(){if(this.props.restrictions.duplicatable){var e=this.props.compBIParams;n.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.duplicate(this.props.components),this.props.addHistory("component - duplicate"),this.props.reportBI(c.events.rightClickMenu.DUPLICATE,e)}},handleDelete:function(){if(this.props.restrictions.removable){var e=this.props.compBIParams;n.forEach(e,this.assignToolbarSpecificBI.bind(null,"removal_method")),this.props.removeComp(this.props.components),this.props.addHistory("component - remove"),this.props.reportBI(c.events.editor.component_removed,e)}},moveToFront:function(){this.props.arrangementAPI.moveToFront(this.props.components),this.props.reportBI(c.events.rightClickMenu.BRING_TO_FRONT,{origin:"toolbar"})},moveForward:function(){this.props.arrangementAPI.moveForward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_FORWARD,{origin:"toolbar"})},moveToBack:function(){this.props.arrangementAPI.moveToBack(this.props.components),this.props.reportBI(c.events.rightClickMenu.SEND_TO_BACK,{origin:"toolbar"})},moveBackward:function(){this.props.arrangementAPI.moveBackward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_BACKWARDS,{origin:"toolbar"})},isAlignEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canAlignAllDirections},align:function(e){this.props.alignComp(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_ALIGNMENT_MENU_CLICK,{category:e})},isDistributeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canDistributeAllDirections},distribute:function(e){this.props.distribute(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_DISTRIBUTION_MENU_CLICK,{category:e})},isMatchSizeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canMatchAllSizes},matchSize:function(e){this.props.matchSize(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_MATCH_SIZE_MENU_CLICK,{category:e})},assignToolbarSpecificBI:function(e,t){var o={};o[e]="toolbar",n.assign(t,o)},render:l});return s.renderWhenMutated(p)}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt",["react","lodash","baseUI","constants"],function(e,t,o,n){"use strict";return function(){return e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(o.tooltip,{disabled:this.shouldHideTooltip(),value:"RightClick_Menu_Show_on_All_Pages_Disabled_Tooltip",styleType:n.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("div",{className:"action"},e.createElement(o.toggle,{name:"switch",disabled:this.props.disabled,className:"show-on-all-pages",value:this.props.isComponentShowOnAllPages,onChange:this.handleShowOnAllPages,size:"medium"}))))}}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle",["core","lodash","create-react-class","prop-types","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt"],function(e,t,o,n,i){"use strict";return o({displayName:"showOnAllPages",propTypes:{selectedComponents:n.arrayOf(n.object),selectedComponentsTypes:n.arrayOf(n.string),isComponentShowOnAllPages:n.bool,disabled:n.bool,isPage:n.bool,componentsRestrictions:n.object,toggleShowOnAllPages:n.func,reportBI:n.func,origin:n.string},shouldHideTooltip:function(){return!this.props.selectedComponents||!this.props.disabled||this.props.isPage},handleShowOnAllPages:function(){var o=void 0,n=this.props.componentsRestrictions;this.props.selectedComponents&&n.canToggleShowOnAllPages&&(o=this.props.toggleShowOnAllPages(),this.props.reportBI(e.bi.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:o,origin:this.props.origin,component_id:t.toString(t.map(this.props.selectedComponents,"id")),component_type:t.toString(this.props.selectedComponentsTypes)}))},render:i})}),define("rEditor/rootComps/toolBar/toolBar.rt",["react","lodash","baseUI","util","rEditor/rootComps/toolBar/toolbarTop","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","experiment","constants"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return function(){var l=this.getLayout();return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onContextMenu:this.props.onContextMenu},e.createElement("div",{className:"header"},e.createElement("div",{className:"drag-zone",onMouseDown:function(e,t){this.startDrag(t,this.getDragLimits())}.bind(this,l)},e.createElement("span",{className:"drag-handle"},e.createElement(o.symbol,{name:"toolbarDragHandle"}))),e.createElement("button",{className:"help",onClick:this.onHelp},"?"),e.createElement("span",{className:"close",onClick:this.props.toggleToolbar},e.createElement(o.symbol,{name:"toolbarClose"}))),e.createElement("div",{className:"header-seperator"}),e.createElement(i,{restrictions:this.props.componentsRestrictions,components:this.props.components,pasteEnabled:this.props.isPasteEnabled,compDeleteTooltipText:this.props.compDeleteTooltipText,compBIParams:this.props.compBIParams,isCompControlledByParent:this.props.isCompControlledByParent,reportBI:this.props.reportBI,copyPasteAPI:this.props.copyPasteAPI,canDistributeAllDirections:this.props.canDistributeAllDirections,distribute:this.props.distribute,canMatchAllSizes:this.props.canMatchAllSizes,matchSize:this.props.matchSize,addHistory:this.props.addHistory,isMobileEditor:this.props.isMobileEditor,canAlignAllDirections:this.props.canAlignAllDirections,alignComp:this.props.alignComp,removeComp:this.props.removeComp,arrangementAPI:this.props.arrangementAPI}),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("label",{"data-input-title":"input_rotation",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_rotation",styleType:s.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{},e.createElement(o.symbol,{name:"toolbarRotation"}))),e.createElement(o.stepper,{className:"small degrees",disabled:!this.props.componentsRestrictions.rotatable,min:-1/0,max:1/0,value:parseInt(l.rotationInDegrees,10),units:"°",onChange:function(e,t){this.rotateComponent("rotationInDegrees",t)}.bind(this,l)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_size")),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_width",styleType:s.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label",style:{paddingRight:"4px"}},n.translate("toolbar_width")+":")),e.createElement(o.stepper,{disabled:this.checkHorizontalResizable(),className:"small",value:parseInt(l.width,10),min:-1/0,max:1/0,onChange:function(e,t){this.resizeComponent("width",t)}.bind(this,l)})),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_height",styleType:s.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_height")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyResizable,className:"small",min:-1/0,max:1/0,value:parseInt(l.height,10),onChange:function(e,t){this.resizeComponent("height",t)}.bind(this,l)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_position")),e.createElement("label",{"data-input-title":"input_x",className:"row input_x","data-hint-id":r.isMultiValueExperimentOpen("editorHintsConfigs")?"XandY":null},e.createElement(o.tooltip,{value:"toolbar_tooltip_x_position",styleType:s.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"input_x_label label"},n.translate("toolbar_x")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.horizontallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(l.bounding.x,10),onChange:function(e,t){this.moveComponent("x",t)}.bind(this,l)})),e.createElement("label",{"data-input-title":"input_y",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_y_position",styleType:s.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_y")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(l.bounding.y,10),onChange:function(e,t){this.moveComponent("y",t)}.bind(this,l)}))),e.createElement("div",{className:"seperator",key:"seperator-inner-form"}),e.createElement("div",{className:"inner form",key:"inner-form"},this.shouldShowFreezePositionToggle()?null:e.createElement("div",{key:"containable"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_show_on_all_pages")),e.createElement("label",{},e.createElement(a,{origin:"toolbar",selectedComponents:this.props.components,",":!0,selectedComponentsTypes:this.getSelectedComponentsTypes(),isComponentShowOnAllPages:this.props.isComponentShowOnAllPages,disabled:this.isShowOnAllPagesToggleDisabled(),isPage:this.props.isPage,componentsRestrictions:this.props.componentsRestrictions,toggleShowOnAllPages:this.props.toggleShowOnAllPages,reportBI:this.props.reportBI}))),this.shouldShowFreezePositionToggle()?e.createElement("div",{key:"canBeFixed"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_fixed_position")),e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(o.toggle,{name:"switch",className:"show-on-all-pages",key:"fixedPosition",value:this.props.componentsRestrictions.fixed,onChange:this.props.toggleFixedPosition,size:"medium"}))):null))}.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolBar",["react","create-react-class","lodash","prop-types","util","core","baseUI","experiment","higherOrderComponents","rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin","editorHints","rEditor/rootComps/toolBar/toolBarMapper","rEditor/rootComps/toolBar/toolBar.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){"use strict";var g=a.bi,h=42,f=42,b={rotationInDegrees:0,width:0,height:0,x:0,y:0,bounding:{x:0,y:0}},y=t({displayName:"toolBar",mixins:[i.draggableMixin,c,p],propTypes:{halfOpacityTools:n.bool.isRequired,hidden:n.bool,components:n.arrayOf(n.object),componentsWithoutAncestor:n.arrayOf(n.object),toolsHidden:n.bool,previewTopPosition:n.number,layout:n.shape({componentLayout:n.object,update:n.func,updateAndPreserveProportions:n.func}),componentsRestrictions:n.object,areComponentsMultiSelectedOrGrouped:n.bool,componentsProportions:n.object,componentLayoutLimits:n.object,addHistory:n.func,toggleShowOnAllPages:n.func,canToggleShowOnAllPages:n.bool,shouldDisableShowOnAllPages:n.bool,isPage:n.bool,reportBI:n.func,isComponentShowOnAllPages:n.bool,isPasteEnabled:n.bool,toggleToolbar:n.func,componentType:n.string,onHelp:n.func,toggleFixedPosition:n.func,compDeleteTooltipText:n.string,compBIParams:n.array,isCompControlledByParent:n.bool,copyPasteAPI:n.shape({copy:n.func,paste:n.func,duplicate:n.func}),canDistributeAllDirections:n.bool,distribute:n.func,canMatchAllSizes:n.bool,matchSize:n.func,isMobileEditor:n.bool,canAlignAllDirections:n.bool,alignComp:n.func,removeComp:n.func,arrangementAPI:n.shape({moveToFront:n.func,moveForward:n.func,moveToBack:n.func,moveBackward:n.func})},getLayout:function(){return this.props.layout.componentLayout||b},updateLayout:function(e,t,o){this.props.layout.update(e,t,o)},updateLayoutProportionally:function(e,t,o,n){this.props.layout.updateAndPreserveProportions(e,t,o,n)},getInitialState:function(){return this.initialPosition=function(e){return{right:h,top:f+e}}(this.props.previewTopPosition),{}},getComponentPosition:function(e){return this.state.isCustomPosition?this.fitPositionToScreen(e,10,h):this.initialPosition},onDragEnd:function(){this.updateLastCustomXPosition(this.draggable.nodePosition.x)},getClasses:function(){return o.assign({"rootcomp-toolbar":!0,hidden:this.props.hidden},this.getHiddenableClasses())},resizeComponent:function(e,t){this.props.reportBI(g.events.editBox.RESIZE,{origin:"toolbar"}),this.setComponentLayoutChange(e,t)},moveComponent:function(e,t){this.setComponentLayoutChange(e,t)},rotateComponent:function(e,t){var o=parseInt(t,10);0===o?this.props.reportBI(g.events.editBox.CANCEL_ROTATE_COMPONENT):this.props.reportBI(g.events.editBox.ROTATE_COMPONENT,{origin:"toolbar",value:o}),this.setComponentLayoutChange(e,t)},checkHorizontalResizable:function(){return"Column"===this.props.componentType||!this.props.componentsRestrictions.horizontallyResizable},setComponentLayoutChange:function(e,t){var n=this.getLayout();if(t=parseInt(t,10),isNaN(t))this.forceUpdate();else{"y"!==e&&"x"!==e||(t=function(e,t,o){return e[t]+o-e.bounding[t]}(n,e,t));var i=this.props.componentsWithoutAncestor;if(n[e]!==t){var a={};a[e]=t;var r=void 0;this.props.areComponentsMultiSelectedOrGrouped?(r=n.width/n.height,"height"===e?a.width=t*r:"width"===e&&(a.height=t/r),a=o.mapValues(a,o.round),this.updateLayoutProportionally(i,a,this.props.componentsProportions,!0)):(o.includes(["width","height"],e)&&this.props.componentsRestrictions.resizeOnlyProportionally&&(r=this.props.componentLayoutLimits.aspectRatio,"width"===e?(a.width=t,a.height=Math.round(t/r)):(a.height=t,a.width=t*r)),this.updateLayout(i,a,!0)),this.props.addHistory("toolbar - set selected component layout - "+e)}}},onHelp:function(){var e={origin:a.constants.BI.HELP.ORIGIN.TOOLBAR,component:this.props.componentType,learn_more:!1,panel_name:a.constants.BI.HELP.ORIGIN.TOOLBAR};this.props.onHelp("4ab49cd7-2ea4-4873-904e-f65d17d2f1dd",e)},handleShowOnAllPages:function(){if(this.props.componentsRestrictions.canToggleShowOnAllPages){var e=this.props.toggleShowOnAllPages();this.props.reportBI(g.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:a.constants.BI.HELP.ORIGIN.TOOLBAR})}},shouldShowFreezePositionToggle:function(){return this.props.componentsRestrictions.showLegacyFixedPosition},isShowOnAllPagesToggleDisabled:function(){return!this.props.componentsRestrictions.canToggleShowOnAllPages||this.props.shouldDisableShowOnAllPages},getSelectedComponentsTypes:function(){return o.toString(o.map(this.props.compBIParams,"component_type"))},render:function(){return s.isMultiValueExperimentOpen("editorHintsConfigs")?e.createElement(d.hintsNotify,{id:d.hintsContainers.TOOL_BAR},m.call(this)):m.call(this)}}),v=l.connectEditorAPI(u)(l.renderWhenMutated(y));return v.pure=y,v}),define("rEditor/rootComps/topBar/config/topBarData.json",[],function(){return{EDIT:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"PAGES_LIST",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MENU",orientation:"left"},{comp:"SEPARATOR",orientation:"right"},{comp:"ZOOMOUT",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"UNDO",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"REDO",orientation:"right"},{comp:"REDO_SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"PREVIEW",orientation:"right"},{comp:"PUBLISH",orientation:"right"},{comp:"WIXSTORES_MIGRATION_SAVE",orientation:"right"}],PREVIEW:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MOBILE_NON_OPTIMIZED_NOTIFICATION",orientation:"center"},{comp:"PREVIEW_NOTIFICATION",orientation:"center"},{comp:"SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"PREVIEW_SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"BACK_TO_EDITOR",orientation:"right"}]}}),define("rEditor/rootComps/topBar/config/topBarDataWithMultilingual.json",[],function(){return{EDIT:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"LANGUAGE_MANAGER",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"PAGES_LIST",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MENU",orientation:"left"},{comp:"SEPARATOR",orientation:"right"},{comp:"ZOOMOUT",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"UNDO",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"REDO",orientation:"right"},{comp:"REDO_SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"PREVIEW",orientation:"right"},{comp:"PUBLISH",orientation:"right"},{comp:"WIXSTORES_MIGRATION_SAVE",orientation:"right"}],PREVIEW:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MOBILE_NON_OPTIMIZED_NOTIFICATION",orientation:"center"},{comp:"PREVIEW_NOTIFICATION",orientation:"center"},{comp:"SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"PREVIEW_SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"BACK_TO_EDITOR",orientation:"right"}]}}),define("rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json",[],function(){return[{key:"SITE_BAR",children:[{key:"SAVE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"PREVIEW",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PREVIEW",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PREVIEW_PROMOTION_TITLE",message:"TOPBAR_SITE_PREVIEW_PROMOTION_TEXT",symbol:"menubarPreviewSitePromotion"}}},{key:"FEEDBACK",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"FEEDBACK",style:{width:192,minHeight:396},title:"TOPBAR_GetFeedback_Promotion_Title",message:"TOPBAR_GetFeedback_Promotion_Text",symbol:"menubarfeedbackPromotion"}}},{key:"PUBLISH",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PUBLISH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PUBLISH_PROMOTION_TITLE",message:"TOPBAR_SITE_PUBLISH_PROMOTION_TEXT",symbol:"menubarPublishSitePromotion"}}},{key:"VIEW_SITE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"VIEW-SITE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TITLE",message:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TEXT",symbol:"menubarViewPublishedPromotion"}}},{key:"GET_TRAFFIC",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GET_TRAFFIC",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_Label",message:"TOPBAR_GetTraffic_Promotion_Text",symbol:"menubarGetFoundOnGoogle"}}},{key:"GO_TO_SEO_WIZ",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GO_TO_SEO_WIZ",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_New_Promotion_Title",message:"TOPBAR_GetTraffic_New_Promotion_Text",symbol:"menubarGetFoundOnGoogle"}}},{key:"ACCESSIBILITY",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"ACCESSIBILITY",style:{width:192,minHeight:396},title:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TITLE",message:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TEXT",symbol:"accessibilityTopBar"}}},{key:"CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:396},title:"TOPBAR_SITE_CONNECT_PROMOTION_TITLE",message:"TOPBAR_SITE_CONNECT_PROMOTION_TEXT",symbol:"menubarConnectDomainPromotion"}}},{key:"MULTILINGUAL",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"MULTILINGUAL",style:{width:192,minHeight:396},title:"TOPBAR_MULTILINGUAL_PROMOTION_TITLE",message:"TOPBAR_MULTILINGUAL_PROMOTION_TEXT",symbol:"menubarPublishSitePromotion"}}},{key:"UPGRADE_ITEM",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE",style:{backgroundColor:"#ebdbf6",width:192,minHeight:396},title:"TOPBAR_SITE_UPGRADE_PROMOTION_TITLE",message:"TOPBAR_SITE_UPGRADE_PROMOTION_TEXT",symbol:"menubarUpgradePromotionLight"}}},{key:"EDITOR_MODE_SWITCH",rightPanel:{DESKTOP:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"MOBILE-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_MOBILE_PROMOTION_TITLE",message:"TOPBAR_SITE_MOBILE_PROMOTION_TEXT",symbol:"menubarSwitchToMobilePromotion"}},MOBILE:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DESKTOP-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DESKTOP_PROMOTION_TITLE",message:"TOPBAR_SITE_DESKTOP_PROMOTION_TEXT",symbol:"menubarSwitchToDesktopPromotion"}}}},{key:"IMAGE_OPTIMIZATION",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"IMAGE-OPTIMIZATION",style:{width:192,minHeight:396},title:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",message:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbol:"imageOptimizationPromotion"}}},{key:"SITE_DASHBOARD",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SITE-DASHBOARD",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DASHBOARD",message:"TOPBAR_SITE_DASHBOARD_PROMOTION_TEXT",symbol:"menubarMySitesPromotion"}}},{key:"SETTINGS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SETTINGS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SETTINGS_PROMOTION_TITLE",message:"TOPBAR_SITE_SETTINGS_PROMOTION_TEXT",symbol:"menubarSiteSettingsPromotion"}}},{key:"REVISIONS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"REVISIONS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_HISTORY_PROMOTION_TITLE",message:"TOPBAR_SITE_HISTORY_PROMOTION_TEXT",symbol:"menubarSiteHistoryPromotion"}}},{key:"BACK_TO_OLD_EDITOR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"BACK-TO-OLD-EDITOR",style:{width:192,minHeight:396},title:"Topbar_oldeditor_promotion_title",message:"topbar_oldeditor_promotion_text2",symbol:"menubarBackToOldEditorPromotionNew"}}},{key:"EXIT",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"EXIT-EDITOR",style:{width:192,minHeight:396},title:"TOPBAR_SITE_EXIT_PROMOTION_TITLE",message:"TOPBAR_SITE_EXIT_PROMOTION_TEXT",symbol:"menubarExitEditorPromotion"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"VIEW_BAR",children:[{key:"TOOLBAR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"RULERS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"RULERS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_RULERS_TITLE1",message:"TOPBAR_VIEW_RULERS_BODY1",symbol:"menubarRulersPromotion"}}},{key:"GUIDELINES",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GUIDELINES",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_GRIDLINES_TITLE",message:"TOPBAR_VIEW_GRIDLINES_BODY",symbol:"menubarGuidesPromotion"}}},{key:"SNAP",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SNAP",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_SNAP_TITLE",message:"TOPBAR_VIEW_SNAP_BODY",symbol:"menubarSnapToObjectPromotion"}}},{key:"DEVELOPER_MODE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DEVELOPER_MODE",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_BODY",symbol:"menuBarDeveloperMode"}}},{key:"PROPERTIES_TOOLBAR",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PROPERTIES_TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_BODY",symbol:"menuBarDeveloperModeProperties"}}},{key:"HIDDEN_ELEMENTS",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HIDDEN_ELEMENTS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_BODY",symbol:"menuBarDeveloperModeHiddenElements"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"HELP_BAR",children:[{key:"HELP_CENTER",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_KB_SHORTCUTS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"KB-SHORTCUTS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_QUESTION_PROMOTION_TITLE",message:"TOPBAR_HELP_QUESTION_PROMOTION_TEXT",symbol:"menubarKeyboardShortcuts"}}},{key:"HELP_VIDEOS",experiment:"se_video_help_top_bar",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-VIDEOS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TITLE",message:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TEXT",symbol:"menubarStepByStepVideo"}}},{key:"HELP_CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_CONNECT_PROMOTION_TITLE",message:"TOPBAR_HELP_CONNECT_PROMOTION_TEXT",symbol:"menubarConnectDomain"}}},{key:"HELP_SEO",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SEO",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_SEO_PROMOTION_TITLE",message:"TOPBAR_HELP_SEO_PROMOTION_TEXT",symbol:"menubarGettingFoundOnlineSeo"}}},{key:"TERMS_OF_USE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TERMS-OF-USE",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_TERMS_PROMOTION_TITLE",message:"TOPBAR_HELP_TERMS_PROMOTION_TEXT",symbol:"menubarTermsOfUse"}}},{key:"PRIVACY_POLICY",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PRIVACY-POLICY",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_PRIVACY_PROMOTION_TITLE",message:"TOPBAR_HELP_PRIVACY_PROMOTION_TEXT",symbol:"menubarPrivacyPolicy"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{category:"UPGRADE",upgradePanels:{DEFAULT:{key:"UPGRADE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE-POPUP",class:"right-check-panel-upgrade",style:{backgroundColor:"transparent",width:131,padding:"25px 0"},symbol:"menubarUpgradePromotionDark",hintProps:{id:"Premium"}}}}}}]}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"top-bar-drop-panel "+(this.props.dropPanelClass||"")},e.createElement("div",{className:"drop-panel-left-side"},this.getLeftContent()),this.hasRightContent()?e.createElement("div",{className:"drop-panel-right-side",key:"rightContent"},this.getRightContent()):null,this.props.bottomContent?e.createElement("div",{className:"drop-panel-bottom-side",key:"bottomContent"},this.props.bottomContent):null)}}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel",["react","create-react-class","prop-types","lodash","experiment","editorHints","rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt"],function(e,t,o,n,i,a,r){"use strict";return t({displayName:"topBarDropPanel",propTypes:{leftContent:o.object.isRequired,bottomContent:o.object,rightContentOptions:o.object,dropPanelClass:o.string,closeHandle:o.func,hintContainerId:o.string},getInitialState:function(){return{displayedRightContentKey:"main"}},componentWillReceiveProps:function(e){var t=n.keys(this.props.rightContentOptions),o=n.keys(e.rightContentOptions);n.intersection(o,t).length!==t.length&&this.setState({displayedRightContentKey:"main"})},getLeftContent:function(){return e.cloneElement(this.props.leftContent,{onMenuItemHover:this.onSubMenuItemHover,closeDropDownHandle:this.props.closeHandle})},getRightContent:function(){return this.props.rightContentOptions[this.state.displayedRightContentKey]},hasRightContent:function(){return!!this.props.rightContentOptions},onSubMenuItemHover:function(e){e.rightPanel&&this.setState({displayedRightContentKey:e.key})},render:function(){return i.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintContainerId?e.createElement(a.hintsNotify,{id:this.props.hintContainerId},r.call(this)):r.call(this)}})}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt",["react","lodash","baseUI","experiment"],function(e,t,o,n){"use strict";return function(){return e.createElement("div",{className:this.getClasses(),style:this.props.style},e.createElement(o.tooltip,this.getTooltipProps(),function(){var i=this.isDoneSuccessfully();return e.createElement("div",{className:"wrapper-to-perserve-ref","data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},e.createElement(o.button2,{key:"buttonContent-"+this.props.iconSymbol,label:this.props.label,style:this.props.buttonStyle,symbolName:this.props.iconSymbol,customLabelClass:"top-bar-button-label",className:t({"top-bar-button-content":!0,"icon-and-label":this.props.iconSymbol&&this.props.label,invisible:i}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.onClick,onMouseOver:this.handleMouseOverButton,onMouseLeave:this.handleMouseLeftButton,hintId:n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null,disabled:this.props.isDisabled}),i?e.createElement(o.symbol,{key:"successSymbol",name:"topBarButtonVSign",className:"button-symbol vSign"}):null,this.isInProgress()?e.createElement("div",{key:"progressIndicator",className:"progress-indicator"}):null)}.apply(this,[])),this.state.isDropDownDisplayed?e.createElement(o.bubble,t.assign({},{key:"topBarButtonDropDown"},this.getDropDownProps())):null)}}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton",["reactDOM","react","create-react-class","prop-types","lodash","core","util","baseUI","constants","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt"],function(e,t,o,n,i,a,r,s,l,c,p){"use strict";return o({displayName:"topBarButton",mixins:[t.addons.PureRenderMixin,r.singlePassDOMReadWriteMixin,a.mixins.editorAPIMixin],propTypes:{label:n.string,classes:n.string,iconSymbol:n.string,dropPanelProps:n.object,actions:n.array,bi:n.oneOfType([n.array,n.object]),biFunc:n.func,isDisabled:n.bool,onMenuOpened:n.func,onMenuClosed:n.func,buttonStyle:n.object,dropPanelContent:n.oneOfType([n.object,n.func]),tooltipData:n.object,measurePhase:n.func,patchPhase:n.func,progressStatus:n.oneOf(i.values(l.PROGRESS_STATUS))},getInitialState:function(){return this._domNode=null,{isDropDownDisplayed:!1,isMouseOverButton:!1}},getDefaultProps:function(){return{buttonStyle:{}}},componentDidMount:function(){this._domNode=e.findDOMNode(this),this.showTooltipIfNeeded()},componentDidUpdate:function(){this.showTooltipIfNeeded()},componentWillUnmount:function(){this._domNode=null},getClasses:function(){var e="top-bar-button "+this.props.classes;return this.state.isDropDownDisplayed&&(e+=" top-bar-button-selected"),this.isInProgress()||this.props.isDisabled?e+=" disabled-button":this.isInIdleSaved()&&(e+=" saved-button"),e},getTooltipValue:function(){var e=this.props.tooltipData;if(e&&e.presenter)return t.createElement(e.presenter,e.props)},hideTooltip:function(){if(this.props.tooltipData){var e=i.isFunction(this.props.tooltipData.onClose)?this.props.tooltipData.onClose:i.noop;s.tooltipManager.hide(this.props.tooltipData.id,e)}},showTooltipIfNeeded:function(){var e=this.props.tooltipData;e&&i.includes(e.openTriggers,l.UI.TOOLTIP.TRIGGERS.IMMEDIATE)&&s.tooltipManager.show(e.id)},onClick:function(){if(!this.props.isDisabled){this.props.dropPanelContent&&this.toggleDropDown(),this.hideTooltip();var e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),o=e.bi.getComponentsBIParams(t);this.props.actions&&i.forEach([].concat(this.props.actions),function(e){e()}),this.sendButtonBI(o)}},handleMouseOverButton:function(){this.setState({isMouseOverButton:!0})},handleMouseLeftButton:function(){this.setState({isMouseOverButton:!1})},getDropDownId:function(){return"top-bar-dropdown-"+(this.props.label||this.props.iconSymbol)},getDropDownProps:function(){if(!this._domNode)return{};var e=this.getDropDownContent();return{id:this.getDropDownId(),value:e,width:"1000px",interactive:!0,closeTriggers:[l.UI.TOOLTIP.TRIGGERS.MOUSE_LEAVE],className:"top-bar-drop-down",overridePositionAdjustments:this.props.dropPanelProps&&this.props.dropPanelProps.overridePositionAdjustments,targetNode:this._domNode,hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.isMouseOverButton,timeoutForMouseOverBubble:500}},getDropDownContent:function(){var e=this.getDropPanelLeftContent(),o={main:this.getDropPanelRightContent()};return e?t.createElement(c,{closeHandle:this.closeDropDown,leftContent:e,rightContentOptions:o,dropPanelClass:this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelClass}):null},getDropPanelLeftContent:function(){var e=this.props.dropPanelContent,o=this.props.dropPanelProps;return e?(o.closeHandle=this.closeDropDown,t.createElement(e,this.props.dropPanelProps)):null},getDropPanelRightContent:function(){var e=this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelPromotion;if(e){var o=i.cloneDeep(e.props);return o=i.merge({moduleName:e.type},o),t.DOM.div({className:e.classes},[t.createElement(a.lazyComponent,o)])}return null},openDropDown:function(){this.setState({isDropDownDisplayed:!0,isMouseOverButton:!0}),this.props.onMenuOpened&&this.props.onMenuOpened()},closeDropDown:function(){this.setState({isDropDownDisplayed:!1}),this.props.onMenuClosed&&this.props.onMenuClosed()},toggleDropDown:function(){this.state.isDropDownDisplayed?this.closeDropDown():this.openDropDown()},handleDropDownWantsToClose:function(){this.isMounted()&&!this.state.isMouseOverButton&&this.closeDropDown()},sendButtonBI:function(e){if(this.props.bi){var t=[].concat(this.props.bi);i.forEach(t,i.bind(function(e){e.type&&this.getEditorAPI().bi.event(e.type,e.fields)},this))}this.props.biFunc&&this.props.biFunc(e)},getTooltipProps:function(){var e=this.getTooltipValue(),t={value:e,disabled:!e||this.state.isDropDownDisplayed},o=this.props.tooltipData||{};return i.assign(t,i.pick(o,["id","interactive","onClose","closeDelay","openTriggers","closeTriggers"])),t},measurePhase:function(){return this.props.measurePhase?this.props.measurePhase():null},patchPhase:function(e){this.props.patchPhase&&this.props.patchPhase(e)},isInIdleSaved:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.IDLE_SAVED},isInProgress:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.IN_PROGRESS},isProgressDone:function(){return this.isDoneSuccessfully()||this.isDoneUnSuccessfully()},isDoneSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_SUCCESS},isDoneUnSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_FAILED},render:p})}),define("rEditor/utils/menuItemsRepository",["lodash"],function(e){"use strict";function t(t,o){if(o){o=o.toLowerCase();return function t(n){var i=void 0;return e.forEach(n,function(e){if(function(e){return 0===e.label.toLowerCase().indexOf(o)}(e))return i=e,!1;var n=t(e.items);return n?(i=n,!1):void 0}),i}(t)}}function o(t,o){o=o.toLowerCase();return function t(n){if(!n||0===n.length)return n;var i=[];return e.forEach(n,function(n){var a=function(t){return e.includes(t.label.toLowerCase(),o)}(n),r=t(n.items),s=r&&r.length>0;if(a||s){var l=e.clone(n);l.items=r,i.push(l)}}),i}(t)}return{findFirstFilteredItem:t,filterItems:o}}),define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt",["react","lodash","util","baseUI","symbols","experiment","uiAnimations"],function(e,t,o,n,i,a,r){"use strict";return function(){return function(){var t=this.isNavButtonInPopupMode();return e.createElement(n.tooltip,this.getTooltipProps(),e.createElement("div",{className:this.props.classes+(t?" popup-mode":" ")+(this.state.isFiltering?" ":" pages-nav-button-bg ")+(this.props.isSmallVersion?"mini-":"")+"page-nav-with-label ",onClick:this.onClick,"data-hint-id":a.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation":null},this.state.isFiltering?null:e.createElement("div",{key:"page-name",className:"top-bar-page-navigation-select",ref:"popupTooltipTarget"},this.props.isSmallVersion?null:e.createElement("div",{key:"graphics",className:"page-navigation-button-graphics"},e.createElement(n.symbol,{name:"pages"})),e.createElement("span",{"data-hint-id":a.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation_inner":null,className:(this.props.isSmallVersion?"mini-":"")+"top-bar-page-navigation-pageName"},"\n                ",this.props.isSmallVersion?"":o.translate("Pages_Menu_Title_Title")+":","\n                ",e.createElement("span",{},this.getPageName())),this.props.isSmallVersion?null:e.createElement("span",{key:"arrow",className:"top-bar-page-navigation-arrow"},e.createElement(n.symbol,{name:"pagesArrow"}))),e.createElement(r.contentSlideCSS,{distance:"60px",delay:1e3},t?e.createElement("div",{key:"popup-mode",className:"top-bar-page-navigation-select popup-mode-exit"},e.createElement("span",{},o.translate("PopUps_TopBar_Exit")),e.createElement(n.button,{className:"close",icon:"headerCloseButton"})):null),this.state.isFiltering?e.createElement("div",{key:"page-filter",className:"top-bar-page-navigation-select"},e.createElement("div",{className:"page-navigation-button-graphics"},e.createElement(n.symbol,{name:"pagesSearch"})),e.createElement(n.autoCompleteTextInput,{ref:"filterInput",className:"top-bar-page-filter",placeholder:o.translate("TOPBAR_FIND_PAGE"),cancelIcon:"topBarButtonCancel",complete:this.completePageName,onChange:this.filterChanged,onKeyDown:this.onKeyDown})):null))}.apply(this,[])}}),define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton",["reactDOM","lodash","create-react-class","prop-types","core","baseUI","util","constants","rEditor/utils/menuItemsRepository","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt"],function(e,t,o,n,i,a,r,s,l,c){"use strict";var p=a.tooltipManager,d={ADD:{TEASER:"popups/first_time_tour_add",ID:s.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE}};return o({displayName:"topBarPageNavButton",propTypes:{isSmallVersion:n.bool,bi:n.object,tooltipValue:n.object,hideTooltip:n.func.isRequired,clickCallback:n.func},mixins:[i.mixins.editorAPIMixin],keyCodes:{ENTER:13,ESC:27},getInitialState:function(){return{isFiltering:!1,filter:""}},completePageName:function(e){var t=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu(),o=l.findFirstFilteredItem(t,e);return o?o.label:null},getPageName:function(){return this.getEditorAPI().pages.getCurrentUrlPageTitle()},originalOnClick:function(){this.props.clickCallback&&this.props.clickCallback(),this.openFilteredPagesPanel()},onClick:function(){this.isNavButtonInPopupMode()?(this.getEditorAPI().panelManager.closePanelByName("addPanelInfra.addPanel"),this.closePopupMode(),this.tryToShowPopupsFirstTime("ADD")):(this.tryToClosePopupsFirstTime("ADD"),this.originalOnClick())},getTooltipProps:function(){var e=this.props.tooltipValue,t=!e||this.state.isFiltering||this.isNavButtonInPopupMode()||this.isPopupsFirstTimeOpen("ADD");return{value:e,id:i.constants.TOP_BAR.TOOLTIP_ID.PAGES_LIST,interactive:!1,disabled:t}},openFilteredPagesPanel:function(){this.openWithFilter(this.state.filter),this.props.hideTooltip(i.constants.TOP_BAR.TOOLTIP_ID.PAGES_LIST),this.props.bi&&this.props.bi.type&&this.getEditorAPI().bi.event(this.props.bi.type,this.props.bi.fields)},filterChanged:function(e){this.openWithFilter(e)},openWithFilter:function(e){this.setState({isFiltering:!0,filter:e}),this.openPagesPanel(e)},navigateToFirst:function(){var e=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu(),t=l.findFirstFilteredItem(e,this.state.filter);t&&t.pageData&&(this.getEditorAPI().pages.navigateTo(t.pageData.id),this.closePagesPanel(),this.closeFiltering())},closeFiltering:function(){this.setState({isFiltering:!1,filter:""})},onKeyDown:function(e){e.keyCode===this.keyCodes.ENTER&&this.state.filter?this.navigateToFirst():e.keyCode===this.keyCodes.ESC&&(this.closePagesPanel(),this.closeFiltering())},componentWillReceiveProps:function(){this.getEditorAPI().panelHelpers.isPagesPanelOpen()||this.closeFiltering()},componentDidUpdate:function(e,t){this.state.isFiltering&&!t.isFiltering&&this.refs.filterInput.focus()},openPagesPanel:function(e){var t=this.getEditorAPI(),o={filter:e,pageAdded:function(){this.closeFiltering(),this.openPagesPanel("")}.bind(this),subpagesOpened:function(){this.closeFiltering()}.bind(this)};t.openPagesPanel(o)},closePagesPanel:function(){this.getEditorAPI().panelHelpers.closePagesPanel()},closePopupMode:function(){var e=this.getEditorAPI();e.panelManager.closeAllPanels(),e.pages.popupPages.close(),e.bi.event(i.bi.events.popups.exit_pop_up_mode_clicked,{})},isPopupOpened:function(){return t.invoke(this.getEditorAPI(),"documentServices.pages.popupPages.isPopupOpened")},isNavButtonInPopupMode:function(){return this.isPopupOpened()&&!this.state.isFiltering},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()||{}},setPopupsFirstTimeIsShown:function(e,t){var o=this.getUserPrefs().site;o&&o.set("closed_teaser_"+d[e].TEASER,!0),t("auto close")},shouldShowPopupsFirstTime:function(e){var t=this.getUserPrefs().site;return t&&!t.get("closed_teaser_"+d[e].TEASER)},getPopupsFirstTimeTooltipProps:function(e){var o=d[e].ID,n=t.once(t.partial(function(e,t){e.bi.event(i.bi.events.popups.pop_up_tooltip_closed,{origin:t})},this.getEditorAPI()));return{id:o,width:"240px",marginsFromElement:0,alignment:s.UI.TOOLTIP.ALIGNMENT.BOTTOM,onClose:t.partial(this.setPopupsFirstTimeIsShown,e,n),value:function(e,t,o){return{ADD:{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{imageContainerStyle:{backgroundColor:"#5FBC57",backgroundImage:"url("+r.media.getMediaUrl("rEditor/topBar/popupsExitFirstTimeRetina.gif")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"80%",height:"140px"},text:"Popups_Exit_FirstTime_Text",onClose:function(){o("x"),p.unRegisterTooltip(e)}}}}[t]||{}}(o,e,n)}},tryToShowPopupsFirstTime:function(o){this.shouldShowPopupsFirstTime(o)&&p.createTooltip(!0,t.assign(this.getPopupsFirstTimeTooltipProps(o),{targetNode:e.findDOMNode(this.refs.popupTooltipTarget)}))},tryToClosePopupsFirstTime:function(e){var t=d[e].ID;this.shouldShowPopupsFirstTime(e)?this.isPopupsFirstTimeOpen(e)&&(p.unRegisterTooltip(t),this.clearPopupsFirstTimeHandlers()):this.clearPopupsFirstTimeHandlers()},isPopupsFirstTimeOpen:function(e){var t=d[e].ID;return p.isDisplayed(t)},clearPopupsFirstTimeHandlers:function(){this.tryToShowPopupsFirstTime=t.noop,this.tryToClosePopupsFirstTime=t.noop,this.isPopupsFirstTimeOpen=t.noop},render:c})}),define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt",["react","lodash"],function(e,t){"use strict";return function(){return this.props.isShown?e.createElement("div",{key:"topBarNotification",className:this.props.classes+" top-bar-notification"},e.createElement("div",{},this.getMessage())):null}}),define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification",["react","create-react-class","prop-types","util","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt"],function(e,t,o,n,i){"use strict";return t({displayName:"topBarNotification",propTypes:{message:o.string,measurePhase:o.func,patchPhase:o.func},mixins:[n.singlePassDOMReadWriteMixin],emptyMessage:["","",""],getMessage:function(){var t=this.getMessageParts(),o=this.getMessageLinkPart(t[1]);return e.createElement("div",{},[t[0],o,t[2]])},getMessageParts:function(){var e=this.props.message;if(e){var t=this.getAnchorIndexes(e),o=e.substring(0,t[0]),n=e.substring(t[1]+"</a>".length);return[o,e.substring(t[0]+"<a>".length,t[1]),n]}return this.emptyMessage},getAnchorIndexes:function(e){if(!e)return[0,0];var t=e.indexOf("<a>"),o=e.indexOf("</a>");return(t<0||o<0)&&(t=e.length,o=e.length),[t,o]},getMessageLinkPart:function(t){return t?e.DOM.a({onClick:this.linkAction},t):""},linkAction:function(){this.props.action()},measurePhase:function(){return this.props.measurePhase?this.props.measurePhase():null},patchPhase:function(e){this.props.patchPhase&&this.props.patchPhase(e)},render:i})}),define("rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions",["lodash","core","util","experiment"],function(e,t,o,n){"use strict";function i(t,n){var i=t.campaigns.personalSale.getDiscountValue();return e.template(o.translate(n))({discount:i})}function a(e){return s(e)?function(e){null===c&&(c=[{buttonText:o.translate("TOPBAR_UPGRADE_BUTTON_SAVE_SITE"),action:function(){e.saveManager.save()}}]);return c}(e):function(e){if(null===p){var n=t.bi.events.topbar,a=function(e){var t="";t=e.campaigns.personalSale.isActiveCampaign()?i(e,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_BUTTON_DYNAMIC"):o.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_2");return{offerButtonText:t,leftButtonText:o.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_1")}}(e),s=function(e){var t="edhtml_TOP_BAR_UPGRADE_MENU_GET_YEARLY_UNLIMITED";e.campaigns.personalSale.isActiveCampaign()&&(t="edhtml_TOP_BAR_UPGRADE_MENU_PS");return t}(e);p=[{buttonText:a.leftButtonText,action:r.bind(null,e,n.top_bar_compare_plans_click,"edhtml_TOP_BAR_UPGRADE_MENU_COMPARE_PLANS")},{buttonText:a.offerButtonText,action:r.bind(null,e,n.top_bar_get_yearly_unlimited_click,s)}]}return p}(e)}function r(e,t,o){e.bi.event(t),e.account.upgrade(o)}function s(t){return e.invoke(t,"documentServices.generalInfo.isFirstSave")}function l(t){return e.includes(["SITE_BAR","EDIT_BAR","VIEW_BAR","HELP_BAR"],t)?"ACTIONS_PANEL":t}var c=null,p=null,d={ACTIONS_PANEL:{left:{panel:"rEditor.panels.topBar.menuActionsPanel",propsGetter:function(){return{}}}},UPGRADE:{left:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(t){var a=s(t),r="";return r=t.campaigns.personalSale.isActiveCampaign()?i(t,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"):o.translate(n.isOpen("spanishUpgradeText")?"UPGRADE_TO_YEARLY_FOR_SPAIN_ONLY":"TOPBAR_UPGRADE_FREE_US_TITLE"),{type:"upgrade",class:"left-check-panel-upgrade",title:r,comment:a?o.translate("TOPBAR_UPGRADE_SAVE_FIRST_TEXT"):null,description:e.map(["TOPBAR_UPGRADE_FREE_US_LINE_1","TOPBAR_UPGRADE_FREE_US_LINE_2","TOPBAR_UPGRADE_FREE_US_LINE_3","TOPBAR_UPGRADE_FREE_US_LINE_4"],o.translate)}}},bottom:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(e){return{type:"upgrade",class:"bottom-check-panel-upgrade",footerButtons:a(e)}}}}};return{getMenuPanelProps:function(e,t,o){o=o||"left",e=l(e);var n=d[e];return n&&n[o]?n[o].propsGetter(t):null},getMenuPanelType:function(e,t){t=t||"left",e=l(e);var o=d[e];return o&&o[t]?o[t].panel:null}}}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt",["react","lodash","core"],function(e,t,o){"use strict";return function(){return e.createElement("div",{},this.props.selectedMenu?e.createElement("div",{key:"menuActions"},function(){var n=this.getPanelProps(),i=this.getPanelClass();return e.createElement("div",{},e.createElement(o.lazyComponent,t.assign({},{moduleName:i},n)))}.apply(this,[])):null)}}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent",["lodash","create-react-class","prop-types","core","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt"],function(e,t,o,n,i,a){"use strict";return t({displayName:"menuBarContent",mixins:[n.mixins.editorAPIMixin],propTypes:{content:o.string.isRequired,selectedMenu:o.object,closeDropDownHandle:o.func},getPanelProps:function(){var t=null,o=this.props.selectedMenu.key;if(o){t=e.clone(this.props);var n=i.getMenuPanelProps(o,this.getEditorAPI(),this.props.content);t=e.merge(t,n)}return t},getPanelClass:function(){var e=this.props.selectedMenu.key;return e?i.getMenuPanelType(e,this.props.content):null},render:a})}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt",["react","lodash","core"],function(e,t,o){"use strict";return function(){return this.props.panel?e.createElement("div",{className:"promotion",key:"promotionPanel"},e.createElement(o.lazyComponent,t.assign({},{moduleName:this.props.panel.type},t.assign({},this.props.panel.props,{editorAPI:this.props.editorAPI,action:this.props.action,bi:this.props.bi})))):null}}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent",["create-react-class","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt"],function(e,t){"use strict";return e({displayName:"menuBarRightContent",render:t})}),define("rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{},e.createElement("iframe",{style:{border:"none",width:"545px",height:"265px"},src:this.getUrl(),ref:"dealerIframe"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}))}}),define("rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame",["reactDOM","create-react-class","prop-types","lodash","rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame.rt"],function(e,t,o,n,i){"use strict";return t({displayName:"dealerUpgradeFrame",propTypes:{metaSiteID:o.string.isRequired},getInitialState:function(){return{showLoader:!0}},getUrl:function(){return"http://apps.wix.com/wix-dealer-webapp/api/lightboxViewer/EDITOR_UPGRADE/"+this.props.metaSiteID},componentDidMount:function(){this.props.openPanelBiEvent&&this.props.openPanelBiParams&&this.getEditorAPI().bi.event(this.props.openPanelBiEvent,this.props.openPanelBiParams),e.findDOMNode(this.refs.dealerIframe).addEventListener("load",this.hideLoader)},hideLoader:function(){this.setState({showLoader:!1})},render:i})}),define("rEditor/rootComps/topBar/menuBar/menuBar.rt",["react","lodash","uiAnimations","baseUI"],function(e,t,o,n){"use strict";return function(){function i(){var o=this.getMenuItems();return e.createElement.apply(this,["ul",{className:t({"menubar-items":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseLeave:this.onMouseLeave},t.map(o,function(t,o,n){return e.createElement("li",{ref:"menuItem"+n,className:o.class,key:o.key,"data-hint-id":this.getMenuItemHintId(o.key),onMouseOver:function(e,t,o){this.onMouseOverMenuItem(o)}.bind(this,t,o,n)},e.createElement("a",{"data-hint-id":this.getMenuItemHintId(o.key)+"_inner"},this.getMenuItemLabel(o.key)),o.counter?e.createElement("div",{key:o.key+"counter",className:"counter"},o.counter):null)}.bind(this,o))])}return e.createElement("div",{ref:"menuBar",className:this.props.classes},i.apply(this,[]),e.createElement(o.topBarMenuPanelAnimation,{outAnimationDuration:this.state.mouseOverMenu?0:.2},null!==this.state.indexOfOpenMenu?e.createElement(n.bubble,t.assign({},{key:"menuBarDropDown"},this.getDropDownProps())):null))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"top-bar-drop-panel menubar-drop-panel"},e.createElement("div",{className:"drop-panel-left-side"},e.createElement("div",{className:"menubar-actions-panel"},e.createElement("ul",{},e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleClick("SAVE")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_Site_Save")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleClick("REVISIONS")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_Site_Site_Revisions")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleClick("PREVIEW")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_PREVIEW_TOOLTIP_TITLE")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleClick("PUBLISH")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_Site_Publish")),e.createElement("span",{className:"shortcut"}))))))))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection",["create-react-class","lodash","util","core","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"siteSection",mixins:[o.translationMixin,n.mixins.editorAPIMixin],handleClick:function(e){i[e].action(),this.props.closeDropDownHandle()},render:a})}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"top-bar-drop-panel menubar-drop-panel"},e.createElement("div",{className:"drop-panel-left-side"},function(){var t=this.getEditorAPI().store.getState().viewTools;return e.createElement("div",{className:"menubar-actions-panel"},e.createElement("ul",{},e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(e){this.handleClick("GO_TO_SEO_WIZ")}.bind(this,t)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"SEO (Get found on Google)"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(e){this.handleClick("EDITOR_MODE_SWITCH")}.bind(this,t)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.getLabel("EDITOR_MODE_SWITCH")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(e){this.handleClick("REVISIONS")}.bind(this,t)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Backup and Restore"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(e){this.handleClick("IMAGE_OPTIMIZATION")}.bind(this,t)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Image sharpening"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(e){this.handleTransferClick()}.bind(this,t)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Duplicate site"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(e){this.handleTransferClick()}.bind(this,t)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Transfer site"),e.createElement("span",{className:"shortcut"})))),e.createElement("hr",{className:"tools-section-separator"}),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:function(e,t){this.handleCheckChange(t,"TOOLBAR")}.bind(this,t),checked:t.toolbarEnabled}),e.createElement("span",{},"Toolbar")))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:function(e,t){this.handleCheckChange(t,"RULERS")}.bind(this,t),checked:t.rulersEnabled}),e.createElement("span",{},"Rulers")))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:function(e,t){this.handleCheckChange(t,"GUIDELINES")}.bind(this,t),checked:t.guidelinesEnabled}),e.createElement("span",{},"Gridlines"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:function(e,t){this.handleCheckChange(t,"SNAP")}.bind(this,t),checked:t.snapToEnabled}),e.createElement("span",{},"Snap to Objects"),e.createElement("span",{className:"shortcut"}))))))}.apply(this,[])))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection",["create-react-class","reactDOM","lodash","util","core","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection.rt"],function(e,t,o,n,i,a,r){"use strict";return e({displayName:"toolsSection",mixins:[n.translationMixin,i.mixins.editorAPIMixin],handleClick:function(e){a[e].action(),this.props.closeDropDownHandle()},getLabel:function(e){return a[e].labelFunc()},handleCheckChange:function(e,t){var o=e.target.checked;this.executeAction(o,t)},executeAction:function(e,o){var n=a[o].action;if(n&&!a[o].disabled){n(void 0!==e?e:!t.findDOMNode(this.refs.checkboxInput).checked,!1,this.props.closeDropDownHandle)}},handleTransferClick:function(){this.getEditorAPI().account.transferSite()},render:r})}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"top-bar-drop-panel menubar-drop-panel"},e.createElement("div",{className:"drop-panel-left-side"},e.createElement("div",{className:"menubar-actions-panel"},e.createElement("ul",{},e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("overview")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Site Name"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("advanced")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Favicon"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("plans")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Premium Plan"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("business")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Business Plan"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleClick("CONNECT_DOMAIN")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Domain"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("mailboxes")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"MailBox"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("localization")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Language & Region"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("social")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Social"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("authorization")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Roles & Permissions"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:function(){this.handleSettingsClick("advanced")}.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"SSL"),e.createElement("span",{className:"shortcut"}))))))))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection",["create-react-class","lodash","util","core","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"settingsSection",mixins:[o.translationMixin,n.mixins.editorAPIMixin],handleClick:function(e){i[e].action(),this.props.closeDropDownHandle()},handleSettingsClick:function(e){this.getEditorAPI().account.openSettings(e),this.props.closeDropDownHandle()},render:a})}),define("rEditor/rootComps/topBar/menuBar/menuBar",["react","create-react-class","prop-types","lodash","core","util","constants","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame","rEditor/rootComps/topBar/menuBar/menuBar.rt","rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection","rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection","rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h,f){"use strict";function b(t,o,i){var a=void 0;return a=o.isMobileEditor()?t.MOBILE||t:t.DESKTOP||t,e.createElement(c,n.assign({panel:a,editorAPI:o},i))}function y(e){e&&e.openHandlePID&&(window.clearTimeout(e.openHandlePID),window.clearTimeout(e.reportOpenPanelTimeout),e.openHandlePID=null,e.reportOpenPanelTimeout=null)}return t({displayName:"menuBar",mixins:[i.mixins.editorAPIMixin],propTypes:{menuItems:o.array.isRequired,viewTools:o.object.isRequired,tooltipData:o.object,onMenuOpened:o.func,onMenuClosed:o.func},getInitialState:function(){this._isMounted=!1,this.openHandlePID=null,this.reportOpenPanelTimeout=null;var e={indexOfOpenMenu:null,mouseOverMenu:!1};return f.isMultiValueExperimentOpen("editorHintsConfigs")&&(e.shouldDropDownRemainOpen=!1,e.dropDownDisabled=!1),e},componentDidMount:function(){this._isMounted=!0,function(e){var t=a.keyboardShortcuts.CONTEXTS.TOP_BAR,o=a.keyboardShortcuts.extendContext(t,{esc:function(){null!==e.state.indexOfOpenMenu&&e.closeDropDown()},left:function(){var t=void 0;t=0===e.state.indexOfOpenMenu?e.getNumberOfMenuItems()-1:e.state.indexOfOpenMenu-1,e.openDropDown(t)},right:function(){var t=(e.state.indexOfOpenMenu+1)%e.getNumberOfMenuItems();e.openDropDown(t)}});a.keyboardShortcuts.registerContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR,o)}(this)},componentWillUnmount:function(){this._isMounted=!1,a.keyboardShortcuts.unregisterContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR),this.isMenuBarKeyboardContextActive()&&a.keyboardShortcuts.setContext(this.lastKeyboardContext)},componentDidUpdate:function(e,t){var o=this.state.indexOfOpenMenu!==t.indexOfOpenMenu&&null===this.state.indexOfOpenMenu,n=this.state.indexOfOpenMenu!==t.indexOfOpenMenu&&null===t.indexOfOpenMenu;o?(a.keyboardShortcuts.getContext()===a.keyboardShortcuts.CONTEXTS.MENU_BAR&&a.keyboardShortcuts.setContext(this.lastKeyboardContext),this.props.onMenuClosed&&this.props.onMenuClosed()):n&&this.props.onMenuOpened&&this.props.onMenuOpened()},isMenuBarKeyboardContextActive:function(){return a.keyboardShortcuts.getContext()===a.keyboardShortcuts.CONTEXTS.MENU_BAR},getMenuItems:function(){var e=n.clone(this.props.menuItems);if(f.isOpen("us_topbarHacks")){e.push({key:"SETTINGS",order:"1"})}return e=n.sortBy(e,"order"),n.map(e,n.bind(function(e,t){return{key:e.key,class:this.getMenuItemClasses(e.key,t),counter:f.isOpen("us_topbarHacks")?"":this.getMenuItemCounter(e.key)}},this))},getMenuItemClasses:function(e,t){var o=[];return e=e&&e.toLowerCase()||"",o.push("upgrade"!==e?"menu-bar-title":"menu-bar-upgrade-title"),"help"===e&&o.push("top-bar-help-title"),t===this.state.indexOfOpenMenu&&o.push("menu-bar-selected-item"),o.join(" ")},getMenuItemLabel:function(e){return s[e].label},getMenuItemCounter:function(e){return n.isFunction(s[e].getCounter)&&s[e].getCounter()},getNumberOfMenuItems:function(){return this.props.menuItems.length},getDropDownProps:function(){if(!this._isMounted)return{};var e=this.state.indexOfOpenMenu;return{key:"menuDropDown-"+e,value:this.getDropDownContent(e),width:"1000px",closeTriggers:this.getDropDownTooltipCloseTriggers(),className:"top-bar-drop-down",overridePositionAdjustments:{type:r.UI.TOOLTIP.ALIGNMENT.LEFT,value:70},targetNode:this.refs["menuItem"+e],hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.mouseOverMenu,timeoutForMouseOverBubble:500}},handleDropDownWantsToClose:function(){f.isMultiValueExperimentOpen("editorHintsConfigs")&&this.state.shouldDropDownRemainOpen||this._isMounted&&!this.state.mouseOverMenu&&(f.isMultiValueExperimentOpen("editorHintsConfigs")&&this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu),this.setState({indexOfOpenMenu:null}))},getDropDownTooltipCloseTriggers:function(){return[r.UI.TOOLTIP.TRIGGERS.MOUSE_LEAVE]},getDropDownContent:function(t){if(f.isOpen("dealerUpgrade")&&3===t){var o=this.getEditorAPI().documentServices.generalInfo.getMetaSiteId();return e.createElement(d,{metaSiteID:o})}if(f.isOpen("us_topbarHacks")){if(0===t)return e.createElement(m,{closeDropDownHandle:this.closeDropDown});if(1===t)return e.createElement(h,{closeDropDownHandle:this.closeDropDown});if(2===t)return e.createElement(g,{closeDropDownHandle:this.closeDropDown});t--}var n=this.getDropDownBottomContent(t),i=this.getDropDownLeftContent(t,this.props.viewTools),a=this.getMenuRightContentOptions(t),r=this.props.menuItems[t].key,l=s[r].hintContainerId||null;return e.createElement(p,{closeHandle:this.closeDropDown,bottomContent:n,leftContent:i,rightContentOptions:a,dropPanelClass:"menubar-drop-panel",hintContainerId:l})},getDropDownBottomContent:function(t){var o=this.props.menuItems[t];return e.createElement(l,{content:"bottom",selectedMenu:o,closeDropDownHandle:this.closeDropDown})},getDropDownLeftContent:function(t,o){var n=this.props.menuItems[t];return e.createElement(l,{content:"left",selectedMenu:n,action:s[n.key].action,viewTools:o,closeDropDownHandle:this.closeDropDown})},getMenuRightContentOptions:function(e){var t=this.getEditorAPI(),o=this.props.menuItems[e],i={};return i.main=b(o.rightPanel,t),n.forEach(o.children,n.bind(function(e){if(e&&s[e.key]&&e.rightPanel){var o={action:this.handleClickOnRightPanel.bind(this,e),bi:s[e.key].bi};i[e.key]=b(e.rightPanel,t,o)}},this)),i},getMenuItemHintId:function(e){var t=s[e];return f.isMultiValueExperimentOpen("editorHintsConfigs")&&t.hintProps?t.hintProps.id:null},handleClickOnRightPanel:function(e){var t=s[e.key],o=t.action;if(o){var i=!1!==o.apply(null,n.tail(arguments));!t.isCheckbox&&i&&this.closeDropDown()}},disableDropDown:function(){f.isMultiValueExperimentOpen("editorHintsConfigs")&&this.setState({dropDownDisabled:!0})},enableDropDown:function(){f.isMultiValueExperimentOpen("editorHintsConfigs")&&this.setState({dropDownDisabled:!1})},openDropDown:function(e,t){var o=this.getEditorAPI();if(f.isMultiValueExperimentOpen("editorHintsConfigs")){if(!0===this.state.dropDownDisabled)return;o.topBarMenuBar.onMenuBarDropDownOpen(e)}null===this.state.indexOfOpenMenu&&(this.lastKeyboardContext=a.keyboardShortcuts.getContext(),a.keyboardShortcuts.setContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR));var n={indexOfOpenMenu:e};f.isMultiValueExperimentOpen("editorHintsConfigs")&&(n.shouldDropDownRemainOpen=t||!1),this.reportOpenPanelTimeout&&window.clearTimeout(this.reportOpenPanelTimeout),this.reportOpenPanelTimeout=window.setTimeout(function(){o.bi.event(i.bi.events.topbar.TOP_BAR_PANEL_OPENED,{menu_name:e})},3e3),this.setState(n)},enableClose:function(){f.isMultiValueExperimentOpen("editorHintsConfigs")&&this.setState({shouldDropDownRemainOpen:!1})},closeDropDown:function(){f.isMultiValueExperimentOpen("editorHintsConfigs")?this.state.shouldDropDownRemainOpen||(this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu),this.setState({indexOfOpenMenu:null,shouldDropDownRemainOpen:!1})):this.setState({indexOfOpenMenu:null})},onMouseOverMenuItem:function(e){if(!f.isMultiValueExperimentOpen("editorHintsConfigs")||!0!==this.state.dropDownDisabled){var t=!this.state.mouseOverMenu,o=null!==this.state.indexOfOpenMenu,n=t&&!o,i=o&&this.state.indexOfOpenMenu!==e;if(t&&this.setState({mouseOverMenu:!0}),n){y(this);var a=this;this.openHandlePID=window.setTimeout(function(){a._isMounted&&a.openDropDown(e)},300)}else i&&this.openDropDown(e)}},onMouseLeave:function(){y(this),this.setState({mouseOverMenu:!1})},render:u})}),define("rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:"editor-modes-panel"},e.createElement("div",{className:"editor-modes-panel-top-part"},e.createElement("div",{},e.createElement(o.radioList,{options:[{label:"TOPBAR_MobileDesktop_Desktopview",symbolName:"desktop",className:"editor-mode-option-desktop",symbolClass:"editor-mode-option-symbol",value:"desktop"},{label:"TOPBAR_MobileDesktop_MobileView",symbolName:"mobile",className:"editor-mode-option-mobile",symbolClass:"editor-mode-option-symbol",value:"mobile"}],value:this.props.desktopModeSelected?"desktop":"mobile",onChange:this.setEditorMode,highlightOnHover:!0}))),e.createElement("div",{className:"optimized-view-row"},e.createElement(o.toggle,{label:"TOPBAR_MobileDesktop_MobileOptimized",labelAfterSymbol:!0,value:this.props.isMobileOptimized,onChange:this.toggleOptimized})))}}),define("rEditor/rootComps/topBar/dropPanels/editorModesPanel",["create-react-class","prop-types","lodash","core","util","rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"editorModesPanel",propTypes:{isMobileOptimized:t.bool.isRequired,desktopModeSelected:t.bool.isRequired,closeHandle:t.func},mixins:[n.mixins.editorAPIMixin],biData:{desktop:{editor_view_mode:"desktop"},mobile:{editor_view_mode:"mobile"}},getDefaultProps:function(){return{closeHandle:o.noop}},componentDidMount:function(){this.registerKeyboardShortcuts(),this.lastKeyboardContext=i.keyboardShortcuts.getContext(),i.keyboardShortcuts.setContext("EDITOR_MODES_SWITCH")},componentWillUnmount:function(){i.keyboardShortcuts.setContext(this.lastKeyboardContext)},setEditorMode:function(e){var t=this.getEditorAPI();"desktop"===e?(this.sendModeChangeBI("desktop"),t.setDesktopEditor()):(this.sendModeChangeBI("mobile"),t.setMobileEditor()),this.props.closeHandle&&this.props.closeHandle()},toggleOptimized:function(){var e=this.getEditorAPI(),t=!this.props.isMobileOptimized;this.sendToggleBI(e.getPreviewMode(),t),e.setMobileOptimizedSite(t)},sendToggleBI:function(e,t){var o=this.getEditorAPI(),i=n.bi.events.topbar.mobile_view_mode_toggle,a={origin:e?"top bar preview":"top bar editor",status:t?1:0};o.bi.event(i,a)},sendModeChangeBI:function(e){var t=this.getEditorAPI();if(t){var o=n.bi.events.topbar.top_bar_editor_view_mode_click;t.getPreviewMode()&&(o=n.bi.events.topbar.top_bar_preview_page_editor_view_mode_click),t.bi.event(o,{editor_view_mode:e}),t.bi.event(n.bi.events.topbar.editor_view_mode_switch,{origin:"site_menu",mode:e})}},registerKeyboardShortcuts:function(){var e=this,t={esc:function(){e.props.closeHandle()}};i.keyboardShortcuts.registerContext("EDITOR_MODES_SWITCH",t)},render:a})}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){function n(){var n="upgrade"===this.props.type;return e.createElement.apply(this,["div",{className:this.props.class},this.props.title?e.createElement("div",{key:"title",className:"title"},this.props.title):null,1===t.size(this.props.description)?e.createElement("div",{key:"single",className:"description"},this.props.description):null,t.size(this.props.description)>1?e.createElement("div",{key:"multiple",className:"description"},e.createElement.apply(this,["ul",{},t.map(this.props.description,function(n,i,a){return e.createElement("li",{key:a},e.createElement("div",{className:t({check:!n,"check-purple":n}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(o.symbol,{name:"check"})),e.createElement("div",{className:"text"},i))}.bind(this,n)),this.props.comment?e.createElement("li",{key:"comment",className:"comment"},this.props.comment):null])):null,t.map(this.props.footerButtons,function(n,i,a){return e.createElement(o.button,{className:t({"action-button":!n,"action-button-purple1":n&&a%2==0,"action-button-purple2":n&&a%2!=0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),label:i.buttonText,shouldTranslate:!1,key:"key-"+i.buttonText,onClick:function(e,t,o){this.onClick(t.action)}.bind(this,n,i,a)})}.bind(this,n))])}return n.apply(this,[])}}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel",["create-react-class","prop-types","core","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt"],function(e,t,o,n){"use strict";return e({displayName:"checkListPanel",mixins:[o.mixins.editorAPIMixin],propTypes:{closeDropDownHandle:t.func.isRequired},onClick:function(e){e&&e(this.getEditorAPI()),this.props.closeDropDownHandle()},render:n})}),define("rEditor/rootComps/topBar/topBarWidgetsDefinitions",["reactDOM","react","jquery","lodash","util","core","rEditor/rootComps/topBar/config/topBarData.json","rEditor/rootComps/topBar/config/topBarDataWithMultilingual.json","rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification","rEditor/rootComps/topBar/menuBar/menuBar","rEditor/rootComps/topBar/dropPanels/editorModesPanel","baseUI","constants","experiment","multilingual","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h,f,b){"use strict";function y(e,t){e.savePublish.isSavePublishLocked()||(e.savePublish.lockSavePublish(),e.preview.togglePreview(),window.setTimeout(e.savePublish.unlockSavePublish,t||1))}function v(e){return i.media.getMediaUrl("rEditor/topBar/"+e)}function P(e){return!e||n.invoke(e,"documentServices.generalInfo.isFirstSave")}function E(t,n,i){return i=i||0,o(e.findDOMNode(t.refs[n])).width()||i}function S(e){return{compClass:c,actions:null,compProps:function(t,o,i,r){var s=t.getEditorAPI();if(s.wixStores.isSiteInWixStoreTestDrive())return null;var l=t.state.appearance>=t.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS,c=r&&"PREVIEW"===r.toUpperCase()?a.bi.events.topbar.top_bar_Preview_Page_Save_click:D("save");return N.SAVE.actions=N.SAVE.actions||[function(e){e.saveManager.save({origin:"topbar"})}.bind(null,s)],{label:function(e,t,o){if(t)return null;if(!e.autosaveManager.shouldShowAutosaveUI())return"TOPBAR_Site_Save";switch(o){case w.IDLE_SAVED:return"TOPBAR_SAVE_SAVED_LABEL";case w.IN_PROGRESS:return"TOPBAR_SAVE_SAVING_LABEL";default:return"TOPBAR_Site_Save"}}(s,l,t.props.savingStatus),iconSymbol:l?"save":null,classes:["top-bar-menu-item","top-bar-save",O(o),M(o,i)].join(" "),actions:N.SAVE.actions,isDisabled:s.savePublish.isPublishInProgress()||s.savePublish.isSaveInProgress(),progressStatus:t.props.savingStatus,tooltipData:function(e,t,o){var i=P(e),a=i?"-notSaved":"",r=n.invoke(e,"documentServices.generalInfo.isSiteFromOnBoarding"),s=(t?"save-preview-button-tooltip":"save-button-tooltip")+a,l="TOPBAR_SAVE_TOOLTIP_TITLE",c="TOPBAR_SAVE_TOOLTIP_BODY",p=i?null:"TOPBAR_SAVE_TOOLTIP_LINK",d=i?null:function(){e.account.openRevisions()};if(e.autosaveManager.shouldShowAutosaveUI())switch(o.savingStatus){case w.IDLE:c=i?"TOPBAR_SAVE_TOOLTIP_BODY":"TOPBAR_SAVE_AS_SAVE_TOOLTIP_BODY",l="TOPBAR_SAVE_AS_SAVE_TOOLTIP_TITLE",p=i?null:"TOPBAR_SAVE_AS_SAVE_TOOLTIP_SITE_HISTORY";break;case w.IDLE_SAVED:s+="-saved",c="TOPBAR_SAVE_SAVED_TOOLTIP",l=null,p=null,d=null;break;case w.IN_PROGRESS:s+="-inProgress",c="TOPBAR_SAVE_SAVING_TOOLTIP",l=null,p=null,d=null}f.isOpen("se_obMigrationFlow")&&r&&(s="save-button-tooltip"+a+(r?"-ob-site":""),l="ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TITLE",c="ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TEXT",p=null,d=null);var u=n.get(o,["topBarCustomization","tooltipOverrides","SAVE"]);return k(s,!0,l,c,p,d,u)}(s,e,t.props),bi:c,buttonStyle:!l&&s.autosaveManager.shouldShowAutosaveUI()?{"min-width":85}:{}}}}}function T(e){return{compClass:"div",compProps:function(t,o){var n=!e||e(t,o);return{className:["top-bar-separator","top-bar-menu-item",O(o),n?"":"hidden"].join(" ")}}}}function C(e){g.tooltipManager.hide(e)}function I(){return{compClass:c,actions:null,bi:[D("zoomout"),{type:a.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(e,t,o){var n=e.getEditorAPI(),i=n.isPreviewReady()&&n.documentServices.pages.popupPages.isPopupOpened();return N.ZOOMOUT.actions=N.ZOOMOUT.actions||[function(e){e.panelManager.closeAllPanels(),e.toolsControl.toggleHideTools(!0,!0),window.setTimeout(function(){e.zoomMode.enterZoomMode(),e.bi.event(a.bi.events.topbar.top_bar_zoom_mode_click,{editor_view_mode:e.getDeviceType()})},400)}.bind(null,n)],N.ZOOMOUT.classes=N.ZOOMOUT.classes||["top-bar-menu-item","top-bar-preview-icon",M(t,o),O(t)].join(" "),{iconSymbol:"zoomOut",actions:N.ZOOMOUT.actions,classes:N.ZOOMOUT.classes+(i?" hidden":""),tooltipData:k(a.constants.TOP_BAR.TOOLTIP_ID.ZOOMOUT,!1,"TOPBAR_ZoomOut_Tooltip_Title","TOPBAR_ZoomOut_Tooltip_Body"),bi:N.ZOOMOUT.bi,ref:"topBarZoomOutButton",hintProps:{id:"ZoomOut"}}}}}function _(e,t,o){var i={type:t,origin:"topbar"};n.isEmpty(o)?o=[i]:n.forEach(o,function(e){n.assign(e,i)}),e.bi.reportBI(a.bi.events.editor.undo_redo_component_change,o)}function O(e){return e&&e===A.RIGHT?"top-bar-menu-item-right":"top-bar-menu-item-left"}function M(e,t){var o=[];return e===A.LEFT&&0===t?o.push("top-bar-item-right-margin"):e===A.RIGHT&&0===t?o.push("top-bar-item-left-margin"):o.push("top-bar-item-margin"),o}var A={LEFT:"left",RIGHT:"right"},w=a.constants.PROGRESS_STATUS,R=function(){var e=null;return function(t){return null===e&&(e={onMenuOpened:t.onMenuOpened,onMenuClosed:t.onMenuClosed}),e}}(),D=function(){var e={};return function(t){return e[t]||(e[t]={type:a.bi.events.topbar.top_bar_click,fields:{category:t}}),e[t]}}(),k=function(){var e={};return function(t,o,i,a,r,s,l){var c=e[t];return c||(c={presenter:g.popoverTemplates.titleBodyAndLinkTooltip,id:t,interactive:o,props:{title:i,text:a,link:r,linkAction:s}},e[t]=c),l&&(c=n.defaultsDeep({},l,c)),c}}(),N={WIX_LOGO:{compClass:c,compProps:function(e,t){return{iconSymbol:"wixLogo",classes:["top-bar-wix-logo",O(t)].join(" "),bi:D("wix_logo")}}},PAGES_LIST:{compClass:p,compProps:function(e,o,i){var a=e.state.appearance>=e.APPEARANCE.TRIM_PAGES_NAV_BUTTON,r=R(e);return n.assign({},r,{label:"pages",isSmallVersion:a,classes:["top-bar-menu-item",M(o,i),O(o)].join(" "),tooltipValue:t.createElement(g.popoverTemplates.titleBodyAndLinkTooltip,{title:null,text:"TOPBAR_PAGES_TOOLTIP_TITLE",link:null,linkAction:null}),hideTooltip:C,bi:D("pages")})}},REDO_SEPARATOR:T(function(e){return e.state.appearance<e.APPEARANCE.HIDE_REDO}),SEPARATOR:T(),ZOOMOUT:I(),UNDO:{compClass:c,actions:null,biFunc:null,classes:null,compProps:function(e,t,o){var i=e.getEditorAPI(),r=N.UNDO;r.actions=r.actions||[i.history.undo],r.biFunc=r.biFunc||_.bind(null,i,"undo"),r.classes=r.classes||["top-bar-undo",M(t,o),O(t)].join(" ");var s=n.get(e.props,["topBarCustomization","tooltipOverrides","UNDO"]),l=k(a.constants.TOP_BAR.TOOLTIP_ID.UNDO,!1,null,"TOPBAR_UNDO_TOOLTIP_TITLE",null,null,s);return{iconSymbol:"undo2",classes:N.UNDO.classes,actions:N.UNDO.actions,tooltipData:l,biFunc:N.UNDO.biFunc,hintProps:{id:"Undo"},isDisabled:i.developerMode.ui.idePane.getState()===a.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED}}},REDO:{compClass:c,actions:null,biFunc:null,compProps:function(e,t,o){var i=e.getEditorAPI();N.REDO.actions=N.REDO.actions||[i.history.redo],N.REDO.biFunc=N.REDO.biFunc||_.bind(null,i,"redo");var r=e.state.appearance>=e.APPEARANCE.HIDE_REDO;return{iconSymbol:"redo2",classes:n.compact(["top-bar-redo","top-bar-responsive-1024",M(t,o),O(t)],r?"hidden":"").join(" "),actions:N.REDO.actions,tooltipData:k(a.constants.TOP_BAR.TOOLTIP_ID.REDO,!1,null,"TOPBAR_REDO_TOOLTIP_TITLE"),biFunc:N.REDO.biFunc,isDisabled:i.developerMode.ui.idePane.getState()===a.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED}}},PREVIEW:{compClass:c,actions:null,measuredWidth:0,bi:[D("preview"),{type:a.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(e,t,o){var n=e.state.appearance>=e.APPEARANCE.PREVIEW_CHANGE_TO_ICON;return N.PREVIEW.actions=N.PREVIEW.actions||[y.bind(null,e.getEditorAPI(),500)],N.PREVIEW.classes=N.PREVIEW.classes||["top-bar-menu-item","top-bar-preview-icon",M(t,o),O(t)].join(" "),{label:n?null:"TOPBAR_PREVIEW_TOOLTIP_TITLE",iconSymbol:n?"preview":null,actions:N.PREVIEW.actions,classes:N.PREVIEW.classes,progressStatus:e.props.previewingStatus,tooltipData:k(a.constants.TOP_BAR.TOOLTIP_ID.PREVIEW,!1,"TOPBAR_PREVIEW_TOOLTIP_TITLE","TOPBAR_PREVIEW_TOOLTIP_BODY"),bi:N.PREVIEW.bi,ref:"topBarPreviewButton",measurePhase:function(t){N.PREVIEW.measuredWidth=E(e,"topBarPreviewButton",t)},hintProps:{id:"Preview"}}}},EDITOR_MODE_SWITCH:{compClass:c,getDropPanelProps:function(){var e={};return function(t,o,n){var i=(t?"mobile-":"desktop-")+(o?"optimized-":"non-optimized-")+n,a=e[i];return a||(a={overridePositionAdjustments:{type:h.UI.TOOLTIP.ALIGNMENT.RIGHT,value:70},desktopModeSelected:!t,isMobileOptimized:o,dropPanelPromotion:{type:"rEditor.panels.topBar.promotionPanel",classes:"promotion editor-mode-switch-promotion",props:{menuKey:"editor-mode-switch",key:"editor-mode-switch",title:"TOPBAR_MOBILE_PROMOTION_TITLE",message:"TOPBAR_MOBILE_PROMOTION_BODY",image:v(n>=2?"mobileDesktopIllustration@x2.png":"mobileDesktopIllustration.png"),classes:{graphics:"editor-mode-switch-graphics",title:"editor-mode-switch-title",message:"editor-mode-switch-message"}}},dropPanelClass:"editor-modes-panel-container"},e[i]=a),a}}(),compProps:function(e,t,o,a){var r=i.browserUtil.getDevicePixelRatio(),s=e.props.isMobileEditor,l=s?"desktop":"mobile",c=e.state.appearance>=e.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS,p=R(e),d=e.getEditorAPI(),u=!c,g={id:"editorModeSwitchTooltipId-"+a+"-"+(s?"MOBILE":"DESKTOP"),title:s?"TOPBAR_DESKTOP_TOOLTIP_TITLE":"TOPBAR_MOBILE_TOOLTIP_TITLE_NEW",body:s?"TOPBAR_DESKTOP_TOOLTIP_BODY":"TOPBAR_MOBILE_TOOLTIP_BODY_NEW"};return n.assign({},p,{iconSymbol:l,classes:[c?"mini-editor-mode-switch":"editor-mode-switch",M(t,o),O(t),d.topBar.isModeSwitchAnimationInProgress()?"icon-shiver":""].join(" "),actions:null,dropPanelContent:m,dropPanelProps:N.EDITOR_MODE_SWITCH.getDropPanelProps(e.props.isMobileEditor,e.props.isMobileOptimized,r,d),tooltipData:k(g.id,!1,g.title,g.body),bi:D("editor_view_mode"),hintProps:{id:"SwitchEditor"}},u?{label:s?"TOP_BAR_DESKTOP_EDITOR_LABEL":"TOP_BAR_MOBILE_EDITOR_LABEL"}:{})}},PUBLISH:{compClass:c,label:"TOPBAR_Site_Publish",measuredWidth:0,actions:null,bi:[D("publish"),{type:a.bi.events.publish.PUBLISH_CLICK,fields:{origin:"topbar"}}],classes:null,compProps:function(e,t){var o=e.getEditorAPI();if(o.wixStores.isSiteInWixStoreTestDrive())return null;var n=o.generalInfo&&o.documentServices.generalInfo.isSitePublished()||!1;N.PUBLISH.actions=N.PUBLISH.actions||[function(){o.savePublish.isSavePublishLocked()||o.publishManager.saveAndPublish("top_bar_publish")}];var r=[O(t),"top-bar-item-margin","top-bar-textual-button"],s=o.savePublish.canUserPublish(),l="publish-button-tooltip-id-"+(n?"published":"notPublished");s||(l="publish-disabled-button-tooltip-id"),r.push("top-bar-publish");var c=r.join(" "),p=function(e){var t=e.generalInfo&&e.documentServices.generalInfo.isSitePublished()||!1;return e.savePublish.canUserPublish()?t?{title:"TOPBAR_POSTPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_POSTPUBLISH_TOOLTIP_BODY",linkText:"SAVE_PUBLISH_BUTTON_VIEW",linkAction:function(){var t=e.site.getSitePublicUrl();window.open(t)}}:{title:"TOPBAR_PREPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_PREPUBLISH_TOOLTIP_BODY",linkText:null,linkAction:null}:{title:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TITLE",body:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TEXT",linkText:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_LINK",linkAction:function(){var e=i.languages.getLocalizedLink(a.constants.HELP_URLS.CONTRIBUTOR_ROLES,"{$lang}");window.open(e)}}}(o),d=o.savePublish.isPublishInProgress()||o.savePublish.isSaveInProgress()||!s;return{label:N.PUBLISH.label,right:!1,classes:c,actions:N.PUBLISH.actions,isDisabled:d,progressStatus:e.props.publishingStatus,tooltipData:k(l,!0,p.title,p.body,p.linkText,p.linkAction),bi:N.PUBLISH.bi,ref:"topBarPublishButton",measurePhase:function(t){N.PUBLISH.measuredWidth=E(e,"topBarPublishButton",t)},hintProps:{id:"Publish"}}}},SAVE:S(!1),PREVIEW_SAVE:S(!0),WIXSTORES_MIGRATION_UPGRADE_SITE:{compClass:c,compProps:function(e,t,o){var n=e.getEditorAPI();return n.wixStores.isSiteInWixStoreTestDrive()?{label:"TOPBAR_Site_Migration_Upgrade",classes:["top-bar-menu-item","top-bar-wixstores-migration-upgrade-button",O(t),M(t,o)].join(" "),actions:[function(){n.panelManager.openPanel("wixStore.migration.wixStoreSwitchPopup",{},!0),n.bi.event(a.bi.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"top panel"})}],tooltipData:k(a.constants.TOP_BAR.TOOLTIP_ID.WIXSTORES_MIGRATION_UPGRADE_SITE,!0,"TOPBAR_Site_Migration_Upgrade","TOPBAR_Site_Migration_Upgrade_Description",null,null),style:{borderRight:"1px #e3eaf6 solid"}}:null}},WIXSTORES_MIGRATION_SAVE:{compClass:c,actions:null,compProps:function(e,t){var o=e.getEditorAPI();if(!o.wixStores.isSiteInWixStoreTestDrive())return null;var n=e.state.appearance>=e.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS,i=D("save"),a=P(o),r=a?"-notSaved":"";return N.SAVE.actions=N.SAVE.actions||[o.saveManager.save.bind(null,{origin:"topbar"})],{label:n?null:"TOPBAR_Site_Save",iconSymbol:n?"save":null,classes:[O(t),"top-bar-item-margin","top-bar-textual-button"].join(" "),actions:N.SAVE.actions,isDisabled:o.savePublish.isPublishInProgress()||o.savePublish.isSaveInProgress(),progressStatus:e.props.savingStatus,tooltipData:k("save-button-tooltip"+r,!0,"TOPBAR_SAVE_TOOLTIP_TITLE","TOPBAR_SAVE_TOOLTIP_BODY",a?null:"TOPBAR_SAVE_TOOLTIP_LINK",a?null:function(){o.account.openRevisions()}),bi:i}}},MENU:{compClass:u,compProps:function(e){var t=e.getEditorAPI(),o=R(e),r=e.getMenuBarItems(l),s=n.assign({},o,{menuItems:r,viewTools:e.props.viewTools,classes:"top-bar-menu-item-left menu-bar",onMenuOpened:e.onMenuOpened,onMenuClosed:e.onMenuClosed,tooltipData:k(a.constants.TOP_BAR.TOOLTIP_ID.MENU,!1,null,"TOPBAR_MENU_TOOLTIP_TITLE"),bi:D("menu")});if(f.isOpen("spanishUpgradeText")){var c=n.find(s.menuItems,{key:"SITE_BAR"}),p=n.find(c.children,{key:"UPGRADE_ITEM"}).rightPanel;p.props.title=i.translate("UPGRADE_FOR_SPAIN_ONLY"),p.props.message=i.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TEXT"),p.props.shouldTranslate=!1}if(!t.savePublish.canUserPublish()){var d=n.find(s.menuItems,{key:"SITE_BAR"});n.find(d.children,{key:"PUBLISH"}).rightPanel.props.message="TOPBAR_PREPUBLISH_DISABLED_TOOLTIP_BODY"}return f.isMultiValueExperimentOpen("editorHintsConfigs")&&(s.ref="topBarMenu"),s}},BACK_TO_EDITOR:{compClass:c,actions:null,bi:{type:a.bi.events.topbar.top_bar_Preview_Page_Back_to_Editor_click,fields:{origin:"thumb"}},compProps:function(t,n){var i=t.getEditorAPI();return N.BACK_TO_EDITOR.actions=N.BACK_TO_EDITOR.actions||[y.bind(null,i,500)],{label:i.wixStores.isSiteInWixStoreTestDrive()?"TOPBAR_EDIT_SITE":"TOPBAR_BACK_TO_EDITOR",right:!0,classes:[O(n),"top-bar-item-back-to-editor"].join(" "),actions:N.BACK_TO_EDITOR.actions,bi:N.BACK_TO_EDITOR.bi,ref:"topBarBackToEditorButton",patchPhase:function(t,n){var i=t.refs.topBarBackToEditorButton;n=N.PREVIEW.measuredWidth+N.PUBLISH.measuredWidth,i&&n>0&&o(e.findDOMNode(i)).width(n)}.bind(null,t),tooltipData:i.wixStores.isSiteInWixStoreTestDrive()?k(a.constants.TOP_BAR.TOOLTIP_ID.BACK_TO_EDITOR,!0,"TOPBAR_EDIT_SITE","TOPBAR_Edit_Site_Description",null,null):null}}},MOBILE_NON_OPTIMIZED_NOTIFICATION:{compClass:d,action:null,compProps:function(e,t){var o=N.MOBILE_NON_OPTIMIZED_NOTIFICATION;return o.action=o.action||function(){var t=e.getEditorAPI();t.preview.togglePreview(),t.panelHelpers.openMobileElementsPanel()},{classes:[M(t),O(t)].join(" "),isShown:e.props.isMobileEditor&&!e.props.isMobileOptimized,message:i.translate("mobile_preview_notification_text1")+" <a>"+i.translate("mobile_preview_notification_link")+"</a> "+i.translate("mobile_preview_notification_text2"),action:o.action}}},PREVIEW_NOTIFICATION:{compClass:d,compProps:function(t,n,a,r){var s=t.props.isMobileEditor&&!t.props.isMobileOptimized,l="PREVIEW"===r.toUpperCase();return{classes:[M(n),O(n)].join(" "),isShown:l&&!s,message:i.translate("Topbar_PREVIEW_TITLE"),measurePhase:function(t){var n=o(e.findDOMNode(t.refs.topBarSideWrapperLeft)),i=o(e.findDOMNode(t.refs.topBarSideWrapperRight));return{leftWidth:n.width(),rightWidth:i.width()}}.bind(null,t),patchPhase:function(t,n){o(e.findDOMNode(t.refs.topBarSideWrapperCenter)).css({left:n.leftWidth,right:n.rightWidth,width:"auto"})}.bind(null,t)}}},LANGUAGE_MANAGER:{compClass:c,getDropPanelProps:function(){var e={};return function(t,o){var n="language_manager"+o,i=e[n];return i||(i={overridePositionAdjustments:{type:h.UI.TOOLTIP.ALIGNMENT.RIGHT,value:70},isMobileOptimized:t,dropPanelPromotion:null,dropPanelClass:"languages-panel-container"},e[n]=i),i}}(),compProps:function(e,t,o){var a=i.browserUtil.getDevicePixelRatio(),r=R(e),s=e.getEditorAPI();return n.assign({},r,{label:s.language?s.language.current.get():"Language Bar",iconSymbol:null,classes:["top-bar-languages",M(t,o),O(t)].join(" "),actions:null,dropPanelContent:b.panels.topBarDropDownPanel,dropPanelProps:N.LANGUAGE_MANAGER.getDropPanelProps(e.props.isMobileOptimized,a),bi:D("editor_languages"),hintProps:{id:"SwitchCurrentLanguage"}})}}};return{ORIENTATION:A,TOP_BARS:f.isOpen("se_multilingual")?s:r,widgetMapping:N}}),define("rEditor/rootComps/topBar/util/campaignUtil",["lodash","core","util"],function(e,t,o){"use strict";function n(t,n){var i=function(t){return e.chain(t).find({key:"SITE_BAR"}).get("children").find({key:"UPGRADE_ITEM"}).value()}(n),a=function(t){return e.find(t,{key:"UPGRADE"})}(n);e.assign(i.rightPanel.props,function(t){var n=e.template(o.translate("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC")),i=t.campaigns.personalSale.getDiscountValue(),a={symbol:"",message:n({discount:i}),title:o.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TITLE"),shouldTranslate:!1};return 50===i&&(a.symbol="menubarUpgradePanel_50"),a}(t)),e.assign(a.rightPanel.props,function(e){var t={symbol:""};return 50===e.campaigns.personalSale.getDiscountValue()&&(t.symbol="menubarUpgradePanel_50"),t}(t))}return{updateMenuBarItemsAccordingToPersonalSaleCampaign:n}}),define("rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil",["rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(e){"use strict";return{shouldBeVisible:function(t){var o=e[t];return!!o&&(!o.visibilityFunc||o.visibilityFunc())}}}),define("rEditor/rootComps/topBar/zoomModeBar.rt",["react","lodash","baseUI","symbols","uiAnimations","util","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton"],function(e,t,o,n,i,a,r){"use strict";return function(){return e.createElement(i.contentSlideCSS,{distance:"60px"},this.inZoomMode()?e.createElement("div",{className:"zoom-bar-wrapper",key:"zoomModeBarWrapper",ref:"zoomModeBarWrapper",style:{width:"calc("+100*this.getSiteScale()+"% - "+this.getVerticalScrollWidth()+")",left:"calc(50% - "+this.getVerticalScrollWidth()+")"}},e.createElement("div",{className:t({"zoom-mode-bar":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"zoom-mode-bar"},e.createElement("div",{className:"left-zoom-bar",onClick:function(){this.exitZoomMode()}.bind(this)},e.createElement("span",{className:"zoom-bar-text"},a.translate("TOPBAR_Exit_ZoomOut")),e.createElement(r,{iconSymbol:"zoomClose",classes:"zoom-bar-symbol",actions:[this.exitZoomMode]})),e.createElement("div",{className:"right-zoom-bar"},e.createElement(r,{iconSymbol:"undo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callUndo],tooltipData:this.getTooltipData("topBarUndoTooltipID","TOPBAR_UNDO_TOOLTIP_TITLE")}),e.createElement(r,{iconSymbol:"redo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callRedo],tooltipData:this.getTooltipData("topBarRedoTooltipID","TOPBAR_REDO_TOOLTIP_TITLE")}),e.createElement(r,{iconSymbol:"zoomBarHelp",classes:"zoom-bar-btn",actions:[this.openHelp],tooltipData:this.getTooltipData("zoomBarHelpTooltipID","gfpp_tooltip_help")})))):null)}}),define("rEditor/rootComps/topBar/zoomModeBar",["create-react-class","lodash","core","util","baseUI","rEditor/rootComps/topBar/zoomModeBar.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"zoomModeBar",mixins:[o.mixins.editorAPIMixin],exitZoomMode:function(){var e=this.getEditorAPI();this.getEditorAPI().zoomMode.exitZoomMode(),e.bi.event(o.bi.events.topbar.zoombar.zoom_mode_bar_exit_zoom_mode,{editor_view_mode:e.getDeviceType()}),window.setTimeout(function(){e.toolsControl.toggleHideTools(!1,!0)},300)},inZoomMode:function(){return this.getEditorAPI().zoomMode.isInZoomMode()},callUndo:function(){this.getEditorAPI().history.undo()},callRedo:function(){this.getEditorAPI().history.redo()},getSiteScale:function(){return this.getEditorAPI().getSiteScale()},openHelp:function(){var e="DESKTOP"===this.getEditorAPI().viewMode.get()?"00d369ed-aedf-4fbd-b11c-3fcc51459cef":"65ff699a-dc0c-4c42-b2af-8df5e022d350";this.getEditorAPI().panelManager.openHelpCenter(e,null,{origin:o.constants.BI.HELP.ORIGIN.TOPBAR,component:"zoomModeBar",panel_name:o.constants.BI.HELP.ORIGIN.TOPBAR})},getTooltipData:function(e,t){return{presenter:i.popoverTemplates.titleBodyAndLinkTooltip,id:e,props:{text:t}}},getVerticalScrollWidth:function(){return 0===n.uiUtils.getScrollbarWidth()?"0px":"6px"},render:a})}),define("rEditor/rootComps/topBar/dynamicPagesComboBox.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(e,t,o,n,i,a){"use strict";return function(){function r(){var o=this.getInnerRoutesToRender();return e.createElement.apply(this,[a.DropDown,{value:this.state.selectedInnerRoute,shouldTranslate:!1,searchBox:!0,key:"innerRouteDropDown",className:"dynamic-pages-combobox",optionsContainerClassName:"dynamic-pages-options",onChange:this.onInnerRouteChange},this.shouldShowPrevButton()?e.createElement(a.Button,{className:"btn-text",key:"prevButton",onClick:this.decreaseRange},e.createElement("span",{className:"manage-pages-text"},i.translate("dynamic_pages_routes_navigation_button_back"))):null,t.map(o,function(t,o,n){return e.createElement(a.DropDownOption,{key:o.url,value:o.url,label:o.title,shouldTranslate:!1})}.bind(this,o)),this.shouldShowNextButton()?e.createElement(a.Button,{className:"btn-text",key:"nextButton",onClick:this.increaseRange},e.createElement("span",{className:"manage-pages-text"},i.translate("dynamic_pages_routes_navigation_button_next"))):null])}return this.shouldShowInnerRoutesDropDown()?e.createElement("div",{className:"dynamic-pages-combo-box "+t({preview:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"dynamicPageComboBox"},e.createElement("div",{className:"dragable-area",onMouseDown:function(e){this.startDrag(e,this.getDragLimits())}.bind(this),onMouseUp:function(e){this.endDrag()}.bind(this)},e.createElement(o.symbol,{name:"smalldragHandle",className:"symbol-smallDragHandle"})),this.props.previewMode?e.createElement("div",{key:"prevRouteNavButtonWrapper",className:"prev-route-wrapper"},e.createElement("div",{key:"prevRouteNavButton",className:"prev-route nav-btn",onClick:this.prevRoute},e.createElement(n.symbol,{name:"arrowPrev"}))):null,e.createElement("div",{className:"combo-box-wrapper"},r.apply(this,[])),this.props.previewMode?null:e.createElement(o.button,{key:"goToPreviewButton",className:"go-to-preview",label:"INNER_ROUTES_NAVIGATION_BOX_GO_TO_PREVIEW",onClick:this.goToPreviewAndNavigate}),this.props.previewMode?e.createElement("div",{key:"nextRouteNavButton",className:"next-route nav-btn",onClick:this.nextRoute},e.createElement(n.symbol,{name:"arrowNext"})):null,e.createElement("div",{className:"close-area",onClick:this.close},e.createElement("div",{className:"close-sign"},e.createElement(n.symbol,{name:"close"})))):null}}),define("rEditor/rootComps/topBar/dynamicPagesComboBox",["create-react-class","lodash","core","util","prop-types","rEditor/rootComps/topBar/dynamicPagesComboBox.rt"],function(e,t,o,n,i,a){"use strict";function r(e,t){return(e%t+t)%t}function s(e){for(var t=0;t+l<=e;)t+=l;return t}var l=100;return e({displayName:"daynamicPagesComboBox",render:a,mixins:[o.mixins.editorAPIMixin,n.draggableMixin],getInitialState:function(){return{innerRoutes:null,selectedInnerRoute:null,shouldShowNavigation:!0,rangeStartIndex:0}},propTypes:{previewMode:i.bool,editorIsInit:i.bool,devModeContext:i.object},getNavigationData:function(e){var o=this.getEditorAPI().data.createItem("DynamicPageLink");return t.assign(o,{innerRoute:e||"",routerId:this.routerData.routerId})},componentWillReceiveProps:function(e){var o=this.getEditorAPI();if(e.previewMode!==this.props.previewMode&&e.previewMode&&this.getRouterInnerRoutes(),this.props.editorIsInit){var n=o.documentServices.pages.getPrimaryPageId()!==this.currentPageId;n&&(this.currentPageId=o.documentServices.pages.getPrimaryPageId());var i=o.documentServices.routers.getRouterDataForPageIfExist(this.currentPageId);!n&&t.isEqual(this.routerData,i)||(this.routerData=i,this.getRouterInnerRoutes())}this.props.devModeContext.type!==e.devModeContext.type&&this.getRouterInnerRoutes();var a=o.documentServices?o.documentServices.routers.getCurrentInnerRoute():null;if(this.props.editorIsInit&&o.documentServices.pages.getPrimaryPageId()===this.currentPageId&&a&&a.innerRoute!==this.currentInnerRoute&&!this.isCollectionPageOrHasOneRoute()){this.currentInnerRoute=a.innerRoute;var r=this.currentInnerRoute?this.findInnerRouteIndex(this.currentInnerRoute,this.state.innerRoutes):0;this.setState({selectedInnerRoute:this.currentInnerRoute,rangeStartIndex:this.currentInnerRoute?s(r):0})}},shouldComponentUpdate:function(e,o){if(!t.isEqual(this.props,e))return!0;var n=this.state.shouldShowNavigation!==o.shouldShowNavigation,i=this.state.selectedInnerRoute!==o.selectedInnerRoute;return!(!n&&!i)||(!t.isEqual(this.state.rangeStartIndex,o.rangeStartIndex)||!t.isEqual(this.state.innerRoutes,o.innerRoutes))},getRouterInnerRoutes:function(){var e=this.getEditorAPI(),o=e.documentServices.routers.getRouterDataForPageIfExist(this.currentPageId);if(!o)return this.setState({innerRoutes:[],selectedInnerRoute:null,shouldShowNavigation:!0,rangeStartIndex:0}),void(this.routerData=null);var n=this.currentPageId,i=o;e.documentServices.routers.getRouterInnerRoutes(o.routerId,this.currentPageId,function(o){o=t.sortBy(o,["title"]);if(!(e.documentServices.pages.getPrimaryPageId()!==n)&&t.isEqual(i,this.routerData)){if(1===o.length&&"/"===o[0].url)return this.setState({innerRoutes:[],selectedInnerRoute:null,rangeStartIndex:0}),void this.navigateToRoute(null);var a=null,r=e.documentServices.routers.getCurrentInnerRoute();r&&r.innerRoute&&(a=r.innerRoute);var l=a?this.findInnerRouteIndex(a,o):0,c=o[l]?o[l].url:null;c&&c!==this.currentInnerRoute&&(this.currentInnerRoute=c,this.navigateToRoute(this.currentInnerRoute)),this.setState({innerRoutes:t.sortBy(o,["title"])||[],rangeStartIndex:t.isEmpty(o)?0:s(l),shouldShowNavigation:!0,selectedInnerRoute:t.isEmpty(o)?null:o[l].url})}}.bind(this))},isCollectionPageOrHasOneRoute:function(){var e=this.state.innerRoutes;return!!e&&1===e.length},shouldShowInnerRoutesDropDown:function(){var e=this.getEditorAPI(),n=(e.documentServices&&e.documentServices.pages.getFocusedPageId?e.developerMode.getContext():{}).type===o.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,i=!e.documentServices||!e.documentServices.documentMode||e.documentServices.documentMode.isShowingFixedComponentsEnabled();return(!e.documentServices||!e.documentServices.pages.getFocusedPageId||e.documentServices.pages.getFocusedPageId()===e.documentServices.pages.getPrimaryPageId())&&!this.isCollectionPageOrHasOneRoute()&&this.state.shouldShowNavigation&&this.routerData&&!t.isEmpty(this.state.innerRoutes)&&(this.props.previewMode||n)&&i},sendBI:function(e,t){this.getEditorAPI().bi.event(e,t)},getInnerRoutesToRender:function(){return t.slice(this.state.innerRoutes,this.state.rangeStartIndex,this.state.rangeStartIndex+l)},increaseRange:function(){var e=this.state.rangeStartIndex+l,t=this.shouldShowPrevButton(e)?this.state.innerRoutes[e].url:this.state.innerRoutes[e-1].url;this.navigateToRoute(t),this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(t)),this.setState({rangeStartIndex:e,selectedInnerRoute:t})},decreaseRange:function(){var e=this.state.rangeStartIndex-l,t=this.state.innerRoutes[e].url;this.navigateToRoute(t),this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(t)),this.setState({rangeStartIndex:e,selectedInnerRoute:t})},shouldShowPrevButton:function(e){e=e||this.state.rangeStartIndex;var t=this.state.innerRoutes.length<l;return!(0===e)&&!t},shouldShowNextButton:function(){var e=this.state.innerRoutes.length<l;return!(this.state.rangeStartIndex+l>=this.state.innerRoutes.length)&&!e},goToPreviewAndNavigate:function(){var e=this.getEditorAPI();this.props.previewMode?e.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute)):(this.sendBI(o.bi.events.dynamicPageComboBox.preview_clicked,this.getBIParams(this.state.selectedInnerRoute)),e.preview.togglePreview())},getBIParams:function(e){var t=this.getEditorAPI(),o=t.documentServices.pages.getPrimaryPageId(),n=t.documentServices.routers.getRouterDataForPageIfExist(o);return{item_name:e,item_path:n.prefix+"/"+e,pageId:o,appName:n.appDefinitionId}},onInnerRouteChange:function(e){this.sendBI(o.bi.events.dynamicPageComboBox.preview_select_page,this.getBIParams(e)),this.navigateToRoute(e),this.setState({selectedInnerRoute:e})},close:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),n=e.documentServices.routers.getRouterDataForPageIfExist(t);this.sendBI(o.bi.events.dynamicPageComboBox.preview_closed,{pageId:t,appName:n.appDefinitionId}),this.setState({shouldShowNavigation:!1})},openHelpCenter:function(){var e=this.getEditorAPI(),t={origin:"display-combo-box",panel_name:"dynamic-pages-display-combo-box",component:this.props.id};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},findInnerRouteIndex:function(e,o){var n=t.findIndex(t.map(o,"url"),function(t){return t===e});return-1===n?0:n},prevRoute:function(){var e=function(e,t){return r(e-1,t)}(this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes),this.state.innerRoutes.length);this.moveToItem(e)},nextRoute:function(){var e=function(e,t){return r(e+1,t)}(this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes),this.state.innerRoutes.length);this.moveToItem(e)},moveToItem:function(e){var n=!t.isEmpty(this.state.innerRoutes)&&e<this.state.innerRoutes.length?this.state.innerRoutes[e].url:null;this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(n)),this.navigateToRoute(n),this.setState({selectedInnerRoute:n,rangeStartIndex:s(e)})},navigateToRoute:function(e){var o=this.getEditorAPI();this.state.selectedInnerRoute!==e&&o.pages.navigateTo(this.getNavigationData(e),t.noop,!0)},getDragLimits:function(){var e=o.utils.stageUtils.getStageLayout();return e||(e=window.document.body.getBoundingClientRect()),{x:[e.left,e.right],y:[e.top,e.bottom]}}})}),define("rEditor/rootComps/topBar/topBar.rt",["react","lodash","experiment","baseUI","symbols","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox"],function(e,t,o,n,i,a,r){"use strict";return function(){return e.createElement("div",{className:this.topBarClassName+" "+(o.isOpen("topBarB")?"top-bar-b":""),onClick:this.handleTopBarClick,onContextMenu:this.props.onContextMenu},e.createElement("div",{className:t({"top-bar-editor":!0,"top-bar-preview-show":this.props.previewMode,"is-hidden":this.props.isHidden,"is-hidden-completely":this.hideForZoomMode()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{zIndex:this.state.zIndex}},this.props.previewMode?e.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-preview",className:"top-bar-container top-bar-preview"},this.getTopBarByMode("PREVIEW")):null,this.props.previewMode?null:e.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-edit",className:"top-bar-container top-bar-edit"},this.getTopBarByMode("EDIT")),this.props.isEnabled?null:e.createElement("div",{className:"top-bar-overlay",key:"overlay"})),e.createElement(a,{key:"zoomModeBar"}),o.isOpen("dpages")?e.createElement(r,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}):null,this.props.previewMode||this.props.isMobileEditor?null:e.createElement(n.tooltip,{value:this.getHideToolsTooltip(),key:"hideAllTools"},e.createElement("div",{onClick:function(){this.toggleHideTools()}.bind(this),style:{zIndex:this.state.zIndex},"data-hint-id":o.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls":null,className:t({"hide-tools-button":!0,"tools-hidden":this.props.isHidden,"stand-out":this.props.shouldHideToolsBtnBlink}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(i.symbol,{className:"hide-tools-symbol",name:"hideToolsArrow",hintId:o.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls_inner":null}))))}}),define("rEditor/rootComps/topBar/topBar",["reactDOM","jquery","react","create-react-class","prop-types","lodash","core","util","rEditor/rootComps/topBar/topBarWidgetsDefinitions","rEditor/rootComps/topBar/util/campaignUtil","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","experiment","editorHints","rEditor/rootComps/topBar/topBar.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){"use strict";function g(e){return e>0?1:e<0?-1:0}var h=null;return n({displayName:"topBar",topBarClassName:"top-bar",mixins:[r.mixins.editorAPIMixin,s.outerClickMixin,s.singlePassDOMReadWriteMixin],propTypes:{height:i.number.isRequired,isEnabled:i.bool,isMobileEditor:i.bool.isRequired,isMobileOptimized:i.bool.isRequired,previewMode:i.bool.isRequired,viewTools:i.object.isRequired,previewingStatus:i.string.isRequired,savingStatus:i.string.isRequired,publishingStatus:i.string.isRequired,performingMouseMoveAction:i.bool,onTopBarClicked:i.func,isHidden:i.bool},TOP_BAR_REFS:{LEFT_SIDE:"topBarSideWrapperLeft",RIGHT_SIDE:"topBarSideWrapperRight",CENTER:"topBarSideWrapperCenter"},MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS:30,APPEARANCE:{FULL:0,SAVE_AND_MOBILE_CHANGE_ICONS:1,PREVIEW_CHANGE_TO_ICON:2,HIDE_REDO:3,TRIM_PAGES_NAV_BUTTON:4,HIDE_UPGRADE_IN_MENU:5},MINIMAL_APPEARANCE_INDEX:5,getInitialState:function(){return{appearance:this.APPEARANCE.FULL,zIndex:""}},shouldComponentUpdate:function(e){return!e.performingMouseMoveAction},measurePhase:function(){var e=this.didWindowSizeChange();return h=t(window).width(),e},patchPhase:function(e){0!==e&&this.updateTopBarWidth(e)},componentDidUpdate:function(e,t){var o=g(t.appearance-this.state.appearance);0!==o&&this.updateTopBarWidth(o)},toggleHideTools:function(){var e=this.getEditorAPI(),t=e.toolsControl.toggleHideTools()?r.bi.events.editor.hide_tools.hide_controls:r.bi.events.editor.hide_tools.show_controls;e.bi.event(t,{origin:"handle"})},getHideToolsTooltip:function(){return this.props.isHidden?"Toolbars_show_hover_label":"Toolbars_hide_hover_label"},updateTopBarWidth:function(e){var t=this.state.appearance;e>0&&(t=this.APPEARANCE.FULL);var o=this.getNonOverlappingAppearanceIndex(t);o!==this.state.appearance&&this.setState({appearance:o})},didWindowSizeChange:function(){return g(t(window).width()-h)},getNonOverlappingAppearanceIndex:function(e){if(!this.props.previewMode){this.getGapBetweenLeftAndRightContainers()<this.MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS&&(e=Math.min(e+1,this.MINIMAL_APPEARANCE_INDEX))}return e},getGapBetweenLeftAndRightContainers:function(){var o=t(e.findDOMNode(this.refs[this.TOP_BAR_REFS.LEFT_SIDE]));return t(e.findDOMNode(this.refs[this.TOP_BAR_REFS.RIGHT_SIDE])).offset().left-(o.offset().left+o.width())},onOuterClick:function(){if(s.keyboardShortcuts.getContext()===s.keyboardShortcuts.CONTEXTS.TOP_BAR){var e=s.keyboardShortcuts.CONTEXTS;s.keyboardShortcuts.setContext(this.props.previewMode?e.PREVIEW:e.EDITOR)}},handleTopBarClick:function(e){this.getEditorAPI().imageCrop.toggleCropMode(!1),this.isClickOnTopBarEmptySpace(e)&&this.setTopBarKeyboardContext(),this.props.onTopBarClicked&&this.props.onTopBarClicked()},isClickOnTopBarEmptySpace:function(e){var t=e.target.dataset;return t&&t.target===this.topBarClassName},setTopBarKeyboardContext:function(){s.keyboardShortcuts.setContext(s.keyboardShortcuts.CONTEXTS.TOP_BAR)},getTopBarByMode:function(e){var t=l.TOP_BARS[e];!function(e,t,o){if("EDIT"===t&&!e.savePublish.canUserPublish()){var n=a.findIndex(o,{comp:"PUBLISH"});"SEPARATOR"!==o[n-1].comp&&o.splice(n,0,{comp:"SEPARATOR",orientation:"right"})}}(this.getEditorAPI(),e,t);var o=this.sortTopBarItemsByOrientation(t),n=this.createTopBarItems(o.left,this.createLeftTopBarItem,e,"left"),i=this.createTopBarItems(o.center,this.createLeftTopBarItem,e,"center"),r=this.createTopBarItems(o.right.reverse(),this.createRightTopBarItem,e,"right");return[].concat(i,n,r)},sortTopBarItemsByOrientation:function(e){var t={left:[],right:[],center:[]};return a.forEach(e,a.bind(function(e){var o=this.getWidgetDefinitionByKey(e);o&&(e.orientation===l.ORIENTATION.LEFT?t.left.push(o):e.orientation===l.ORIENTATION.RIGHT?t.right.push(o):t.center.push(o))},this)),t},getWidgetDefinitionByKey:function(e){return l.widgetMapping[e.comp]},createTopBarItems:function(e,t,o,n){var i=a.map(e,function(e,n){return t(e,n,o)});return this.createElementsWrapper(i,o,n)},createElementsWrapper:function(e,t,n){var i={displayName:"topBarSideWrapper",className:"top-bar-side-wrapper",key:"topbar-side-"+t+"-"+n};return"right"===n?(i.style={right:0},i.ref=this.TOP_BAR_REFS.RIGHT_SIDE):"left"===n?(i.style={left:0},i.ref=this.TOP_BAR_REFS.LEFT_SIDE):"center"===n&&(i.style={width:"100%",textAlign:"center"},i.ref=this.TOP_BAR_REFS.CENTER),o.createElement("div",i,e)},createLeftTopBarItem:function(e,t,o){return this.createDynamicMenuItem(e,l.ORIENTATION.LEFT,t,o)},createRightTopBarItem:function(e,t,o){return this.createDynamicMenuItem(e,l.ORIENTATION.RIGHT,t,o)},createDynamicMenuItem:function(e,t,n,i){if(e&&e.compClass){t=t||l.ORIENTATION.LEFT;var r=e.compProps(this,t,n,i);if(r){var s=a.assign(r,{key:this.createTopBarWidgetKey(t,i,n)});return o.createElement(e.compClass,s)}}return null},createTopBarWidgetKey:function(e,t,o){return["topbar-w",e,t,o].join("-")},getMenuBarItems:function(e){var t=a.cloneDeep(e),o=this.popUpgradePackagesEntry(t),n=this.getEditorAPI();if(o&&this.isUpgradeShowing()){var i=o.upgradePanels.DEFAULT;i&&t.push(i)}return n.campaigns.personalSale.isActiveCampaign()&&this.isUpgradeShowing()&&c.updateMenuBarItemsAccordingToPersonalSaleCampaign(n,t),a.forEach(t,function(e){e.children=function(e){return a.filter(e.children,function(e){return(!e.experiment||d.isOpen(e.experiment))&&(!e.experimentOff||!d.isOpen(e.experimentOff))})}(e)}),t},isUpgradeShowing:function(){return!(!this.isUserPermittedToUpgrade()||this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive())&&this.isUpgradeSupportedInAppearanceState()},isUserPermittedToUpgrade:function(){return this.getEditorAPI().account.isUserOwner()},isUpgradeSupportedInAppearanceState:function(){return this.state.appearance<this.APPEARANCE.HIDE_UPGRADE_IN_MENU},onMenuOpened:function(){this.setState({zIndex:1750})},onMenuClosed:function(){this.setState({zIndex:""})},popUpgradePackagesEntry:function(e){return a.head(a.remove(e,function(e){return e&&"UPGRADE"===e.category}))},hideForZoomMode:function(){return this.getEditorAPI().store.getState().hideToolsAndMaintainStagePosition},openDropDown:function(e,t){this.refs.topBarMenu.openDropDown(e,t)},enableClose:function(){this.refs.topBarMenu.enableClose()},disableDropDown:function(){this.refs.topBarMenu.disableDropDown()},enableDropDown:function(){this.refs.topBarMenu.enableDropDown()},shouldBeVisible:function(e){return p.shouldBeVisible(e)},render:function(){return d.isMultiValueExperimentOpen("editorHintsConfigs")?o.createElement(u.hintsNotify,{id:u.hintsContainers.TOP_BAR},m.call(this)):m.call(this)}})}),define("rEditor/rootComps/gfpp/platformConnectedGfpp",["lodash"],function(e){"use strict";function t(t,o,n,i,a){return e.map(o,function(o){return e(o).omit(["id"]).assign({onClick:function(){t.platform.notifyApplication(n,{eventType:"componentGfppClicked",eventPayload:{id:o.id,role:a,componentRef:i}})},shouldTranslate:!1}).value()})}return{getCompGfppOverrides:function(o,n){var i=e.head(o.platform.controllers.connections.get(n));if(!i)return{};var a=e.get(o.platform.controllers.getStageData(i.controllerRef),["connections",i.role,"gfpp"]);if(!a)return{};var r=e.get(a,"mainActions"),s=e.get(a,"appMainActions"),l=e.get(a,"enabledActions"),c=o.components.data.get(i.controllerRef).applicationId,p=o.platform.getAppDataByAppDefId(c).applicationId,d=t(o,r,p,n,i.role),u=t(o,s,p,n,i.role),m=e.keys(l);if(l=e.mapValues(l,function(t){return t.actionId?{onClick:function(){o.platform.notifyApplication(p,{eventType:"componentGfppClicked",eventPayload:{id:t.actionId,role:i.role,componentRef:n}})}}:t.title?e.merge(t,{title:p+"_"+t.title}):t}),e.isEmpty(m)&&e.isEmpty(d)&&e.isEmpty(u))return[];var g={enabledActions:m,presetActionsData:l};return e.isEmpty(d)||(g.mainActions=d),e.isEmpty(u)||(g.appMainActions=u),g}}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/connectedComponentGfppEnhancer",["lodash","rEditor/rootComps/gfpp/platformConnectedGfpp"],function(e,t){"use strict";return function(o,n,i){if(!e.isEmpty(n)){var a=t.getCompGfppOverrides(o,n[0]);i=e.assign(i,e.omit(a,"appMainActions"));var r=e.get(a,"appMainActions",[]);if(!e.isEmpty(r)){var s=function(t){var o=e.partition(t,"label");return{textActions:o[0],iconActions:o[1]}}(i.mainActions);if(s.textActions.length>=2)return;i.mainActions=(s.textActions||[]).concat(r).slice(0,2).concat(s.iconActions)}}}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/repeaterGfppEnhancer",["lodash","gfppData"],function(e,t){"use strict";return function(e,o,n){e.components.is.repeaterItem(o)&&n.mainActions&&n.mainActions.push(t.repeaterGfppUtils.getManageItemAction())}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/enhancers",["rEditor/rootComps/gfpp/enhancers/postMainActions/connectedComponentGfppEnhancer","rEditor/rootComps/gfpp/enhancers/postMainActions/repeaterGfppEnhancer"],function(){"use strict";return Array.prototype.slice.call(arguments)}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/stripGfppEnhancer",["lodash"],function(e){"use strict";return function(t,o,n){var i=n.presetActions.connect;if(t.columns.isStrip(o)&&i)if(t.columns.isSingleColumnStrip(e.head(o))){var a=i.isApplied,r=i.className;i.isApplied=function(t,o){var n=t.components.getChildren(e.head(o));return a(t,n)},i.className=function(t,o){var n=t.components.getChildren(e.head(o));return r(t,n)}}else delete n.presetActions.connect}}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/enhancers",["rEditor/rootComps/gfpp/enhancers/postPresetActions/stripGfppEnhancer"],function(){"use strict";return Array.prototype.slice.call(arguments)}),define("rEditor/rootComps/gfpp/gfppDataEnhancer",["lodash","rEditor/rootComps/gfpp/enhancers/postMainActions/enhancers","rEditor/rootComps/gfpp/enhancers/postPresetActions/enhancers"],function(e,t,o){"use strict";function n(t,o,n,i){e.forEach(t,function(e){e(o,n,i)})}return{applyPostMainActionsOverrides:e.partial(n,t),applyPostPresetActionsOverrides:e.partial(n,o)}}),define("rEditor/rootComps/gfpp/gfppModel",["lodash","gfppData","constants","helpIds","stateManagement","rEditor/rootComps/gfpp/gfppDataEnhancer","experiment"],function(e,t,o,n,i,a,r){"use strict";function s(t,o,n){return e.some(n,function(e){return"DEFAULT"!==e.type&&t.components.modes.isComponentDisplayedInModes(o,[e.modeId])})}function l(e,t){var n=e.components.getContainer(t),i=e.components.modes.getModes(n);if(i&&i.length>0){var a=e.components.modes.getFirstAncestorWithActiveModes(t);if(r.isOpen("widthModes")||r.isOpen("scrollModes"))return s(e,t,i)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES;if(e.components.modes.isCompDefaultModeActive(a))return s(e,t,i)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE;return e.components.modes.isDisplayedByDefault(t)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}return o.COMPONENT_DISPLAY.OUT_OF_MODES_BOX}function c(t,i){var a=e.map(i,l.bind(null,t)),r=e.every(a,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}),s=e.every(a,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),c=e.isArray(i)?i:[i],p=e.keys(t.components.modes.getFirstAncestorActiveModes(c[0]));return r?function(e){return{panelAction:o.ACTIONS.MODE_IN,panelExitAction:o.ACTIONS.MODE_EXIT,shouldAddExit:!0,dataOverridesKey:o.ACTIONS.MODE_IN,allowOnlyShowOnceUI:!1,extraBehaviorParams:{modeIds:e}}}(p):s?function(e){return{panelAction:o.ACTIONS.MODE_CHANGE,dataOverridesKey:o.ACTIONS.MODE_CHANGE,explanationText:"ANIMATION_PANEL_HOVER_BOX_DESCRIPTION_TEXT",allowPreviewUI:!1,allowOnlyShowOnceUI:!1,helpId:n.ANIMATION.TRANSITION,extraBehaviorParams:{modeIds:e}}}(p):{}}function p(t,o){return e.some(o,function(e){var o=t.components.modes.getFirstAncestorWithActiveModes(e);return t.components.modes.isCompDefaultModeActive(o)})}function d(t,o,n){return e.isFunction(t)?t(o,n):t}function u(t,o,n,i){e.forEach(o,function(o){t[o]=function(t,o,n){return t?(t=e.cloneDeep(t),e.forEach(t,function(i,a){e.isString(i)&&v[i]&&(i=e.cloneDeep(v[i]),t[a]=i),e.forEach(i,function(t,a){e.includes(f,a)||(i[a]=d(t,o,n))})}),t):null}(t[o],n,i)})}function m(o,n){var i=function(t,o){var n=t.components.getType(o);return e.last(n.split("."))}(o,n),r=e.cloneDeep(t.getComponentData(i))||y;return r.mainActions=function(e,t,o){var n=t.isMobileEditor()?e.mobileMainActions:e.mainActions;return n=d(n,t,o)}(r,o,n),a.applyPostMainActionsOverrides(o,n,r),r.extraActions=function(e,t,o){var n=t.isMobileEditor()?e.mobileExtraActions:e.extraActions;return n=d(n,t,o)}(r,o,n),r.presetActions=function(t,o,n){var i=o.isMobileEditor(),a=i?t.mobileEnabledActions:t.enabledActions;a=e.clone(d(a,o,n)||[]),a=e.union(a,b),e.includes(a,h.ACTIONS.APPLY_TO_OTHER_VIEW)||a.push(h.ACTIONS.APPLY_TO_OTHER_VIEW);var r=d(t.presetActions,o,n);return r=e.merge({},e.pick(v,a),i?e.pick(E,a):{},e.pick(r,a),e.pick(P,a)),r=e.merge(r,e.get(t,"presetActionsData"))}(r,o,n),a.applyPostPresetActionsOverrides(o,n,r),u(r,["mainActions","extraActions","presetActions"],o,n),r.presetActions.help&&(r.presetActions.help=function(o,n){var i=o.isMobileEditor();return n.helpId=i?n.mobileHelpId:n.helpId,n.isSelected=e.isUndefined(n.isSelected)?t.utils.isHelpPanelOpen(o,n.helpId):n.isSelected,n}(o,r.presetActions.help)),r.presetActions=function(t,o,n){var i=function(t,o,n){var i=[];t[h.ACTIONS.HIDE]&&(o.components.is.removable(n)||i.push(h.ACTIONS.HIDE));if(t[h.ACTIONS.ANIMATION]){if(e.some(h.ANIMATION_TYPES,function(e){return o.components.is.animatable(n,e)})&&o.multiselect.areComponentsOfSamePage(n)){var a=e.map(n,l.bind(null,o)),r=e.every(a,e.isEqual.bind(e,a[0]));o.multiselect.componentModes.areComponentsOfSameModefulContainer(n)&&r||i.push(h.ACTIONS.ANIMATION)}else i.push(h.ACTIONS.ANIMATION)}if(t[h.ACTIONS.STRETCH]){o.components.layout.canBeStretched(n)&&!o.isMobileEditor()||i.push(h.ACTIONS.STRETCH)}t[h.ACTIONS.PIN_MODE]&&(o.components.layout.isPinned(n)||i.push(h.ACTIONS.PIN_MODE));t[h.ACTIONS.LAYOUT]&&e.isArray(n)&&n.length>1&&e.some(n,o.components.is.controlledByParent)&&i.push(h.ACTIONS.LAYOUT);t[h.ACTIONS.APPLY_TO_OTHER_VIEW]&&!function(t,o){if(1===e.size(o)){var n=e.head(o),i=t.components.modes.getModes(n),a=t.components.getContainer(n),r=t.components.modes.getModes(a);return!t.isMobileEditor()&&(e.size(i)>1||e.size(r)>1)}return!1}(o,n)&&i.push(h.ACTIONS.APPLY_TO_OTHER_VIEW);t[h.ACTIONS.CONNECT]&&!o.developerMode.isEnabled()&&i.push(h.ACTIONS.CONNECT);return i}(t,o,n);return e.isEmpty(i)?t:e.omit(t,i)}(r.presetActions,o,n),{mainActions:r.mainActions,extraActions:r.extraActions,presetActions:r.presetActions,previewState:r.previewState}}var g=i.pinMode.logic,h=o.ROOT_COMPS.GFPP,f=["onClick","template","onTemplatePropsChange"],b=[h.ACTIONS.PIN_MODE,h.ACTIONS.STRETCH],y={enabledActions:[h.ACTIONS.SETTINGS,h.ACTIONS.LAYOUT,h.ACTIONS.ANIMATION,h.ACTIONS.HELP].concat(b)},v={settings:{isSelected:t.utils.getPanelStateFn("settings"),tooltip:"gfpp_tooltip_settings",icon:"settings",onClick:t.utils.getTogglePanelFn("settings")},design:{isSelected:t.utils.getPanelStateFn("design"),tooltip:"gfpp_tooltip_design",icon:"design",onClick:t.utils.getTogglePanelFn("design")},layout:{isSelected:t.utils.getPanelStateFn("layout"),tooltip:"gfpp_tooltip_layout",icon:"layout",onClick:t.utils.getTogglePanelFn("layout")},filters:{isApplied:function(t,o){var n=t.components.properties.get(o).filterEffect;return!e.isEmpty(n)&&"none"!==n.effectType},isSelected:t.utils.getPanelStateFn("filters"),tooltip:"gfpp_tooltip_image_filters",tooltip_active:"gfpp_tooltip_applied_image_filters",icon:"filters",onClick:t.utils.getTogglePanelFn("filters",{origin:"gfpp"})},effects:{isSelected:t.utils.getPanelStateFn("effects"),tooltip:function(o,n){var i=t.columnsUtils.getColumnOrStripContainer(o,n),a=o.components.design.get(i[0]),r=e.get(a,"background"),s=e.get(r,["mediaRef","type"]);return s?"WixVideo"===s?"gfpp_tooltip_bg_filters_video_disabled":"Image"===s?"gfpp_tooltip_bg_filters":"":"gfpp_tooltip_bg_filters_color_disabled"},icon:"filters",isDisabled:function(e,o){var n=t.columnsUtils.getColumnOrStripContainer(e,o);return!t.columnsUtils.isImageFiltersSupported(e,n)},onClick:function(e,o){t.utils.getTogglePanelFn("effects",{origin:"gfpp",selectedComponent:t.columnsUtils.getColumnOrStripContainer(e,o)})(e)}},stretch:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:function(e,t){return e.components.layout.isStretchedToScreen(t)?"gfpp_tooltip_unstretch":"gfpp_tooltip_stretch"},rightClickMenuLabel:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},stretchForColumns:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_unstretch",rightClickMenuLabel:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},upgrade:{isSelected:!1,tooltip:"gfpp_tooltip_upgrade",icon:"",onClick:t.utils.getTogglePanelFn("upgrade")},crop:{isApplied:t.utils.isCropApplied,isSelected:!1,isDisabled:function(e,o){return!t.utils.isCropAllowed(e,o)&&t.utils.isExternalImage(e,o)},tooltip:function(e,o){return t.utils.isCropAllowed(e,o)?"gfpp_tooltip_crop":t.utils.isExternalImage(e,o)?"gfpp_tooltip_crop_unsupported":"gfpp_tooltip_crop_gif_unsupported"},tooltip_active:"gfpp_tooltip_applied_crop",icon:"effects",className:"gfpp_button_crop",onClick:function(e,o){t.utils.isCropAllowed(e,o)&&t.utils.openImageCrop(e,o)}},aviary:{isSelected:!1,tooltip:"gfpp_tooltip_imageeffects",icon:"effects",onClick:t.utils.openAviaryPanel},animation:{isSelected:t.utils.getPanelStateFn("animation"),isDisabled:function(e,t){return p(e,t)},isApplied:t.utils.isAnimationApplied,tooltip:function(t,n){if(!p(t,n))return"gfpp_tooltip_animation";var i=e.map(n,l.bind(null,t)),a=e.every(i,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),r=e.every(i,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE});return a?"gfpp_tooltip_hover_animation_disabled_linked_element_in_regular":r?"gfpp_tooltip_hover_animation_disabled_single_element_in_regular":void 0},tooltip_active:"gfpp_tooltip_applied_animation",icon:"animation",onClick:function(o,n,i,a){var r=e.merge(c(o,n),a);t.utils.getTogglePanelFn("animation",r)(o,n,"gfpp",r)}},link:{isSelected:t.utils.getPanelStateFn("link"),isApplied:t.utils.getDataDefinedFn("link"),isDisabled:function(e,t){return p(e,t)},tooltip:"gfpp_tooltip_linkto",tooltip_active:"gfpp_tooltip_applied_linkto",icon:"link",onClick:t.utils.openLinkPanel},hide:{isSelected:!1,tooltip:"gfpp_tooltip_mobile_hide",icon:"gfpp_hide",onClick:function(e){e.selectedComponent.remove(),e.mobile.hideHiddenItemsCounter(),e.history.add("component - remove")}},help:{tooltip:"gfpp_tooltip_help",icon:"gfpp_help",mobileHelpId:"b6d9a270-f9c5-4837-995b-c3818b13a643"},pinMode:{isApplied:!0,isSelected:t.utils.getPanelStateFn("panels.pinnedDockPanel"),tooltip:"gfpp_tooltip_pin_to_screen",tooltip_active:"gfpp_tooltip_applied_pin_to_screen",icon:"gfpp_pin",className:"gfpp-pin",onClick:function(e){e.store.dispatch(g.open("gfpp"))}},preview:{tooltip:"gfpp_tooltip_preview",icon:"gfpp_preview",onClick:function(e){e.preview.togglePreview()}}},P={},E={},S={isSelected:t.utils.getPanelStateFn("customizeDesign"),tooltip:"gfpp_tooltip_customize",icon:"gfpp_customize_design_drop",onClick:t.utils.getTogglePanelFn("customizeDesign")};return E.customizeDesign=S,r.isOpen("fastStyling")&&(v.customizeDesign=S),v.applyToOtherView={isSelected:t.utils.getPanelStateFn("apply"),tooltip:function(e){var t=e.focusBox.getFocusedContainer();return e.components.modes.isCompDefaultModeActive(t)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"},icon:"gfpp_applyTo",onClick:t.utils.getTogglePanelFn("apply")},{getData:m,registerGfppActions:function(t){e.merge(P,t)}}}),define("rEditor/rootComps/rightClickMenu/util/rcmDataParser",["lodash","constants","rEditor/rootComps/gfpp/gfppModel","experiment"],function(e,t,o,n){"use strict";function i(e,t){return d.components.is.duplicatable(e,t)&&!d.components.layout.isPinned(e)}function a(e){if(e)return null;return{enabled:!!d.clipboard.getItem(d.clipboard.types.COMPONENT)}}function r(t){if(d.components.is.controlledByParent(t))return null;var o=d.getCompMoveRestrictions(t),n=o.canMoveBackward||o.canMoveForward,i=d.components.is.fixed(t)&&e.includes(u,d.components.getType(t));return!n||i?null:{type:"subItems",enabled:!0,subItems:function(e){var t=d.getCompMoveRestrictions(e);return{moveToFront:{icon:{svgName:"bringToFront"},enabled:t.canMoveForward},moveToBack:{icon:{svgName:"sendToBack"},enabled:t.canMoveBackward},moveForward:{icon:{svgName:"moveForward"},enabled:t.canMoveForward},moveBackward:{icon:{svgName:"moveBackward"},enabled:t.canMoveBackward}}}(t)}}function s(t,o){var n=function(t){return e(t).reject(function(t){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],t.id)||d.utils.isPage(t)}).map(function(e){return{component:e,key:"overlappingSubItem_"+e.id,icon:d.components.getIconInfo(e),label:d.components.getDisplayName(e),enabled:!0}}).value()}(o);return n.length>1||1===n.length&&d.utils.isPage(t)?{type:"subItems",shouldShowCount:!0,enabled:!0,subItems:n}:null}function l(e){var t=d.components.is.fixed(e),o=d.documentServices.tpa.isTpaByCompType(d.components.getType(e))&&t;return d.components.canToggleShowOnAllPages(e)||o?{value:o||d.components.isShowOnAllPages(e),enabled:!o,operationKey:"SHOW_ON_ALL_PAGES"}:null}function c(e){return d.components.is.showLegacyFixedPosition(e)&&d.components.layout.canBeFixedPosition(e)?{value:d.components.is.fixed(e),enabled:!0}:null}function p(p,u,m){return p?{undo:{enabled:!0},copy:function(e){return i(e)?{enabled:!0}:null}(p),paste:a(m),applyModeFromClipboard:function(e){return!e&&d.copyPaste.canApplyModeFromClipboard()?{enabled:!0}:null}(m),cut:function(e){return i(e)?{enabled:!0}:null}(p),duplicate:function(e){return i(e,d.components.getContainer(e))?{enabled:!0}:null}(p),copyDesign:function(e){return d.hasExternalDesign(e)?null:{enabled:!0}}(p),pasteDesign:function(e){return d.hasExternalDesign(e)?null:{enabled:!!d.clipboard.getItem(d.clipboard.types.COMPONENT_DESIGN)}}(p),arrange:r(p),overlappingItems:s(p,u),remove:function(e){var t=void 0,o=void 0;return n.isOpen("us_groupRightClick")?(t=d.documentServices.tpa.isTpaByCompType(d.components.getType(e)),(o=t||d.components.is.removable(e))?{enabled:o,operationKey:"DELETE"}:null):(t=d.documentServices.tpa.isTpaByCompType(d.components.getType(e)),o=d.components.is.removable(e),t||o?{enabled:o,operationKey:"DELETE"}:null)}(p),showOnAllPages:l(p),fixedPosition:c(p),gfppItems:function(n){var i=o.getData(d,n),a=t.ROOT_COMPS.GFPP.ACTIONS,r=[a.SETTINGS,a.DESIGN,a.CUSTOMIZE_DESIGN,a.LAYOUT,a.UPGRADE,a.CROP,a.FILTERS,a.ANIMATION,a.LINK,a.CONNECT,a.STRETCH,a.STRETCH_FOR_COLUMNS],s=(i.mainActions||[]).concat(e(i.presetActions).pick(r).toArray().value());return e.transform(s,function(t,o){o.onClick&&t.push({shouldTranslate:!e.isBoolean(o.shouldTranslate)||o.shouldTranslate,item:{enabled:!o.isDisabled,label:o.rightClickMenuLabel||o.label||o.tooltip},onClick:function(){o.onClick(d,n),d.closeRightClickMenu()}})},[])}(p),styleCanBeApplied:function(e){return d.components.is.styleCanBeApplied(e)?{enabled:!0}:null}(p),pin:function(e,t){if(t||!d.components.is.pinnable(e))return null;var o=d.components.is.fixed(e);return{value:o,label:o?"RightClick_Menu_Unpin":"RightClick_Menu_PinToScreen",enabled:!0}}(p,m),layoutTractor:n.isOpen("layoutTractor")?{enabled:!0}:null,applyToAllModes:function(t){if(t)return null;var o=d.focusBox.getFocusedContainer();if(!o)return null;var n=d.components.modes.getModes(o);return!n||e.isEmpty(n)?null:{enabled:!0,label:d.components.modes.isCompDefaultModeActive(o)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"}}(m),saveToTheme:function(t){if(n.isOpen("themeStyle")){var o=d.components.getType(t),i=d.components.COMPONENT_DEFINITION_MAP[o],a=i&&i.styles&&e.keys(i.styles);if(a)return{enabled:!0,styleIds:a}}return null}(p)}:{paste:a(m),undo:{enabled:!0}}}var d=void 0,u=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];return{buildMenuItems:function(e,t,o){return d=e,p(o,t,d.isMobileEditor())},buildShowOnAllPagesItem:function(e,t){return d=e,l(t)},buildFixedPositionItem:function(e,t){return d=e,c(t)},buildArrangeMenu:function(e,t){return d=t,r(e)}}}),define("rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer",["core"],function(e){"use strict";var t=[{label:function(e,t){return 1===e.components.getChildren(t).length?"STRIP_CONTAINER_LAYOUTS_ADD_COLUMNS":"STRIP_CONTAINER_LAYOUTS_ADD_EXTRA_COLUMNS"},enabled:function(e,t){return e.columns.canAdd(t)},onClick:function(t,o){var n={num_of_columns_before:t.components.getChildren(o).length,origin:"rcm"};t.columns.addColumn(o),t.bi.event(e.bi.events.columns.COLUMNS_ADD_COLUMN_CLICK,n),t.closeRightClickMenu()}}];return function(e){return e.isMobileEditor()?[]:t}}),define("rEditor/rootComps/rightClickMenu/customActions/column",["core"],function(e){"use strict";function t(e,t){return function(o){return o.isMobileEditor()?t:e}}function o(t){var o=t.isDesktopEditor()?e.bi.events.columns.COLUMNS_MOVE_LEFT_RIGHT:e.bi.events.columns.COLUMNS_MOVE_UP_DOWN;t.bi.event(o,{origin:"rcm"})}return[{label:t("RightClick_Menu_Move_Column_Left_Label","RightClick_Menu_Mobile_Move_Column_Up_Label"),enabled:function(e,t){return e.components.arrangement.canMoveBackward(t)},onClick:function(e,t){e.columns.move.left(t),o(e),e.closeRightClickMenu()}},{label:t("RightClick_Menu_Move_Column_Right_Label","RightClick_Menu_Mobile_Move_Column_Down_Label"),enabled:function(e,t){return e.components.arrangement.canMoveForward(t)},onClick:function(e,t){e.columns.move.right(t),o(e),e.closeRightClickMenu()}}]}),define("rEditor/rootComps/rightClickMenu/customActions",["rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer","rEditor/rootComps/rightClickMenu/customActions/column"],function(e,t){"use strict";return{"wysiwyg.viewer.components.StripColumnsContainer":e,"wysiwyg.viewer.components.Column":t}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return function(){var n=this.isEnabled();return e.createElement("li",{className:t({"item-basic":!0,disabled:!n,hoverable:n}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:n?this.props.onClick:function(){},onContextMenu:n?this.props.onClick:function(){},onMouseEnter:this.props.onMouseEnter||t.noop,onMouseLeave:this.props.onMouseLeave||t.noop},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null,this.props.item.icon.css?e.createElement("span",{style:this.getImageIconStyle(),key:"style"}):null):null,e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label||this.props.item.label)))}.apply(this,[])}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt"],function(e,t,o,n){"use strict";return e({displayName:"rcmItemBasic",mixins:[o.translationMixin],getImageIconStyle:function(){return t.merge({},this.props.item.icon.css,{backgroundImage:"url("+this.props.item.icon.src+")"})},isEnabled:function(){return t.isFunction(this.props.enabled)?this.props.enabled():this.props.item.enabled},render:n})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},e.createElement("li",{className:t({"item-shortcut":!0,disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.item.enabled?this.props.onClick:function(){},onContextMenu:this.props.item.enabled?this.props.onClick:function(){}},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null):null,e.createElement("span",{className:"label label-shortcut"},this.translateIfNeeded(this.props.label)),e.createElement("span",{className:"action action-shortcut"},this.props.shortcut)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut",["create-react-class","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"rcmItemWithShortcut",mixins:[n.translationMixin,t.mixins.editorAPIMixin],getTooltipText:function(){return this.getEditorAPI().tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey)},render:i})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){"use strict";return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{"data-hint-id":this.props.hintId},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:"action action-expand"}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.props.children)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt"],function(e,t,o,n){"use strict";return e({displayName:"rcmItemWithSubItems",mixins:[o.translationMixin],render:n})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){"use strict";return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.onClick},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:t({action:!0,"action-expand":this.props.items.length>0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.getChildren())))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive",["react","create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt"],function(e,t,o,n,i){"use strict";var a=t({displayName:"rcmItemWithSubItemsRecursive",mixins:[n.translationMixin],getChildren:function(){return o.map(this.props.items,function(t){return e.createElement(a,t)})},render:i});return a}),define("rEditor/rootComps/rightClickMenu/rightClickMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","experiment"],function(e,t,o,n,i,a,r,s,l,c,p){"use strict";return function(){function d(){var d=this.state.menuItems,u=this.getEditorAPI(),m=r.editor,g=this.getCustomActions(),h=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},d.paste?e.createElement(n,{item:d.paste,label:"RightClick_Menu_Paste_Label",shortcut:m.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},d.applyToAllModes||d.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},d.applyToAllModes?e.createElement(o,{item:d.applyToAllModes,key:"rcmApplyToAllModes",label:d.applyToAllModes.label,onClick:this.applyToAllModes}):null,d.applyModeFromClipboard?e.createElement(n,{item:d.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:m.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(d.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(d.gfppItems,function(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}.bind(this,d,u,m,g,h))]),g.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(g,function(n,i,a,r,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(i,s):l.label,onClick:l.onClick.bind(null,i,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,i,s)})}.bind(this,d,u,m,g,h))]):null,e.createElement.apply(this,["ul",{},e.createElement(n,{item:d.undo,label:"TOPBAR_Edit_Undo",shortcut:m.UNDO.label,onClick:this.undo}),d.cut?e.createElement(n,{item:d.cut,label:"RightClick_Menu_Cut_Label",shortcut:m.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,d.copy?e.createElement(n,{item:d.copy,label:"RightClick_Menu_Copy_Label",shortcut:m.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,d.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,n,i,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,n,i,a,r){this.openApplyToDialog(a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h)):null,d.paste?e.createElement(n,{item:d.paste,label:"RightClick_Menu_Paste_Label",shortcut:m.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,d.duplicate?e.createElement(n,{item:d.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:m.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),d.arrange||d.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},d.overlappingItems?e.createElement.apply(this,[i,{ref:"overlappingItems",label:"RightClick_Menu_Overlapping_Items_Label",item:d.overlappingItems,hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"OverlappingItems":null,key:"rcmOverlapping"},t.map(d.overlappingItems.subItems,function(t,n,i,a,r,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}.bind(this,d,u,m,g,h))]):null,d.arrange?e.createElement(i,{item:d.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"ForwardOrBack":null,onMouseOver:this.onArrangeHover},e.createElement(n,{item:d.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:m.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(n,{item:d.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:m.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(n,{item:d.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:m.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(n,{item:d.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:m.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,d.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(n,{item:d.remove,label:this.shouldPresentHideOverDelete()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,d.pin?e.createElement("ul",{key:"rcmPin"},d.pin?e.createElement(n,{item:d.pin,label:d.pin.label,value:d.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,d.layoutTractor?e.createElement("ul",{key:"layoutTractor"},e.createElement(n,{item:d.layoutTractor,shouldTranslate:!1,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,d.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(d.saveToTheme.styleIds,function(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:function(e,t,o,n,i,a,r){this.saveStyleToTheme(this.props.selectedComponents[0],a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h))])):null,d.showOnAllPages||d.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},d.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement("span",{className:"label label-toggle"},l.translate("toolbar_show_on_all_pages")),e.createElement(s,{origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,selectedComponentsTypes:this.getSelectedComponentsTypes(),isComponentShowOnAllPages:this.props.selectedComponents&&u.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:u.utils.isPage(this.props.selectedComponents),componentsRestrictions:u.getCompRestrictions(this.props.selectedComponents),toggleShowOnAllPages:t.partial(u.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:u.bi.event})):null,d.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!d.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-toggle"},this.translateIfNeeded("RightClick_Menu_Fixed_Position_Label")),e.createElement(c.toggle,t.assign({},{className:this.props.className+" action",value:d.fixedPosition.value,onChange:this.toggleFixedPosition,size:"medium"},{disabled:!d.fixedPosition.enabled}))):null):null,p.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,function(t,o,n,i,r,s,l){return e.createElement(a,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}.bind(this,d,u,m,g,h)),t.map(this.props.selectedComponents,function(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:function(e,t,o,n,i,a,r){this.exportDebugInfo(a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,u.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?d.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","experiment"],function(e,t,o,n,i,a,r,s,l,c,p){"use strict";return function(){function d(){var d=this.state.menuItems,u=this.getEditorAPI(),m=r.editor,g=this.getCustomActions(),h=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},d.paste?e.createElement(n,{item:d.paste,label:"RightClick_Menu_Paste_Label",shortcut:m.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},d.applyToAllModes||d.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},d.applyToAllModes?e.createElement(o,{item:d.applyToAllModes,key:"rcmApplyToAllModes",label:d.applyToAllModes.label,onClick:this.applyToAllModes}):null,d.applyModeFromClipboard?e.createElement(n,{item:d.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:m.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(d.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(d.gfppItems,function(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}.bind(this,d,u,m,g,h))]),g.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(g,function(n,i,a,r,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(i,s):l.label,onClick:l.onClick.bind(null,i,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,i,s)})}.bind(this,d,u,m,g,h))]):null,d.arrange||d.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(n,{item:d.undo,label:"TOPBAR_Edit_Undo",shortcut:m.UNDO.label,onClick:this.undo}),d.overlappingItems?e.createElement.apply(this,[i,{ref:"overlappingItems",label:"Select",shouldTranslate:!1,item:d.overlappingItems,hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"OverlappingItems":null,key:"rcmOverlapping"},t.map(d.overlappingItems.subItems,function(t,n,i,a,r,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}.bind(this,d,u,m,g,h))]):null,e.createElement.apply(this,[i,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},d.cut?e.createElement(n,{item:d.cut,label:"RightClick_Menu_Cut_Label",shortcut:m.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,d.copy?e.createElement(n,{item:d.copy,label:"RightClick_Menu_Copy_Label",shortcut:m.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,d.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,n,i,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,n,i,a,r){this.openApplyToDialog(a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h)):null,d.paste?e.createElement(n,{item:d.paste,label:"RightClick_Menu_Paste_Label",shortcut:m.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,d.duplicate?e.createElement(n,{item:d.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:m.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),d.arrange?e.createElement(i,{item:d.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"ForwardOrBack":null,onMouseOver:this.onArrangeHover},e.createElement(n,{item:d.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:m.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(n,{item:d.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:m.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(n,{item:d.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:m.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(n,{item:d.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:m.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,d.arrange||d.overlappingItems?null:e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(n,{item:d.undo,label:"TOPBAR_Edit_Undo",shortcut:m.UNDO.label,onClick:this.undo}),e.createElement.apply(this,[i,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},d.cut?e.createElement(n,{item:d.cut,label:"RightClick_Menu_Cut_Label",shortcut:m.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,d.copy?e.createElement(n,{item:d.copy,label:"RightClick_Menu_Copy_Label",shortcut:m.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,d.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,n,i,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,n,i,a,r){this.openApplyToDialog(a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h)):null,d.paste?e.createElement(n,{item:d.paste,label:"RightClick_Menu_Paste_Label",shortcut:m.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,d.duplicate?e.createElement(n,{item:d.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:m.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null])),d.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(n,{item:d.remove,label:u.isMobileEditor()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,this.isPageSelected()?e.createElement("ul",{key:"rcmRemovePage"},e.createElement(n,{item:{enabled:!0},label:"Delete Page",shouldTranslate:!1,onClick:this.deletePage})):null,d.pin?e.createElement("ul",{key:"rcmPin"},d.pin?e.createElement(n,{item:d.pin,label:"RightClick_Menu_PinToScreen",value:d.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,d.layoutTractor?e.createElement("ul",{key:"layoutTractor"},e.createElement(n,{item:d.layoutTractor,shouldTranslate:!1,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,d.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(d.saveToTheme.styleIds,function(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:function(e,t,o,n,i,a,r){this.saveStyleToTheme(this.props.selectedComponents[0],a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h))])):null,d.showOnAllPages||d.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},d.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement("span",{className:"label label-toggle"},l.translate("toolbar_show_on_all_pages")),e.createElement(s,{origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,isComponentShowOnAllPages:this.props.selectedComponents&&u.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:u.utils.isPage(this.props.selectedComponents),componentsRestrictions:u.getCompRestrictions(this.props.selectedComponents),toggleShowOnAllPages:t.partial(u.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:u.bi.event})):null,d.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!d.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-toggle"},this.translateIfNeeded("RightClick_Menu_Fixed_Position_Label")),e.createElement(c.toggle,t.assign({},{className:this.props.className+" action",value:d.fixedPosition.value,onChange:this.toggleFixedPosition,size:"medium"},{disabled:!d.fixedPosition.enabled}))):null):null,p.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,function(t,o,n,i,r,s,l){return e.createElement(a,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}.bind(this,d,u,m,g,h)),t.map(this.props.selectedComponents,function(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:function(e,t,o,n,i,a,r){this.exportDebugInfo(a)}.bind(this,t,n,i,a,r,s,l)})}.bind(this,d,u,m,g,h)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,u.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?d.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenu",["react","create-react-class","prop-types","lodash","jquery","core","stateManagement","rEditor/rootComps/rightClickMenu/util/rcmDataParser","rEditor/rootComps/rightClickMenu/customActions","util","experiment","rEditor/rootComps/rightClickMenu/rightClickMenu.rt","rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt","coreUtilsLib","editorHints"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g){"use strict";function h(e,t){return n.some(t,function(t){return n.isEqual(t,e)})}function f(e,t,o){return n.map(n.keys(t),function(i){var a=t[i],r=o.concat(i);return{key:i,label:i,onClick:function(t){m.log.info(e,r.join("."),a),t.stopPropagation()},items:n.isString(a)||n.isNumber(a)?[]:f(e,a,r),item:{enabled:!0}}})}function b(e,t){var o=a.utils.stageUtils.getViewPort();return{x:function(e,t,o){var n=o,i=t.outerWidth();if(n+i-window.pageXOffset>e.rightX){var a=n-i;return a<e.x?n+e.x:a}return n}(o,e,t.x),y:function(e,t,o){var n=o,i=t.outerHeight();if(n+i>e.bottomY){var a=n-i;return a<e.y?e.y:a}return n}(o,e,t.y)}}function y(e){var t=this.state.menuItems;t.arrange=s.buildArrangeMenu(e,this.getEditorAPI()),this.setState({menuItems:t})}function v(e,t,o){n.set(o,e,t)}var P=r.pinMode.logic,E=void 0,S=a.bi;return t({displayName:"rightClickMenu",mixins:[a.mixins.editorAPIMixin,c.outerClickMixin,c.translationMixin],compType:null,propTypes:{selectedComponents:o.array,editorMousePosition:o.object.isRequired,viewerMousePosition:o.object.isRequired,setHoverBox:o.func.isRequired,clearHoverBox:o.func.isRequired},onOuterClick:function(){E.closeRightClickMenu()},getInitialState:function(){return E=this.getEditorAPI(),this.shouldMeasureRCMRelativeToViewPort=!0,{position:this.props.editorMousePosition,openSubMenuToLeft:!1,menuItems:this.getAllMenuItems(this.props.selectedComponents,this.props.viewerMousePosition)}},componentDidMount:function(){this.compType=E.components.getType(this.props.selectedComponents),E.bi.event(S.events.rightClickMenu.RIGHT_CLICK_MENU_OPEN,{component:this.compType}),this.updatePositionRelativeToViewPort()},getAllMenuItems:function(e,t){var o=function(e,t){var o=E.selection.getComponentsByXY(e,t);return n.filter(o,E.components.is.selectable)}(t.x,t.y);return s.buildMenuItems(E,o,e)},rebuildItemsForSameComponent:function(e){var t=n.pickBy({showOnAllPages:s.buildShowOnAllPagesItem(E,e),fixedPosition:s.buildFixedPositionItem(E,e)},n.bind(function(e,t){return!n.isEqual(e,this.state.menuItems[t])},this));if(!n.isEmpty(t)){var o=n.assign({},this.state.menuItems,t);this.setState({menuItems:o})}},componentWillReceiveProps:function(e){if(e.selectedComponents){n.isEqual(e.selectedComponents,this.props.selectedComponents)?this.rebuildItemsForSameComponent(e.selectedComponents):(this.shouldMeasureRCMRelativeToViewPort=!0,this.setState({menuItems:this.getAllMenuItems(e.selectedComponents,e.viewerMousePosition)}))}},componentDidUpdate:function(){this.shouldMeasureRCMRelativeToViewPort&&this.updatePositionRelativeToViewPort()},componentWillUnmount:function(){E.bi.event(S.events.rightClickMenu.RIGHT_CLICK_MENU_CLOSE,{origin:"rcm",component:this.compType})},updatePositionRelativeToViewPort:function(){var e=i(this.refs.rcmRoot),t=b(e,this.state.position),o=function(e,t){var o=a.utils.stageUtils.getViewPort(),r=e.find(".subMenu");if(0===r.length)return!1;var s=i(n.maxBy(r,function(e){return i(e).outerWidth()}));return t.x+e.outerWidth()+s.outerWidth()>o.rightX}(e,this.state.position);this.shouldMeasureRCMRelativeToViewPort=!1,this.setState({position:t,openSubMenuToLeft:o})},onOverlappingItemMouseEnter:function(e){E.bi.event(S.events.rightClickMenu.OVERLAPPING_ITEMS_HOVER,{component:h(e.component,this.props.selectedComponents)?"selected":"other"}),this.props.setHoverBox(e.component)},onOverlappingItemMouseLeave:function(){this.props.clearHoverBox()},getClasses:function(){return{rightClickMenu:!0,"open-sub-menu-left":this.state.openSubMenuToLeft,"fixed-position":this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)}},onRightClick:function(e){e.preventDefault()},undo:function(){this.getEditorAPI().history.undo(),E.closeRightClickMenu()},cutComponent:function(){var e=E.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(v,"origin","rcm")),E.bi.reportBI(S.events.rightClickMenu.CUT,e),E.closeRightClickMenu(function(){E.selectedComponent.cut(),E.history.add("cut component via rightClickMenu")})},copyComponent:function(){var e=E.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(v,"origin","rcm")),E.selectedComponent.copy(),E.closeRightClickMenu(),E.bi.reportBI(S.events.rightClickMenu.COPY,e)},pasteComponent:function(){var e=E.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(v,"origin","rcm"));var t=void 0;if(p.isOpen("se_pasteBehaviorFix"))t={x:this.props.editorMousePosition.x,y:this.props.editorMousePosition.y},E.copyPaste.paste(t,!1);else{var o=E.ui.scroll.getScroll();t={x:this.props.editorMousePosition.x-E.site.getXPos()+o.scrollLeft,y:this.props.editorMousePosition.y-E.components.layout.get(E.documentServices.siteSegments.getPagesContainer()).y+o.scrollTop},E.copyPaste.paste(t,!0)}E.closeRightClickMenu(),E.history.add("paste component via rightClickMenu"),E.bi.reportBI(S.events.rightClickMenu.PASTE,e)},applyModeFromClipboard:function(){var e=E.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(v,"origin","rcm")),E.copyPaste.applyModeFromClipboard(E.selection.getSelectedComponents()),E.closeRightClickMenu(),E.bi.reportBI(S.events.rightClickMenu.APPLY_MODE_FROM_CLIPBOARD,e)},duplicateComponent:function(){var e=E.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(v,"origin","rcm")),E.selectedComponent.duplicate(),E.closeRightClickMenu(),"Column"!==E.selection.getSelectedComponentType()&&E.history.add("duplicate component via rightClickMenu"),E.bi.reportBI(S.events.rightClickMenu.DUPLICATE,e)},removeComponent:function(){var e=E.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(v,"removal_method","rcm")),E.bi.reportBI(S.events.editor.component_removed,e),E.closeRightClickMenu(function(){E.history.add("removed component via rightClickMenu"),E.selectedComponent.remove()})},toggleShowOnAllPages:function(){E.components.toggleShowOnAllPages(this.props.selectedComponents),E.documentServices.waitForChangesApplied(function(){var e=E.components.isShowOnAllPages(this.props.selectedComponents);E.bi.event(S.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:"rcm"})}.bind(this))},toggleFixedPosition:function(){E.selectedComponent.toggleFixedPosition(),E.documentServices.waitForChangesApplied(function(){var e=E.components.is.fixed(this.props.selectedComponents),t=E.components.getType(this.props.selectedComponents[0]);E.bi.event(S.events.rightClickMenu.FIXED_POSITION,{origin:"rcm",new_status:e,component:t})}.bind(this))},handlePinClick:function(){E.closeRightClickMenu();var e=E.components.layout.isPinned(this.props.selectedComponents);E.store.dispatch(P.open(e?"rcm_reopen":"rcm"))},moveForward:function(){E.components.arrangement.moveForward(this.props.selectedComponents),y.call(this,this.props.selectedComponents),E.bi.event(S.events.rightClickMenu.MOVE_FORWARD,{origin:"rcm"})},moveBackward:function(){E.components.arrangement.moveBackward(this.props.selectedComponents),y.call(this,this.props.selectedComponents),E.bi.event(S.events.rightClickMenu.MOVE_BACKWARDS,{origin:"rcm"})},moveToFront:function(){E.components.arrangement.moveToFront(this.props.selectedComponents),y.call(this,this.props.selectedComponents),E.bi.event(S.events.rightClickMenu.BRING_TO_FRONT,{origin:"rcm"})},moveToBack:function(){E.components.arrangement.moveToBack(this.props.selectedComponents),y.call(this,this.props.selectedComponents),E.history.add("component - move to back"),E.bi.event(S.events.rightClickMenu.SEND_TO_BACK,{origin:"rcm"})},onArrangeHover:function(){E.bi.event(S.events.rightClickMenu.ARRANGE_HOVER,{origin:"rcm"})},onOverlappingItemClick:function(e){E.selection.selectComponentByCompRef(e.component),E.selection.setIsHiddenComponentDraggedNext(!0),E.bi.event(S.events.rightClickMenu.OVERLAPPING_ITEM_CLICK,{component:h(e.component,this.props.selectedComponents)?"selected":"other"})},componentInspectorFinder:function(){E.panelManager.openComponentPanel("debugTools.componentInspector.finderPanel",{comp:this.props.selectedComponents[0]}),E.closeRightClickMenu()},getDebugItems:function(e){var t=E.components.serialize(e);return f(e.id,t,["structure"])},getExportDebugInfoItem:function(e){return{label:"Export ["+e.id+"] to console",enabled:!0}},exportDebugInfo:function(e){var t=E.components.serialize(e,null,!1,!0);window.selectedComp=n.cloneDeep(t),m.log.info("Exported ["+e.id+"] to window.selectedComp"),E.closeRightClickMenu()},controllerInspector:function(){m.log.info("Opening controller panel"),E.panelManager.openComponentPanel("debugTools.platform.controllerInspectorPanel",{comp:this.props.selectedComponents[0]}),E.closeRightClickMenu()},connectionsInspector:function(){m.log.info("Opening connections panel"),E.panelManager.openComponentPanel("debugTools.platform.connectionsInspectorPanel",{comp:this.props.selectedComponents[0]}),E.closeRightClickMenu()},isSingleController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"===this.getEditorAPI().components.getType(this.props.selectedComponents[0])},isSingleNonController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"!==this.getEditorAPI().components.getType(this.props.selectedComponents[0])},selectControllerConnectedComponents:function(){var e=this.props.selectedComponents[0];require(["debugTools"],function(t){t.platform.utils.selectControllerConnectedComponents(E,e)}),E.closeRightClickMenu()},openAddController:function(){E.panelManager.openPanel("debugTools.platform.addControllerPanel",{}),E.closeRightClickMenu()},getApplyToInfoItem:function(){return{label:"RightClick_Menu_Copy_Design_Label",enabled:!0}},openApplyToDialog:function(e){E.bi.event(a.bi.events.applyStyle.COPY_STYLE_RCM_CLICK,{component_id:e.id,component_type:E.components.getType(e)}),E.styles.openApplyStylePanel(e)},openLayoutTractor:function(){E.openLayoutTractor(),E.closeRightClickMenu()},applyToAllModes:function(){E.components.modes.applyCurrentToAllModes(E.selection.getSelectedComponents()),E.closeRightClickMenu()},getCustomActions:function(){var e=l[E.components.getType(this.props.selectedComponents)]||[];return n.isFunction(e)?e(this.getEditorAPI()):e},saveStyleToTheme:function(e,t){var o=E.documentServices.theme.styles.get(t),i=E.documentServices.theme.styles.get(E.components.style.getId(e)),a=n.assign(i,n.pick(o,["id","type","styleType"]));E.theme.styles.update(t,a),E.components.style.setId(e,t)},openPropertiesPanel:function(){E.developerToolBar.isEnabled()||E.developerToolBar.toggle(),E.closeRightClickMenu()},isShowOnAllPagesToggleDisabled:function(){return!this.props.selectedComponents||(!E.components.canToggleShowOnAllPages(this.props.selectedComponents)||E.components.shouldDisableShowOnAllPages(this.props.selectedComponents))},render:function(){var t=d;return p.isOpen("us_groupRightClick")&&(t=u),p.isMultiValueExperimentOpen("editorHintsConfigs")?e.createElement(g.hintsNotify,{id:g.hintsContainers.RIGHT_CLICK_PANEL},t.call(this)):t.call(this)},getEditItems:function(){return{cut:this.state.menuItems.cut,copy:this.state.menuItems.copy,styleCanBeApplied:this.state.menuItems.styleCanBeApplied,paste:this.state.menuItems.paste,duplicate:this.state.menuItems.duplicate,enabled:!0}},isPageSelected:function(){return"mobile.core.components.Page"===this.compType},deletePage:function(){var e=this.getEditorAPI().documentServices.pages.getFocusedPageId();this.getEditorAPI().documentServices.waitForChangesApplied(E.pages.remove(e,function(){}))},shouldPresentHideOverDelete:function(){return E.isMobileEditor()&&n.some(this.props.selectedComponents,E.components.is.hiddenable)},getSelectedComponentsTypes:function(){var e=this.getEditorAPI().components.data.get(this.props.selectedComponents);return this.props.selectedComponents.length>1?n.toString(n.map(e,"type")):e&&[e.type]}})}),define("rEditor/rootComps/panels/openedPanels.rt",["react","lodash","core","uiAnimations","panels"],function(e,t,o,n,i){"use strict";return function(){return e.createElement("div",{className:"opened-panels"},e.createElement.apply(this,[n.panelsAnimation,{},this.props.withHelpPanel&&this.props.helpPanelProps?e.createElement(i.frames.helpPanelFrame,t.assign({},{key:"helpPanel",isMobileEditor:this.props.isMobileEditor},this.props.helpPanelProps)):null,t.map(this.props.openPanels,function(n,i){return e.createElement(o.lazyComponent,t.assign({},{moduleName:n.name,key:n.name,onLoad:this.forceUpdate.bind(this)},this.getPanelProps(n)))}.bind(this))]))}}),define("rEditor/rootComps/panels/openedPanels",["create-react-class","prop-types","core","lodash","rEditor/rootComps/panels/openedPanels.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"openedPanels",propTypes:{isMobileEditor:t.bool,openPanels:t.array,withHelpPanel:t.bool,helpPanelProps:t.object,selectedComponents:t.array},getDefaultProps:function(){return{withHelpPanel:!0}},getPanelProps:function(e){return n.assign({},e.props,{selectedComponents:this.props.selectedComponents,key:function(e){var t=e.key;return o.lazyComponent.isLoaded(e.name)&&(t+="-loading"),t}(e.props)})},render:i})}),define("rEditor/rootComps/portal/portal.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{id:"portal"},this.getChildren())}}),define("rEditor/rootComps/portal/portal",["react","create-react-class","prop-types","lodash","rEditor/rootComps/portal/portal.rt"],function(e,t,o,n,i){"use strict";return t({displayName:"Portal (AKA Comps Day-Care)",propTypes:{comps:o.object},getChildren:function(){return n.reduce(this.props.comps,function(t,o,i){return t.concat(function(t,o){return n.map(t,function(t){return e.createElement(t.reactClass,n.assign({},t.props,{origin:o}))})}(o,i))},[])},render:i})}),define("rEditor/rootComps/gfpp/gfppMapper",["lodash","core","stateManagement","rEditor/rootComps/gfpp/gfppModel","experiment"],function(e,t,o,n,i){"use strict";function a(){var t=s.slice(0);return i.isOpen("switchLayoutDesignOrder")&&function(t){var o=e.indexOf(t,"layout"),n=e.indexOf(t,"design"),i=t[o];t[o]=t[n],t[n]=i}(t),t}function r(t){var o=t.mainActions||[],n=t.extraActions||[],i=function(t,o){var n=e.map(o,function(e){return t[e]});return e.compact(n)}(t.presetActions,a());return o.concat(i).concat(n)}var s=["settings","effects","layout","design","customizeDesign","upgrade","crop","filters","animation","link","hide","stretch","stretchForColumns","applyToOtherView","help","connect","pinMode","preview"];return function(i){var a=i.selection.getSelectedComponents(),s=n.getData(i,a);return{selectedComponents:a,buttons:r(s),previewState:s.previewState,setComponentPreviewState:i.documentMode.setComponentPreviewState,openHelpCenter:function(n){var a=e.get(i.selection.getSelectedComponentData(),"appPartName"),r=i.selection.getSelectedComponentType(),s={component:a||r,origin:t.constants.BI.HELP.ORIGIN.GFPP,learn_more:!1};i.store.dispatch(o.panels.logic.openHelpCenter(n,null,s))}}}}),define("rEditor/rootComps/gfpp/gfppButton.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip,shouldTranslate:this.props.shouldTranslate},function(){var t=this.translateIfNeeded;return e.createElement("li",{className:"gfpp-btn "+this.props.className,onClick:this.onClick},this.props.icon?e.createElement(o.symbol,{key:"gfppButtonIcon",name:this.props.icon}):null,this.props.label?e.createElement("span",{key:"gfppButtonLabel",className:"gfpp-label"},t(this.props.label)):null)}.apply(this,[]))}}),define("rEditor/rootComps/gfpp/gfppButton",["create-react-class","prop-types","lodash","core","util","rEditor/rootComps/gfpp/gfppButton.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"GFPP Button",propTypes:{selectedComponent:t.arrayOf(t.object).isRequired},mixins:[n.mixins.editorAPIMixin],translateIfNeeded:function(e){return o.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate?e:i.translate(e)},onClick:function(){if(!this.props.isDisabled){var e=this.getEditorAPI(),t=this.props.selectedComponent;if(!e.components.is.exist(t))return;var i=(t.length?o.head(t):t).id,a=e.components.getType(t);this.props.onClick(e,t,n.constants.USER_ACTIONS.ORIGIN.GFPP,{title:this.props.title}),e.bi.event(n.bi.events.gfpp.GFPP_BUTTON_CLICK,{action_name:this.props.label||this.props.tooltip,component_id:i,component_type:a,icon:this.props.tooltip,app_Id:this.props.appId})}},render:a})}),define("rEditor/rootComps/gfpp/gfppCustomButton",["react","create-react-class"],function(e,t){"use strict";return t({displayName:"gfppCustomButton",render:function(){return e.createElement(this.props.template,this.props)}})}),define("rEditor/rootComps/gfpp/gfppButtonGenerator",["react","create-react-class","lodash","rEditor/rootComps/gfpp/gfppButton","rEditor/rootComps/gfpp/gfppCustomButton"],function(e,t,o,n,i){"use strict";return t({displayName:"gfppButtonGenerator",render:function(){return e.createElement(this.props.template?i:n,o.assign({},this.props))}})}),define("rEditor/rootComps/gfpp/gfpp.rt",["react","lodash","uiAnimations","baseUI","rEditor/rootComps/gfpp/gfppButtonGenerator"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(o.gfppAnimation,{},e.createElement.apply(this,["ul",t.assign({},{id:"gfpp",ref:"gfpp",className:t({gfpp:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:this.getKey(),onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onClick:this.stopEventPropagation},this.getTopLevelProps()),t.map(this.props.buttons,function(o,n){return e.createElement(i,t.assign({},{key:o.icon||o.label||o.tooltip,className:t(this.getButtonClasses(o)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+(o.className||"")},t.omit(this.getButtonProps(o),"className")))}.bind(this))]))}}),define("rEditor/rootComps/gfpp/gfpp",["lodash","reactDOM","create-react-class","prop-types","coreUtilsLib","higherOrderComponents","rEditor/rootComps/gfpp/gfppMapper","rEditor/rootComps/gfpp/gfpp.rt","experiment"],function(e,t,o,n,i,a,r,s,l){"use strict";var c=o({displayName:"GFPP",propTypes:{selectedComponents:n.arrayOf(n.object).isRequired,buttons:n.arrayOf(n.object).isRequired,previewState:n.string,setComponentPreviewState:n.func.isRequired,openHelpCenter:n.func.isRequired,setGFPPMeasureFunc:n.func.isRequired},componentWillMount:function(){this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,this.props.previewState||null)},componentDidMount:function(){this.props.setGFPPMeasureFunc(this.getSize)},componentWillUnmount:function(){this.props.setGFPPMeasureFunc(null),this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,null)},componentWillReceiveProps:function(t){!e.isEqual(this.props.selectedComponent,t.selectedComponent)&&(this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,null),this.props.setComponentPreviewState(e.head(t.selectedComponents).id,t.previewState||null))},getTopLevelProps:function(){return e.pick(this.props,["style"])},getButtonProps:function(t){return t.isApplied&&e.assign(t,{label:t.label_active||t.label,icon:t.icon_active||t.icon,tooltip:t.tooltip_active||t.tooltip}),t.helpId&&e.isUndefined(t.onClick)&&(t.onClick=function(){this.props.openHelpCenter(t.helpId)}.bind(this)),t.selectedComponent=this.props.selectedComponents,t},getSize:function(){if(this.refs.gfpp){var o=i.domMeasurements.getBoundingRect(t.findDOMNode(this.refs.gfpp));return e.pick(o,["width","height"])}},stopEventPropagation:function(e){e.stopPropagation()},getKey:function(){return e.head([].concat(this.props.selectedComponents)).id+"_"+e.size([].concat(this.props.selectedComponent))},getButtonClasses:function(e){return{disabled:e.isDisabled,selected:e.isSelected,applied:l.isOpen("se_gfpp_indications")&&e.isApplied}},render:s}),p=e.flow(a.renderWhenMutated,a.connectEditorAPI(r))(c);return p.pure=c,p}),define("rEditor/rootComps/selectionBox/selectionBoxCommons",["lodash","experiment"],function(e,t){"use strict";function o(t,o,n){for(var i=e.head(o);i&&!function(t,o){return e.some(t,function(e){return e(o)})}(n,i);)i=t.components.getContainer(i);return i}function n(e){return e?"fixed":"absolute"}return{getPosition:n,getBoundingStyle:function(o,i,a,r){var s=0,l=0;e.size(a)>1&&(l=2*(s=2));var c=i.bounding,p={position:n(o),top:i.bounding.y-r-s,left:i.bounding.x-r-s,width:c.width+l,height:c.height+l};if(t.isOpen("se_editBoxPerformance")){var d="translate3d("+(c.x-r-s)+"px,"+(c.y-r-s)+"px,0)";p.top=0,p.left=0,p.WebkitTransform=d,p.transform=d}return p},findFirstContainerMatchingConditions:o}}),define("rEditor/rootComps/selectionBox/focusBoxMapper",["constants"],function(e){"use strict";function t(t,o){return{containerLayout:t.components.layout.getRelativeToScreen(o.focusedContainer),previewPosition:t.getPreviewPosition(),componentUIColor:function(t,o){return t.components.isShowOnAllPages(o)||t.components.isShowOnSomePages(o)?e.COMPONENT_UI_COLORS.ORANGE:e.COMPONENT_UI_COLORS.BLUE}(t,o.focusedContainer),isShowOnFixedPosition:t.components.layout.isShowOnFixedPosition([o.focusedContainer]),focusBoxNavType:t.components.is.focusBoxNavType(o.focusedContainer),modesAvailableInView:t.components.modes.getComponentModesAvailableInView(o.focusedContainer),modes:t.components.modes.getModes(o.focusedContainer),focusBoxNavContent:t.components.is.focusBoxNavContent(o.focusedContainer),activeModeIds:t.components.modes.getComponentActiveModeIds(o.focusedContainer),activateComponentMode:t.components.modes.activateComponentMode,deactivateComponentMode:t.components.modes.deactivateComponentMode,closePanelByName:t.panelManager.closePanelByName,selectComponentByCompRef:t.selection.selectComponentByCompRef,biError:t.documentServices.bi.error,refreshNavControlsSize:t.refreshNavControlsSize,hasOpacity:function(e,t){return e.components.is.descendantOfRepeaterItem(t)}(t,t.selection.getSelectedComponents())}}return t}),define("rEditor/rootComps/selectionBox/controllers/tab.rt",["react","lodash","util"],function(e,t,o){"use strict";return function(){return e.createElement("label",{className:"label-controller tab "+this.props.tabClass+" "+t({active:this.props.tab.active}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(){this.props.onTabClick(this.props.tab)}.bind(this)},e.createElement("div",{className:"label"},"\n        ",this.getTabLabel(),"\n    "),e.createElement("div",{className:"action",key:this.props.tabsAnimationText},"\n        ",o.translate(this.props.tabsAnimationText),"\n    "))}}),define("rEditor/rootComps/selectionBox/controllers/tab",["lodash","create-react-class","prop-types","util","rEditor/rootComps/selectionBox/controllers/tab.rt"],function(e,t,o,n,i){"use strict";return t({displayName:"selectionBoxTab",propTypes:{tab:o.shape({modeId:o.string.isRequired,label:o.string.isRequired,active:o.bool.isRequired}).isRequired,onTabClick:o.func.isRequired,translate:o.bool,tabClass:o.string.isRequired,tabsAnimationText:o.string},getTabLabel:function(){return this.props.translate?n.translate(this.props.tab.label):this.props.tab.label},render:i})}),define("rEditor/rootComps/selectionBox/controllers/tabsController.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tab","uiAnimations"],function(e,t,o,n){"use strict";return function(){return e.createElement.apply(this,["div",{className:this.getTabControllerClasses()},t.map(this.props.tabs,function(t,i){return e.createElement(n.tabIndicationAnimation,{selectors:{label:".label",action:".action"},key:i+"-"+t.id,direction:this.props.isPositionTop?1:-1,immediatePlay:this.state.tabsAnimationStatus[i]},e.createElement(o,{tab:t,tabClass:this.tabIndexClass(i),translate:this.props.translate,onTabClick:this.props.onTabClick,tabsAnimationText:this.state.tabsAnimationText}))}.bind(this))])}}),define("rEditor/rootComps/selectionBox/controllers/tabsController",["lodash","constants","create-react-class","prop-types","rEditor/rootComps/selectionBox/controllers/tabsController.rt"],function(e,t,o,n,i){"use strict";function a(t){if(!t.tabIndicationState)return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1)),tabsAnimationText:""};switch(t.tabIndicationState.indication){case"DELETE":return{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_DELETED"};case"APPLY":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"}:{tabsAnimationStatus:e(t.tabs).map("active").map(e.negate(e.identity)).value(),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"};case"ADD":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"}:{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!0)),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"};default:return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1))}}}return o({displayName:"tabsController",propTypes:{tabs:n.arrayOf(n.shape({modeId:n.string,label:n.string.isRequired,active:n.bool.isRequired})).isRequired,translate:n.bool,tabIndicationState:n.shape({indication:n.string.isRequired,activeMode:n.bool}),onTabClick:n.func.isRequired,isPositionTop:n.bool.isRequired,componentUIColor:n.oneOf(e.values(t.COMPONENT_UI_COLORS))},getInitialState:function(){return a(this.props)},componentWillReceiveProps:function(e){this.setState(a(e))},getReversedTabs:function(){return e(this.props.tabs).cloneDeep().reverse()},getTabControllerClasses:function(){var o=e({"tabs-controller":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}).pickBy().keys().value();return(this.props.className||"")+" "+o.join(" ")},tabIndexClass:function(e){return 1===this.props.tabs.length?"left-most-tab right-most-tab":e===this.props.tabs.length-1?"right-most-tab":0===e?"left-most-tab":""},render:i})}),define("rEditor/rootComps/selectionBox/controllers/paginationController.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:this.getPaginationControllerClasses(),'"':!0},e.createElement("span",{className:"arrow prev-arrow",onClick:this.onPrev}),e.createElement("span",{className:"middle-label",onClick:this.onLabelClick},this.getLabel()),e.createElement("span",{className:"arrow next-arrow",onClick:this.onNext}))}}),define("rEditor/rootComps/selectionBox/controllers/paginationController",["create-react-class","prop-types","lodash","core","constants","util","rEditor/rootComps/selectionBox/controllers/paginationController.rt"],function(e,t,o,n,i,a,r){"use strict";return e({displayName:"paginationController",render:r,mixins:[a.translationMixin],propTypes:{label:t.string.isRequired,labelParams:t.object.isRequired,onNext:t.func.isRequired,onPrev:t.func.isRequired,onLabelClick:t.func.isRequired,componentUIColor:t.oneOf(o.values(i.COMPONENT_UI_COLORS))},getLabel:function(){return this.translateTemplate(this.props.label,this.props.labelParams)},onNext:function(){this.props.onNext()},onPrev:function(){this.props.onPrev()},getPaginationControllerClasses:function(){var e=o({"pagination-controller":!0,"components-ui-color-orange":this.props.componentUIColor===i.COMPONENT_UI_COLORS.ORANGE}).pickBy().keys().value();return(this.props.className||"")+" "+e.join(" ")},onLabelClick:function(){this.props.onLabelClick()}})}),define("rEditor/rootComps/selectionBox/navControls.rt",["react","lodash","util","baseUI","rEditor/rootComps/selectionBox/controllers/tabsController","rEditor/rootComps/selectionBox/controllers/paginationController"],function(e,t,o,n,i,a){"use strict";return function(){function o(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}return e.createElement("div",{onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.getCalculatedStyle(),className:"nav-controls "+this.getPositionClass()},this.props.navType===n.uiConstants.NAVIGATION_TYPES.TABS?e.createElement(i,o({key:"tabsController",className:this.getPositionClass(),isPositionTop:this.isPositionTop(),componentUIColor:this.props.componentUIColor,tabIndicationState:this.props.tabIndicationState},this.props.content)):null,this.props.navType===n.uiConstants.NAVIGATION_TYPES.PAGINATION?e.createElement(a,o({key:"paginationController",componentUIColor:this.props.componentUIColor,biError:this.props.biError,className:this.getPositionClass()},this.props.content)):null)}}),define("rEditor/rootComps/selectionBox/navControls",["create-react-class","prop-types","lodash","core","constants","rEditor/rootComps/selectionBox/navControls.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"navControls",propTypes:{navType:t.oneOf(o.values(i.UI.NAVIGATION_TYPES)),content:t.object.isRequired,componentUIColor:t.oneOf(o.values(i.COMPONENT_UI_COLORS)),style:t.object,onMouseEnterControls:t.func,onMouseLeaveControls:t.func},onMouseEnter:function(){o.isFunction(this.props.onMouseEnterControls)&&this.props.onMouseEnterControls()},onMouseLeave:function(){o.isFunction(this.props.onMouseLeaveControls)&&this.props.onMouseLeaveControls()},stopEventPropagation:function(e){e.stopPropagation()},getPositionClass:function(){return this.isPositionTop()?"comp-top":"comp-bottom"},isPositionTop:function(){return o.get(this.props,"style.top")!==i.UI.NAVIGATION_CONTROLS_POS.BOTTOM},getCalculatedStyle:function(){return{marginLeft:this.props.style&&this.props.style.left||0}},render:a})}),define("rEditor/rootComps/selectionBox/focusBox.rt",["react","lodash","rEditor/rootComps/selectionBox/navControls"],function(e,t,o){"use strict";return function(){return function(){this.getFocusedContainerLayout();var n=this.getNavControlsContent();return e.createElement("div",{className:t(this.getFocusBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFocusBoxStyle()},e.createElement(o,{ref:"navControls",style:this.props.navControlsStyle,navType:this.getNavType(),content:n,biError:this.props.biError,componentUIColor:this.props.componentUIColor,isShowOnSomePages:this.props.isShowOnSomePages,onMouseEnterControls:this.onMouseEnterControls,onMouseLeaveControls:this.onMouseLeaveControls,tabIndicationState:this.props.tabIndicationState}),e.createElement("div",{className:"focus-frame"}))}.apply(this,[])}}),define("rEditor/rootComps/selectionBox/focusBox",["create-react-class","prop-types","reactDOM","lodash","core","constants","coreUtilsLib","higherOrderComponents","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment","rEditor/rootComps/selectionBox/focusBoxMapper","rEditor/rootComps/selectionBox/focusBox.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d){"use strict";function u(e,t){var o=void 0;switch(t.type){case"DEFAULT":o="HOVER_BOX_STATE_REGULAR";break;case"HOVER":o="HOVER_BOX_STATE_HOVER";break;case"SCROLL":o="scroll > "+t.params.scrollPos;break;case"WIDTH":o="width > "+t.params.width;break;default:o=t.label||"unknown-mode"}return n.assign({},t,{active:!!e[t.modeId],label:o})}var m=e({displayName:"focusBox",propTypes:{tabIndicationState:t.object.isRequired,navControlsStyle:t.object.isRequired,componentUIColor:t.oneOf(n.values(a.COMPONENT_UI_COLORS)),isShowOnFixedPosition:t.bool.isRequired,focusedContainer:t.object.isRequired,containerLayout:t.object.isRequired,previewPosition:t.object.isRequired,focusBoxNavType:t.string,modes:t.array.isRequired,focusBoxNavContent:t.object,activeModeIds:t.object.isRequired,activateComponentMode:t.func.isRequired,closePanelByName:t.func.isRequired,selectComponentByCompRef:t.func.isRequired,selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,biError:t.func.isRequired,refreshNavControlsSize:t.func.isRequired},getInitialState:function(){return{mouseOverNavControls:!1}},getFocusedContainerLayout:function(){return l.getBoundingStyle(this.props.isShowOnFixedPosition,this.props.containerLayout,[this.props.focusedContainer],0)},getFocusBoxClasses:function(){return{focusbox:!0,"components-ui-color-orange":this.props.componentUIColor===a.COMPONENT_UI_COLORS.ORANGE,"with-opacity":this.props.hasOpacity}},getFocusBoxStyle:function(){var e=this.getFocusedContainerLayout();return"fixed"===e.position&&(e.top+=this.props.previewPosition.top,e.left+=this.props.previewPosition.left),e},getNavControlsSize:function(){if(this.refs.navControls){var e=r.domMeasurements.getBoundingRect(o.findDOMNode(this.refs.navControls));return n.pick(e,["width","height"])}return!1},onMouseEnterControls:function(){this.state.mouseOverNavControls||this.setState({mouseOverNavControls:!0})},onMouseLeaveControls:function(){this.state.mouseOverNavControls&&this.setState({mouseOverNavControls:!1})},getNavType:function(){return this.componentHaveModes()?a.UI.NAVIGATION_TYPES.TABS:this.props.focusBoxNavType},getNavControlsContent:function(){return this.componentHaveModes()?this.getModesTabsContent():this.props.focusBoxNavContent},getModesTabsContent:function(){return{tabs:this.createModeTabs(),translate:!0,onTabClick:function(e){return this.handleTabClick(e)}.bind(this)}},createModeTabs:function(){return n.map(this.props.modesAvailableInView,n.partial(u,this.props.activeModeIds))},handleTabClick:function(e){if(this.props.activeModeIds[e.modeId])this.props.selectComponentByCompRef(this.props.focusedContainer),c.isOpen("applicativeModes")&&this.props.deactivateComponentMode(this.props.focusedContainer,e.modeId);else{this.props.activateComponentMode(this.props.focusedContainer,e.modeId);var t=n.head(n.filter(this.props.modes,{type:"DEFAULT"}));t&&t.modeId===e.modeId&&function(e){n.forEach(["compPanels.dynamicPanels.animationPanel"],e)}(this.props.closePanelByName)}},componentHaveModes:function(){return!n.isEmpty(this.props.modes)},componentDidMount:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},componentDidUpdate:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},componentWillUnmount:function(){this.props.refreshNavControlsSize(!1)},render:d}),g=s.connectEditorAPI(p)(s.renderWhenMutated(m));return g.pure=m,g}),define("rEditor/utils/mouseMoveActions/closeGaps",["lodash","core","constants"],function(e,t,o){"use strict";var n=t.utils.mouseCoordinatesHandler,i=void 0,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,p=void 0;return{start:function(e,t){a=e,i=t.comps,r=a.components.is.page(i);var o=a.siteSegments.getGaps();c=o[s=r?"headerToPagesGap":"pagesToFooterGap"]||0;var l=n.fitMouseCoordinatesToViewer(a,t.evt);p=l.pageY},on:function(t){var o=n.fitMouseCoordinatesToViewer(a,t),i=p-o.pageY,r=e.max([0,c-i]),d=e.set({},s,r);l=r,a.siteSegments.updateGaps(d)},end:function(e){n.fitMouseCoordinatesToViewer(a,e).pageY<p&&(a.bi.event(t.bi.events.editBox.DRAG_GAP,{gap_type:s,gap_size_start:c,gap_size_end:l}),a.history.add("gap updated"))},type:o.MOUSE_ACTION_TYPES.CLOSE_GAPS}}),define("rEditor/utils/mouseMoveActions/baseResize",["lodash","core","experiment","constants","util"],function(e,t,o,n,i){"use strict";function a(e){return{x:e.pageX,y:e.pageY}}function r(){return function(t){var o=P.components.getType(t);return e.has(I,o)}(m)?function(t){var o=P.components.getType(t),n=I[o],i=e.isFunction(n)?n(m):!!n,a=e.pick(O,["topRight","topLeft","bottomRight","bottomLeft"]),r=e.includes(a,y);return(P.getCompRestrictions(m).resizeOnlyProportionally||!h)&&r&&i}(m):(h||P.components.is.group(m)||P.multiselect.isMultiselect(m))&&P.components.is.proportionallyResizable(m)}function s(t){var o=a(t),n=function(e){return M[e]}(f),i=P.components.layout.getRelativeToScreen(m),s=P.components.getType(m);v=r(),function(t){return e.has(_,t)}(s)&&(i=function(e,t){return _[t](e)}(i,s));var l=function(t){if(P.components.is.repeaterItem(m)){var o=P.components.getContainer(m),n=P.components.layout.get(o),i=P.components.getChildren(o),a=e.findIndex(i,m[0]);if("right"===f||"left"===f){var r=Math.floor(n.width/t.width),s=(a+1)%r;return 0===s?r:s}if("bottom"===f||"top"===f){var l=Math.floor(n.height/t.height),c=(a+1)%l;return 0===c?l:c}}return 1}(i);g=new u.Resize(i,o,n,v,l),E=P.components.layout.getProportionStructure(m,n)}function l(t,n){m=(P=t).multiselect.getComponentsWhichDontHaveAncestorsInTheArray(n.comps);var i=e.map(m,"id");P.documentServices.renderPlugins.setCompsToShowOnTop(i),o.isOpen("changeOpacityOnDrag")&&P.documentServices.renderPlugins.setCompsToShowWithOpacity(i,.9),h=n.evt.shiftKey,o.isOpen("se_unpackTextReportOnTextHeightChange")&&(C=n.evt.clientY),f=n.directionName,b=new d(P,n.comps),y=function(e){return O[e]}(n.directionName),T=e.map(m,function(e){return new S(P,e)}),e.forEach(T,function(e){e.highlightDragConstraints()}),s(n.evt),o.isOpen("se_continuous_actions")&&(v?P.components.layout.continuousUpdateAndPreserveProportions.start():P.components.layout.continuousUpdate.start())}function c(e){var n=a(e),i=e.altKey;if(h!==e.shiftKey){h=e.shiftKey;var l=v;s(e),l!==v&&o.isOpen("se_continuous_actions")&&(v?(P.components.layout.continuousUpdate.end(),P.components.layout.continuousUpdateAndPreserveProportions.start()):(P.components.layout.continuousUpdateAndPreserveProportions.end(),P.components.layout.continuousUpdate.start()))}var c=g.getLayout(n);P.getViewTools().snapToEnabled&&0===c.rotationInDegrees&&function(e){var t=b.getClosestLayoutDistance(P,e,y);Math.abs(t.x)<5&&(y.right?(r()&&e.height&&(e.height+=t.x),e.width+=t.x):y.left&&(r()&&e.height&&(e.height-=t.x),e.x+=t.x,e.width-=t.x)),Math.abs(t.y)<5&&(y.top?(r()&&e.width&&(e.width-=t.y),e.y+=t.y,e.height-=t.y):y.bottom&&(r()&&e.width&&(e.width+=t.y),e.height+=t.y))}(c);var p=P.components.layout.getRelativeToScreen(m);c=t.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(P,m[0],c,p),o.isOpen("se_continuous_actions")?v?P.components.layout.continuousUpdateAndPreserveProportions.on(m,c,E):P.components.layout.continuousUpdate.on(m,c,!0):v?P.components.layout.updateRelativeToScreenAndPreserveProportions(m,c,E):P.components.layout.updateRelativeToScreen(m,c,!0),P.documentServices.waitForChangesApplied(function(){if(b){var e=P.components.layout.getRelativeToScreen(m);i?function(e){if(y.right)e.width-=e.width%5;else if(y.left){var t=e.x%5;e.x-=t,e.width+=t}if(y.top){var o=e.y%5;e.y-=o,e.height+=o}else y.bottom&&(e.height-=e.height%5)}(e):P.getViewTools().snapToEnabled&&0===e.rotationInDegrees&&function(e){var t=b.getSnapData(e,y);P.snapData.set(t)}(e)}})}function p(n){if(o.isOpen("se_unpackTextReportOnTextHeightChange")&&function(e){if(e&&"wysiwyg.viewer.components.WRichText"===P.components.getType(m)&&"bottom"===f){var o="increase";e.clientY<C?o="decrease":e.clientY===C&&(o="no change"),C=null,P.bi.event(t.bi.events.editBox.TEXT_COMPONENT_RESIZE,{value:o})}}(n),b=null,o.isOpen("se_continuous_actions")&&(v?P.components.layout.continuousUpdateAndPreserveProportions.end():P.components.layout.continuousUpdate.end()),P.snapData.clear(),P.documentServices.renderPlugins.setCompsToShowOnTop(null),o.isOpen("changeOpacityOnDrag")&&P.documentServices.renderPlugins.setCompsToShowWithOpacity(null),P.history.add("Resize component"),e.forEach(T,function(e){e.removeHighlightDragConstraints()}),T=[],P.components.layout.isPinned(m)){var a=P.components.layout.getDock(m),r=i.pinModeUtils.getDockedDirection(a),s=P.components.layout.get(m);i.pinModeUtils.checkSizeRestrictions(r,s)&&P.panelHelpers.openPinModeSizeRestrictionPanel({state:"on resize",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}var d=t.utils.SnapToHandler,u=t.utils.layoutTransitionsUtil,m=void 0,g=void 0,h=void 0,f=void 0,b=void 0,y=void 0,v=void 0,P=void 0,E=void 0,S=t.utils.DragConstraintsHandler,T=[],C=void 0,I={"wysiwyg.viewer.components.WPhoto":function(e){return"stretch"!==P.components.properties.get(e).displayMode},"wysiwyg.viewer.components.SiteButton":!0,"wysiwyg.viewer.components.inputs.Checkbox":!0,"wysiwyg.common.components.imagebutton.viewer.ImageButton":!0,"wysiwyg.viewer.components.ClipArt":!0,"wysiwyg.viewer.components.svgshape.SvgShape":!0,"wysiwyg.viewer.components.MatrixGallery":!0,"tpa.viewer.components.Thumbnails":!0,"wysiwyg.viewer.components.PaginatedGridGallery":!0,"wysiwyg.viewer.components.SlideShowGallery":!0,"wysiwyg.viewer.components.Video":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0,"wysiwyg.viewer.components.inputs.RadioButton":!0,"wysiwyg.viewer.components.MediaPlayer":!0,"wysiwyg.viewer.components.MediaOverlayControls":!0,"wysiwyg.viewer.components.VectorImage":!0,"wysiwyg.viewer.components.WRichText":!1},_={"wysiwyg.viewer.components.PopupContainer":function(t){var o=P.components.properties.get(m);return e.assign({},t,{symmetry:{horizontal:"center"===o.horizontalAlignment,vertical:"center"===o.verticalAlignment}})}},O={right:{right:!0},left:{left:!0},top:{top:!0},bottom:{bottom:!0},topRight:{top:!0,right:!0},topLeft:{top:!0,left:!0},bottomRight:{bottom:!0,right:!0},bottomLeft:{bottom:!0,left:!0}},M={right:{x:1,y:0},left:{x:-1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},topRight:{x:1,y:-1},topLeft:{x:-1,y:-1},bottomRight:{x:1,y:1},bottomLeft:{x:-1,y:1}};return{start:l,on:c,end:p,type:n.MOUSE_ACTION_TYPES.RESIZE}}),define("rEditor/utils/mouseMoveActions/pageResize",["lodash","core","constants"],function(e,t,o){"use strict";function n(e){return{x:e.pageX,y:e.pageY}}function i(t){var i=n(t).y-s.y;c=Math.max(function(e){var t=l+e,n=r.isMobileEditor()?o.CONSTRAINS.PAGE_MIN_HEIGHT.MOBILE:o.CONSTRAINS.PAGE_MIN_HEIGHT.DESKTOP;return Math.max(t,n)}(i),u),r.pages.properties.update(p,{minHeight:c}),d=!e.isEqual(c,l)}function a(){r.history.add("Resize page")}var r=void 0,s=void 0,l=void 0,c=void 0,p=void 0,d=void 0,u=void 0;return{start:function(e,t){var o=(r=e).documentServices.pages.getPrimaryPageId();s=n(t.evt),p=r.documentServices.pages.getReference(o),u=r.pages.getPageBottomByComponents(p.id),l=r.components.layout.get(p).height},on:i,end:function(){d&&(a(),r.bi.event(t.bi.events.pageResize.PAGE_MIN_HEIGHT_RESIZE,{yCoordinate_new:c,yCoordinate_old:l}),d=!1)},reset:function(){r.pages.properties.update(p,{minHeight:null}),a()},type:o.MOUSE_ACTION_TYPES.RESIZE_PAGE}}),define("rEditor/utils/mouseMoveActions/baseResizeAndPush",["lodash","core","experiment","constants"],function(e,t,o,n){"use strict";function i(e){var t=r.fitMouseCoordinatesToViewer(l,e);return{x:t.pageX,y:t.pageY}}var a=t.utils.layoutTransitionsUtil,r=t.utils.mouseCoordinatesHandler,s=void 0,l=void 0,c=void 0;return{start:function(t,n){l=t,s=n.comps,l.selection.setIsMouseUpSelectionEnabled(!1);var r=e.map(s,"id");l.documentServices.renderPlugins.setCompsToShowOnTop(r),o.isOpen("se_continuous_actions")&&l.components.layout.continuousUpdateAndAdjustLayout.start();var p=i(n.evt),d=l.components.layout.getRelativeToScreen(s);c=new a.Resize(d,p,{x:0,y:1},!1)},on:function(t){var n=i(t),a=c.getLayout(n),r=l.components.layout.getMinDimensions(s);a.bounding=l.utils.getBoundingLayout(a),a.height>=r.height&&(o.isOpen("se_continuous_actions")?l.components.layout.continuousUpdateAndAdjustLayout.on(s,e.pick(a,["height","width"]),!0):l.components.layout.updateRelativeToScreenAndAdjustLayout(s,e.pick(a,["height","width"]),!0))},end:function(){o.isOpen("se_continuous_actions")&&l.components.layout.continuousUpdateAndAdjustLayout.end(),l.documentServices.renderPlugins.setCompsToShowOnTop(null),l.history.add("Resize component")},type:n.MOUSE_ACTION_TYPES.RESIZE_PUSH}}),define("rEditor/utils/mouseMoveActions/baseRotate",["lodash","core","constants"],function(e,t,o){"use strict";function n(e){!function(e){e.rotationInDegrees<0&&(e.rotationInDegrees+=360);var t=e.rotationInDegrees%m;t<=u?e.rotationInDegrees-=t:t>=m-u&&(e.rotationInDegrees+=m-t)}(e),d.components.layout.updateRelativeToScreen(p,e,!0)}function i(e){var t=r.fitMouseCoordinatesToViewer(d,e),o={x:t.pageX,y:t.pageY},i=c.getLayout(o);e.shiftKey?(s||(l=d.components.layout.getRelativeToScreen(p).rotationInDegrees),function(e){var t=Math.floor(l<0?l+360:l),o=Math.floor(e.rotationInDegrees<0?e.rotationInDegrees+360:e.rotationInDegrees)-t,n=Math.floor(o/g);e.rotationInDegrees=l+n*g,d.components.layout.updateRelativeToScreen(p,e,!0)}(i)):n(i),s=e.shiftKey}var a=t.utils.layoutTransitionsUtil,r=t.utils.mouseCoordinatesHandler,s=!1,l=void 0,c=void 0,p=void 0,d=void 0,u=3,m=90,g=15;return{start:function(t,o){p=o.comps,(d=t).selection.setIsMouseUpSelectionEnabled(!1);var n=e.map(p,"id");d.documentServices.renderPlugins.setCompsToShowOnTop(n);var i=d.components.layout.getRelativeToScreen(p),s=d.getPreviewPosition(),l=e.defaults({y:i.y+s.top,x:i.x+s.left},i),u=r.fitMouseCoordinatesToViewer(d,o.evt),m={x:u.pageX,y:u.pageY};c=new a.Rotate(i,m,l)},on:i,end:function(){d.documentServices.waitForChangesApplied(function(){var e=d.components.layout.get(p).rotationInDegrees;d.bi.event(t.bi.events.editBox.ROTATE_COMPONENT,{value:parseInt(e,10),origin:"editBox"})}),d.documentServices.renderPlugins.setCompsToShowOnTop(null),d.history.add("Rotate component")},type:o.MOUSE_ACTION_TYPES.ROTATE}}),define("rEditor/utils/mouseMoveActions/baseDragAndPush",["lodash","core","experiment","constants"],function(e,t,o,n){"use strict";function i(t){var o=c.components.getContainer(l),n=c.components.layout.getRelativeToScreen(o),i=function(t){var o=c.components.getSiblings(l),n=e(o).map(function(e){return c.components.layout.getRelativeToScreen(e)}).filter(function(e){return function(e,t){var o=t.x+t.width<=e.x,n=t.x>=e.x+e.width;return!(o||n)&&t.y+t.height<=e.y}(t,e)}).value();if(0===n.length)return 0;var i=e.maxBy(n,function(e){return e.y+e.height});return i.y+i.height}(t);return Math.max(i,n.y)}var a=t.utils.layoutTransitionsUtil,r=t.utils.mouseCoordinatesHandler,s=void 0,l=void 0,c=void 0,p=void 0,d=0,u=void 0;return{start:function(t,n){c=t,l=n.comps,u=n.onDragAndPushEnd;var p=e.map(l,"id");c.documentServices.renderPlugins.setCompsToShowOnTop(p),o.isOpen("se_continuous_actions")&&c.components.layout.continuousUpdateAndAdjustLayout.start();var m=e.omit(c.components.layout.getRelativeToScreen(l),"bounding"),g=e.map(l,function(t){return e.omit(c.components.layout.getRelativeToScreen(t),"bounding")});d=i(m);var h=r.fitMouseCoordinatesToViewer(c,n.evt),f={x:h.pageX,y:h.pageY};s=new a.Drag(m,f,g)},on:function(t){var n=r.fitMouseCoordinatesToViewer(c,t),i={x:n.pageX,y:n.pageY},a=s.getLayout(i);a.y=Math.max(a.y,d),p=s.getBoundComponentLayouts(a);for(var u=0;u<l.length;u++)o.isOpen("se_continuous_actions")?c.components.layout.continuousUpdateAndAdjustLayout.on(l[u],e.pick(p[u],"y")):c.components.layout.updateRelativeToScreenAndAdjustLayout(l[u],e.pick(p[u],"y"))},end:function(){if(o.isOpen("se_continuous_actions"))c.components.layout.continuousUpdateAndAdjustLayout.end();else if(p){for(var t=0;t<l.length;t++)c.components.layout.updateRelativeToScreen(l[t],e.pick(p[t],"y"));p=null}c.documentServices.waitForChangesApplied(function(){c.documentServices.renderPlugins.setCompsToShowOnTop(null)}),e.isFunction(u)&&u()},type:n.MOUSE_ACTION_TYPES.DRAG_PUSH}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt",["react","lodash","util","symbols","uiConstants"],function(e,t,o,n,i){"use strict";return function(){return e.createElement("div",{className:"quick-tip",onMouseDown:this.onMouseDown,style:{padding:"6px"}},e.createElement("div",{className:"close-quick-tip",onClick:this.close},e.createElement("span",{},e.createElement(n.symbol,{name:"bubble-close"}))),e.createElement("div",{className:"quick-tip-image"},e.createElement(n.symbol,{name:"idea-bulb"})),e.createElement("div",{className:"text-container",style:{textAlign:"left"}},e.createElement("div",{className:"text"},"\n            ",o.translate(this.props.text),"\n        "),e.createElement("div",{className:"text link-action",onClick:this.onLinkClick},"\n\n            ",o.translate(this.props.linkActionText),"\n        ")))}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion",["create-react-class","prop-types","core","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt"],function(e,t,o,n){"use strict";return e({displayName:"applyModeFromClipboardSuggestion",mixins:[o.mixins.editorAPIMixin],propTypes:{text:t.string.isRequired,linkActionText:t.string.isRequired},componentWillUnmount:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},close:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},onMouseDown:function(e){e.stopPropagation()},onLinkClick:function(e){e.preventDefault(),this.getEditorAPI().copyPaste.removePastedComponentAndApplyModeFromClipboard()},render:n})}),define("rEditor/utils/mouseMoveActions/baseDoubleClick",["lodash","core","gfppData"],function(e,t,o){"use strict";return{doubleClick:function(n,i){var a=n.components.getType(i.comp),r=n.pluginService.getPlugin(n.pluginService.pluginConstants.DOUBLE_CLICK,a);if(e.isFunction(r))r(n,i);else{var s=o.getComponentMainActionClick(n,i.comp);e.isFunction(s)&&s(n,i.comp,t.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}}),define("rEditor/rootComps/selectionBox/editBoxMapper",["lodash","core","constants","rEditor/utils/mouseMoveActions/baseDoubleClick","util","stateManagement","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o,n,i,a,r){"use strict";function s(e,t,o){var n=e.components.layout.getRelativeToScreen(t);if(o){var i=e.getPreviewPosition();n.y+=i.top,n.bounding.y+=i.top,n.x+=i.left,n.bounding.x+=i.left}return n}function l(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)?o.COMPONENT_UI_COLORS.ORANGE:o.COMPONENT_UI_COLORS.BLUE}function c(o,n,i,a,r,s){var l=o.components.is.page(n),c=o.documentServices.components.layout.RESIZE_SIDES,p=e.difference(a.resizeableSides,a.disabledKnobs),d=o.components.layout.isPinned(n),m=!o.multiselect.isMultiselect(n)&&o.components.layout.getDock(n)||{},g=o.components.layout.isHorizontallyStretchedToScreen(n),h=a.canResizeDiagonally,f=a.resizeOnlyProportionally,b=function(t,o){var n=t?u.MOBILE:u.DESKTOP;return e.some(o,function(e){return n[e]})}(o.isMobileEditor(),s),y=e.includes(p,c.TOP)&&!b,v=e.includes(p,c.BOTTOM)&&!b,P=e.includes(p,c.LEFT),E=e.includes(p,c.RIGHT),S=!g&&(y&&P&&h||f&&!m.top&&!m.left),T=!g&&(y&&E&&h||f&&!m.top&&!m.right),C=!g&&(v&&P&&h||f&&!m.bottom&&!m.left),I=!g&&(v&&E&&h||f&&!m.bottom&&!m.right),_=o.siteSegments.getGaps(),O="FooterContainer"===r,M=e.has(_,"pagesToFooterGap"),A=O&&M;return{top:y,bottom:v,left:P,right:E,topLeft:S,topRight:T,bottomLeft:C,bottomRight:I,closeGaps:l&&e.has(_,"headerToPagesGap")||A,dragAndPush:function(e,t,o,n){var i=e.multiselect.containsSiblingsOnly(t),a=e.components.layout.isPinned(t),r=e.components.is.repeaterItem(t)||e.components.is.descendantOfRepeaterItem(t),s=0!==o.rotationInDegrees;return i&&(n.verticallyMovable||n.canMoveUp)&&n.anchorableFrom&&!a&&!r&&!s}(o,n,i,a),resizeOnlyProportionally:a.resizeOnlyProportionally,resizeAndPush:function(o,n,i,a){var r=e.some(n,function(e){return o.components.getType(e)===t.constants.COMP_TYPES.POPUP_CONTAINER}),s=o.components.is.repeaterItem(n)||o.components.is.descendantOfRepeaterItem(n),l=0!==i.rotationInDegrees,c=o.multiselect.isMultiselect(n),p=o.components.is.group(n),d=o.components.layout.isPinned(n);return!c&&a.verticallyResizable&&a.canResizeWithAnchors&&!a.resizeOnlyProportionally&&!d&&!r&&!p&&!s&&!l}(o,n,i,a),rotate:a.rotatable&&!d,bottomPage:l||O&&!M}}function p(t){var a=t.selection.getSelectedComponents(),p=t.components.layout.isShowOnFixedPosition(a),u=s(t,a,p),m=t.multiselect.isMultiselect(a),g=m?a:t.components.getChildren(a),h=r.getPosition(p),f=d.getCompTypeSuffix(a,t.documentServices),b=e.map(a,function(e){return t.components.getType(e)}),y=t.components.data.get(e.head(a)),v=t.components.is.groupedComponent(a),P=r.getBoundingStyle(p,u,a,1),E=t.components.is.page(a),S=t.documentServices.siteSegments.getPagesContainer(),T=t.documentServices.siteSegments.getFooter(),C=t.documentServices.siteSegments.getSiteStructure(),I=t.getCompRestrictions(E?S:a),_=t.components.is.controlledByParent(a)&&t.getCompRestrictions(t.components.getContainer(a));return{comps:a,compType:f,compTypes:b,position:h,layout:u,subComps:g,subCompLayouts:function(e,t){return t.reduce(function(o,n){var i=t&&e.components.layout.isShowOnFixedPosition(n);return o[n.id]=s(e,n,i),o},{})}(t,g),isShowOnAllPages:t.components.isShowOnAllPages(a),componentUIColor:l(t,a),subComponentsUIColor:function(e,t){return t.reduce(function(t,o){return t[o.id]=l(e,o),t},{})}(t,g),possibleLayoutActionsMap:I,relativeToStructureLayout:t.components.layout.getRelativeToStructure(a),isHorizontallyStretchedToScreen:t.components.layout.isHorizontallyStretchedToScreen(a),isSameRef:t.utils.isSameRef,registerMouseMoveAction:t.mouseActions.registerMouseMoveAction,biEvent:t.bi.event,componentType:m?"multiselect":f,setIsMouseUpSelectionEnabled:t.selection.setIsMouseUpSelectionEnabled,updateLayout:t.components.layout.update,addToHistory:t.history.add,isGroupedComponent:v,isGroup:t.components.is.group(a),areComponentsOfSamePage:t.multiselect.areComponentsOfSamePage(a),isMultiSelectKeyPressed:t.selection.isMultiSelectKeyPressed,doubleClick:e.partial(n.doubleClick,t),compsWithoutSelectedAncestors:t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(a),moveToFooter:t.components.moveToFooter,compsData:y,isMultiselect:m,isMobile:t.documentServices.viewMode.get()===t.documentServices.viewMode.VIEW_MODES.MOBILE,isMobileEditor:t.isMobileEditor(),boundingStyle:P,isShowOnFixedPosition:p,isCurrentPageLandingPage:t.isCurrentPageLandingPage(),pagesContainer:S,isPage:E,isDirectChildOfMasterPage:t.utils.isSameRef(t.components.getContainer(a),C),pagesContainerLayout:t.components.layout.getRelativeToScreen(S),footerLayout:t.components.layout.getRelativeToScreen(T),getGaps:t.siteSegments.getGaps,updateGaps:t.siteSegments.updateGaps,isUsingSectionsLayout:t.siteSegments.isUsingSectionsLayout(),canToggleShowOnAllPages:I.canToggleShowOnAllPages,isEditingText:t.text.isEditingText(),reAddedHiddenElement:t.mobile.hiddenComponents.getReAddedHiddenElement(),dimCompLabels:t.panelManager.getPanelsOfType(o.PANEL_TYPES.COMP).length>0,isContainsSiblingsOnly:t.multiselect.containsSiblingsOnly(a),isDeveloperModeEnabled:t.developerMode.isEnabled(),hideApplyModeFromClipboardSuggestion:t.copyPaste.hideApplyModeFromClipboardSuggestion,compNickname:t.components.getNickname(a[0]),compLinkValue:y&&i.link.getLinkValueAsString(t,y.link),groupAncestorStyle:function(e,t,o,n,i){var a=!o&&n?r.findFirstContainerMatchingConditions(e,t,[e.components.is.group]):null;if(!a)return null;var s=e.components.layout.getRelativeToScreen(a);return r.getBoundingStyle(i,s,t,1)}(t,a,m,v,p),setRotateKnobRect:t.setEditBoxRotateKnobRect,knobsMap:c(t,a,u,I,f,b),dimmedHandles:!1,draggable:_?_.horizontallyMovable||_.verticallyMovable:I.horizontallyMovable||I.verticallyMovable}}var d=a.components.selectors,u={DESKTOP:{"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0},MOBILE:{"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.SiteRegionContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0}};return p}),define("rEditor/rootComps/selectionBox/groupSelectionFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{},this.props.groupAncestorStyle?e.createElement("div",{key:"markContainer",className:t({layout:!0,"secondary-component":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.groupAncestorStyle}):null)}}),define("rEditor/rootComps/selectionBox/groupSelectionFrame",["create-react-class","prop-types","lodash","core","rEditor/rootComps/selectionBox/groupSelectionFrame.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"groupSelectionFrame",PropTypes:{selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,groupAncestorStyle:t.object},render:i})}),define("rEditor/rootComps/selectionBox/componentLabels.rt",["react","lodash","baseUI","constants"],function(e,t,o,n){"use strict";return function(){return e.createElement("span",{className:t(this.getContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.labelInlineStyles},this.props.isPinnedToPage?e.createElement("span",{key:"pinModeIndicator",className:t(this.getPinSymbolContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(o.symbol,{name:"pinModeIndicator",className:"symbol-pinModeIndicator"})):null,this.props.showComponentType&&this.props.componentType?e.createElement("span",{key:"componentTypeLabel",className:t(this.getComponentTypeLabelClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.componentType):null,this.props.showComponentNickname&&this.props.componentNickname?e.createElement(o.tooltip,{value:"PLATFORM_CONNECTED_ELEMENT_SETTINGS_TOOLTIP",styleType:"normal",alignment:n.UI.TOOLTIP.ALIGNMENT.TOP,key:"componentNicknameLabel",disabled:!this.props.isConnected,shouldTranslate:!0},e.createElement("span",{className:t(this.getComponentNicknameClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}," ",this.props.componentNickname)):null,this.props.infoText&&this.props.shouldShowConnectionIndication?e.createElement(o.infoIcon,{key:"infoIcon",className:"label-info-icon-container",text:this.props.infoText,symbolName:"connectedInfoIcon"}):null)}}),define("rEditor/rootComps/selectionBox/componentLabels",["lodash","constants","create-react-class","prop-types","rEditor/rootComps/selectionBox/componentLabels.rt"],function(e,t,o,n,i){"use strict";return o({displayName:"componentLabels",propTypes:{showComponentType:n.bool,showComponentNickname:n.bool,shouldShowConnectionIndication:n.bool,isLabelLarge:n.bool,isLabelBelowLine:n.bool,componentUIColor:n.oneOf(e.values(t.COMPONENT_UI_COLORS)),isPinnedToPage:n.bool,componentType:n.string,componentNickname:n.string,labelInlineStyles:n.object,isDimmed:n.bool},getContainerClasses:function(){return{"component-labels":!0,"label-small":!this.props.isLabelLarge,"label-large":this.props.isLabelLarge,"label-above-line":!this.props.isLabelBelowLine,dimmed:this.props.isDimmed}},getComponentTypeLabelClasses:function(){return{"label-comp-type":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},getComponentNicknameClasses:function(){return{"label-comp-nickname":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},getPinSymbolContainerClasses:function(){return{"symbol-container":!0,"connected-comp":this.props.showComponentNickname&&this.props.isConnected,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},render:i})}),define("rEditor/rootComps/selectionBox/editBox.rt",["react","lodash","core","baseUI","baseUILib","util","rEditor/rootComps/selectionBox/groupSelectionFrame","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,n,i,a,r,s,l){"use strict";return function(){function l(){var l=this.props.knobsMap,c=a.translate;return e.createElement.apply(this,["div",{className:t(this.getEditBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},this.hasSubComponents()?t.map(this.props.subComps,function(o,n,i,a){return e.createElement("div",{className:t(this.getSubComponentLayoutClasses(i.id)).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:a,style:this.getLayoutStyle(this.props.subCompLayouts[i.id])})}.bind(this,l,c)):null,e.createElement(r,{selectedComponents:this.props.comps,groupAncestorStyle:this.props.groupAncestorStyle}),this.shouldShowPadding()?function(t,o){var n=this.getPaddingStyle();return e.createElement("div",{className:"padding-wrapper",key:"paddingWrapper",style:n.wrapper},e.createElement("div",{className:"left-padding",style:n.left},e.createElement("div",{className:"min-indicator-margin",style:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleLeft"},this.getMarginValue("left"),"\n                "):null)),e.createElement("div",{className:"right-padding",style:n.right},e.createElement("div",{className:"min-indicator-margin",style:this.props.layout.x<56?{right:0,position:"absolute",top:this.getMarginLabelTop()}:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleRight"},this.getMarginValue("right"),"\n                "):null)))}.apply(this,[l,c]):null,e.createElement(i.Tooltip,this.getTooltipProps(),e.createElement("div",{className:t(this.getBoundingClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.boundingStyle},this.shouldShowDragBounding()?e.createElement("span",{className:"indicator dragging",key:"dragBoundingStyle"},"\n                x: ",parseInt(this.props.relativeToStructureLayout.bounding.x,10),", y: ",parseInt(this.props.relativeToStructureLayout.bounding.y,10),"\n            "):null,!this.props.possibleLayoutActionsMap.resizable&&!this.props.possibleLayoutActionsMap.resizeOnlyProportionally||this.isHorizontallyStretchedToScreen?null:e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyle"},"\n                     W: ",parseInt(this.props.relativeToStructureLayout.bounding.width,10),", H: ",parseInt(this.props.relativeToStructureLayout.bounding.height,10),"\n            "))),e.createElement(n.tooltip,{id:this.getLinkedToTooltipId(this.props.compsData),key:this.getLinkedToTooltipId(this.props.compsData),value:this.getLinkDescriptionFromData(this.props.compsData),alignment:"right",delay:"500",width:"260px",marginsFromElement:9,disabled:!this.shouldShowLinkedToTooltip(),shouldTranslate:!1,openTriggers:[n.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE,n.uiConstants.TOOLTIP.TRIGGERS.MOUSE_ENTER]},e.createElement("div",{className:t(this.getLayoutClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.isMultiselect?this.props.boundingStyle:this.getLayoutStyle(this.props.layout)},this.props.comps&&1===this.props.comps.length?e.createElement(s,{key:"compLabels",shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",showComponentNickname:this.props.isDeveloperModeEnabled,componentUIColor:this.props.componentUIColor,componentNickname:this.getComponentNickname(),labelInlineStyles:this.getComponentLabelsInlineStyles(),isDimmed:this.props.dimCompLabels}):null,l.topLeft?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_LEFT")+" handle handle-resize-corner top left","data-direction-name":"topLeft",ref:"resizeTopLeft",onMouseDown:this.startResize,key:"resizeTopLeft"}):null,l.top?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP")+" handle handle-resize-side top","data-direction-name":"top",onMouseDown:this.startResize,key:"resizeTopCenter"}):null,l.topRight?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_RIGHT")+" handle handle-resize-corner top right","data-direction-name":"topRight",onMouseDown:this.startResize,key:"resizeTopRight"}):null,l.right?e.createElement("span",{className:this.getResizeHandleCursorClass("RIGHT")+" handle handle-resize-side right","data-direction-name":"right",onMouseDown:this.startResize,key:"resizeMiddleRight"}):null,l.bottomRight?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_RIGHT")+" handle handle-resize-corner bottom right","data-direction-name":"bottomRight",onMouseDown:this.startResize,key:"resizeBottomRight"}):null,l.bottom?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM")+" handle handle-resize-side bottom","data-direction-name":"bottom",onMouseDown:this.startResize,key:"resizeBottomCenter"}):null,l.bottomPage?e.createElement(n.tooltip,{id:"pageResizeKnobTooltip",key:"pageResizeKnobTooltip",value:"OnStage_PageMinHeightHandle_Tooltip",alignment:"top",delay:"500",openTriggers:[],closeTriggers:[],onOpen:function(e,t){this.props.biEvent(o.bi.events.pageResize.PAGE_MIN_HEIGHT_TOOLTIP_APPEARED)}.bind(this,l,c)},e.createElement("span",{id:"resize-page",className:t({"footer-handle":"FooterContainer"===this.props.compType}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+this.getDragHandlersClass("resize","push"),onMouseDown:this.startPageResize,onDoubleClick:this.resetPageSize,onMouseEnter:this.showPageResizeKnobTooltip,onMouseLeave:this.hidePageResizeKnobTooltip,key:"resizeBottomPage"},e.createElement(n.symbol,{name:"adjustPageHeightButtonIcon"}),"\n                ",a.translate("OnStage_PageMinHeightHandle_Label"),"\n\n            ")):null,l.bottomLeft?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_LEFT")+" handle handle-resize-corner bottom left","data-direction-name":"bottomLeft",onMouseDown:this.startResize,key:"resizeBottomLeft"}):null,l.left?e.createElement("span",{className:this.getResizeHandleCursorClass("LEFT")+" handle handle-resize-side left","data-direction-name":"left",onMouseDown:this.startResize,key:"resizeMiddleLeft"}):null,l.rotate?e.createElement("span",{className:"handle handle-rotate",onMouseDown:this.startRotate,key:"rotate",ref:"rotate"},e.createElement(n.symbol,{name:"rotate"})):null,l.rotate&&this.isComponentRotated()?e.createElement("span",{className:"handle handle-rotate-cancel",onMouseDown:this.cancelRotation,style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"cancelRotate",ref:"cancelRotate"},e.createElement(n.symbol,{name:"rotateCancel"})):null,l.dragAndPush?e.createElement(n.tooltip,{id:"dragWithAnchorsVerticalTooltip",key:"dragWithAnchorsVerticalTooltip",value:"ONSTAGE_DragHandle_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("drag","push"),onMouseEnter:this.showDragWithAnchorsKnobTooltip,onMouseLeave:this.hideDragWithAnchorsKnobTooltip,onMouseDown:this.startDragAndPush,key:"dragWithAnchorsVertical"},e.createElement(n.symbol,{name:"pushAndEnforceAnchors"}),"\n            ",a.translate("ONSTAGE_DragHandle_Hover_Text"))):null,l.closeGaps?e.createElement(n.tooltip,{id:"closeGapsKnobTooltip",key:"closeGapsTooltip",value:this.props.isPage?"Onstage_DragPage_CloseGap_Tooltip":"OnStage_DragFooter_CloseGap_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("drag","pull"),onMouseEnter:this.showCloseGapsKnobTooltip,onMouseLeave:this.hideCloseGapsKnobTooltip,onDoubleClick:this.closeGap.bind(this,this.props.isPage),onMouseDown:this.startCloseGap},e.createElement(n.symbol,{name:"pullAndEnforceAnchors"}),a.translate(this.props.isPage?"Onstage_DragPage_CloseGap_Label":"OnStage_DragFooter_CloseGap_Label"))):null,l.resizeAndPush?e.createElement(n.tooltip,{id:"resizeWithAnchorsBottomTooltip",key:"resizeWithAnchorsBottomTooltip",value:"OnStage_StretchHandle_Tooltip",alignment:"bottom",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("resize","push"),onMouseEnter:this.showResizeWithAnchorsKnobTooltip,onMouseLeave:this.hideResizeWithAnchorsKnobTooltip,onMouseDown:this.startResizeAndPush,key:"resizeWithAnchorsBottom"},e.createElement(n.symbol,{name:"resizeAndEnforceAnchors"}),"\n            ",a.translate("OnStage_StretchHandle_Hover_Text"))):null,this.props.possibleLayoutActionsMap.rotatable?e.createElement("span",{className:"indicator",style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"rotationIndicator"},Math.floor(this.props.layout.rotationInDegrees),"°\n        "):null)),this.canBeMovedToFooter()?e.createElement("span",{className:"move-to-footer",key:"moveToFooter",style:this.getMoveToFooterStyle(),onMouseDown:this.moveToFooter},c("OnStage_MoveToFooter_Button"),"\n\n            ",e.createElement(n.symbol,{name:"moveToFooterArrow"})):null])}return l.apply(this,[])}}),define("rEditor/rootComps/selectionBox/editBox",["react","create-react-class","prop-types","lodash","core","constants","baseUI","experiment","rEditor/utils/mouseMoveActions/closeGaps","rEditor/utils/mouseMoveActions/baseResize","rEditor/utils/mouseMoveActions/pageResize","rEditor/utils/mouseMoveActions/baseResizeAndPush","rEditor/utils/mouseMoveActions/baseRotate","rEditor/utils/mouseMoveActions/baseDragAndPush","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion","util","higherOrderComponents","rEditor/rootComps/selectionBox/editBoxMapper","rEditor/rootComps/selectionBox/editBox.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h,f,b,y){"use strict";function v(e,t){var o=t-(e.bounding.y+e.bounding.height);return o>=0&&o<=P}var P=21,E={px:"px",pct:"%",vw:"%"},S=["TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT"],T=["top-left-resize-cursor","top-resize-cursor","top-right-resize-cursor","right-resize-cursor","bottom-right-resize-cursor","bottom-resize-cursor","bottom-left-resize-cursor","left-resize-cursor"],C=t({displayName:"editBox",propTypes:{comps:o.oneOfType([o.object,o.arrayOf(o.object)]).isRequired,isPinMode:o.bool,isConnectedToDataBinding:o.bool,isDim:o.bool,isResizing:o.bool,isDragging:o.bool,isRotating:o.bool,applyModeFromClipboardSuggestion:o.object,labelsOffset:o.number,layout:o.object,subComps:o.array,subCompLayouts:o.object,isShowOnAllPages:o.bool,componentUIColor:o.oneOf(n.values(a.COMPONENT_UI_COLORS)),subComponentsUIColor:o.object,possibleLayoutActionsMap:o.object,relativeToStructureLayout:o.object,isHorizontallyStretchedToScreen:o.bool,isSameRef:o.func,registerMouseMoveAction:o.func,biEvent:o.func,componentType:o.string,setIsMouseUpSelectionEnabled:o.func,updateLayout:o.func,addToHistory:o.func,isGroupedComponent:o.bool,isGroup:o.bool,areComponentsOfSamePage:o.bool,compType:o.oneOfType([o.string,o.arrayOf(o.string)]),compTypes:o.array,isMultiSelectKeyPressed:o.func,doubleClick:o.func,compsWithoutSelectedAncestors:o.oneOfType([o.object,o.arrayOf(o.object)]),moveToFooter:o.func,compsData:o.object,isMultiselect:o.bool,isMobile:o.bool,isMobileEditor:o.bool,boundingStyle:o.object,isShowOnFixedPosition:o.bool,isCurrentPageLandingPage:o.bool,pagesContainer:o.object,isPage:o.bool,pagesContainerLayout:o.object,footerLayout:o.object,updateGaps:o.func,getGaps:o.func,isDirectChildOfMasterPage:o.bool,isUsingSectionsLayout:o.bool,canToggleShowOnAllPages:o.bool,isEditingText:o.bool,reAddedHiddenElement:o.object,dimCompLabels:o.bool,isDeveloperModeEnabled:o.bool,hideApplyModeFromClipboardSuggestion:o.func,compNickname:o.string,compLinkValue:o.string,groupAncestorStyle:o.object,position:o.string,setRotateKnobRect:o.func,knobsMap:o.object,dimmedHandles:o.bool,draggable:o.bool},getEditBoxClasses:function(){return{"edit-box":!0,small:this.props.layout.width<=50,"dimmed-handles":this.props.dimmedHandles,draggable:this.props.draggable,"show-move-to-footer-button":this.shouldShowMoveToFooterButton,dragging:this.props.isDragging,resizing:this.props.isResizing,rotating:this.props.isRotating,"multi-select":this.props.isMultiselect}},isComponentRotated:function(){return 0!==this.props.layout.rotationInDegrees},getLayoutStyle:function(e){var t="rotate("+e.rotationInDegrees+"deg)",o={position:this.props.position,top:e.y-1,left:e.x-1,width:e.width,height:e.height,transform:t,WebkitTransform:t};if("StripColumnsContainer"===this.props.compType&&(o.boxSizing="border-box",o.height+=1),s.isOpen("se_editBoxPerformance")){var n="translate3d("+(e.x-1)+"px,"+(e.y-1)+"px,0) "+t;o.left=0,o.top=0,o.transform=n,o.WebkitTransform=n}return o},getMoveToFooterStyle:function(e){return{top:(e=e||this.props.layout).bounding.y+e.bounding.height-14,left:e.bounding.x+e.bounding.width/2}},shouldShowPadding:function(){return s.isOpen("se_screenWidthEditBox")&&this.isHorizontallyStretchedToScreen},getPaddingStyle:function(){var e=this.props.isShowOnFixedPosition?"fixed":"absolute";return{wrapper:{top:this.props.layout.y-1,height:this.props.layout.height+2,position:e},left:{top:0,bottom:0,left:0,width:this.props.layout.x},right:{top:0,bottom:0,left:this.props.layout.x+this.props.layout.width,right:0}}},componentWillReceiveProps:function(e){var t=!e.isSameRef(this.props.comps,e.comps);this.props.isResizing||this.props.isRotating||this.props.isPinMode||t?this.shouldShowMoveToFooterButton=!1:e.isDragging&&(this.shouldShowMoveToFooterButton=this.getShouldShowMoveToFooterButton(e))},getResizeHandleCursorClass:function(e){var t=n.indexOf(S,e),o=this.props.layout.rotationInDegrees+22.5;o>=360&&(o-=360);var i=t+Math.floor(o/45);i>=T.length&&(i-=T.length);return T[i]},getShouldShowMoveToFooterButton:function(e){return!(e.isMobileEditor||e.isCurrentPageLandingPage||e.isShowOnFixedPosition||e.isEditingText)&&(e.isUsingSectionsLayout&&e.isDirectChildOfMasterPage?v(e.layout,e.footerLayout.y):!(e.isShowOnAllPages||!e.canToggleShowOnAllPages)&&v(e.layout,e.pagesContainerLayout.y+e.pagesContainerLayout.height))},startPageResize:function(e){this.props.registerMouseMoveAction(p,{evt:e,comps:this.props.comps}),this.hidePageResizeKnobTooltip(),e.stopPropagation()},resetPageSize:function(e){p.reset(),this.props.biEvent(i.bi.events.pageResize.PAGE_MIN_HEIGHT_RESET_MIN_HEIGHT),e.stopPropagation()},startResize:function(e){var t=e.target.getAttribute("data-direction-name");this.props.registerMouseMoveAction(c,{evt:e,directionName:t,comps:this.props.comps}),this.props.biEvent(i.bi.events.editBox.RESIZE,{origin:"editBox",handle_value:t,component_type:this.props.componentType}),e.stopPropagation()},startRotate:function(e){this.props.registerMouseMoveAction(u,{evt:e,comps:this.props.comps}),e.stopPropagation()},cancelRotation:function(e){this.props.setIsMouseUpSelectionEnabled(!1),this.props.updateLayout(this.props.comps,{rotationInDegrees:0}),this.props.biEvent(i.bi.events.editBox.CANCEL_ROTATE_COMPONENT),this.props.addToHistory("Rotation canceled"),e.stopPropagation()},canBeMovedToFooter:function(){return!this.props.isGroupedComponent&&this.props.areComponentsOfSamePage},startDragAndPush:function(e){this.props.registerMouseMoveAction(m,{evt:e,comps:this.getCompToDragAndPush()}),this.props.biEvent(i.bi.events.editBox.DRAG_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("dragWithAnchorsVerticalTooltip"),e.stopPropagation()},startCloseGap:function(e){this.props.registerMouseMoveAction(l,{evt:e,comps:this.props.comps}),this.hideKnobTooltip("closeGapsKnobTooltip"),e.stopPropagation()},closeGap:function(e,t){var o=e?"headerToPagesGap":"pagesToFooterGap",a=n.set({},o,0);this.props.updateGaps(a),this.props.biEvent(i.bi.events.editBox.DRAG_GAP,{gap_type:o,gap_size_start:n.get(this.props.getGaps(),o),gap_size_end:0}),this.props.addToHistory("gap removed"),t.stopPropagation()},startResizeAndPush:function(e){this.props.registerMouseMoveAction(d,{evt:e,comps:this.props.comps}),this.props.biEvent(i.bi.events.editBox.RESIZE_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("resizeWithAnchorsBottomTooltip"),e.stopPropagation()},onDoubleClick:function(e){if(!this.props.isMultiSelectKeyPressed(e)){var t={evt:e,comp:this.props.comps};this.props.doubleClick(t)}},showKnobTooltip:function(e){this.props.isResizing||this.props.isDragging||(this.showTooltipTimeout=window.setTimeout(function(){r.tooltipManager.show(e)},800))},hideKnobTooltip:function(e){this.showTooltipTimeout&&(window.clearTimeout(this.showTooltipTimeout),this.showTooltipTimeout=null),r.tooltipManager.hide(e)},showDragWithAnchorsKnobTooltip:function(){this.showKnobTooltip("dragWithAnchorsVerticalTooltip")},showResizeWithAnchorsKnobTooltip:function(){this.showKnobTooltip("resizeWithAnchorsBottomTooltip")},showPageResizeKnobTooltip:function(){this.showKnobTooltip("pageResizeKnobTooltip")},showCloseGapsKnobTooltip:function(){this.showKnobTooltip("closeGapsKnobTooltip")},hidePageResizeKnobTooltip:function(){this.hideKnobTooltip("pageResizeKnobTooltip")},hideDragWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("dragWithAnchorsVerticalTooltip")},hideCloseGapsKnobTooltip:function(){this.hideKnobTooltip("closeGapsKnobTooltip")},hideResizeWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("resizeWithAnchorsBottomTooltip")},moveToFooter:function(e){this.props.moveToFooter(this.props.compsWithoutSelectedAncestors),this.props.biEvent(i.bi.events.editBox.MOVE_TO_FOOTER,{component_type:this.props.compType}),this.shouldShowMoveToFooterButton=!1,e.stopPropagation()},hasSubComponents:function(){return this.props.isGroup||"StripColumnsContainer"===this.props.compType||this.props.isMultiselect},setRotateKnobRect:function(){if(!this.isDuringMouseAction()){var e=this.props.layout.rotationInDegrees?this.refs.cancelRotate&&this.refs.cancelRotate.getBoundingClientRect():this.refs.rotate&&this.refs.rotate.getBoundingClientRect(),t=n.pick(e,["x","y","width","height","top","right","bottom","left"]);e&&this.props.setRotateKnobRect(t)}},getMarginLabelTop:function(){return this.props.layout.height/2-30},getLinkedToTooltipId:function(e){return e?"linkedTo-"+e.id:"linkedTo"},getLinkDescriptionFromData:function(t){if(!t)return"";var o=h.translate("mobile_link_notification_tooltip"),n=this.props.compLinkValue;return e.createElement(r.popoverTemplates.iconAndText,{text:o+" "+n,icon:"mobileCompWithLink",shouldTranslate:!1})},isDuringMouseAction:function(){return this.props.isDragging||this.props.isResizing||this.props.isRotating},shouldShowLinkedToTooltip:function(){var e=!(!this.props.compsData||!this.props.compsData.link),t=n.get(this.props.reAddedHiddenElement,"addingPhase")!==i.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE;return this.props.isMobile&&!this.isDuringMouseAction()&&!this.props.isMultiselect&&e&&!t},getMarginValue:function(e){var t=this.props.layout.docked&&this.props.layout.docked[e].px>=0?"px":"vw";return this.props.layout.docked&&this.props.layout.docked[e][t]+E[t]},getApplyModeFromClipboardSuggestion:function(){return e.createElement(g,{text:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_TEXT",linkActionText:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_BUTTON"})},shouldShowDragBounding:function(){var e=n.every(this.props.compTypes,function(e){return"platform.components.AppController"===e});return this.props.possibleLayoutActionsMap.movable&&!e},shouldShowConnectionIndication:function(){return this.props.isConnectedToDataBinding&&!this.props.isDragging},shouldShowMobileReAddedBubble:function(){if(!s.isOpen("se_animateReAddMobileItem"))return!1;var e=n.get(this.props.reAddedHiddenElement,["compRef","id"]),t=!!e&&n.get(n.head(this.props.comps),"id")===e,o=n.get(this.props.reAddedHiddenElement,"addingPhase")===i.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH;return this.props.isMobileEditor&&t&&o},getComponentNickname:function(){return"#"+this.props.compNickname},getComponentLabelsInlineStyles:function(){return{left:this.props.labelsOffset}},getCompToDragAndPush:function(){return this.props.isPage?[this.props.pagesContainer]:this.props.compsWithoutSelectedAncestors},componentDidMount:function(){this.setRotateKnobRect()},componentDidUpdate:function(){this.setRotateKnobRect()},getTooltipProps:function(){if(this.shouldShowMobileReAddedBubble())return{id:"reAddedMobileCompRef",key:"reAddedMobileCompRef",content:"mobile_hidden_items_show_success_tooltip",alignment:"RIGHT",isOpen:!0,openOnMouseEnter:!1,closeOnMouseLeave:!1};if(this.props.applyModeFromClipboardSuggestion){var e=this.props.isSameRef(this.props.comps,this.props.applyModeFromClipboardSuggestion.selectedComponents);return{id:"applyModeFromClipboardSuggestion",key:"applyModeFromClipboardSuggestion",content:this.getApplyModeFromClipboardSuggestion(),onOuterClick:this.props.hideApplyModeFromClipboardSuggestion,maxWidth:320,isOpen:e,alignment:"LEFT"}}return{isOpen:!1,openOnMouseEnter:!1}},getDragHandlersClass:function(e,t){var o="handle handle-"+t+" handle-"+e+"-with-anchors";if(s.isOpen("se_showTextOnDragAnchors")){if(this.props.layout.width>=400)return o+" showHover"}return o},getSubComponentLayoutClasses:function(e){return{layout:!0,"secondary-component":this.props.isGroup,"components-ui-color-orange":this.props.subComponentsUIColor[e]===a.COMPONENT_UI_COLORS.ORANGE}},getBoundingClasses:function(){return{bounding:!0,"components-ui-color-orange":this.props.componentUIColor===a.COMPONENT_UI_COLORS.ORANGE}},getLayoutClasses:function(){return{layout:!0,"secondary-component":this.props.isMultiselect,"components-ui-color-orange":this.props.componentUIColor===a.COMPONENT_UI_COLORS.ORANGE}},render:y}),I=f.connectEditorAPI(b)(f.renderWhenMutated(C));return I.pure=C,I}),define("rEditor/rootComps/compControls/compControls.rt",["react","lodash","rEditor/rootComps/gfpp/gfpp","rEditor/rootComps/selectionBox/focusBox","rEditor/rootComps/selectionBox/editBox","core","experiment"],function(e,t,o,n,i,a,r){"use strict";return function(){return e.createElement("div",{style:{visibility:1===this.props.siteScale?"visible":"hidden"},onMouseEnter:this.props.clearHoverBox},this.props.panel?e.createElement(a.lazyComponent,t.assign({},{ref:"compPanel",moduleName:this.props.panel.name,key:a.lazyComponent.isLoaded(this.props.panel.name)?this.props.panel.name:"loading",onLoad:this.forceUpdate.bind(this)},this.getPanelProps())):null,this.getColumnsContainer()?e.createElement(a.lazyComponent,t.assign({},{moduleName:"columnsControls",key:"columnsControls"},this.getColumnsControlsProps())):null,this.shouldShowFocusBox()?e.createElement(n,{key:"focusBox-"+this.props.focusedContainer.id,ref:"focusBox",navControlsStyle:this.state.navControlsStyle,focusedContainer:this.props.focusedContainer,selectedComponents:this.props.selectedComponents,tabIndicationState:this.props.tabIndicationState}):null,this.shouldShowAttachFocusBox()?e.createElement(n,{key:"attachFocusBox",navControlsStyle:this.state.attachCandidateNavControlsStyle,focusedContainer:this.props.attachCandidate,selectedComponents:this.props.selectedComponents}):null,this.shouldRenderEditBox()?e.createElement(i,{ref:"editBox",key:"editBox",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,isPinMode:this.props.isPinMode,isDim:this.isDesignPanelOpen(),isConnectedToDataBinding:this.isConnectedToDataBinding(),focusedContainer:this.props.focusedContainer,performingMouseMoveAction:this.props.performingMouseMoveAction,onContextMenu:this.props.onContextMenu,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,labelsOffset:this.state.editBoxLabelsOffset}):null,this.shouldShowGfpp()?e.createElement(o,{key:"gfpp",setGFPPMeasureFunc:this.setGFPPMeasureFunc,style:this.state.gfppStyle,selectedComponent:this.props.selectedComponents}):null)}}),define("rEditor/rootComps/compControls/compControls",["reactDOM","create-react-class","prop-types","lodash","core","jquery","uiConstants","rEditor/rootComps/compControls/compControls.rt"],function(e,t,o,n,i,a,r,s){"use strict";function l(e,t){return Math.ceil(e-t+m)}function c(e,t,o,a){var s=this.getEditorAPI(),l=void 0,c={id:n.head(s.selection.getSelectedComponents()).id,layout:e},d=n.head(s.selection.getSelectedComponents()),u=d&&s.documentServices.platform.controllers.connections.get(d);c=d?{id:d.id,layout:e,hasLabels:!n.isEmpty(u)}:{},this.isCompRequiresCustomGfppPos(e,s.selection.getSelectedComponents())&&(l=this.props.lastSelectionClickPos);var m=s.getLeftBarButtonsBoundingRect(),g=(this.props.focusedContainer&&(this.props.focusedContainer.id,s.selection.getSelectedComponents()[0].id),s.getNavControlsSize()),h=this.props.focusedContainer&&this.getBoundingLayoutRelativeToScreen(this.props.focusedContainer),f=this.props.focusedContainer?{id:this.props.focusedContainer.id,layout:h}:null,b={gfppSize:o,viewPort:function(e,t,o,n,a){var s=!t.fixedPosition,l=i.utils.stageUtils.getViewPort(s,o);return a&&(l.y=s?i.utils.scrollUtils.getScroll().scrollTop+r.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS:r.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS),l||{}}(0,e,m,0,g),navControlsSize:g,pageXBoundary:function(e){var t=e.documentServices.siteSegments.getPagesContainer();return e.components.layout.getRelativeToScreen(t).x}(s),rotateKnobMargins:a,alignToPageBoundaries:s.documentServices.viewMode.get()===s.documentServices.viewMode.VIEW_MODES.MOBILE};return p.getCompControlsPositions(f,t,c,b,l)}var p=i.utils.compControlsMeasurer,d=["wysiwyg.common.components.anchor.viewer.Anchor"],u=["wysiwyg.viewer.components.WRichText","wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow",i.constants.COMP_TYPES.POPUP_CONTAINER],m=3,g={top:0,bottom:0,left:0,right:0};return t({displayName:"compControls",mixins:[i.mixins.editorAPIMixin],propTypes:{panel:o.shape({name:o.string,props:o.object}),isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isSectionDragging:o.bool,selectedComponents:o.arrayOf(o.object).isRequired,focusedContainer:o.object,hoveredComp:o.oneOfType([o.bool,o.object]),clearHoverBox:o.func,performingMouseMoveAction:o.bool,lastSelectionClickPos:o.object,onContextMenu:o.func,previewPosition:o.object.isRequired,attachCandidate:o.object,applyModeFromClipboardSuggestion:o.object},getInitialState:function(){return this.panelReady=!1,this.lastMeasuredPanelHeight=0,this.throttledSetCompsStyle=n.throttle(this.setCompsStyle,50,{leading:!1,trailing:!0}),{gfppStyle:{top:0,left:0,visibility:"hidden",position:"absolute"},compPanelStyle:{top:0,left:0,opacity:0,visibility:"hidden"},navControlsStyle:{top:0,left:0},editBoxLabelsOffset:0,isSelectedComponentConnected:!1}},setGFPPMeasureFunc:function(e){this.gfppMeasureFunc=e},isCompsStyleSet:function(){return!this.props.panel||"hidden"!==this.state.compPanelStyle.visibility&&!!this.lastMeasuredPanelHeight&&0!==this.state.compPanelStyle.left&&0!==this.state.compPanelStyle.top},shouldShowGfpp:function(){return!this.props.isDragging&&!this.props.isResizing&&!this.props.isRotating},getBoundingLayoutRelativeToScreen:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e);return n.assign(o.bounding,{fixedPosition:t.components.layout.isShowOnFixedPosition(e),rotationInDegrees:o.rotationInDegrees})},getCompControlsStyles:function(e,t,o,i,a){var r=this.getEditorAPI(),s=this.props.panel&&(e||!this.isCompsStyleSet()),l=c.call(this,i,o,t,a);if(l.gfppStyle.visibility="inherit",l.gfppStyle.visibility="inherit",s){if(l.compPanelStyle.top+=this.props.previewPosition.top,n.has(l.compPanelStyle,"left")&&(l.compPanelStyle.left+=this.props.previewPosition.left),!i.fixedPosition){var p=r.ui.scroll.getScroll();l.compPanelStyle.top-=p.scrollTop}n.assign(l.compPanelStyle,this.getPanelStyle())}else l=n.pick(l,["gfppStyle","navControlsStyle","editBoxLabelsOffset"]);return i.fixedPosition?(l.gfppStyle.top+=this.props.previewPosition.top,n.has(l.gfppStyle,"left")&&(l.gfppStyle.left+=this.props.previewPosition.left),l.gfppStyle.position="fixed"):l.gfppStyle.position="absolute",this.props.isPinMode&&(l.gfppStyle.visibility="hidden"),l},getPanelStyle:function(){var e={};return this.panelReady?(e.visibility="inherit",e.opacity=1):(e.visibility="hidden",e.opacity=0),e},isCompRequiresCustomGfppPos:function(e){var t=this.getEditorAPI();if(n.includes(u,t.components.getType(t.selection.getSelectedComponents())))return!1;var o=r.CUSTOM_GFPP_POS.HEIGHT_TO_APPLY;return e.height>=o},getRotateKnobRect:function(){return this.getEditorAPI().getEditBoxRotateKnobRect()},isDesignPanelOpen:function(){var e=this.getEditorAPI().panelManager.getOpenPanels();return!!n.find(e,{name:i.constants.componentPanels.design})},getRotateKnobMargins:function(e){if(!e.rotationInDegrees)return g;var t=this.getRotateKnobRect();if(!t)return g;var o=this.getEditorAPI().ui.scroll.getScroll(),n=o.scrollTop-this.props.previewPosition.top,i=o.scrollLeft-this.props.previewPosition.left;return t={top:t.top+n,bottom:t.bottom+n,left:t.left+i,right:t.right+i},function(e,t){return t?{top:l(e.y,t.top),bottom:l(t.bottom,e.y+e.height),left:l(e.x,t.left),right:l(t.right,e.x+e.width)}:g}(e,t)},setCompsStyle:function(t){var o=this.getEditorAPI(),i=this.gfppMeasureFunc?this.gfppMeasureFunc():null;if(this.props.isPinMode&&(i={width:0,height:0}),i){var r=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null;this.lastMeasuredPanelHeight=r?a(r).height():0;var s=this.getBoundingLayoutRelativeToScreen(o.selection.getSelectedComponents()),l=this.getRotateKnobMargins(s),c=this.getCompControlsStyles(t,i,r,s,l);this.lastMeasuredPanelHeight||(c.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"});var p=n.pick(this.state,n.keys(c));n.every(c,function(e,t){var o=p[t];return n.every(e,function(e,t){var i=o[t];return n.isFinite(i)&&n.isFinite(e)?function(e,t,o){return o=o||0,Math.abs(e-t)<=o}(i,e,2):n.isEqual(i,e)})})||this.setState(c)}},onWindowScroll:function(){this.setCompsStyle()},onWindowResize:function(){this.debouncedSetCompsStyle||(this.debouncedSetCompsStyle=n.debounce(this.setCompsStyle,200)),this.debouncedSetCompsStyle(!0)},shouldShowFocusBox:function(){var e=this.getEditorAPI(),t=n.head(e.selection.getSelectedComponents()),o=n.get(this.props,"focusedContainer.id")===t.id;return this.props.focusedContainer&&(!(this.props.performingMouseMoveAction&&o)||n.isEqual(this.getEditorAPI().pages.popupPages.getPopupContainer(),t))},shouldShowAttachFocusBox:function(){return this.getEditorAPI().selection.getParentToFocus([this.props.attachCandidate])},shouldRenderEditBox:function(){var e=this.getEditorAPI();if(!e.selection.getSelectedComponents()||this.props.isSectionDragging)return!1;var t=this.getEditorAPI().components.getType(e.selection.getSelectedComponents());return!n.includes(d,t)},componentDidMount:function(){this.throttledSetCompsStyle();this.getEditorAPI().ui.scroll.addListener(this.onWindowScroll),window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){this.getEditorAPI().ui.scroll.removeListener(this.onWindowScroll),window.removeEventListener("resize",this.onWindowResize)},componentWillReceiveProps:function(e){var t=this.getEditorAPI(),o={},i=!n.get(e.panel,["props","useLastPanelPosition"]);!n.isEqual(this.props.panel,e.panel)&&i&&(o.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"},e.panel||(this.panelReady=!1));var a=!t.utils.isSameRef(t.selection.getSelectedComponents(),e.selectedComponents),r=!this.props.performingMouseMoveAction&&e.performingMouseMoveAction;(a||r)&&(o.gfppStyle={top:0,left:0,visibility:"hidden",position:"absolute"},o.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}),n.isEmpty(o)||this.setState(o)},setAttachCandidateNavControlsStyle:function(){var t=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null,o=this.getBoundingLayoutRelativeToScreen(this.props.attachCandidate),n=!o.fixedPosition,a=this.getEditorAPI().getLeftBarButtonsBoundingRect(),r=i.utils.stageUtils.getViewPort(n,a),s={id:this.props.attachCandidate.id,layout:o},l=p.getCompControlsPositions(s,t,s,{viewPort:r});this.setState({attachCandidateNavControlsStyle:l.navControlsStyle})},componentDidUpdate:function(e){(function(e,t){var o=!n.isEqual(e.hoveredComp,t.hoveredComp),i=!n.isEqual(e.selectedComponents,t.selectedComponents);return(!t.performingMouseMoveAction||e.performingMouseMoveAction!==t.performingMouseMoveAction)&&(!o||i)})(e,this.props)&&this.throttledSetCompsStyle(),!n.isEqual(e.attachCandidate,this.props.attachCandidate)&&this.shouldShowAttachFocusBox()&&this.setAttachCandidateNavControlsStyle()},onPanelDragEnd:function(e){this.setState({compPanelStyle:e})},onCompPanelLoaded:function(){this.panelReady=!0,this.throttledSetCompsStyle()},getPanelProps:function(){var e=this.getEditorAPI();return n.assign({onDragEnd:this.onPanelDragEnd,onCompPanelLoaded:this.onCompPanelLoaded,style:this.state.compPanelStyle,selectedComponent:e.selection.getSelectedComponents(),compType:e.components.getType(e.selection.getSelectedComponents())},this.props.panel.props)},isColumnsContainer:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===this.getEditorAPI().components.getType(e)},getColumnsContainer:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();if(this.isColumnsContainer(t))return t;var o=this.getEditorAPI().utils.findAncestorMatchesCondition(t,this.isColumnsContainer);return o?e.components.asArray(o):null},getColumnsControlsProps:function(){return{selectedComponents:this.getEditorAPI().selection.getSelectedComponents(),columnsContainer:this.getColumnsContainer()}},isConnectedToDataBinding:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();return 1===t.length&&e.platform.controllers.connections.isConnectedToDataBindingController(t[0])},render:s})}),define("rEditor/rootComps/attachHighlight/attachHighlightMapper",["lodash","experiment","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o){"use strict";function n(t,o){if(o){var n=function(t,o){var n=e(o).thru(t.components.getType).thru(function(t){return e.split(t,".")}).last();return"Column"!==n||t.components.getSiblings(o).length?t.components.is.repeaterItem(o)?"repeaterItem":n:"StripContainer"}(t,o);return s[n]}}function i(e,t){return e.components.layout.getRelativeToScreen(t)}function a(e){var t=function(e){return i(e,e.selection.getSelectedComponents()[0])}(e);return{top:t.y,left:t.x,width:t.width,height:t.height}}function r(r,s){var l={label:n(r,s.attachCandidate),position:function(e,t){var n=function(e,t){var o=e.components.layout.getRelativeToScreen(t);if(e.components.layout.isShowOnFixedPosition(t)){var n=e.getPreviewPosition();o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}(e,t),i=e.components.layout.isShowOnFixedPosition(t),a=o.getPosition(i);return{top:n.y-2,left:n.x-2,height:n.height,width:n.width,position:a}}(r,s.attachCandidate),isMaster:function(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)}(r,s.attachCandidate)};return t.isOpen("attachImprovements")&&e.assign(l,{attachOverlayLayoutStyle:a(r),isBoxContainer:function(e,t){return"mobile.core.components.Container"===e.components.getType(t)}(r,s.attachCandidate),boxPosition:function(e,t){var o=i(e,t);return{top:o.y,left:o.x,height:o.height,width:o.width}}(r,s.attachCandidate)}),l}var s={HeaderContainer:"OnStage_AttachTo_Header",Page:"OnStage_AttachTo_Page",FooterContainer:"OnStage_AttachTo_Footer",Container:"OnStage_AttachTo_Box",HoverBox:"OnStage_AttachTo_Hover_Box",BoxSlideShowSlide:"OnStage_AttachTo_Slide",StripContainerSlideShowSlide:"OnStage_AttachTo_Slide",StripContainer:"OnStage_AttachTo_Strip",Column:"OnStage_AttachTo_Column",PopupContainer:"OnStage_AttachTo_PopUp",SiteRegionContainer:"OnStage_AttachTo_members_bar",repeaterItem:"OnStage_AttachTo_Repeater_Item"};return r}),define("rEditor/rootComps/attachHighlight/attachHighlight.rt",["react","lodash","experiment"],function(e,t,o){"use strict";return function(){return e.createElement("div",{},o.isOpen("attachImprovements")?e.createElement("div",{key:"attach-highlight",className:"attach-highlight"},e.createElement("div",{className:t({"highlight-container-exp":!0,master:this.props.isMaster,box:this.props.isBoxContainer}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.boxPosition},e.createElement("label",{},this.translateIfNeeded(this.props.label))),e.createElement("div",{style:this.props.attachOverlayLayoutStyle(),className:"attach-overlay"})):null,o.isOpen("attachImprovements")?null:e.createElement("div",{key:"experiment.isOpen('attachImprovements')",className:t({"highlight-container":!0,master:this.props.isMaster}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.position},e.createElement("label",{},this.translateIfNeeded(this.props.label))))}}),define("rEditor/rootComps/attachHighlight/attachHighlight",["create-react-class","prop-types","util","lodash","higherOrderComponents","rEditor/rootComps/attachHighlight/attachHighlightMapper","rEditor/rootComps/attachHighlight/attachHighlight.rt"],function(e,t,o,n,i,a,r){"use strict";var s=e({displayName:"attachHighlight",mixins:[o.translationMixin],propTypes:{label:t.string,position:t.shape({top:t.number,left:t.number,height:t.number,width:t.number}),isMaster:t.bool,attachCandidate:t.object,attachOverlayLayoutStyle:t.object,isBoxContainer:t.bool,boxPosition:t.object},render:r}),l=n.flow(i.connectEditorAPI(a))(s);return l.pure=s,l}),define("rEditor/rootComps/constraintArea/constraintArea.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{},t.map(this.props.area,function(t,o){return e.createElement("div",{className:"negative-constraint-indication constraint-area",style:this.getPosition(t)},e.createElement("div",{className:"box"},e.createElement("label",{},this.translateIfNeeded("mobilemenu_Settings_fixed_area_label"))))}.bind(this))])}}),define("rEditor/rootComps/constraintArea/constraintArea",["create-react-class","core","lodash","util","rEditor/rootComps/constraintArea/constraintArea.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"constraintArea",mixins:[t.mixins.editorAPIMixin,n.translationMixin],getPosition:function(e){return{top:e.top,left:e.left,height:e.height,width:e.width}},render:i})}),define("rEditor/rootComps/snapLayer/snapLayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return this.props.snapData?e.createElement("div",{className:"snap-layer",key:"layer"},e.createElement.apply(this,["svg",{},t.map(this.getRectanglesDrawData(),function(o,n){return e.createElement("rect",{className:t({"components-ui-color-orange":o.isOnMasterPage}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),x:o.x,y:o.y,height:o.height,width:o.width,key:"rectDrawData"+n})}.bind(this)),t.map(this.getLines(),function(t,o){return e.createElement("line",{x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y,key:"snapLine"+o})}.bind(this))])):null}}),define("rEditor/rootComps/snapLayer/snapLayer",["create-react-class","prop-types","lodash","rEditor/rootComps/snapLayer/snapLayer.rt"],function(e,t,o,n){"use strict";return e({displayName:"snapLayer",propTypes:{snapData:t.array},getRectanglesDrawData:function(){return o.flatMap(this.props.snapData,"rectanglesDrawData")},getLines:function(){return o.map(this.props.snapData,"line")},render:n})}),define("rEditor/rootComps/highlightsLayer/highlightsLayerUtils",["lodash"],function(e){"use strict";function t(t,o,n){var i={top:(o=function(t,o,n){if(o=e.cloneDeep(o),t.components.layout.isShowOnFixedPosition(n)){var i=t.getPreviewPosition();o.y+=i.top,o.bounding.y+=i.top,o.x+=i.left,o.bounding.x+=i.left}return o}(t,o,n)).y,left:o.x,width:o.width,height:o.height};if(o.rotationInDegrees){var a="rotate("+o.rotationInDegrees+"deg)";e.assign(i,{transform:a,WebkitTransform:a})}var r=t.components.layout.isShowOnFixedPosition(n)?"fixed":"absolute";e.assign(i,{position:r});return t.components.is.fullWidth(n)&&e.assign(i,{borderLeft:0,borderRight:0}),i}return{getStyle:t}}),define("rEditor/rootComps/highlightsLayer/highlightsLayerMapper",["lodash","rEditor/rootComps/highlightsLayer/highlightsLayerUtils","stateManagement"],function(e,t,o){"use strict";return function(n){var i=n.store.getState(),a=o.stage.selectors.isPerformingMouseMoveAction(i),r=o.highlights.selectors.getHighlights(i),s=e.map(r,function(o){var i=n.components.isShowOnAllPages(o.compRef)||n.components.isShowOnSomePages(o.compRef);return e.assign({},o,{style:t.getStyle(n,o.layout,o.compRef),isShownOnAllPages:i})});return{highlights:a?[]:s}}}),define("rEditor/rootComps/highlightsLayer/highlightsLayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{},t.map(this.props.highlights,function(t,o){return e.createElement("div",{key:"highlight"+o,className:this.getHighlightClass(t),style:t.style})}.bind(this))])}}),define("rEditor/rootComps/highlightsLayer/highlightsLayer",["create-react-class","lodash","prop-types","higherOrderComponents","rEditor/rootComps/highlightsLayer/highlightsLayerMapper","rEditor/rootComps/highlightsLayer/highlightsLayer.rt"],function(e,t,o,n,i,a){"use strict";var r=e({displayName:"highlightsLayer",propTypes:{highlights:o.arrayOf(o.object)},getHighlightClass:function(e){var o=["highlightFrame",e.type];return e.isShownOnAllPages&&o.push("show-on-all-pages"),t.compact(o).join(" ")},stopEventPropagation:function(e){e.stopPropagation()},render:a}),s=t.flow(n.renderWhenMutated,n.connectEditorAPI(i))(r);return s.pure=r,s}),define("rEditor/rootComps/anchor/anchor.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:"anchorWrapper",style:{top:this.getTopPosition()}},e.createElement("div",{className:"anchor-line before"}),e.createElement("div",{className:"anchor "+(this.props.isSelected?"anchor-selected":"")},e.createElement("div",{className:"anchorContent",onMouseDown:this.onMouseDown,onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},e.createElement(o.symbol,{className:"anchorIcon",name:"anchor"}),e.createElement("div",{className:"anchorName"},this.getAnchorName()),e.createElement(o.symbol,{className:"rightIcon",name:this.isLocked()?"anchorLock":"anchorDragHandle"}))),e.createElement("div",{className:"anchor-line after-with-sections-reorganize"}))}}),define("rEditor/rootComps/anchor/anchor",["create-react-class","prop-types","lodash","core","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/rootComps/anchor/anchor.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"anchor",propTypes:{compRef:t.object.isRequired,isSelected:t.bool.isRequired},mixins:[n.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchorName:function(){return this.editorAPI.components.data.get(this.props.compRef).name},onDoubleClick:function(e){var t={evt:e,comp:[this.props.compRef]};i.doubleClick(this.getEditorAPI(),t)},getTopPosition:function(){return this.editorAPI.components.layout.getRelativeToStructure(this.props.compRef).y},isLocked:function(){return!1},render:a})}),define("rEditor/rootComps/anchor/anchorsContainer.rt",["react","lodash","rEditor/rootComps/anchor/anchor"],function(e,t,o){"use strict";return function(){return e.createElement.apply(this,["div",{className:t({"anchors-container":!0,"mobile-editor":this.editorAPI.isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.getAnchors(),function(t,n){return e.createElement(o,{key:"anchor"+n,compRef:t,onContextMenu:this.props.onContextMenu,isSelected:this.isSelectedComp(t)})}.bind(this))])}}),define("rEditor/rootComps/anchor/anchorsContainer",["create-react-class","lodash","core","rEditor/rootComps/anchor/anchorsContainer.rt"],function(e,t,o,n){"use strict";return e({displayName:"stageComps",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchors:function(){var e=this.editorAPI.documentServices.pages.getReference(this.editorAPI.documentServices.pages.getFocusedPageId());return this.editorAPI.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",e)},isSelectedComp:function(e){return this.editorAPI.selection.isComponentSelected(e)},render:n})}),define("rEditor/rootComps/selectionBox/hoverBox.rt",["react","lodash","baseUI","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,n,i){"use strict";return function(){return e.createElement("div",{style:this.getHoverBoxStyles(),className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(n,{key:"newComponentLabel",showComponentType:this.shouldShowComponentType(),showComponentNickname:this.shouldShowComponentNickname(),shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",isLabelLarge:this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp),isLabelBelowLine:this.isSiteHeaderHovered(this.getEditorAPI(),this.props.hoveredComp),componentType:this.getComponentType(),componentNickname:this.getComponentNickname(),labelInlineStyles:this.getHoverBoxLabelStyles(),componentUIColor:this.getComponentUIColor(),isPinnedToPage:this.isCompPinned()}))}}),define("rEditor/rootComps/selectionBox/hoverBox",["reactDOM","lodash","constants","create-react-class","jquery","core","rEditor/rootComps/selectionBox/hoverBox.rt"],function(e,t,o,n,i,a,r){"use strict";function s(e,t){return function(e,t){return e.outerWidth()/t.outerWidth()<2}(e,t)?function(e,t){var o=a.utils.stageUtils.getViewPort();return e.offset().left-t.width()>o.x}(e,t)?l.LEFT:l.RIGHT:l.INNER}var l={INNER:"inner",LEFT:"left",RIGHT:"right"};return n({displayName:"hoverBox",mixins:[a.mixins.editorAPIMixin],getInitialState:function(){return{labelPosition:l.INNER,shouldCalculateLabelPosition:!0}},componentDidMount:function(){if(this.state.shouldCalculateLabelPosition){var t=i(e.findDOMNode(this)),o=i(e.findDOMNode(this.refs.label));this.setState({labelPosition:s(t,o),shouldCalculateLabelPosition:!1})}},componentDidUpdate:function(){if(this.state.shouldCalculateLabelPosition){var t=i(e.findDOMNode(this)),o=i(e.findDOMNode(this.refs.label));this.setState({labelPosition:s(t,o),shouldCalculateLabelPosition:!1})}},componentWillReceiveProps:function(e){e.hoveredComp.id!==this.props.hoveredComp.id&&this.setState({shouldCalculateLabelPosition:!0})},isRootComponent:function(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()},isSiteHeaderHovered:function(e,t){return"SITE_HEADER"===t.id},shouldShowConnectionIndication:function(){return this.getEditorAPI().platform.controllers.connections.isConnectedToDataBindingController(this.props.hoveredComp)},isHoveredSelectedComp:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();return e.utils.isSameRef(t,this.props.hoveredComp)},isConnectedToControllers:function(e){return e.documentServices.platform.controllers.connections.get(this.props.hoveredComp).length>0},getComponentType:function(){return this.isHoveredSelectedComp()?"":this.getEditorAPI().components.getDisplayName(this.props.hoveredComp)},getComponentNickname:function(){var e=this.getEditorAPI().components.getNickname(this.props.hoveredComp);return this.isHoveredSelectedComp()||!e?"":"#"+e},getHoverBoxStyles:function(){var e=function(e,t){var o=e.components.layout.getRelativeToScreen(t);if(e.components.layout.isShowOnFixedPosition(t)){var n=e.getPreviewPosition();o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}(this.getEditorAPI(),this.props.hoveredComp),o={top:e.y-1,left:e.x-1,width:e.width,height:e.height};if(e.rotationInDegrees){var n="rotate("+e.rotationInDegrees+"deg)";t.assign(o,{transform:n,WebkitTransform:n})}return this.getEditorAPI().components.is.fullWidth(this.props.hoveredComp)&&t.assign(o,{borderLeft:0,borderRight:0}),o},getClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp,o=e.components.isShowOnAllPages(t),n=e.components.isShowOnSomePages(t);return{"hover-box":!0,"components-background-color":!e.components.is.page(t),"components-ui-color-orange":o||n,"fixed-position":e.components.layout.isShowOnFixedPosition(t),overlay:this.props.overlay}},isShownOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)},getComponentUIColor:function(){return function(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)?o.COMPONENT_UI_COLORS.ORANGE:o.COMPONENT_UI_COLORS.BLUE}(this.getEditorAPI(),this.props.hoveredComp)},getHoverBoxLabelStyles:function(){var e=this.getEditorAPI();if(e.components.is.fullWidth(this.props.hoveredComp)){return{left:e.isMobileEditor()?0:e.siteSegments.getPagesContainerAbsLayout().x+2}}},getIndicatorClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp,o=e.components.isShowOnAllPages(t),n=e.components.isShowOnSomePages(t);return{"components-ui-color-orange":o||n}},shouldShowComponentType:function(){return this.props.hoveredComp&&!(this.getEditorAPI().developerMode.isEnabled()&&this.shouldShowConnectionIndication())},shouldShowComponentNickname:function(){return this.props.hoveredComp&&this.getEditorAPI().developerMode.isEnabled()},isCompPinned:function(){return this.getEditorAPI().components.layout.isPinned(this.props.hoveredComp)&&!this.isHoveredSelectedComp()},render:r})}),define("rEditor/rootComps/selectionBox/overlay.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({overlay:!0,visible:this.state.shouldShowOverlay}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getStyles()},"\n    ",this.getOverlay(),"\n")}}),define("rEditor/rootComps/selectionBox/overlay",["create-react-class","lodash","core","rEditor/rootComps/selectionBox/overlay.rt"],function(e,t,o,n){"use strict";return e({displayName:"overlay",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{shouldShowOverlay:!1}},overlayProps:{},getOverlay:function(){return this.getEditorAPI().components.is.getOverlay(this.state.hoveredComp)||""},getStyles:function(){return this.overlayProps=this.getEditorAPI().components.is.getOverlayProperties(this.state.hoveredComp),this.overlayProps?function(e,t){return e[t]?{transitionDuration:(e[t].duration||0)+"ms",transitionDelay:(e[t].delay||0)+"ms"}:{}}(this.overlayProps,function(){return this.leaveAnimationId?"leave":"enter"}.call(this)):{}},componentWillReceiveProps:function(e){var t=e.hoveredComp&&this.getEditorAPI().components.is.exist(e.hoveredComp)&&this.getEditorAPI().components.is.shouldBeOverlayed(e.hoveredComp);if(!this.state.hoveredComp||this.getEditorAPI().components.is.exist(this.state.hoveredComp)){if(this.getEditorAPI().overlay.shouldUpdate()){if(t)this.componentWillEnter(e.hoveredComp);else{if(!this.state.shouldShowOverlay)return;this.componentWillLeave()}this.setState({shouldShowOverlay:t})}}else this.setState({shouldShowOverlay:!1,hoveredComp:null})},componentWillEnter:function(e){this.leaveAnimationId&&(this.leaveAnimationId=window.clearTimeout(this.leaveAnimationId)),this.setState({hoveredComp:e})},componentWillLeave:function(){this.leaveAnimationId=window.setTimeout(this.componentHasLeft,this.overlayProps.leave.duration)},componentHasLeft:function(){this.leaveAnimationId=null,this.setState({hoveredComp:null})},render:n})}),define("rEditor/rootComps/lasso/lasso.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"lasso-layer"},e.createElement.apply(this,["svg",{className:"lasso-highlights"},e.createElement("rect",t.assign({},{className:"lasso-rect"},this.props.lassoLayout)),t.map(this.props.candidates,function(o,n){return e.createElement("rect",t.assign({},{className:t({"lasso-candidate":!0,"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(o.component)}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:n},o.layout.bounding))}.bind(this))]))}}),define("rEditor/rootComps/lasso/lasso",["create-react-class","prop-types","lodash","core","rEditor/rootComps/lasso/lasso.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"lasso",mixins:[n.mixins.editorAPIMixin],propTypes:{lassoLayout:t.shape({x:t.number,y:t.number,width:t.number,height:t.number}),candidates:t.arrayOf(t.shape({component:t.object,layout:t.object}))},render:i})}),define("rEditor/rootComps/mouseCatcher.rt",["react","lodash","uiConstants","rEditor/rootComps/compControls/compControls","rEditor/rootComps/attachHighlight/attachHighlight","rEditor/rootComps/constraintArea/constraintArea","rEditor/rootComps/snapLayer/snapLayer","rEditor/rootComps/highlightsLayer/highlightsLayer","rEditor/rootComps/anchor/anchorsContainer","rEditor/rootComps/selectionBox/hoverBox","rEditor/rootComps/selectionBox/overlay","rEditor/rootComps/lasso/lasso"],function(e,t,o,n,i,a,r,s,l,c,p,d){"use strict";return function(){return e.createElement("div",{className:t({parentSizeAbs:!0,mouseCatcher:!0,draggable:this.isCompDraggable()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick,onContextMenu:this.props.onContextMenu,onMouseMove:this.onMouseMove,onMouseLeave:this.clearHoverBox},e.createElement(p,{hoveredComp:this.props.hoveredComp}),this.props.constraintArea?e.createElement(a,{key:"constraintArea",area:this.props.constraintArea}):null,this.props.attachCandidate?e.createElement(i,{key:"attachHighlight",attachCandidate:this.props.attachCandidate}):null,this.props.lassoLayout?e.createElement(d,{key:"lassoLayout",lassoLayout:this.props.lassoLayout,candidates:this.props.lassoCandidates}):null,1===this.props.siteScale&&this.props.hoveredComp&&this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&!this.props.isPinMode?e.createElement(c,{overlay:this.props.hoverBoxOverlay,hoveredComp:this.props.hoveredComp,key:"hoverBox"}):null,e.createElement(s,{}),1!==this.props.siteScale||t.isEmpty(this.props.selectedComponents)?null:e.createElement(n,{key:"compControls",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,hoveredComp:this.props.hoveredComp,clearHoverBox:this.clearHoverBox,lastSelectionClickPos:this.props.lastSelectionClickPos,panel:this.props.compPanel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,isPinMode:this.props.isPinMode,onContextMenu:this.props.onContextMenu,isSectionDragging:this.props.isSectionDragging,attachCandidate:this.props.attachCandidate,tabIndicationState:this.props.tabIndicationState,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion}),e.createElement(r,{key:"snapLayer",snapData:this.props.snapData}),this.props.previewMode||!this.props.editorIsInit||this.props.isPinMode?null:e.createElement(l,{key:"anchorsContainer",onContextMenu:this.props.onContextMenu}),this.showMarginsIndicator()?function(){var t=this.getMarginsIndicatorStyles(this.getCompToShowMarginsIndicator());return e.createElement("div",{key:"marginsIndicator",className:"margins-indicator",style:t.indicator},t.marginLeft?e.createElement("div",{key:"leftMarginIndicator",className:"left",style:{width:t.marginLeft}}):null,t.marginRight?e.createElement("div",{key:"rightMarginIndicator",className:"right",style:{width:t.marginRight}}):null)}.apply(this,[]):null)}}),define("rEditor/utils/mouseMoveActions/baseDrag",["core","lodash","constants","stateManagement","experiment"],function(e,t,o,n,i){"use strict";function a(e){var t=function(e){var t=A||M;return{x:Math.abs(t.x-e.x),y:Math.abs(t.y-e.y)}}(e);return t.x>d||t.y>d}function r(){if(P){var e=t.map(S,"component"),o=t.map(S,function(t){var o=t.attachUtil.getCurrentAttachCandidate(null,e),n=t.component;return o?{attachCandidate:o,component:n}:{component:n}}),n=function(e){return t.reduce(e,function(e,t){var o=t.attachCandidate,n=t.component;return o?(e[o.id]?e[o.id].components.push(n):e[o.id]={attachCandidate:o,components:[n]},e):e},{})}(o),i=t.some(e,O.components.isShowOnSomePages),a=t.map(n,function(e){return O.components.setContainer(e.components,e.attachCandidate)});O.documentServices.waitForChangesApplied(function(){var e=t.some(a,O.components.isShowOnSomePages);i&&!e?O.panelHelpers.openDetachedFromSOSPPanel():!i&&e&&O.panelHelpers.openAttachToSOSPPanel();var n=t(o).reject("attachCandidate").map("component").value();O.selection.selectComponentByCompRef(t.flatten(a).concat(n))})}}function s(e,o,n){var i=e.x-o.x+n.x,a=e.y-o.y+n.y;return t.defaults({x:i,y:a},e)}function l(e,o){if(O=e||O,v=o.selectedComp,M=o.initMousePosition,A=null,R=n.componentMetaData.isHorizontallyMovable(O.components.asArray(o.selectedComp),O.documentServices),D=O.components.is.verticallyMovable(o.selectedComp),k=O.components.layout.getRelativeToScreen(v),o.initMousePosition){I=!0;var a=O.components.layout.getRelativeToScreen(v);B=t.map(v,function(e){return O.components.layout.getRelativeToScreen(e)}),N=t.map(v,function(e){return O.components.layout.get(e)}),P=function(e){return!t.some(e,function(e){return O.components.is.groupedComponent(e)})}(v),O.multiselect.isMultiselect(v)?S=function(e){return t.map(e,function(e){return{component:e,attachUtil:new m(O,{comp:e,layout:O.components.layout.getRelativeToScreen(e)},m.TYPES.COMP)}})}(v):E=i.isOpen("attachImprovements")?new g(O,{layout:a,comp:v},m.TYPES.COMP):new m(O,{layout:a,comp:v},m.TYPES.COMP),_=new b(O,v),w=new h(O,v),y=new f.Drag(k,M,B),x=function(e){return t.map(e,function(e){return u[O.components.getType(O.components.getContainer(e))]})}(v)}else I=!1}function c(o){var n=e.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(O,o),r={x:n.pageX,y:n.pageY,isShiftPressed:o.shiftKey};if(function(e){return!!C||I&&(Math.abs(e.pageX-M.x)>2||Math.abs(e.pageY-M.y)>2)}(n)){O.selection.setIsMouseUpSelectionEnabled(!1),C||(C=!0,O.documentServices.renderPlugins.setCompsToShowOnTop(t.map(v,"id")),i.isOpen("changeOpacityOnDrag")&&O.documentServices.renderPlugins.setCompsToShowWithOpacity(t.map(v,"id"),.9),i.isOpen("se_continuous_actions")&&O.components.layout.continuousUpdate.start());var l=y.getLayout(r);if(O.multiselect.isMultiselect(v)&&(l=e.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(O,v,l,k)),R||(l.x=k.x),D||(l.y=k.y),o.altKey?function(e){e.x-=e.x%5,e.y-=e.y%5}(l):O.getViewTools().snapToEnabled&&(a(r)?O.snapData.clear():(l.bounding=O.utils.getBoundingLayout(l),function(e){if(w){var t=w.getClosestLayoutDistance(O,e.bounding,T);Math.abs(t.x)<5&&(e.x+=t.x,e.bounding.x+=t.x),Math.abs(t.y)<5&&(e.y+=t.y,e.bounding.y+=t.y)}}(l),function(e){if(w){var t=w.getSnapData(e.bounding,T);O.snapData.set(t)}}(l))),P&&!O.multiselect.isMultiselect(v)){var c=E.getCurrentAttachCandidate(null,{x:n.clientX,y:n.clientY});E.highlightAttachCandidate(c),_.highlightDragConstraints()}for(var p=y.getBoundComponentLayouts(l),d=0;d<v.length;d++){var u=s(p[d],B[d],N[d]);i.isOpen("se_continuous_actions")?O.components.layout.continuousUpdate.on(v[d],u,!0):x[d]?O.components.layout.updateRelativeToScreen(v[d],p[d],!0):O.components.layout.update(v[d],u,!0)}}A=r}function p(e){i.isOpen("se_continuous_actions")&&O.components.layout.continuousUpdate.end(),O.multiselect.isMultiselect(v)?r():(!function(e){if(P){var t={x:e.clientX,y:e.clientY},o=E.getCurrentAttachCandidate(null,t);if(o){var n=O.components.isShowOnSomePages(v),i=O.components.setContainer(v,o);O.documentServices.waitForChangesApplied(function(){var e=O.components.isShowOnSomePages(i);n&&!e?O.panelHelpers.openDetachedFromSOSPPanel():!n&&e&&O.panelHelpers.openAttachToSOSPPanel()})}}}(e),E.clearHighlightAttachCandidate(!1)),_.removeHighlightDragConstraints(),w=null,O.snapData.clear(),O.documentServices.waitForChangesApplied(function(){O.history.add("Dragged component")}),O.openCompOutOfGridPanelIfNeeded(v),O.documentServices.renderPlugins.setCompsToShowOnTop(null),i.isOpen("changeOpacityOnDrag")&&O.documentServices.renderPlugins.setCompsToShowWithOpacity(null),C=!1}var d=15,u={"wysiwyg.viewer.components.Group":!0},m=e.utils.AttachHandler,g=e.utils.AttachHandlerExperimentAttachImprovements,h=e.utils.SnapToHandler,f=e.utils.layoutTransitionsUtil,b=e.utils.DragConstraintsHandler,y=void 0,v=void 0,P=void 0,E=void 0,S=void 0,T={top:!0,right:!0,bottom:!0,left:!0,centerX:!0,centerY:!0},C=!1,I=!1,_=void 0,O=void 0,M=void 0,A=void 0,w=void 0,R=void 0,D=void 0,k=void 0,N=void 0,B=void 0,x=void 0;return{start:l,on:c,end:function(t){C&&p(e.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(O,t));M=null},type:o.MOUSE_ACTION_TYPES.DRAG}}),define("rEditor/utils/mouseMoveActions/dragAttempt",["lodash","core","stateManagement","constants"],function(e,t,o,n){"use strict";function i(e){var t=Math.abs(e.pageX-l.x),o=Math.abs(e.pageY-l.y);(s=s||function(e,t){return e>=d||t>=d}(t,o))&&p.selection.setIsMouseUpSelectionEnabled(!1)}var a=o.pinMode.selectors,r=o.pinMode.logic,s=void 0,l=void 0,c=void 0,p=void 0,d=5,u=o.selection.selectors;return{start:function(e,t){p=e,s=!1,l=t.initMousePosition,c=t.selectedComp},on:i,end:function(){var e=p.store,n=e.getState(),i=a.isOpen(n);s&&p.components.layout.isPinned(c)&&!i&&(e.dispatch(r.open("on_drag")),e.dispatch(o.bi.event(t.bi.events.pinToScreen.DRAG_ATTEMPT,{component_type:u.getSelectedComponentType(n,p.documentServices)})))},type:n.MOUSE_ACTION_TYPES.DRAG_ATTEMPT}}),define("rEditor/utils/lassoMouseMoveActions/lassoDrag",["core","lodash","util","constants"],function(e,t,o,n){"use strict";function i(e){var t=g.components.layout.getRelativeToScreen(e);return"wysiwyg.viewer.components.WRichText"===g.components.getType(e)&&function(e,t){var o=g.components.layout.getEffectiveTextDimensions(e);o&&(t.width=o.width,t.height=o.height,t.bounding.width=o.width,t.bounding.height=o.height,t.x+=o.dx,t.y+=o.dy,t.bounding.x+=o.dx,t.bounding.y+=o.dy)}(e,t),{component:e,layout:t}}function a(e){return g.components.is.fullWidth(e.component)||g.components.layout.isHorizontallyStretchedToScreen(e.component)?"fullWidth":"standard"}function r(e){if(function(e){if(m)return!0;var t=v.fitMouseCoordinatesToViewer(g,e),o=t.pageY,n=t.pageX,i=Math.abs(n-u.x),a=Math.abs(o-u.y);return m=i>l&&a>l}(e)){y&&(g.selection.deselectComponents(),y=!1),b&&(g.selection.selectComponentByCompRef(h),b=!1),d=function(e){var t=v.fitMouseCoordinatesToViewer(g,e),o=Math.min(t.pageX,u.x),n=Math.min(t.pageY,u.y);return{x:o,y:n,width:Math.max(t.pageX,u.x)-o,height:Math.max(t.pageY,u.y)-n}}(e),p=t.filter(c.standard,function(e){return o.layoutUtils.isLayoutContainedWithinRect(e.layout.bounding,d)});var n=t.filter(c.fullWidth,function(e){return function(e,t){return t.y<=e.bounding.y&&t.y+t.height>=e.bounding.y+e.bounding.height}(e.layout,d)});p=p.concat(n),g.lasso.setCandidates(p),g.lasso.setLayout(d)}}var s=["SITE_PAGES","PAGES_CONTAINER","SITE_HEADER","SITE_FOOTER"],l=4,c=void 0,p=void 0,d=void 0,u=void 0,m=void 0,g=void 0,h=void 0,f=void 0,b=void 0,y=void 0,v=e.utils.mouseCoordinatesHandler;return{start:function(e,o){var n=(g=e).documentServices.pages.getFocusedPageId();f=o.selectedComponents;var r=s.concat(t.map(f,"id")),l=g.components.getAllComponents(n,function(e){return!t.includes(r,e.id)&&!g.components.is.page(e)});h=o.prevSelectedComps,b=h!==f&&o.initMousePosition.isSpecialKeyPressed,y=g.selection.isSingleSelectionComponent(f),u=t.clone(o.initMousePosition),m=!1,p=[],d=t.pick(u,["x","y"]),c=t(l).map(i).groupBy(a).value()},on:r,end:function(n){var i=o.browserUtil.isSpecialKeyPressed(n);if(!t.isEmpty(p)){var a=t.map(p,"component");a.length>1&&(a=t.reject(a,g.selection.isSingleSelectionComponent)),(a.length>1||1===a.length&&h&&h.length>0)&&g.bi.event(e.bi.events.selection.MULTISELECT,{num_of_elements_selected:a.length,selection_method:"lasso"}),g.closeCompPanelIfExists(),i?g.selection.addComponentToSelectionByRef(a):g.selection.selectComponentByCompRef(a)}g.lasso.clear()},type:n.MOUSE_ACTION_TYPES.LASSO}}),define("rEditor/rootComps/mouseCatcher",["reactDOM","create-react-class","prop-types","jquery","lodash","rEditor/rootComps/mouseCatcher.rt","core","util","rEditor/utils/mouseMoveActions/baseDrag","rEditor/utils/mouseMoveActions/dragAttempt","rEditor/utils/lassoMouseMoveActions/lassoDrag"],function(e,t,o,n,i,a,r,s,l,c,p){"use strict";function d(e,t){if(!e.components.is.exist(t))return!1;var o=e.selection.getSelectedComponents(),n=e.components.getType(t);return(!e.selection.isComponentSelected(t)||e.multiselect.isMultiselect(o))&&!i.includes(m,n)}function u(e){return!!e.store.getState().lassoLayout}var m=["wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.common.components.anchor.viewer.Anchor"],g=r.utils.mouseCoordinatesHandler;return t({displayName:"mouseCatcher",mixins:[r.mixins.editorAPIMixin],propTypes:{selectedComponents:o.oneOfType([o.object,o.arrayOf(o.object)]),focusedContainer:o.object,config:o.object,onContextMenu:o.func,performingMouseMoveAction:o.bool,hoveredComp:o.object,isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isPinMode:o.bool,compPanel:o.object,editingAreaLayout:o.object,previewPosition:o.object,previewMode:o.bool.isRequired,attachCandidate:o.object,snapData:o.array,applyModeFromClipboardSuggestion:o.object,tabIndicationState:o.object.isRequired,lastSelectionClickPos:o.object,lassoCandidates:o.array,lassoLayout:o.object,constraintArea:o.object},componentWillMount:function(){this.compsBeforeSelection=null,this.shouldStartDragging=!1,this.shouldStartLasso=!1,this.initMousePosition=null,this.isWaitingForUpdate=!1},componentDidMount:function(){n(e.findDOMNode(this)).on("mouseenter",this.onMouseEnter)},componentWillUnmount:function(){n(e.findDOMNode(this)).off("mouseenter",this.onMouseEnter)},componentWillReceiveProps:function(e){var t=this.getEditorAPI();if(this.shouldStartDragging){var o=function(e,t){var o=e.components.is.controlledByParent;return i(t).map(function(t){return o(t)?e.utils.findAncestorMatchesCondition(t,i.negate(o)):t}).thru(e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray).value()}(t,e.selectedComponents),n=!i.isEmpty(o)&&function(e,t){return function(e,t){var o=e.getCompDragRestrictions(t);return o.horizontallyMovable||o.verticallyMovable}(e,t)?l:c}(t,o);n&&t.mouseActions.registerMouseMoveAction(n,{initMousePosition:this.initMousePosition,selectedComp:o})}else this.shouldStartLasso&&t.mouseActions.registerMouseMoveAction(p,{initMousePosition:this.initMousePosition,prevSelectedComps:this.compsBeforeSelection,selectedComponents:e.selectedComponents});this.shouldStartDragging=!1,this.shouldStartLasso=!1},onMouseDown:function(e){var t=this.getEditorAPI();s.keyboardShortcuts.enable();var o=g.fitMouseCoordinatesToViewer(t,e);this.initMousePosition={x:o.pageX,y:o.pageY,isShiftPressed:e.shiftKey,isSpecialKeyPressed:s.browserUtil.isSpecialKeyPressed(e),isAltKeyPressed:e.altKey},this.shouldStartLasso=t.mouseActions.shouldInitLassoToolOnMouseDown(e),this.shouldStartDragging=!this.shouldStartLasso&&(!t.selection.isMultiSelectKeyPressed(e)||function(e,t){var o=e.selection.getComponentUnderClickToBeSelected(t.clientX,t.clientY);return e.selection.isComponentSelected(o)}(t,e)),t.selection.isHiddenComponentDraggedNext()?t.selection.setIsHiddenComponentDraggedNext(!1):u(t)||(this.compsBeforeSelection=this.props.selectedComponents,t.selection.selectComponentByClick(e),this.shouldStartDragging=this.shouldStartDragging&&t.selection.isComponentExplicitlySelected()),t.closeRightClickMenu(),t.panelManager.notifyMouseDown()},onMouseUp:function(e){var t=this.getEditorAPI();2===e.button||(this.deselectClickedCompIfNeeded(e),t.selection.getIsMouseUpSelectionEnabled()&&!u(t)&&t.selection.selectNonGroupCompUnderCursor(e,this.props.siteScale)),t.selection.setIsMouseUpSelectionEnabled(!1),this.initMousePosition=null,this.shouldStartDragging=!1,this.shouldStartLasso=!1},onMouseMove:function(e){var t=this.getEditorAPI(),o=g.fitMouseCoordinatesToViewer(t,e);this.props.registeredMouseMoveAction||this.updateHoverBox(e),t.cursor.updateMousePosition(o.pageX,o.pageY)},onMouseEnter:function(e){1!==e.which&&this.getEditorAPI().endMouseMoveActionIfNeeded(i.clone(e))},updateHoverBox:function(e){if(!this.isWaitingForUpdate){this.isWaitingForUpdate=!0;var t=this.getEditorAPI();e.persist(),t.documentServices.waitForChangesApplied(function(){this.isWaitingForUpdate=!1;var o=t.selection.getComponentToBeMarkedByHoverBox(e,this.shouldStartDragging),n=this.props.hoverBoxOverlay;!this.props.hoveredComp&&o?d(t,o)&&this.props.setHoverBox(o,n):this.props.hoveredComp&&!o?this.props.clearHoverBox():this.props.hoveredComp&&o&&(d(t,o)?this.props.hoveredComp.id!==o.id&&this.props.setHoverBox(o,n):this.props.clearHoverBox())}.bind(this))}},clearHoverBox:function(){this.props.clearHoverBox()},deselectClickedCompIfNeeded:function(e){var t=this.getEditorAPI();if(t.selection.isMultiSelectKeyPressed(e)&&this.initMousePosition){var o=t.selection.getComponentUnderClickToBeSelected(e),n=!!i.find(this.compsBeforeSelection,o),a=g.fitMouseCoordinatesToViewer(t,e),r=!this.isPointsDistanceBiggerThan(this.initMousePosition,{x:a.pageX,y:a.pageY},2);n&&r&&(t.selection.setIsMouseUpSelectionEnabled(!1),t.selection.deselectComponents(o))}},isPointsDistanceBiggerThan:function(e,t,o){var n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return Math.sqrt(n)>o},isComponentSelected:function(){return this.getEditorAPI().selection.isComponentSelected()},getComponentLabel:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)},isCompDraggable:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp;if(t&&e.components.is.exist(t)){var o=e.components.is.controlledByParent(t);return d(e,t)&&e.components.is.draggable(o?e.components.getContainer(t):t)}return!1},getCompToShowMarginsIndicator:function(){var e=this.getEditorAPI();return this.props.attachCandidate?this.props.attachCandidate:this.props.isDragging?e.components.getContainer(this.getEditorAPI().selection.getSelectedComponents()):null},showMarginsIndicator:function(){var e=this.getEditorAPI(),t=this.getCompToShowMarginsIndicator();return t&&e.components.is.showMarginsIndicator(t)},getMarginsIndicatorStyles:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e),n=t.components.layout.getCompMargin(e);return{indicator:{top:o.y,left:o.x,width:o.width,height:o.height},marginLeft:Math.max(0,n.left),marginRight:Math.max(0,n.right),inlineWidth:o.width-i.sum(n)}},render:a})}),define("rEditor/rootComps/textEditor.rt",["react","lodash","wixRichText"],function(e,t,o){"use strict";return function(){return e.createElement("div",{style:this.getTextEditorStyles(),className:this.props.isResizing?"resizing":""},e.createElement(o.TextEditor,{initialData:"<p></p>",onReady:this.setReady,validateHtml:!1,showToolbar:!1,documentServicesApi:this.getEditorAPI(),onCut:this.onCutOrCopy,onCopy:this.onCutOrCopy,stylesManager:this.getStyleManager(),onDataChange:this.handleDataChange,linksManager:this.getLinksManager(),shouldInjectFontsToDocument:!1}))}}),define("rEditor/rootComps/textEditor",["create-react-class","prop-types","lodash","rEditor/rootComps/textEditor.rt","core","util","textControls","experiment"],function(e,t,o,n,i,a,r,s){"use strict";var l=!1;return e({displayName:"textEditor",propTypes:{openPanels:t.array.isRequired},render:n,mixins:[i.mixins.editorAPIMixin],getComponentDataFromProps:function(e){return this.getEditorAPI().components.data.get(this.getTextComponentFromProps(e))},getTextComponentFromProps:function(e){return(e=e||this.props).selectedTextComp},getValue:function(){if(this.props.selectedTextComp){var e=this.getComponentDataFromProps();return{text:e.text,linkList:e.linkList}}return{text:"",linkList:[]}},setReady:function(e){this.manager=e,this.getEditorAPI().text.setCurrentTextEditor(this.manager),this.manager.execCommand("wixCss",{id:"overFlowCss",value:"body {overflow: hidden !important;}",isLink:!1,force:!1})},componentDidUpdate:function(e){if(this._internalTextValue=this.getValue().text,this.manager&&this.props.selectedTextComp&&!e.isOpenTextEditor&&this.props.isOpenTextEditor){this.editedTextComponent=this.props.selectedTextComp;var t=a.browserUtil.isIE()?"none":"all",n=this.manager;this.manager.setData(this.getValue().text,{validateHtml:!1,cursorLocation:t,removeNestedStyles:s.isOpen("se_removeNestedStyles"),callback:function(){"none"===t&&n.commands.selectAll()}}),this.getEditorAPI().renderPlugins.setHideTextComponent(this.getTextComponentFromProps().id),this.manager.refreshPropsCollector(),this.manager.focus(),this.manager.resetUndo();var i=r.fontUtils.getUploadedUsedFonts(this.getValue().text,this.getEditorAPI().documentServices.theme.fonts.getAll());r.ckUtils.insertUploadedFontsToCk(i,this.manager),this.linksHelper.setCurrentLinks(this.getValue().linkList),this.getEditorAPI().openComponentPanel("textSettingsPanel",{onCmdStateChange:this.manager.onCmdStateChange.bind(this.manager),getCommandsStates:this.manager.getCommandsStates.bind(this.manager),unRegisterListener:this.manager.unRegisterListener.bind(this.manager),getLink:this.linksHelper.getLink.bind(this.linksHelper),saveLink:this.linksHelper.saveLink.bind(this.linksHelper)})}!this.manager&&!this.props.isResizing||o.isEqual(this.props.layout,e.layout)||this.manager.resize(this.props.layout.width,this.props.layout.height)},componentWillUpdate:function(e){(this.props.selectedTextComp&&!o.isEqual(this.props.selectedTextComp,e.selectedTextComp)||this.props.isOpenTextEditor&&!e.isOpenTextEditor)&&this.stopTextEditing()},componentWillUnmount:function(){this.stopTextEditing(),this.getEditorAPI().text.setCurrentTextEditor(void 0)},componentWillReceiveProps:function(e){var t=o.find(this.props.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"}),n=o.find(e.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"});t&&!n&&(r.ckUtils.setCkReadOnly(this.manager,!1,!0),this.manager.focus())},stopTextEditing:function(){if(!l&&o.isEqual(this.editedTextComponent,this.props.selectedTextComp)){if(this.props.isOpenTextEditor&&this.props.selectedTextComp){l=!0;var e=this.getEditorAPI(),t=this;this.stopRichTextInput(),this.getEditorAPI().renderPlugins.setHideTextComponent(null);var n=this.getTextComponentFromProps();e.documentServices.waitForChangesApplied(function(){t.deleteTextEditorComponentIfEmpty(n),l=!1})}this.getEditorAPI().text.stopEditing()}},stopRichTextInput:function(){this.clearUnusedLinks()},clearUnusedLinks:function(){if(this.manager){var e=this.linksHelper.getAllLinks(),t=this.manager.getLinkRefsList(),n=o.filter(e,function(e){return o.includes(t,e.id)});this.setComponentData({text:this._internalTextValue,linkList:n})}},handleDataChange:function(e){if(!o.isEqual(e,this._internalTextValue)){this._internalTextValue=e;var t=this.getEditorAPI();if(this.isHtmlTooLong(e))r.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager);else{this.setComponentData({text:e,linkList:this.linksHelper.getAllLinks()}),t.documentServices.waitForChangesApplied(this.takeSnapshot);var n=r.dataUtils.getTextContentFromHtml(e).length;r.textLimitsUtils.isNewTextLengthLimitExceeded(n)&&r.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager),r.textLimitsUtils.setCachedTextReadableLength(n)}}},setComponentData:function(e){var t=this.getComponentDataFromProps();o.forOwn(e,function(e,o){t[o]=e}),this.getEditorAPI().components.data.update(this.getTextComponentFromProps(),t,!0)},isHtmlTooLong:function(e){var t=this.getEditorAPI().data.getSchema("StyledText");return o.get(t,"text.maxLength")<e.length},takeSnapshot:function(){this.snapshotTimeoutHandle&&window.clearTimeout(this.snapshotTimeoutHandle);var e=this;this.snapshotTimeoutHandle=window.setTimeout(function(){e.getEditorAPI().history.add("RT:Change"),delete e.snapshotTimeoutHandle},1e3)},deleteTextEditorComponentIfEmpty:function(e){var t=this.getEditorAPI().components.data.get(e);if(t){var o=t.text;r.dataUtils.isEmptyHtmlText(o)&&this.getEditorAPI().components.remove(e)}},componentWillMount:function(){this.linksHelper=new r.LinksHelper([]),this.linksManager=new r.TextLinksManager(this.linksHelper),this.stylesManager={getFonts:o.partial(r.fontUtils.getCurrentSelectableFontsWithParams,this.getEditorAPI(),!1,!0)}},getStyleManager:function(){return this.stylesManager},getLinksManager:function(){return this.linksManager},onCutOrCopy:function(){this.linksHelper.cacheCopiedLinks()},getTextEditorStyles:function(){return this.props.layout.visibility||this.manager?this.props.isResizing?o.assign(this.props.layout,{pointerEvents:"none"}):this.props.layout:o.assign(this.props.layout,{visibility:"hidden"})}})}),define("rEditor/rootComps/gridLines/gridLines.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["svg",{className:"gridLines "+t({fade:this.props.fade}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.gridLines,function(t,o){return e.createElement("line",{key:o+"backLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"backLine"})}.bind(this)),t.map(this.props.gridLines,function(t,o){return e.createElement("line",{key:o+"frontLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"frontLine"})}.bind(this))])}}),define("rEditor/rootComps/gridLines/gridLines",["create-react-class","prop-types","lodash","core","rEditor/rootComps/gridLines/gridLines.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"gridLines",mixins:[n.mixins.editorAPIMixin],propTypes:{gridLines:t.arrayOf(t.object),fade:t.bool},getDefaultProps:function(){return{fade:!1}},render:i})}),define("rEditor/rootComps/rulers/guide.rt",["react","lodash","core","baseUI","uiConstants","symbols"],function(e,t,o,n,i,a){"use strict";return function(){return e.createElement("div",{className:this.props.rulerDirection+"-guide-container",style:this.getGuideContainerStyle()},e.createElement("div",{className:this.props.rulerDirection+"-guide",style:this.getGuideStyle()}),e.createElement("div",{ref:"guide",className:this.props.rulerDirection+"-guide-catcher",onClick:this.handleGuideClick,onMouseDown:function(e){this.onContainerMouseDown(e)}.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.createElement("div",{className:this.props.rulerDirection+"-guide-handler"},this.shouldShowSelectedGuide()?e.createElement(a.symbol,{key:"selected",name:"guidesHandler_selected"}):null,this.shouldShowSelectedGuide()?null:e.createElement(a.symbol,{key:"regular",name:"guidesHandler_regular"}))),this.getBubbleMode()?e.createElement(n.bubble,t.assign({},{ref:"bubble",key:"hoverBubble"},this.getBubbleProps())):null)}}),define("rEditor/rootComps/rulers/rulersComputations",["lodash","jquery"],function(e,t){"use strict";function o(e,t,o,n,i){for(var a=function(e,t,o,n,i){var a=0,r="vertical"===i?Math.floor(t.width/100):Math.round((t.height+t.y)/100);return e&&"horizontal"===i&&(r=Math.floor(o+n.top)/100),e||"horizontal"!==i||(a=Math.floor(t.y/100)+1),[a,r]}(e,t,o,n,i),r=a[0],s=a[1],l=[],c=r;c<=s;c++)l.push(100*c);return l}function n(e,t,o,n){var a=e?0:-t.x;return{vertical:{min:a,max:e?t.width:n-t.x,minInView:a},horizontal:{min:e?0:i,max:o.maxBottomY+o.marginBottom,minInView:e?o.scrollTop:o.scrollTop+i}}}var i=22;return{getRulerNumbers:o,isGuideOutOfLimits:function(e,t,o,i,a,r){var s=n(e,t,o,i);return s="vertical"===a?s.vertical:s.horizontal,r<s.min||r>s.max},isGuideOutOfViewLimits:function(e,t,o,i,a,r){var s=n(e,t,o,i);return s="vertical"===a?s.vertical:s.horizontal,r<s.minInView||r>s.max},getHorizontalTicksHeight:function(e,t){return e?t?t.maxBottomY+t.marginBottom:0:"calc(100% - "+i+"px)"},calcNewGuidePosition:function(e,t,o){return"vertical"===t?o.pageX-e.getPreviewPosition().left-e.siteSegments.getPagesContainerAbsLayout().x:o.pageY-e.getPreviewPosition().top+e.site.getScroll().y},calcHorizontalDraggingPosition:function(e,o){return e-(t(o).offset().top-parseInt(t(o).css("top"),10))},getVerticalTicksWidth:function(e,t){return e?t.width:"calc(100% - "+i+"px)"},getVerticalGuidePosition:function(e,t){var o=e.siteSegments.getPagesContainerAbsLayout();return e.isMobileEditor()?t:t+o.x}}}),define("rEditor/rootComps/rulers/guide",["reactDOM","create-react-class","prop-types","lodash","baseUI","core","util","uiConstants","rEditor/rootComps/rulers/guide.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,n,i,a,r,s,l,c){"use strict";return t({displayName:"guide",mixins:[a.mixins.editorAPIMixin,r.draggableMixin],propTypes:{rulerDirection:o.string.isRequired,guidePosition:o.number.isRequired,guideId:o.string.isRequired,isSelected:o.bool,isGuideOutOfLimitsFunc:o.func.isRequired,isMouseOverRulers:o.bool,toolsHidden:o.bool,disableInteraction:o.bool,previewSize:o.object.isRequired},getInitialState:function(){return this.preventClickAfterDragEnd=!1,{isHoverBubble:!1,mouseOverGuide:!1,guidePosition:this.props.guidePosition,stepperSymbol:"guideToolTipTrash",stepperValueInvalid:!1,selectedDueToHoverBubbleClick:!1,isFirstRender:!0}},componentWillReceiveProps:function(e){this.isBeingDragged||this.setState({stepperValueInvalid:!1,guidePosition:e.guidePosition})},componentWillUpdate:function(e,t){!this.props.toolsHidden&&e.toolsHidden&&e.isSelected&&this.getEditorAPI().rulers.deselectGuide(),!this.state.isHoverBubble&&t.isHoverBubble&&this.getEditorAPI().rulers.sendBIEvent("GUIDE_TOOLTIP_APPEAR",{})},setGuideSelected:function(e){this.state.isFirstRender&&this.setState({isFirstRender:!1}),this.getEditorAPI().rulers.selectGuide(this.props.guideId,e),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},shouldShowSelectedGuide:function(){return this.isBeingDragged||this.state.mouseOverGuide||this.props.isSelected},getGuideContainerStyle:function(){return"horizontal"===this.props.rulerDirection?{top:this.state.guidePosition}:{left:c.getVerticalGuidePosition(this.getEditorAPI(),this.state.guidePosition)}},getGuideStyle:function(){var e=this.getEditorAPI(),t=this.props.previewSize;if("horizontal"===this.props.rulerDirection){var o=t.width;return{left:-o,width:o}}return{height:e.isMobileEditor()?t.height+s.MOBILE_PREVIEW_TOP:t.height}},removeGuide:function(){this.getEditorAPI().rulers.removeGuideById(this.props.guideId)},onDragStart:function(){this.getEditorAPI().rulers.updateEditorRulersState("isDragging",!0),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getDragPosition:function(t){var o=e.findDOMNode(this);return"horizontal"===this.props.rulerDirection?c.calcHorizontalDraggingPosition(t.top,o):t.left-this.getEditorAPI().siteSegments.getPagesContainerAbsLayout().x},whileDrag:function(e){var t=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(t)?this.endDrag():this.setState({guidePosition:t})},onDragEnd:function(e){var t=this.getEditorAPI();t.rulers.updateStateOnDragEnd(this.props.isMouseOverRulers);var o=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(o)?(t.rulers.sendBIEvent("GUIDE_DELETED",{origin:"drag_outside"}),this.removeGuide()):(this.sendDragBIEvent(this.props.guidePosition,o),this.preventClickAfterDragEnd=!0,t.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,o))},getDragLimits:function(){return"horizontal"===this.props.rulerDirection?{lockedX:!0}:{lockedY:!0}},sendDragBIEvent:function(e,t){var o={xCoordinate_new:0,xCoordinate_old:0,yCoordinate_new:0,yCoordinate_old:0};"vertical"===this.props.rulerDirection?(o.xCoordinate_new=t,o.xCoordinate_old=e):(o.yCoordinate_new=t,o.yCoordinate_old=e),this.getEditorAPI().rulers.sendBIEvent("GUIDE_DRAGGED",o)},closeHoverBubble:function(){this.setState({isHoverBubble:!1})},deselectGuide:function(){this.isBeingDragged||this.getEditorAPI().rulers.deselectGuide()},onStepperValueChangeApproval:function(e){if(!this.props.isGuideOutOfLimitsFunc(n.parseInt(e))){this.getEditorAPI().rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,n.parseInt(e)),this.setState({stepperSymbol:"smallVApproval"}),window.setTimeout(this.deselectGuide.bind(this),700)}},onStepperSteppingValueChange:function(e){var t=n.parseInt(e),o=!this.props.isGuideOutOfLimitsFunc(t),i=this.props.guidePosition===e;if(this.sendStepperValueChangeBIEvent(e,o,i),this.setState({stepperValueInvalid:!o}),o){this.getEditorAPI().rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,t)}else window.setTimeout(function(){this.setState({stepperValueInvalid:!1})}.bind(this),900)},sendStepperValueChangeBIEvent:function(e,t,o){var n=void 0;n=o?"no_change":t?"accepted":"denied";var i={type:this.props.rulerDirection,value:e,valid_value:n};this.getEditorAPI().rulers.sendBIEvent("VALUE_CHANGE_IN_GUIDE_TOOLTIP",i)},stepperSymbolClickFunc:function(){"guideToolTipTrash"===this.state.stepperSymbol&&(this.getEditorAPI().rulers.sendBIEvent("GUIDE_DELETED",{origin:"trash_icon"}),this.removeGuide())},stepperClick:function(){this.state.isHoverBubble?(this.setState({isHoverBubble:!1,stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash",selectedDueToHoverBubbleClick:!0}),this.setGuideSelected("click_on_tooltip")):this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getStepperWithSVGProps:function(){return{showSymbol:this.props.isSelected&&!this.state.isFirstRender,stepperClickFunc:this.stepperClick,symbolClickFunc:this.stepperSymbolClickFunc,symbolName:this.state.stepperSymbol,stepperProps:{min:-99999,max:99999,step:1,selectedUnits:"px",units:"px",afterBlur:this.onStepperValueChangeApproval,isInvalidValue:this.state.stepperValueInvalid,valueLink:{value:this.state.guidePosition,requestChange:this.onStepperSteppingValueChange},dynamicInputSize:{characterWidth:10,minWidth:20},inputInFocus:this.state.selectedDueToHoverBubbleClick}}},getOverridePositionAdjustments:function(e){if("horizontal"!==this.props.rulerDirection)return{type:s.TOOLTIP.ALIGNMENT.TOP,value:"hover"===e?3:6}},getBubbleMode:function(){return this.props.isSelected&&!this.state.isFirstRender?"selected":this.state.isHoverBubble&&!this.props.toolsHidden?"hover":null},getHoverBubbleProps:function(){return{closeTrigger:[],hideMethod:this.closeHoverBubble,timeoutForMouseOverBubble:600,mouseLeftTargetNode:!this.isBeingDragged&&!this.state.mouseOverGuide,className:"hover-bubble"}},getSelectedBubbleProps:function(){return{closeTrigger:[s.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.deselectGuide,timeoutForMouseOverBubble:0,mouseLeftTargetNode:null,className:"selected-bubble"}},getBubbleProps:function(){var t=this.getBubbleMode(),o="hover"===t?this.getHoverBubbleProps():this.getSelectedBubbleProps(),n=this.getOverridePositionAdjustments(t),i="horizontal"===this.props.rulerDirection?5:-5,a="horizontal"===this.props.rulerDirection?s.TOOLTIP.ALIGNMENT.LEFT:s.TOOLTIP.ALIGNMENT.RIGHT;return{value:{classPath:"baseUI.stepperWithSVG",props:this.getStepperWithSVGProps()},styleType:s.TOOLTIP.STYLE_TYPE.NORMAL,alignment:a,noArrow:!0,targetNode:e.findDOMNode(this.refs.guide),closeTriggers:o.closeTrigger,hideMethod:o.hideMethod,marginsFromWindow:0,mouseLeftTargetNode:o.mouseLeftTargetNode,marginsFromElement:i,timeoutForMouseOverBubble:o.timeoutForMouseOverBubble,overridePositionAdjustments:n,customClasses:[o.className]}},onContainerMouseDown:function(e){e.stopPropagation(),this.props.toolsHidden||this.startDrag(e,this.getDragLimits())},onMouseLeave:function(){this.setState({mouseOverGuide:!1})},activateHoverBubble:function(){this.state.mouseOverGuide&&this.setState({isHoverBubble:!0,selectedDueToHoverBubbleClick:!1})},onMouseEnter:function(){!this.props.disableInteraction&&(!this.props.isSelected&&!this.props.toolsHidden||this.props.isSelected&&this.state.isFirstRender)&&(this.setState({mouseOverGuide:!0}),window.setTimeout(this.activateHoverBubble,500))},handleGuideClick:function(e){e.stopPropagation(),this.props.disableInteraction||this.props.toolsHidden||(this.state.isHoverBubble&&this.setState({isHoverBubble:!1}),this.preventClickAfterDragEnd?this.preventClickAfterDragEnd=!1:this.setGuideSelected("click_on_guide"))},render:l})}),define("rEditor/rootComps/rulers/rulers.rt",["react","lodash","core","util","rEditor/rootComps/rulers/guide"],function(e,t,o,n,i){"use strict";return function(){return e.createElement.apply(this,["div",{className:t({rulers:!0,"mobile-editor-rulers":this.getEditorAPI().isMobileEditor(),"vertical-ruler":"vertical"===this.props.rulerDirection,"horizontal-ruler":"horizontal"===this.props.rulerDirection}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"rulerContainer",style:this.getRulersStyle(),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:function(e){e.preventDefault()}.bind(this)},this.props.toolsHidden?null:e.createElement("div",{className:this.props.rulerDirection+"-ticks",key:this.props.rulerDirection+"-ruler"},this.getEditorAPI().isMobileEditor()||"vertical"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator-blocker",key:"rulers-separator-blocker"}),this.getEditorAPI().isMobileEditor()||"horizontal"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator "+t({"rulers-separator-hover":this.props.isHovered}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"rulers-separator"}),e.createElement("div",{className:"rulers-background "+t({"rulers-background-hover":this.props.isHovered,"rulers-background-mobile":this.getEditorAPI().isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"rulers-"+this.props.rulerDirection+"-ticks",style:this.getTicksPositionInBackgroundStyle()}),e.createElement.apply(this,["div",{className:"ruler-numbers-container",style:this.getRulersNumbersStyle()},t.map(this.getRulerNumbers(),function(t,o){return e.createElement("div",{key:"number-"+t,className:"ruler-number"},t)}.bind(this))]))),t.map(this.props.guidesInRuler,function(t,o){return e.createElement(i,{key:t.guideId,rulerDirection:this.props.rulerDirection,guidePosition:t.guidePosition,guideId:t.guideId,isSelected:this.props.selectedGuide===t.guideId,isGuideOutOfLimitsFunc:this.isGuideOutOfLimits,isMouseOverRulers:this.isMouseOver,toolsHidden:this.props.toolsHidden,disableInteraction:this.props.isDragging,previewSize:this.props.previewSize})}.bind(this))])}}),define("rEditor/rootComps/rulers/rulers",["reactDOM","jquery","create-react-class","prop-types","lodash","baseUI","core","util","rEditor/rootComps/rulers/rulers.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,n,i,a,r,s,l,c){"use strict";return o({displayName:"rulers",mixins:[r.mixins.editorAPIMixin],propTypes:{rulerDirection:n.string.isRequired,guidesInRuler:n.array.isRequired,selectedGuide:n.string,isHovered:n.bool,previewHeight:n.number,toolsHidden:n.bool,selectedComponents:n.array,isDragging:n.bool,previewSize:n.object.isRequired},getInitialState:function(){return this.isMouseOver=!1,this.viewPort=r.utils.stageUtils.getViewPort(!0),this.verticalRulersComponentWidth=null,{}},componentWillMount:function(){var e=s.keyboardShortcuts.extendContext(s.keyboardShortcuts.CONTEXTS.EDITOR,this.getRulersKeyboardShortcuts());s.keyboardShortcuts.registerContext(s.keyboardShortcuts.CONTEXTS.RULERS,e),this.horizontalTicksHeight=c.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidMount:function(){"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},shouldComponentUpdate:function(e){!this.props.isHovered&&e.isHovered&&"vertical"===this.props.rulerDirection&&this.getEditorAPI().rulers.sendBIEvent("RULERS_HOVER",{});var t=this.viewPort;return this.viewPort=r.utils.stageUtils.getViewPort(!0),this.props.previewHeight!==e.previewHeight||t!==this.viewPort||!i.isEqual(e,this.props)},componentWillUpdate:function(){this.horizontalTicksHeight=c.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidUpdate:function(e){i.isEmpty(e.selectedComponents)&&!i.isEmpty(this.props.selectedComponents)&&this.props.selectedGuide&&this.getEditorAPI().rulers.deselectGuide(),"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},componentWillUnmount:function(){s.keyboardShortcuts.unregisterContext(s.keyboardShortcuts.CONTEXTS.RULERS)},getRulersKeyboardShortcuts:function(){return{"del,backspace":this.getEditorAPI().rulers.removeGuideViaDelBtn,"shift + right":i.partial(this.changeGuidePositionViaKeyboard,"vertical",10),"shift + left":i.partial(this.changeGuidePositionViaKeyboard,"vertical",-10),"shift + up":i.partial(this.changeGuidePositionViaKeyboard,"horizontal",-10),"shift + down":i.partial(this.changeGuidePositionViaKeyboard,"horizontal",10),left:i.partial(this.changeGuidePositionViaKeyboard,"vertical",-1),right:i.partial(this.changeGuidePositionViaKeyboard,"vertical",1),up:i.partial(this.changeGuidePositionViaKeyboard,"horizontal",-1),down:i.partial(this.changeGuidePositionViaKeyboard,"horizontal",1)}},changeGuidePositionViaKeyboard:function(e,t){var o=this.getEditorAPI(),n=o.rulers.getSelectedGuideData();this.isGuideOutOfLimits(n.guidePosition+t,!1,e)||o.rulers.changeGuidePositionByPixels(e,t)},getVerticalRulerWidth:function(){return this.refs.rulerContainer&&e.findDOMNode(this.refs.rulerContainer)&&e.findDOMNode(this.refs.rulerContainer).getBoundingClientRect()&&e.findDOMNode(this.refs.rulerContainer).getBoundingClientRect().width||0},getRulerNumbers:function(){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout(),o=e.editorConfig.previewHeight;return c.getRulerNumbers(e.isMobileEditor(),t,o,e.getPreviewPosition(),this.props.rulerDirection)},getRulersNumbersStyle:function(){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout();return"vertical"===this.props.rulerDirection?{left:e.isMobileEditor()?4:t.x+4}:{top:e.isMobileEditor()?1:100*Math.floor(t.y/100)+80+1}},getRulersStyle:function(){if("vertical"===this.props.rulerDirection){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout(),o={width:c.getVerticalTicksWidth(e.isMobileEditor(),t)};return e.isMobileEditor()&&(o.left=t.x),o}return{height:this.horizontalTicksHeight}},getTicksPositionInBackgroundStyle:function(){var e=this.getEditorAPI();if("vertical"===this.props.rulerDirection){var t=e.siteSegments.getPagesContainerAbsLayout();return{backgroundPosition:e.isMobileEditor()?0:t.x+1}}return e.isMobileEditor()?{backgroundPosition:"5px 0"}:{backgroundPosition:"5px -21px"}},isGuideOutOfLimits:function(e,t,o){var n=this.getEditorAPI(),i=n.siteSegments.getPagesContainerAbsLayout();return o=o||this.props.rulerDirection,t?c.isGuideOutOfViewLimits(n.isMobileEditor(),i,this.viewPort,this.verticalRulersComponentWidth,o,e,t):c.isGuideOutOfLimits(n.isMobileEditor(),i,this.viewPort,this.verticalRulersComponentWidth,o,e,t)},handleMouseEnter:function(e){if(!t(e.target).hasClass("vertical-guide")&&!t(e.target).hasClass("horizontal-guide")){this.isMouseOver=!0;this.getEditorAPI().rulers.updateEditorRulersState("isHovered",!0)}},handleMouseLeave:function(){if(this.isMouseOver=!1,!this.props.isDragging){this.getEditorAPI().rulers.updateEditorRulersState("isHovered",!1)}},handleMouseDown:function(e){if(i.includes(["rulers-vertical-ticks","rulers-horizontal-ticks","ruler-number","ruler-numbers-container"],e.target.className)){var t=c.calcNewGuidePosition(this.getEditorAPI(),this.props.rulerDirection,e);this.isGuideOutOfLimits(t,!0)||this.setNewGuide(t)}},setNewGuide:function(e){var t=this.getEditorAPI(),o={};"vertical"===this.props.rulerDirection?(t.rulers.setVerticalGuide(e),o={xCoordinate:e,yCoordinate:0}):(t.rulers.setHorizontalGuide(e),o={xCoordinate:0,yCoordinate:e}),this.getEditorAPI().rulers.sendBIEvent("RULERS_CLICKED",o)},render:l})}),define("rEditor/rootComps/mobileFrame/mobileFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({"mobile-frame":!0,previewMode:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFrameStyle()},e.createElement("div",{className:"block-layer bottom"}),e.createElement("div",{className:"mobile-frame-top"}),e.createElement("div",{className:"site-shadow",key:"mobile-site-shadow"}),e.createElement("div",{className:"mobile-frame-bottom"}))}}),define("rEditor/rootComps/mobileFrame/mobileFrame",["lodash","create-react-class","prop-types","reactDOM","higherOrderComponents","rEditor/rootComps/mobileFrame/mobileFrame.rt"],function(e,t,o,n,i,a){"use strict";var r=t({displayName:"mobileFrame",propTypes:{displayShadow:o.bool,siteScale:o.number,previewMode:o.bool.isRequired,refreshMobileFramePosition:o.func,siteX:o.number},componentDidMount:function(){this.updateMobileFramePosition()},componentDidUpdate:function(){this.updateMobileFramePosition()},updateMobileFramePosition:function(){e(n.findDOMNode(this).getBoundingClientRect()).pick(["top","left","height","width"]).thru(this.props.refreshMobileFramePosition).value()},getFrameStyle:function(){var e={left:this.props.siteX};return this.props.previewMode||1===this.props.siteScale||(e.height=Math.round(100/this.props.siteScale)+"%",e.transform="scale("+this.props.siteScale+")"),e},render:a});return i.renderWhenMutated(r)}),define("rEditor/utils/mouseMoveActions/baseSpace",["lodash","core","constants"],function(e,t,o){"use strict";var n=t.utils.layoutTransitionsUtil,i=void 0,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,p=void 0,d=void 0;return{start:function(t,o){s=t,a=o.compsToPush,r=o.snapThreshold||0;var l=e.map(a,"id");s.documentServices.renderPlugins.setCompsToShowOnTop(l);var u=e.omit(s.components.layout.getRelativeToScreen(a),"bounding"),m=e.map(a,function(t){return e.omit(s.components.layout.getRelativeToScreen(t),"bounding")});c=o.minY,p=o.onSpaceEnd,d=o.onSpace;var g={x:o.evt.pageX,y:o.evt.pageY};i=new n.Drag(u,g,m)},on:function(t){var o={x:t.pageX,y:t.pageY},n=i.getLayout(o);n.y=Math.max(n.y,c),n.y-r<=c&&(n.y=c),l=i.getBoundComponentLayouts(n);for(var p=0;p<a.length;p++)s.components.layout.updateRelativeToScreenAndAdjustLayout(a[p],e.pick(l[p],"y"));e.isFunction(d)&&d(o.x,o.y)},end:function(){if(l){for(var t=0;t<a.length;t++)s.components.layout.updateRelativeToScreen(a[t],e.pick(l[t],"y"));l=null}s.documentServices.renderPlugins.setCompsToShowOnTop(null),e.isFunction(p)&&p()},type:o.MOUSE_ACTION_TYPES.SPACER}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip},e.createElement("div",{className:"section-controls-button "+(this.props.label?"with-label":"")+" "+(this.props.isDisabled?"disabled":""),onClick:function(){this.onClick()}.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(o.symbol,{name:this.props.symbol}),e.createElement("span",{},this.props.label)))}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton",["create-react-class","prop-types","lodash","rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt"],function(e,t,o,n){"use strict";return e({displayName:"sectionControlsButton",propTypes:{onClick:t.func,tooltip:t.string,symbol:t.string.isRequired,isDisabled:t.bool},onClick:function(){this.isDisabled||this.props.onClick()},render:n})}),define("rEditor/rootComps/sectionsReorganize/sectionControls.rt",["react","lodash","uiConstants","baseUI","util","experiment","rEditor/rootComps/sectionsReorganize/sectionControlsButton","constants"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return function(){var s=this.getSectionStyle();return e.createElement("div",{className:t(this.getSectionControlsClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:s},e.createElement("div",{className:"highlight "+(this.props.isDragging?"with-shadow":""),style:this.getHighlightStyle(),onMouseDown:this.props.onDragHandleMouseDown}),this.shouldDisplayReorderButtons()?e.createElement("div",{key:"reorder-buttons",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(r,t.assign({},{onClick:this.props.isFirstSection?t.noop:this.props.onUpClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Up",symbol:"sectionMoveUp",",":!0,isDisabled:this.props.isFirstSection},this.getControlButtonProps())),e.createElement(r,t.assign({},{onClick:this.props.isLastSection?t.noop:this.props.onDownClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Down",symbol:"sectionMoveDown",isDisabled:this.props.isLastSection,",":!0},this.getControlButtonProps())),this.props.isMobileEditor?null:e.createElement(r,t.assign({},{key:"duplicate_btn",onClick:this.props.onDuplicateClicked,tooltip:"ZoomOut_Section_Tooltip_Copy_Section",symbol:"sectionDuplicate"},this.getControlButtonProps())),this.props.isSectionRemovable?e.createElement(r,t.assign({},{key:"remove_btn",onClick:this.props.onDeleteClicked,tooltip:this.props.isMobileEditor?"ZoomOut_Section_Tooltip_Hide_Section":"ZoomOut_Section_Tooltip_Delete_Section",symbol:this.props.isMobileEditor?"sectionMobileHide":"sectionDelete"},this.getControlButtonProps())):null)):null,this.props.isGap&&!this.props.isInCropMode?e.createElement("div",{key:"gap-delete",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(r,t.assign({},{onClick:this.props.onDeleteClicked,symbol:"sectionDelete",label:i.translate("ZoomOut_Delete_Space_Tooltip")},this.getControlButtonProps())))):null,this.props.isHeader||this.props.isFooter?e.createElement("div",{key:"header-footer-info",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},!this.props.isHeader||a.isOpen("mobileHeaderRecommendedHeight")&&this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(n.tooltip,{key:"header-info",value:"ZoomOut_Header_Tooltip",styleType:"small",alignment:o.TOOLTIP.ALIGNMENT.BOTTOM},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onHeaderOver},e.createElement(n.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},i.translate("ZoomOut_Header")))),this.props.isFooter?e.createElement(n.tooltip,{key:"footer-info",value:"ZoomOut_Footer_Tooltip",styleType:"small",alignment:o.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onFooterOver},e.createElement(n.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},i.translate("ZoomOut_Footer")))):null)):null)}.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionControls",["create-react-class","prop-types","lodash","core","rEditor/rootComps/sectionsReorganize/sectionControls.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"sectionControls",propTypes:{isMobileEditor:t.bool,layout:t.object.isRequired,siteScale:t.number.isRequired,showDragHighlight:t.bool,isDragging:t.bool,isGap:t.bool,isSpacing:t.bool,isHeader:t.bool,isFooter:t.bool,isStaticSection:t.bool,isInCropMode:t.bool,isSectionRemovable:t.bool,onDragHandleMouseDown:t.func,onUpClicked:t.func,onDownClicked:t.func,onDuplicateClicked:t.func,onDeleteClicked:t.func},mixins:[n.mixins.editorAPIMixin],getDefaultProps:function(){return{isMobileEditor:!1,showDragHighlight:!1}},getInitialState:function(){return{isHoveringControlButton:!1}},componentWillMount:function(){this._setControlButtonHoverState=o.debounce(this.setControlButtonHoverState,100),this.throttledBi=o.throttle(this.bi,50,{leading:!1,trailing:!0})},getSectionControlsClasses:function(){return{"section-controls":!0,"show-highlight":this.props.showDragHighlight||this.state.isHoveringControlButton,"no-drag-handle":this.state.isHoveringControlButton||this.props.isSpacing,"header-footer-blocker":this.props.isHeader||this.props.isFooter||this.props.isStaticSection}},getSectionStyle:function(){return{top:this.props.layout.y*this.props.siteScale,height:this.props.layout.height*this.props.siteScale}},getHighlightStyle:function(){var e={width:"calc("+(this.props.isMobileEditor?"320px":"100%")+" * "+this.props.siteScale+" + 2px)"};return 1===this.props.siteScale&&(e.pointerEvents="none"),e},setControlButtonHoverState:function(e){this.state.isHoveringControlButton!==e&&this.setState({isHoveringControlButton:e})},shouldDisplayReorderButtons:function(){return!(this.props.isHeader||this.props.isFooter||this.props.isStaticSection||this.props.isGap||this.props.isDragging||this.props.isInCropMode)},getControlButtonProps:function(){var e=this;return{onMouseEnter:function(){e._setControlButtonHoverState(!0)},onMouseLeave:function(){e._setControlButtonHoverState(!1)}}},getButtonsWrapperStyle:function(){var e="calc(25% + 100% * "+this.props.siteScale+" + 36px)";return this.props.isMobileEditor&&(e="calc(50% + 320px / 2 * "+this.props.siteScale+" + 36px)"),{height:this.props.layout.height*this.props.siteScale,left:e}},bi:function(e){var t=this.getEditorAPI();t.bi.event(e,{editor_view_mode:t.getDeviceType()})},onHeaderOver:function(){this.throttledBi(n.bi.events.sectionReorganize.header_tooltip_hover)},onFooterOver:function(){this.throttledBi(n.bi.events.sectionReorganize.footer_tooltip_hover)},render:i})}),define("rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight.rt",["react","lodash","util","baseUI","baseUILib"],function(e,t,o,n,i){"use strict";return function(){return e.createElement("div",{className:t({"recommended-mobile-header-height":!0,selected:this.isHeaderSelected()&&!this.props.isResizing}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"header-footer-info-tooltip",key:"recommended-mobile-header",style:this.getHeaderInfoStyle()},e.createElement(i.Tooltip,{key:"recommended-mobile-header-tooltip",id:"recommended-mobile-header-tooltip",content:"mobile_headerscroll_panel_size_tooltip",alignment:"BOTTOM"},e.createElement("div",{className:"header-tooltip-content"},e.createElement(n.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"recommended-mobile-header-height-title"},"\n          ",o.translate("mobile_headerscroll_panel_size_title"),"\n        ")))),e.createElement.apply(this,["svg",{className:"header-recommended-height-separator"},t.map(this.getRecommendedHeaderLines(),function(t,o){return e.createElement("line",{key:"recommended-height-separator-"+o,className:"header-recommended-height-separator",x1:t.x1,x2:t.x2,y1:t.y,y2:t.y})}.bind(this))]))}}),define("rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight",["lodash","create-react-class","prop-types","higherOrderComponents","constants","util","rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight.rt"],function(e,t,o,n,i,a,r){"use strict";var s=i.ROOT_COMPS.MOBILE_EDITOR.RECOMMENDED_MOBILE_HEADER_HEIGHT,l=i.ROOT_COMPS.MOBILE_EDITOR.SEPARATOR_LINE_LENGTH,c=i.ROOT_COMPS.MOBILE_EDITOR.MOBILE_FRAME_WIDTH,p=t({displayName:"recommendedMobileHeaderHeight",propTypes:{isResizing:o.bool,selectedComponents:o.arrayOf(o.object),stageLayout:o.object.isRequired},isHeaderSelected:function(){var t=e.head(this.props.selectedComponents);return t&&"SITE_HEADER"===t.id},getHeaderInfoStyle:function(){var e=this.props.stageLayout,t=a.uiUtils.getScrollbarWidth();return{left:(e.width-t-c)/2+c+36,top:s-14-12+1}},getRecommendedHeaderLines:function(){var e=[],t=this.props.stageLayout,o=a.uiUtils.getScrollbarWidth(),n=(t.width-o-c)/2;return e.push({x1:n-l,x2:n,y:s}),e.push({x1:n+c,x2:n+c+l,y:s}),e},render:r}),d=n.connectEditorAPI(function(e){return{selectedComponents:e.selection.getSelectedComponents()}})(n.renderWhenMutated(p));return d.pure=p,d}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt",["react","lodash","baseUI","rEditor/rootComps/sectionsReorganize/sectionControls","experiment","rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight","constants"],function(e,t,o,n,i,a,r){"use strict";return function(){function i(){var i=this.getSections(),s=this.getSpacerProps(i),l=this.getSectionControlsProps(i,s);return e.createElement("div",{className:"sections-reorganize-exp"},e.createElement.apply(this,["svg",{className:"section-separators"},t.map(this.getSeparatorLines(i),function(o,n,i,a,r){return e.createElement("line",{className:t({"section-separator":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"separator-"+r,x1:a.x1,x2:a.x2,y1:a.y,y2:a.y})}.bind(this,i,s,l))]),this.shouldDisplayRecommendedHeaderHeight()?e.createElement(a,{key:"recommendedMobileHeaderHeight",isResizing:this.props.isResizing,stageLayout:this.props.stageLayout}):null,l&&!this.state.isSpacing?e.createElement(n,t.assign({},{key:l.layout.y+"_"+l.layout.height,isMobileEditor:this.props.isMobileEditor},l)):null,!s||this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(o.tooltip,{key:"spacer_tooltip",id:"zoom_mode_spacer_id",value:"ZoomOut_Change_Space_Tooltip",alignment:r.UI.TOOLTIP.ALIGNMENT.CENTER,delay:"0",disabled:this.state.isSpacing},e.createElement("div",{key:"spacer",className:"spacer-handle",style:s.style,onMouseDown:s.onMouseDown},e.createElement(o.symbol,{name:"spacerHandleDots"}))))}return i.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize",["lodash","create-react-class","prop-types","core","util","baseUI","constants","experiment","rEditor/utils/mouseMoveActions/baseSpace","rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt"],function(e,t,o,n,i,a,r,s,l,c){"use strict";function p(t){if(this.props.selectedSection)return e.find(t,e.bind(function(t){return e.isEqual(t.comps,this.props.selectedSection.comps)},this));var o=this.state.stageMousePosition;if(o)for(var n=0;n<t.length;n++)if(o.y>=t[n].position.top&&o.y<=t[n].position.bottom)return t[n];return null}function d(t){return this.props.selectedSection&&e.isEqual(t.comps,this.props.selectedSection.comps)}function u(e){return function(e){if(!this.state.stageMousePosition)return!1;var t=this.state.stageMousePosition.y;return t>=e.position.top&&t<=e.position.bottom}.call(this,e)&&function(e,t,o){var i=void 0;if(o)i=320*t;else{var a=n.utils.stageUtils.getStageRect();i=(a.right-a.left)*t}return e.x*t>=i}(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor)}function m(e){return!(e.isCurrentPageLandingPage()||e.documentServices.pages.popupPages.isPopupOpened())}function g(e,t){return t.y>=e.y&&t.y<=e.y+e.height}function h(t){if(!t)return null;var o=e.clone(t),i=this.getEditorAPI();o=function(e,t){var o=n.utils.sectionsReorganizeUtil.getHeaderSection(e);return t.unshift(o),t}(i,o);var a=function(e){if(this.props.selectedSection)return-1;var t=this.state.stageMousePosition;if(t)for(var o=0;o<e.length-1;o++)if(t.y>e[o].position.bottom&&t.y<e[o+1].position.top)return o;return-1}.call(this,o);if(-1===a)return null;var r={y:o[a].position.bottom,height:o[a+1].position.top-o[a].position.bottom};return{isGap:!0,isInCropMode:i.imageCrop.isCropMode(),layout:r,siteScale:this.props.siteScale,onDeleteClicked:function(){this.closeGapBetweenSections(o,a)}.bind(this)}}var f=30,b=n.bi.events.sectionReorganize,y=r.ROOT_COMPS.MOBILE_EDITOR.SEPARATOR_LINE_LENGTH;return t({displayName:"sectionsReorganize",propTypes:{isMobileEditor:o.bool.isRequired,sections:o.array,selectedSection:o.object,isSectionDragging:o.bool,isCompDragging:o.bool,stageLayout:o.object.isRequired,siteScale:o.number.isRequired,isResizing:o.bool,isInZoomMode:o.bool},mixins:[n.mixins.editorAPIMixin],getInitialState:function(){return{isSpacing:!1,stageMousePosition:null}},componentDidMount:function(){this._throttledUpdateMousePosition=e.throttle(this.updateMousePosition,100),window.addEventListener("mousemove",this._throttledUpdateMousePosition)},componentWillUnmount:function(){window.removeEventListener("mousemove",this._throttledUpdateMousePosition)},updateMousePosition:function(t){if(function(e,t,o){return t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom}(n.utils.stageUtils.getStageLayout(),t.clientX,t.clientY)){var o=this.getEditorAPI();t=e.pick(t,["clientX","clientY","pageX","pageY"]);var i=n.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(o,t),a={x:i.pageX,y:i.pageY};this.setState({stageMousePosition:a})}else this.state.stageMousePosition&&this.setState({stageMousePosition:null})},getSections:function(){return this.props.sections?this.props.sections:n.utils.sectionsReorganizeUtil.getPageSections(this.getEditorAPI())},getSectionControlsProps:function(t,o){return function(){var t=this.state.stageMousePosition;if(!t)return null;var o=this.getEditorAPI();if(!m(o))return null;var n=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getHeader()),i=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getFooter()),a=void 0;return g(n,t)?a={layout:n,isHeader:!0}:g(i,t)&&(a={layout:i,isFooter:!0}),a?e.assign(a,{siteScale:this.props.siteScale}):null}.call(this)||h.call(this,t)||function(t,o){function i(e){u.bi.event(b.reorder_panel_clicked,{editor_view_mode:u.getDeviceType(),action_clicked:e})}if(!t||o&&o.isSpacerHovered)return null;var a=p.call(this,t);if(!a)return null;var r=e.findIndex(t,a);if(a.isStaticSection)return{layout:this.getSectionLayout(a),siteScale:this.props.siteScale,isStaticSection:!0};var s=d.call(this,a),l=1!==this.props.siteScale,c=this,u=c.getEditorAPI();return{section:a,siteScale:this.props.siteScale,layout:this.getSectionLayout(a),showDragHighlight:!this.props.isMobileEditor||l,isDragging:s,isInZoomMode:u.zoomMode.isInZoomMode(),isInCropMode:u.imageCrop.isCropMode(),isSpacing:this.state.isSpacing,tooltipId:"reorganize-section-tooltip",isFirstSection:0===r||e.get(t,[r-1,"isStaticSection"]),isLastSection:r===t.length-1||e.get(t,[r+1,"isStaticSection"]),isSectionRemovable:a.isRemovable,onDragHandleMouseDown:function(e){c.startSectionDrag(e,t,a)},onDuplicateClicked:function(){n.utils.sectionsReorganizeUtil.duplicateSection(u,t,e.findIndex(t,a)),i("duplicate")},onDeleteClicked:function(){n.utils.sectionsReorganizeUtil.deleteSection(u,t,e.findIndex(t,a)),u.history.add("Delete Section"),i("delete")},onUpClicked:function(){c.shiftSection(t,a,-1),i("up")},onDownClicked:function(){c.shiftSection(t,a,1),i("down")}}}.call(this,t,o)},getSpacerProps:function(t){if((this.props.isCompDragging||this.props.isSectionDragging)&&!this.state.isSpacing)return null;var o=this.state.stageMousePosition;if(!t||!o)return null;var i=function(t,o){if(this.state.isSpacing&&this.props.selectedSection)return e.findIndex(t,e.bind(d,this));for(var n=0;n<t.length;n++){var i=n>0?t[n-1]:null;if(o.y<=t[n].position.top+f&&(!i||o.y>i.position.top+f))return n}return-1}.call(this,t,o),r=function(e,t,o){var i=void 0;if(o)i=320*t;else{var a=n.utils.stageUtils.getStageRect();i=(a.right-a.left)*t}return e.x*t<=i}(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor),s=p.call(this,t),l=e.findIndex(t,s),c=!!s&&u.call(this,s);if(-1===i||!r||c)return null;var m=this,g=this.props.isMobileEditor?"320px":"100%";return{style:{top:this.getSectionLayout(t[i]).y*this.props.siteScale,width:"calc("+g+" * "+this.props.siteScale+" + 2px)"},onMouseDown:function(e){a.tooltipManager.hide("zoom_mode_spacer_id"),m.startSpacing(e,t,i)},isSpacerHovered:i===l}},getSeparatorLines:function(t){var o=function(t,o){var i=e.clone(t),a=[];if(m(o)){var r=n.utils.sectionsReorganizeUtil.getHeaderSection(o);i.unshift(r)}for(var s=0;s<i.length;s++){var l=i[s],c=s>0?i[s-1]:null;c&&c.position.bottom<l.position.top&&a.push(l.position.top),a.push(l.position.bottom)}return a}(t,this.getEditorAPI()),a=this.props.stageLayout,r=i.uiUtils.getScrollbarWidth(),s=(a.width-r)*this.props.siteScale;this.props.isMobileEditor&&(s=320*this.props.siteScale);var l=(a.width-r-s)/2,c=e.get(n.utils.sectionsReorganizeUtil.getHeaderSection(this.getEditorAPI()),["position","bottom"]),p=this.isHeaderSectionResizing();return e.flatMap(o,e.bind(function(e){return e*=this.props.siteScale,[{x1:l-y,x2:l,y:e,isSectionResizing:p&&c===e},{x1:l+s,x2:l+s+y,y:e,isSectionResizing:p&&c===e}]},this))},isHeaderSectionResizing:function(){return this.props.isResizing&&this.isHeaderSectionSelected()},isHeaderSectionSelected:function(){return"SITE_HEADER"===e.get(e.head(this.getEditorAPI().selection.getSelectedComponents()),"id")},shouldDisplayRecommendedHeaderHeight:function(){return s.isOpen("mobileHeaderRecommendedHeight")&&this.props.isMobileEditor&&!this.props.isInZoomMode&&this.isHeaderSectionSelected()},closeGapBetweenSections:function(e,t){for(var o=this.getEditorAPI(),i=e[t+1].position.top-e[t].position.bottom,a=t+1;a<e.length;a++)n.utils.sectionsReorganizeUtil.shiftSection(o,e[a],-1*i);o.bi.event(b.SPACE_DELETED,{site_id:o.documentServices.generalInfo.getSiteId(),page_id:o.documentServices.pages.getFocusedPageId(),space_size:i}),o.history.add("Delete Space")},shiftSection:function(t,o,i){var a=e.findIndex(t,o)+i;if(!(a<0||a>=t.length)){var r=o,s=t[a];-1===i&&(r=t[a],s=o),n.utils.sectionsReorganizeUtil.switchSections(this.getEditorAPI(),t,r,s),this.getEditorAPI().history.add("Move Section")}},startSectionDrag:function(e,t,o){var i=this.getEditorAPI();i.setPageSections(t,o),i.mouseActions.registerMouseMoveAction(n.utils.sectionDrag,{sections:t,evt:e,minY:function(e){return e.siteSegments.getPagesContainerAbsLayout().y}(i),draggedSection:o,onDragEnd:this.onSectionDragEnd.bind(this,o,o.position.top)},!0)},onSectionDragEnd:function(e,t){var o=this.getEditorAPI();e=this.props.selectedSection||e,o.bi.event(b.REORDER_SECTION,{page_id:o.documentServices.pages.getFocusedPageId(),position_before:t,position_after:e.position.top,section_size:n.utils.sectionsReorganizeUtil.getSectionSizeForBI(e.position.bottom-e.position.top)}),o.clearPageSections()},startSpacing:function(t,o,n){for(var i=this.getEditorAPI(),a=[],r=n;r<o.length;r++)a=a.concat(o[r].comps);if(!e.isEmpty(a)){var s=0===n?0:o[n-1].position.bottom;i.mouseActions.registerMouseMoveAction(l,{evt:t,minY:s,snapThreshold:Math.round(5/this.props.siteScale),compsToPush:a,onSpaceEnd:this.onSpaceEnd}),this.setState({isSpacing:!0}),i.setPageSections(o,o[n]),i.bi.event(b.zoom_mode_spacer_drag)}},onSpaceEnd:function(){this.getEditorAPI().clearPageSections(),this.setState({isSpacing:!1}),this.getEditorAPI().history.add("Change Sections Space")},getSectionLayout:function(t){if(t.layout)return t.layout;if((this.props.isSectionDragging||this.state.isSpacing)&&!e.isEmpty(t.comps)){var o=this.getEditorAPI().components.layout.getRelativeToScreen(t.comps);return o.bounding||o}return{y:t.position.top,height:t.position.bottom-t.position.top}},render:c})}),define("rEditor/rootComps/pinMode/pinMode.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"pin-mode"},e.createElement("div",{className:"preview-rect",style:this.props.style}),e.createElement("div",{className:"blocking-layer",onClick:this.exitPinMode}))}}),define("rEditor/rootComps/pinMode/pinMode",["create-react-class","core","lodash","rEditor/rootComps/pinMode/pinMode.rt"],function(e,t,o,n){"use strict";return e({displayName:"pinMode",mixins:[t.mixins.editorAPIMixin],render:n,exitPinMode:function(){this.getEditorAPI().pinMode.closeAndCheckSizeRestrictions()}})}),define("rEditor/rootComps/stage/editorStage.rt",["react","lodash","rEditor/rootComps/mouseCatcher","rEditor/rootComps/textEditor","core","util","uiAnimations","rEditor/rootComps/gridLines/gridLines","rEditor/rootComps/rulers/rulers","rEditor/rootComps/mobileFrame/mobileFrame","rEditor/rootComps/sectionsReorganize/sectionsReorganize","rEditor/rootComps/pinMode/pinMode","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u){"use strict";return function(){function u(){var u=this.getGuides(),m=this.getEditorAPI();return e.createElement("div",{className:t({"editor-stage":!0,"tools-hidden":this.props.isReorganizeHidden}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),id:this.props.id},m.isMobileEditor()?e.createElement(c,{key:"mobileFrame",ref:"mobileFrame",siteScale:this.props.siteScale,displayShadow:!this.isSectionDragging(),previewMode:this.props.previewMode,refreshMobileFramePosition:m.refreshMobileFramePosition,siteX:m.site.getXPos()}):null,e.createElement("div",{className:"scrollable-editor-stage "+(this.isSiteScrollingEnabled()?"":"scrolling-disabled"),ref:"scrollableEditorStage",id:"scrollableEditorStage",onScroll:this._handleScroll},e.createElement("div",{ref:"siteCover",className:"site-cover",style:{height:this.getStageHeight()}},this.isGridLinesVisible()?e.createElement("div",{className:"gridLines",key:"gridLines"},this.isPageGridLinesVisible()?e.createElement(s,{key:"pageGridLines",gridLines:this.getPageGridLines(),fade:this.shouldFadeGridLines()}):null,m.components.is.showMarginsIndicator(this.props.focusedContainer)?e.createElement(s,{key:"containerGridLines",gridLines:this.getContainerGridLines()}):null):null,e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.previewMode||!this.props.editorIsInit||this.props.imageCrop.isOn?null:e.createElement(o,{ref:"mouseCatcher",key:"mouseCatcher",config:this.props.config,attachCandidate:this.props.attachCandidate,onContextMenu:this.props.onContextMenu,editorIsInit:this.props.editorIsInit,isSectionDragging:this.isSectionDragging(),isDragging:this.isDragging(),isResizing:this.isResizing(),isRotating:this.isRotating(),isPinMode:this.props.isPinMode,performingMouseMoveAction:this.props.performingMouseMoveAction,registeredMouseMoveAction:this.props.registeredMouseMoveAction,hoveredComp:this.props.hoveredComp,hoverBoxOverlay:this.props.hoverBoxOverlay,setHoverBox:this.props.setHoverBox,clearHoverBox:this.props.clearHoverBox,selectedComponents:m.selection.getSelectedComponents(),focusedContainer:this.props.focusedContainer,compPanel:this.props.panel,previewPosition:this.props.previewPosition,previewMode:this.props.previewMode,siteScale:this.props.siteScale,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea}),this.props.imageCrop.isOn?e.createElement(i.lazyComponent,t.assign({},{moduleName:"imageCrop.layer",key:"imageCrop"},{imageCropData:this.props.imageCrop,imageComponent:this.getImageComponent()})):null,e.createElement(n,{key:"textEditorNew",isOpenTextEditor:this.props.isOpenTextEditor,openPanels:this.props.openPanels,selectedTextComp:this.getSelectedTextComp(),layout:this.getTextEditorPosition(),isResizing:this.isResizing()}),this.props.viewTools.rulersEnabled&&1===this.props.siteScale&&m.isPreviewReady()?e.createElement(l,{key:"rulers",rulerDirection:"horizontal",previewHeight:this.getStageHeight(),guidesInRuler:u.horizontalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,selectedComponents:this.props.selectedComponents,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},1!==this.props.siteScale?e.createElement("div",{className:"block-layer",key:"block-layer"},e.createElement("div",{className:"side left transition",style:this.getSideBlockLayerStyle()}),e.createElement("div",{className:"side right transition",style:this.getSideBlockLayerStyle()}),m.isMobileEditor()?null:e.createElement("div",{key:"block-layer-bottom",className:"side bottom",style:{height:"calc(100% - "+this.getSideBlockLayerHeight()+"px)"}}),this.isSectionDragging()||m.isMobileEditor()?null:e.createElement("div",{key:"scaled-site-shadow",className:"shadow",style:this.getBlockShadowStyle()})):null,!this.props.editorIsInit||this.props.isPinMode||this.props.isPopupMode||!m.isMobileEditor()&&1===this.props.siteScale?null:e.createElement(p,{key:"sectionsReorganize",ref:"sectionsReorganize",isMobileEditor:m.isMobileEditor(),sections:this.props.pageSections.sections,selectedSection:this.props.pageSections.selectedSection,isSectionDragging:this.isSectionDragging(),isCompDragging:this.isDragging(),siteScale:this.props.siteScale,isHidden:this.props.isReorganizeHidden,halfOpacityTools:this.props.halfOpacityTools,stageLayout:m.ui.stage.getEditingAreaLayout(),isResizing:this.isResizing(),isInZoomMode:m.zoomMode.isInZoomMode()})))),e.createElement("div",{className:"fixed-editor-stage",style:{width:"calc(100% - "+a.uiUtils.getScrollbarWidth()+"px)"}},e.createElement("div",{className:"fixed-editor-stage-contents-wrapper "+(1!==this.props.siteScale?"no-pointer-events":"")},e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.isPinMode?e.createElement(d,{ref:"pinMode",key:"pinMode",style:this.props.pinPreviewRectStyle}):null,this.props.viewTools.rulersEnabled&&1===this.props.siteScale?e.createElement(l,{key:"rulers",rulerDirection:"vertical",guidesInRuler:u.verticalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},m.isMobileEditor()?e.createElement("div",{key:"mobileOpacityLayer",className:"mobile-frame-opacity-layer"}):null,e.createElement(r.panelsAnimation,{},this.shouldDisplayMobileOptimizedTeaser()&!m.zoomMode.isInZoomMode()?function(t,o){var n=a.translate;return e.createElement("div",{key:"teaser",className:"mobile-optimized-teaser"},e.createElement("h1",{},n("mobile_view_notification_title")),"\n                        ",n("mobile_view_notification_text"),"\n                        ",e.createElement("a",{onClick:this.openEditorModePanel},n("mobile_view_notification_text_link")),"\n                        ",n("mobile_view_notification_text2"),"\n                    ")}.apply(this,[u,m]):null)))))}return u.apply(this,[])}}),define("rEditor/rootComps/stage/editorStage",["reactDOM","lodash","create-react-class","prop-types","core","uiAnimations","constants","rEditor/rootComps/stage/editorStage.rt","experiment"],function(e,t,o,n,i,a,r,s,l){"use strict";var c=[r.MOUSE_ACTION_TYPES.RESIZE,r.MOUSE_ACTION_TYPES.RESIZE_PUSH,r.MOUSE_ACTION_TYPES.RESIZE_CROP,r.MOUSE_ACTION_TYPES.RESIZE_PAGE],p=[r.MOUSE_ACTION_TYPES.DRAG,r.MOUSE_ACTION_TYPES.DRAG_PUSH];return o({displayName:"EditorStage",mixins:[i.mixins.editorAPIMixin],propTypes:{editorIsInit:n.bool.isRequired,guidesState:n.object,onStageScroll:n.func,previewPosition:n.object,viewTools:n.object.isRequired,focusedContainer:n.object,imageCrop:n.object.isRequired,hideTools:n.bool.isRequired,previewMode:n.bool.isRequired,pinPreviewRectStyle:n.object.isRequired,isOpenTextEditor:n.bool.isRequired,selectedComponents:n.array,isPinMode:n.bool,attachCandidate:n.object,siteScale:n.number.isRequired,snapData:n.array,applyModeFromClipboardSuggestion:n.object,tabIndicationState:n.object.isRequired,lastSelectionClickPos:n.object,lassoCandidates:n.array,lassoLayout:n.object,constraintArea:n.object,hoveredComp:n.object,hoverBoxOverlay:n.bool,setHoverBox:n.func.isRequired,clearHoverBox:n.func.isRequired,scrollTo:n.shape({scrollTop:n.number,scrollLeft:n.number}),animateScrollTo:n.shape({position:n.shape({y:n.number,x:n.number}).isRequired,duration:n.number,onComplete:n.func}),openPanels:n.array.isRequired},componentWillReceiveProps:function(){this.props.hoveredComp&&!this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&this.props.clearHoverBox()},componentDidUpdate:function(){if(this.props.scrollTo)this.setScroll(this.props.scrollTo);else if(this.props.animateScrollTo){var e=this.props.animateScrollTo,t=e.position,o=e.duration,n=e.onComplete;this.animateScroll(t,o,n)}},shouldDisplayMobileOptimizedTeaser:function(){var e=this.getEditorAPI();return e.isMobileEditor()&&!e.getPreviewMode()&&!e.isMobileOptimizedSite()},openEditorModePanel:function(){this.getEditorAPI().panelHelpers.openMobileElementsPanel()},getStageHeight:function(){return this.getEditorAPI().isPreviewReady()?this.props.siteHeight*this.props.siteScale:"100%"},isLandingPage:function(){return this.getEditorAPI().isCurrentPageLandingPage()},isPopupPage:function(){return Boolean(this.getEditorAPI().documentServices.pages.popupPages.getCurrentPopupId())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===r.MOUSE_ACTION_TYPES.SECTION_DRAG&&this.props.performingMouseMoveAction||!1},isDragging:function(){return this.props.registeredMouseMoveAction&&t.includes(p,this.props.registeredMouseMoveAction.type)&&this.props.performingMouseMoveAction},isResizing:function(){return this.props.registeredMouseMoveAction&&t.includes(c,this.props.registeredMouseMoveAction.type)},isRotating:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===r.MOUSE_ACTION_TYPES.ROTATE},getScalableAreaStyle:function(){var e=this.props.siteScale;if(1!==e)return{height:this.props.siteHeight,transform:"scale("+e+")",transformOrigin:"center 0"}},getSideBlockLayerStyle:function(){return this.getEditorAPI().isMobileEditor()?{width:"calc((100% - 320px * "+this.props.siteScale+") / 2)"}:{width:100*(1-this.props.siteScale)/2+"%"}},getSideBlockLayerHeight:function(){return Math.max(0,this.props.siteHeight*this.props.siteScale)},getBlockShadowStyle:function(){var e=100*(1-this.props.siteScale)/2;return{left:e+"%",right:e+"%",height:this.getSideBlockLayerHeight()+"px"}},getImageComponent:function(){return function(e,t){if(t&&1===t.length){var o=t[0];if("Image"===e.components.data.get(o).type)return o}return null}(this.getEditorAPI(),this.props.selectedComponents)},getScroll:function(){return t(this.refs.scrollableEditorStage).thru(e.findDOMNode).pick("scrollTop","scrollLeft").value()},setScroll:function(o){var n=e.findDOMNode(this.refs.scrollableEditorStage);t.isUndefined(o.scrollTop)||(n.scrollTop=o.scrollTop),t.isUndefined(o.scrollLeft)||(n.scrollLeft=o.scrollLeft),this.getEditorAPI().scroll.clearScrollTo()},animateScroll:function(t,o,n){var i=e.findDOMNode(this.refs.scrollableEditorStage);a.scrollTo(t,o,0,i,n),this.getEditorAPI().scroll.clearScrollTo()},getGuides:function(){var e=this.getEditorAPI().isMobileEditor()?"mobile":"desktop",o=t.get(this.props.viewTools.rulers.guidesState,e);return o?{verticalGuides:o.verticalGuides,horizontalGuides:o.horizontalGuides}:{verticalGuides:[],horizontalGuides:[]}},_handleScroll:function(e){this.getEditorAPI().scroll.registerNewScrollPosition(this.getScroll()),this.props.onStageScroll&&this.props.onStageScroll(e)},isSiteScrollingEnabled:function(){var e=t.get(this.getEditorAPI().documentServices,["site","isScrollingEnabled"],!0);return!t.isFunction(e)||e()},getSiteCoverSizes:function(){var t=e.findDOMNode(this.refs.siteCover);return{width:t.clientWidth,height:t.clientHeight}},getPageGridLines:function(){var e=this.getEditorAPI(),t=this.isLandingPage()||this.isPopupPage();return i.utils.gridLinesUtil.getPageGridLines(e,t)},getContainerGridLines:function(){var e=this.getEditorAPI(),t=this.props.focusedContainer;return i.utils.gridLinesUtil.getContainerGridLines(e,t)},shouldFadeGridLines:function(){var e=this.getEditorAPI(),t=this.props.focusedContainer,o=e.selection.getSelectedComponents();return!!(e.components.is.showMarginsIndicator(t)||"wysiwyg.viewer.components.StripColumnsContainer"===e.components.getType(o)&&e.components.getChildren(o).length>1&&o&&e.components.is.fullWidth(o))},isGridLinesVisible:function(){var e=this.getEditorAPI(),t=!0;return e.isPreviewReady()&&e.documentServices.pages.popupPages.isPopupOpened()&&(t=e.components.is.gridLinesVisible(e.pages.popupPages.getPopupContainer())),e.isDesktopEditor()&&this.props.viewTools.guidelinesEnabled&&!this.props.isPinMode&&t},isPageGridLinesVisible:function(){if(l.isOpen("us_hide_gridlines")){var e=this.getEditorAPI(),t=this.props.selectedComponents&&this.props.selectedComponents[0];if(t){var o=e.components.layout.isCompNearPageBounds(t);return this.isDragging()&&o||o}return!1}return!0},getSelectedTextComp:function(){return function(e,o){if(t.isEmpty(o)||1!==o.length)return!1;var n=t.head(o),i=e.components.data.get(n);return"StyledText"===(i&&i.type)}(this.getEditorAPI(),this.props.selectedComponents)?this.props.selectedComponents[0]:null},getTextEditorPosition:function(){var e={},o=this.getSelectedTextComp();if(o){var n=this.getEditorAPI(),i=n.components.layout.getRelativeToScreen(o),a=n.components.layout.isShowOnFixedPosition(o);if(e={top:i.y,left:i.x,width:i.width,height:i.height,position:a?"fixed":"absolute"},i.rotationInDegrees){var r="rotate("+i.rotationInDegrees+"deg)";t.assign(e,{transform:r,WebkitTransform:r})}if(a){var s=n.getPreviewPosition();e.top+=s.top,e.left+=s.left}}return this.props.isOpenTextEditor||(e.visibility="hidden"),e},render:s})}),define("rEditor/rootComps/prefetch/prefetch.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("link",{rel:"prefetch prerender",href:this.getHref()})}}),define("rEditor/rootComps/prefetch/prefetch",["create-react-class","rEditor/rootComps/prefetch/prefetch.rt"],function(e,t){"use strict";return e({displayName:"prefetch",render:t,getHref:function(){return this.props.base?this.props.base.replace(/\/$/,"")+"/"+this.props.href.replace(/^\//,""):this.props.href}})}),define("rEditor/rootComps/editorView.rt",["react","lodash","rEditor/rootComps/topBar/topBar","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox","rEditor/rootComps/rightClickMenu/rightClickMenu","rEditor/rootComps/panels/openedPanels","rEditor/rootComps/portal/portal","baseUI","core","uiAnimations","rEditor/rootComps/stage/editorStage","rEditor/rootComps/mobileFrame/mobileFrame","textControls","rEditor/rootComps/prefetch/prefetch","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h){"use strict";return function(){function f(o,n){var i=o.getPreviewMode()?"consolePane":"idePane",a=o.developerMode.ui[i].getSplitPosition();return e.createElement(l.splitter,{className:"ide-splitter",layout:"horizontal",splitPosition:a,onDividerClick:o.getPreviewMode()?null:o.developerMode.ui.idePane.toggleMinimize,statefulResize:!0,onResize:o.developerMode.ui[i].setSplitPosition},e.createElement(l.splitter.Pane,{maxSize:this.props.shouldShowDevModePanels?"calc(100% - "+o.developerMode.ui.topbarHeight+")":""},e.createElement("div",{ref:"editingArea",id:"editingArea",className:t({"editing-area":!0,"mobile-editor":o.isMobileEditor(),"preview-mode":o.getPreviewMode()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"preview-frame-cover"},o.isMobileEditor()&&o.getPreviewMode()?e.createElement(u,{key:"mobileFrame",previewMode:o.getPreviewMode(),refreshMobileFramePosition:o.refreshMobileFramePosition,siteX:o.site.getXPos()}):null,e.createElement("div",{className:"preview-container"},e.createElement("iframe",{ref:"preview",id:"preview",src:this.props.previewUrl,allowFullScreen:"true"})),this.props.previewMode?null:e.createElement(d,{id:"stageContainer",ref:"editorStage",key:"editorStage",siteHeight:this.props.config.previewHeight,config:this.props.config,viewTools:this.props.viewTools,imageCrop:this.props.imageCrop,focusedContainer:this.props.focusedContainer,hideTools:this.props.hideTools,previewMode:this.props.previewMode,pinPreviewRectStyle:this.props.pinPreviewRectStyle,isOpenTextEditor:this.props.isOpenTextEditor,attachCandidate:this.props.attachCandidate,editorIsInit:this.props.editorIsInit,onContextMenu:this.onContextMenu,registeredMouseMoveAction:this.props.registeredMouseMoveAction,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,panel:this.getCompPanel(),previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,portalComps:this.props.portalComps,pageSections:this.props.pageSections,halfOpacityTools:this.props.halfOpacityTools,isReorganizeHidden:this.props.isReorganizeHidden,isPopupMode:o.isPopUpMode(),isPinMode:this.props.isPinMode,onStageScroll:o.scroll.handleStageScroll,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea,hoveredComp:this.state.hoverBox.hoveredComp,hoverBoxOverlay:this.state.hoverBox.hoverBoxOverlay,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox,scrollTo:this.props.scrollTo,openPanels:n,animateScrollTo:this.props.animateScrollTo})),e.createElement(r,{openPanels:n,helpPanelProps:this.props.helpPanelProps,selectedComponents:this.props.selectedComponents,isMobileEditor:this.props.isMobileEditor}),e.createElement(p.leftBarAnimation,{},this.props.previewMode||this.props.isPinMode||this.props.imageCrop.isOn?null:e.createElement(this.LeftBar,{key:"leftBar"})),t.isEmpty(this.props.portalComps)?null:e.createElement(s,{key:"portalComps",comps:this.props.portalComps}))),this.props.shouldShowDevModePanels?function(o,n,i,a){var r=this.props.devModeContext.type===c.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION;return e.createElement(l.splitter.Pane,{className:t({"wix-code-ide-pane":!0,"above-editor":!r&&a.replace("%","")<50}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"wix-code-ide-pane",minSize:o.developerMode.ui.topbarHeight,onClick:this.onIdeClick},this.props.previewMode?null:e.createElement(c.lazyComponent,{moduleName:"wixCode.components.IDE",key:"wix-code-ide",id:"wix-code-ide",currentPageId:o.documentServices.pages.getFocusedPageId(),context:o.developerMode.getContext(),containerState:o.developerMode.ui.idePane.getState(),isTreePaneOpen:o.developerMode.ui.treePane.isOpen()}),this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.console",key:"wix-code-console",containerState:o.developerMode.ui.consolePane.getState(),id:"wix-code-console"}):null)}.apply(this,[o,n,i,a]):null)}return function(){var s=this.getEditorAPI(),d=this.getNonCompPanels();return e.createElement("div",{className:"editor-animation-manager-wrapper",id:"editor",tabIndex:"0"},e.createElement("div",{className:"editor-wrapper "+(1!==this.props.siteScale?"zoom-mode":""),onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseDownCapture:this.onMouseDownCapture},this.props.isPreloaderVisible?e.createElement("div",{key:"init",className:"preloader"}):null,s.developerMode.isEnabled()?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.wixCodeLoader",key:"wix-code-loader",id:"wix-code-loader",wixCodeLoaded:this.props.wixCodeLoaded}):null,e.createElement("div",{className:t({"editor-content-wrapper":!0,"tools-hidden":this.props.hideTools&&!this.props.hideToolsAndMaintainStagePosition}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(l.splitter,{className:"file-pane-splitter",layout:"vertical",splitPosition:s.developerMode.ui.treePane.getSplitPosition(),statefulResize:!0,onResize:s.developerMode.ui.treePane.setSplitPosition},this.props.shouldShowDevModePanels&&!this.props.previewMode?e.createElement(l.splitter.Pane,{key:"left-panel-pane",maxSize:"296px"},this.props.wixCodeLoaded?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.Tree",key:"wix-code-tree",id:"wix-code-tree",performingMouseMoveAction:this.props.performingMouseMoveAction,context:s.developerMode.getContext()}):null):null,e.createElement(l.splitter.Pane,{},f.apply(this,[s,d]),e.createElement(r,{openPanels:t.compact([this.props.fullStagePanel]),helpPanelProps:this.props.helpPanelProps,isMobileEditor:this.props.isMobileEditor,selectedComponents:this.props.selectedComponents,withHelpPanel:!1})))),e.createElement("div",{className:"editor-controls"},h.isOpen("newTopBar")?null:e.createElement(o,{ref:"topbar",key:"topbar",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit,isMobileEditor:this.props.isMobileEditor,isMobileOptimized:s.isMobileOptimizedSite(),viewTools:this.props.viewTools,previewingStatus:this.props.previewingStatus,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,performingMouseMoveAction:this.props.performingMouseMoveAction,isEnabled:this.props.editorIsInit,height:this.props.config.topBarHeight,onTopBarClicked:s.onTopBarClicked,onContextMenu:this.onContextMenuPreventDefault,isHidden:this.props.hideTools,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink,topBarCustomization:this.props.topBarCustomization}),h.isOpen("newTopBar")?e.createElement(c.lazyComponent,{moduleName:"topBar.topBar",key:"topbar",ref:"topbar",onContextMenu:this.onContextMenuPreventDefault,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink,isHidden:this.props.hideTools}):null,h.isOpen("newTopBar")?e.createElement(n,{key:"zoomModeBar"}):null,h.isOpen("newTopBar")&&h.isOpen("dpages")?e.createElement(i,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}):null,e.createElement("div",{className:t({"file-context":"FILE"===t.get(s.developerMode.getContext(),"type")?"hidden":""}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.viewTools.toolbarEnabled&&!this.props.previewMode?e.createElement(this.Toolbar,{key:"toolBar"}):null,this.props.isLayoutTractorOpen&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"compPanels.dynamicPanels.layoutTractor",key:"layoutTractorOpen",selectedComponents:this.props.selectedComponents}):null,this.props.viewTools.developerToolBarEnabled&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.developerToolBar",key:"developerToolbar",toolsHidden:this.props.hideTools,editedComponents:this.props.selectedComponents,isEnabled:this.props.editorIsInit,isReadOnly:this.props.isMobileEditor,onContextMenu:this.onContextMenuPreventDefault,wixCodeLoaded:this.props.wixCodeLoaded}):null,this.props.viewTools.platformToolBarEnabled&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"platformPanels.platformToolBarPanel",panelProps:this.props.platformToolBarPanelProps,key:"platformToolBarPanel"}):null),e.createElement(l.tooltipsRenderer,{key:"tooltipsRenderer",shouldDisplayTooltips:!h.isMultiValueExperimentOpen("editorHintsConfigs")||!this.props.isTooltipsDisabled}),e.createElement(l.floatingBubble,{ref:"floatingBubble",value:this.props.floatingBubble.value,targetLayout:this.props.floatingBubble.targetLayout,bubbleProps:this.props.floatingBubble.bubbleProps,shouldNotHideOnMouseLeaveTarget:this.props.floatingBubble.shouldNotHideOnMouseLeaveTarget,pinMode:this.props.isPinMode}),e.createElement(l.dropDown.options,{}),this.shouldShowHints()?e.createElement(c.lazyComponent,{moduleName:"editorHints.hintPresenter",key:"hintPresenterLayer"}):null),this.props.editorIsInit?null:e.createElement("div",{className:"preloader-overlap",key:"preloader-overlap"}),e.createElement(p.rightClickAppearance,{direction:"top",key:"rightClick"},this.props.contextMenu?e.createElement(a,{key:this.props.contextMenu.editorMousePosition.x+""+this.props.contextMenu.editorMousePosition.y,clipboard:this.props.clipboard,editorMousePosition:this.props.contextMenu.editorMousePosition,viewerMousePosition:this.props.contextMenu.viewerPosition,previewPosition:this.props.previewPosition,selectedComponents:this.props.selectedComponents,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox}):null),this.props.languages?e.createElement(m.themeFontsLoader,{key:"theme-font-loader",themeFonts:this.props.themeFonts,documentType:this.props.documentType,languages:this.props.languages}):null,e.createElement(g,{href:"app/external/OrganizeImagesV2/index.html",base:this.props.editorBase})))}.apply(this,[])}}),define("rEditor/rootComps/editorView",["create-react-class","prop-types","reactDOM","lodash","util","core","constants","higherOrderComponents","rEditor/rootComps/leftBar/leftBar","rEditor/rootComps/toolBar/toolBar","coreUtilsLib","rEditor/utils/isRightClickWithCtrlInDebugMode","experiment","stateManagement","rEditor/rootComps/editorView.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g){"use strict";var h=m.contextMenu.actions,f=m.panels.logic;return e({displayName:"editorView",propTypes:{previewUrl:t.string.isRequired,viewTools:t.object.isRequired,focusedContainer:t.object,languages:t.array,editorIsInit:t.bool.isRequired,previewMode:t.bool.isRequired,contextMenu:t.object,halfOpacityTools:t.bool.isRequired,hideTools:t.bool.isRequired,hideToolsAndMaintainStagePosition:t.bool.isRequired,isPinMode:t.bool.isRequired,performingMouseMoveAction:t.bool.isRequired,isMobileEditor:t.bool.isRequired,selectedComponents:t.array,siteScale:t.number.isRequired,portalComps:t.object.isRequired,savingStatus:t.string.isRequired,publishingStatus:t.string.isRequired,previewingStatus:t.string.isRequired,imageCrop:t.object.isRequired,config:t.object.isRequired,previewPosition:t.object.isRequired,pageSections:t.object.isRequired,platformToolBarPanelProps:t.object,wixCodeLoaded:t.bool.isRequired,isTooltipsDisabled:t.bool.isRequired,clipboard:t.object.isRequired,shouldHideToolsBtnBlink:t.bool.isRequired,isLayoutTractorOpen:t.bool.isRequired,devModeContext:t.object.isRequired,registeredMouseMoveAction:t.object,isUsingWindowMouseEvents:t.bool,isPreloaderVisible:t.bool.isRequired,shouldShowDevModePanels:t.bool.isRequired,fullStagePanel:t.object,documentType:t.string,editorBase:t.string.isRequired,themeFonts:t.object,isReorganizeHidden:t.bool.isRequired,pinPreviewRectStyle:t.object.isRequired,isOpenTextEditor:t.bool.isRequired,attachCandidate:t.object,snapData:t.array,applyModeFromClipboardSuggestion:t.object,tabIndicationState:t.object.isRequired,lastSelectionClickPos:t.object,lassoCandidates:t.array,lassoLayout:t.object,constraintArea:t.object,notifyPreviewReady:t.func.isRequired,helpPanelProps:t.object,floatingBubble:t.object.isRequired,scrollTo:t.shape({scrollTop:t.number,scrollLeft:t.number}),focusEventCounter:t.number.isRequired,clearTextSelectionEventCounter:t.number.isRequired,animateScrollTo:t.shape({position:t.shape({y:t.number,x:t.number}).isRequired,duration:t.number,onComplete:t.func}),renderCounter:t.number.isRequired},mixins:[a.mixins.editorAPIMixin],getPreviewRect:function(){return n.pick(this.refs.preview.getBoundingClientRect(),["top","left","height","width"])},getEditingAreaRect:function(){return n.pick(this.refs.editingArea.getBoundingClientRect(),["top","left","height","width","right","bottom"])},updatePositionsInState:function(){var e=this.getEditorAPI();e.refreshPreviewPosition(this.getPreviewRect()),e.refreshEditingAreaPosition(this.getEditingAreaRect())},getInitialState:function(){return{hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}}},receiveFocusEvent:function(e){e>this.props.focusEventCounter&&o.findDOMNode(this).focus()},receiveClerTextSelectionEvent:function(e){if(e>this.props.clearTextSelectionEventCounter){var t=o.findDOMNode(this.refs.preview),i=n.get(t,"contentWindow",{});i.selection?i.selection.empty():i.getSelection&&i.getSelection().removeAllRanges()}},componentWillReceiveProps:function(e){this.receiveFocusEvent(e.focusEventCounter),this.receiveClerTextSelectionEvent(e.clearTextSelectionEventCounter)},componentWillMount:function(){var e=this.getEditorAPI();this.LeftBar=s.overlappedCompTooltip(l),this.Toolbar=s.overlappedCompTooltip(c),e.scroll.resetScrollListeners()},componentDidMount:function(){var e=this.getEditorAPI();this.updatePositionsInState(),e.topBarMenuBar.registerAPI(this.getMenuBarAPI());var t=o.findDOMNode(this.refs.preview);try{t.contentWindow&&t.contentWindow.documentServices&&this.props.notifyPreviewReady(t.contentWindow.documentServices)}catch(e){p.log.error("can not access preview iframe")}window.addEventListener("message",this.previewMessageHandler),window.viewerStartTimeStamp=(new Date).toISOString();var i=function(e){window.bi&&window.bi.event(735,{autosave_on:!!n.get(window,["frames",0,"documentServicesModel","autoSaveInfo","shouldRestoreDiffs"]),viewer_start_loading_timestamp:window.viewerStartTimeStamp,time_seconds:e})};window.editorLoadTimeouts=[window.setTimeout(n.partial(i,40),4e4),window.setTimeout(n.partial(i,45),45e3),window.setTimeout(n.partial(i,50),5e4),window.setTimeout(n.partial(i,55),55e3),window.setTimeout(n.partial(i,60),6e4)]},componentDidUpdate:function(){this.reportRenderDone(),this.updatePositionsInState()},componentWillUnmount:function(){this.getEditorAPI().scroll.resetScrollListeners()},reportRenderDone:function(){this.getEditorAPI().onRenderDone(this.props.renderCounter)},getMenuBarAPI:function(){return{openDropDown:this.refs.topbar.openDropDown,enableClose:this.refs.topbar.enableClose,disableDropDown:this.refs.topbar.disableDropDown,enableDropDown:this.refs.topbar.enableDropDown,shouldBeVisible:this.refs.topbar.shouldBeVisible}},setHoverBox:function(e,t){var o=this.getEditorAPI().utils.getParentIfCompCanBeSelected(e)||e;n.isEqual(this.state.hoverBox.hoveredComp,o)||this.setState({hoverBox:{hoveredComp:o,hoverBoxOverlay:!!t}})},clearHoverBox:function(){this.state.hoverBox.hoveredComp&&this.setState({hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}})},previewMessageHandler:function(e){if(0===this.props.previewUrl.indexOf(e.origin)&&"documentServicesLoaded"===e.data){var t=o.findDOMNode(this.refs.preview);this.props.notifyPreviewReady(t.contentWindow.documentServices),n.forEach(window.editorLoadTimeouts,window.clearTimeout)}},onContextMenu:function(e){if(!d(e)){e.preventDefault();var t=this.getEditorAPI(),o=t.store;o.dispatch(f.closeOpenedPanels()),t.selection.selectComponentByClick(e);var n=a.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(t,e);o.dispatch(h.openContextMenu({editorPositionX:e.clientX,editorPositionY:e.clientY,viewerPositionX:n.clientX,viewerPositionY:n.clientY}))}},getNonCompPanels:function(){var e=this.getEditorAPI(),t=[r.PANEL_TYPES.COMP,r.PANEL_TYPES.FULL_STAGE];return n.reject(e.store.getState().openPanels,function(e){return n.includes(t,e.frameType)})},getCompPanel:function(){var e=this.getEditorAPI();return n.find(e.store.getState().openPanels,{frameType:r.PANEL_TYPES.COMP})},onContextMenuPreventDefault:function(e){d(e)||e.preventDefault()},onIdeClick:function(){this.getEditorAPI().panelManager.closeAllPanels()},onMouseDownCapture:function(e){2===e.button&&e.stopPropagation()},onMouseMove:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseMove(e)},onMouseUp:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseUp(e)},shouldShowHints:function(){var e="true"!==i.url.getParameterByName("isqa")||"true"===i.url.getParameterByName("enableEditorHints");return u.isMultiValueExperimentOpen("editorHintsConfigs")&&e&&this.props.editorIsInit},getSiteId:function(){return this.getEditorAPI().documentServices.generalInfo.getSiteId()},render:g})}),define("rEditor/rootComps/editor.rt",["react","lodash","rEditor/rootComps/editorView","stateManagement"],function(e,t,o,n){"use strict";return function(){return function(){var t=this.props.editorAPI.store.getState();return e.createElement(o,{ref:"editorView",viewTools:t.viewTools,focusedContainer:t.focusedContainer,languages:this.getLanguages(),editorIsInit:t.editorIsInit,contextMenu:t.contextMenu,halfOpacityTools:t.halfOpacityTools,hideTools:t.hideTools,hideToolsAndMaintainStagePosition:t.hideToolsAndMaintainStagePosition,previewMode:t.previewMode,selectedComponents:n.selection.selectors.getSelectedCompsRefs(t),siteScale:t.siteScale,portalComps:t.portalComps,isPinMode:n.pinMode.selectors.isOpen(t),performingMouseMoveAction:t.performingMouseMoveAction,savingStatus:t.savingStatus,publishingStatus:t.publishingStatus,previewingStatus:t.previewingStatus,isMobileEditor:t.isMobileEditor,topBarCustomization:t.topBarCustomization,imageCrop:t.imageCrop,config:t.config,previewPosition:t.previewPosition,pageSections:t.pageSections,wixCodeLoaded:t.wixCodeLoaded,platformToolBarPanelProps:t.platformToolBarPanelProps,isTooltipsDisabled:t.isTooltipsDisabled,clipboard:t.clipboard,shouldHideToolsBtnBlink:t.shouldHideToolsBtnBlink,isLayoutTractorOpen:t.isLayoutTractorOpen,devModeContext:t.devModeContext,registeredMouseMoveAction:t.performingMouseMoveAction?this.props.editorAPI.mouseActions.getRegisteredMouseMoveAction():null,isUsingWindowMouseEvents:t.isUsingWindowMouseEvents,isPreloaderVisible:this.isPreloaderVisible(),shouldShowDevModePanels:this.shouldShowDevModePanels(),fullStagePanel:this.getFullStagePanel(),documentType:this.getDocumentType(),editorBase:this.getEditorBase(),themeFonts:this.getThemeFonts(),isReorganizeHidden:this.isReorganizeHidden(),pinPreviewRectStyle:n.pinMode.selectors.getPinPreviewRectStyle(t),isOpenTextEditor:t.isOpenTextEditor,previewUrl:this.props.previewUrl,attachCandidate:t.attachCandidate,snapData:t.snapData,applyModeFromClipboardSuggestion:n.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(t),tabIndicationState:t.tabIndicationState,lastSelectionClickPos:t.lastSelectionClickPos,lassoCandidates:t.lassoCandidates,lassoLayout:t.lassoLayout,constraintArea:t.constraintArea,notifyPreviewReady:this.notifyPreviewReady,helpPanelProps:t.helpProps,floatingBubble:t.floatingBubble,hoverBox:t.hoverBox,scrollTo:t.scrollTo,animateScrollTo:t.animateScrollTo,focusEventCounter:t.eventCounters.focus,clearTextSelectionEventCounter:t.eventCounters.clearTextSelection,renderCounter:t.__renderCounter})}.apply(this,[])}}),define("rEditor/rootComps/editor",["lodash","core","constants","create-react-class","jquery","util","baseUI","rEditor/rootComps/keyboard/config/shortcutsConfig","uiAnimations","tpa","prop-types","rEditor/rootComps/editor.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d){"use strict";function u(e){var t=a.translate("GENERAL_Close_Warning_Message");return(e||window.event).returnValue=t,t}function m(){var o=i(window);a.fedopsLogger.appLoaded(),this.props.editorAPI.bi.event(t.bi.events.editor.EDITOR_READY,{is_premium:this.props.editorAPI.site.isPremium(),is_template:this.props.editorAPI.documentServices.generalInfo.isFirstSave(),window_width:o.width(),window_height:o.height(),screen_width:window.screen.width,screen_height:window.screen.height,avail_width:window.screen.availWidth,avail_height:window.screen.availHeight,prefetch:window.afterEditorPrefetch,request_from_adi:this.props.editorAPI.documentServices.generalInfo.isSiteFromOnBoarding(),experiments:e(a.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().sortBy().join(","),ref:window.document.referrer})}window.bi&&window.bi.event(t.bi.events.editor.EDITOR_LOADED.evid,{prefetch:window.afterEditorPrefetch}),a.newrelic.addPageAction("editor loaded"),a.performance.mark("editor loaded"),a.performance.measure("main-r started","domLoading","main-r loaded"),a.performance.measure("addPanelData loaded","main-r loaded","addPanelData loaded"),a.performance.measure("editor loaded","addPanelData loaded","editor loaded");var g=!0;return n({displayName:"editor",mixins:[l.animationManager,a.componentUpdatesMixin],propTypes:{previewUrl:p.string.isRequired,isLeavePagePopUpDisabled:p.bool,editorAPI:p.object.isRequired},childContextTypes:{dsRead:p.object,editorAPI:p.object,mediaServices:p.object,bi:p.object,translateFromContext:p.func},getChildContext:function(){return{dsRead:this.props.editorAPI.documentServices,editorAPI:this.props.editorAPI,mediaServices:this.props.editorAPI.mediaServices,bi:window.bi,translateFromContext:a.translate}},notifyEditorInit:function(){c.initEditor(this.props.editorAPI),s.init(this.props.editorAPI)},notifyPreviewReady:function(e){this.startPreviewReadyFlow(e)},startPreviewReadyFlow:function(e){this.props.editorAPI.onPreviewReady(e),a.translate.init(this.props.editorAPI);var t=e.viewMode.get()===e.viewMode.VIEW_MODES.MOBILE;this.props.editorAPI.setEditorMode(t,!0),this.props.editorAPI.updateState({editorIsInit:!0}),g&&(g=!1,m.call(this),a.newrelic.finished()),(new window.Image).src="https://fast.fonts.com/t/1.css?apiType=css&projectid=33bd0973-5b82-45be-bb77-837225874dfe",this.props.editorAPI.concurrentUsers.checkForConcurrentUsers(!0),a.performance.mark("editor ready"),a.performance.measure("editor ready","editor loaded","editor ready")},componentWillMount:function(){this.notifyEditorInit()},componentWillUnmount:function(){},componentDidMount:function(){window.testApi&&window.testApi.domSelectors&&window.testApi.domSelectors.setSearchRoot(this),this.updateKeyboardShortcutContext(),this.props.isLeavePagePopUpDisabled||(window.onbeforeunload=u),window.history&&(window.history.replaceState({preview:!1},"edit mode"),window.onpopstate=this.onHistoryPopState)},componentDidUpdate:function(t){if(!t.editorIsInit&&this.props.editorIsInit){var o=window.document.getElementById("video-preloader");o&&o.parentNode.removeChild(o)}t.previewMode!==this.props.previewMode&&(window.history.state&&this.props.previewMode&&!window.history.state.preview?this.onEnterPreview():window.history.state&&!this.props.previewMode&&window.history.state.preview&&this.onExitPreview(),this.updateKeyboardShortcutContext(),i(window.document.body).toggleClass("previewMode",this.props.previewMode)),e(this.renderCallbacks).filter(e.isFunction).forEach(function(e){e()})},onExitPreview:function(){window.history.replaceState({preview:!1},"edit mode")},onEnterPreview:function(){window.history.pushState({preview:!0},"site preview")},onHistoryPopState:function(e){if(e.state){var t=e.state.preview&&!this.props.previewMode,o=!e.state.preview&&this.props.previewMode;(t||o)&&this.props.editorAPI.preview.togglePreview()}},updateKeyboardShortcutContext:function(){var e=a.keyboardShortcuts.CONTEXTS;a.keyboardShortcuts.setContext(this.props.previewMode?e.PREVIEW:e.EDITOR)},getFullStagePanel:function(){return e.find(this.props.editorAPI.store.getState().openPanels,{frameType:o.PANEL_TYPES.FULL_STAGE})},getDocumentType:function(){return this.props.editorAPI.documentServices&&this.props.editorAPI.documentServices.generalInfo.getDocumentType()},getLanguages:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getCharacterSet")},getThemeFonts:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getAll")},getEditorBase:function(){return a.editorModel.editorBase},isPreloaderVisible:function(){return!window.document.getElementById("video-preloader")&&!this.props.editorIsInit},shouldShowDevModePanels:function(){return this.props.editorAPI.store.getState().wixCodeLoaded&&this.props.editorAPI.developerMode.isEnabled()&&!this.props.editorAPI.store.getState().hideTools},isReorganizeHidden:function(){return this.props.editorAPI.store.getState().hideTools||this.props.editorAPI.isPopUpMode()},render:d})}),define("rEditor/app/panelHelpers",["lodash","util","core","platform","experiment"],function(e,t,o,n,i){"use strict";function a(a){function r(e,t){return{isPreset:a.selection.getSelectedComponentData().metaData.isPreset,imagesChanged:function(e,t){e&&e(t)}.bind(a,t),createImageDataItem:a.data.createItem.bind(null,"Image"),galleryType:e}}function s(e,t){l(e)?t&&a.panelManager.updatePanelProps(e,t):a.panelManager.openPanel(e,t)}function l(t){var o=a.panelManager.getOpenPanels();return e.some(o,{name:t})}var c=i.isOpen("newPagesPanel")?"pages.pagesPanel":"rEditor.panels.pagesAndPopupsPanel",p={FORBIDDEN_COMP_TYPES:["wysiwyg.common.components.anchor.viewer.Anchor","mobile.core.components.Page","platform.components.AppController"],DESKTOP:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridDesktopPanel"},MOBILE:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridMobilePanel"},CONTAINER:{NOTIFICATION_RATE:2,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfContainerGridPanel"}},d={"panels.focusPanels.mobileEditorFirstTimePanel":{SHOW_RATE_THRESHOLD:1,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN,SHOW_COUNT_KEY:o.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.SHOW_COUNT}};return{openOrganizeImagesPanel:function(e){a.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",r("images",e),!0)},openOrganizeSocialIconsPanel:function(e){a.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",r("socialIcons",e))},openAviaryPanel:function(e){a.panelManager.openPanel("panels.focusPanels.aviaryPanel",{imageLink:e,onDialogResult:function(){a.panelManager.closePanelByName("panels.focusPanels.aviaryPanel")}},!0)},isPanelOpen:l,isPagesPanelOpen:function(){return l(c)},openPagesPanel:function(t){var o=c;t=e.assign(t,{token:n.tokenService.generateStaticGlobalPanelToken("pagesPanel")}),a.setForcePageSettingsTabEventCounter(),s(o,t)},closePagesPanel:function(){a.panelManager.closePanelByName(c)},openMobileElementsPanel:function(){if(a.isMobileEditor()){var e={mobileElementId:"mobileView"},t="mobileEditor.mobileElementsPanel",n=(new Date).getTime();e.key=o.lazyComponent.isLoaded(t)?t+n:t+"loading",s(t,e)}},openMobileEditorFirstTimePanelIfNeeded:function(){var e="panels.focusPanels.mobileEditorFirstTimePanel",o=a.getUserPreferences().site;(function(e,t){var o=d[t].DONT_SHOW_AGAIN_KEY;return!0!==e.get(o)})(o,e)&&function(){var e=t.url.isQA();return"true"===t.url.getParameterByName("qa_1stTimeMobileOn")||!e}()&&!a.getPreviewMode()&&(!function(e,t){var o=d[t].SHOW_COUNT_KEY,n=e.get(o)||0;n++,e.set(o,n)}(o,e),i.isOpen("se_1stTimeMobileManualMode")||function(e,t){var o=!1,n=d[t].SHOW_COUNT_KEY;if((e.get(n)||0)>d[t].SHOW_RATE_THRESHOLD){o=!0;var i=d[t].DONT_SHOW_AGAIN_KEY;e.set(i,o)}}(o,e),a.panelManager.openPanel(e,{},!0))},openCompOutOfGridPanel:function(t,o){var n=void 0;if(!function(t,o){var n=a.userPreferences.site.get(t.DONT_SHOW_AGAIN_KEY),i=e.includes(p.FORBIDDEN_COMP_TYPES,o),r=a.documentServices.pages.popupPages.isPopupOpened()&&!a.components.is.gridLinesVisible(a.pages.popupPages.getPopupContainer());return n||i||r}(n=o?p.CONTAINER:a.isMobileEditor()?p.MOBILE:p.DESKTOP,a.components.getType(a.selection.getSelectedComponents()))){var i=a.userPreferences.session.get(n.OUT_OF_GRID_COUNT_KEY)||0;i%n.NOTIFICATION_RATE==0&&a.panelManager.openPanel(n.PANEL_NAME,t,!0),i+=1,a.userPreferences.session.set(n.OUT_OF_GRID_COUNT_KEY,i)}},openDragToHeaderPanel:function(e){if(!a.userPreferences.site.get(o.constants.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN)){var t=a.userPreferences.session.get(o.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT)||0;t%10==0&&a.panelManager.openPanel("panels.focusPanels.dragToHeaderPanel",e),t+=1,a.userPreferences.session.set(o.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT,t)}},openAttachToSOSPPanel:function(){!!a.userPreferences.site.get(o.constants.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN)||a.panelManager.openPanel("panels.focusPanels.attachToSOSPPanel")},openDetachedFromSOSPPanel:function(){!!a.userPreferences.site.get(o.constants.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN)||a.panelManager.openPanel("panels.focusPanels.detachedFromSOSPPanel")},openPinModeSizeRestrictionPanel:function(e){a.userPreferences.site.get(o.constants.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN)||a.panelManager.openPanel(o.constants.PANELS.PIN_TOO_BIG.PANEL_NAME,e,!0)},openLinkPanel:function(e,o){a.panelManager.openPanel("panels.toolPanels.linkPanel",t.link.getLinkPanelProps(a,e),!o)}}}return{create:a}}),define("rEditor/app/updateOperationsPlugins",["lodash"],function(e){"use strict";function t(){var t=arguments;e.forEach(this.list,function(e){e.apply(null,t)})}return{setHomePagePlugins:{list:[],run:t},updatePagePlugins:{list:[],run:t}}}),define("rEditor/app/componentPlugins/designDataChange/repeaterItemDesignDataChangePlugin",[],function(){"use strict";return function(e,t,o,n){var i=!!o.background;e.components.is.repeaterItem(t)&&!i&&e.components.getSiblings(t).forEach(function(t){e.documentServices.components.design.update(t,o,n)})}}),define("rEditor/app/componentsPlugins",["lodash","util","core","constants","gfppData","experiment","rEditor/app/componentPlugins/designDataChange/repeaterItemDesignDataChangePlugin"],function(e,t,o,n,i,a,r){"use strict";function s(s){function c(t,n){if(!s.isMobileEditor()){var a=i.getComponentMainActionClick(s,n.comp);e.isFunction(a)&&a(s,n.comp,o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}function p(t,o,n,i){var a=i.getPage(o);!function(t,o){e.forEach(o,function(o){e(o).thru(e.bind(t.get,t)).filter({behavior:{type:"widget",name:"runCode"}}).forEach(function(e){t.remove(o,e.action,{id:e.behavior.targetId},e.behavior)})})}(n,e(t).reject(function(t){return e.isEqual(t.root,a)}).map("ref").value())}function d(t,o,n,i){var a=i.modes.getFirstAncestorOrSelfWithModeDefinitions(o);!function(t,o,n){e.forEach(n,function(n){e(n).thru(e.bind(t.get,t)).filter(function(t){return e.includes(l,t.action)}).forEach(function(e){o.behaviors.remove(n,e)})})}(n,i,e(t).reject(function(t){return e.isEqual(t.ancestor,a)}).map("ref").value())}function u(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,root:o.root}}).value()}function m(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,ancestor:o.ancestor}}).value()}function g(t,o,n,i,a){var r=function(t,o){return e.flatMap(o,e.partial(u,t))}(i,o),s=function(t,o){return e.flatMap(o,e.partial(m,t))}(i,n);p(r,t,a,i),d(s,t,a,i)}function h(t,o,n){return n=n||{},e.filter(t,function(t){var i=n[t.id]||s.components.properties.get(t);return e.get(i,o)})}function f(t,o){var n=function(t,o){var n=h(t,"isHidden",o);return e.map(n,"id")}(t,o);s.documentServices.documentMode.ignoreComponentsHiddenProperty(n)}function b(t,o){var n=function(t,o){var n=h(t,"isCollapsed",o);return e.map(n,"id")}(t,o);s.documentServices.documentMode.ignoreComponentsCollapsedProperty(n)}function y(e){f(e),b(e),function(e){if(!e)return;1===e.length&&s.documentServices.pages.popupPages.isPopup(e[0].id)&&s.bi.event(o.bi.events.popups.pop_up_overlay_clicked)}(e)}var v=s.pluginService;v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.WRichText",function(){s.isMobileEditor()?s.openComponentPanel(o.constants.componentPanels.settings):(s.bi.event(o.bi.events.textControls.Text_Panel_opened,{origin:o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK}),s.text.startEditing())}),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Repeater",e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.SiteButton",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.DatePicker",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.FileUploader",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,n.MULTISELECT.TYPE,e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Group",e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.TextInput",function(){s.isMobileEditor()||s.openComponentPanel(o.constants.componentPanels.settings)}),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"mobile.core.components.Page",function(t,n){var a=s.siteSegments.getPagesContainerAbsLayout(),r=n.evt.pageX<a.x||n.evt.pageX>a.x+a.width,l=n.comp[0];if(s.documentServices.pages.popupPages.isPopup(l.id)){var c=i.getComponentMainActionClick(s,n.comp);e.isFunction(c)&&c(s,n.comp,o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}else r?s.panelManager.openPanel("rEditor.panels.backgroundPanel"):s.openComponentPanel(o.constants.componentPanels.design)}),s.registerCompNamePlugin("wysiwyg.viewer.components.HoverBox",function(o){for(var n=s.components.modes.getTypes(),i=e.filter(s.components.modes.getModes(o),["type",n.HOVER]),a=s.components.modes.getComponentActiveModeIds(o),r=0;r<i.length;r++)if(a[i[r].modeId])return t.translate("component_label_hover_box_onhover");return t.translate("component_label_hover_box")}),s.registerCompNamePlugin("wysiwyg.viewer.components.ClipArt",function(){return a.isOpen("se_addPanelClipArtToIllustration")?t.translate("component_label_illustration"):t.translate("component_label_clipart")}),s.registerCompNamePlugin("wysiwyg.viewer.components.Column",function(o){var n=e(o).thru(s.components.getType).thru(function(e){return e.split(".")}).last(),i=e(o).thru(s.components.getContainer).thru(s.components.getChildren).findIndex(o)+1;return t.translate("component_label_"+n)+" "+i}),s.registerCompNamePlugin("mobile.core.components.Page",function(e){return s.documentServices.pages.popupPages.isPopup(e.id)?t.translate("component_label_Overlay"):t.translate("component_label_Page")}),s.registerCompNamePlugin("platform.components.AppController",function(t){return e.get(s.platform.controllers.getStageData(t),"controllerTypeDisplayName")}),s.registerCompNamePlugin("wysiwyg.viewer.components.SiteRegionContainer",function(){return t.translate("component_label_members_bar")}),s.registerRemovePlugin("wysiwyg.viewer.components.Column",function(e,t,o,n){s.columns.removeColumn(e,t,o,n)}),s.registerHidePlugin("wysiwyg.viewer.components.QuickActionBar",function(e){s.mobile.mobileOnlyComponents.removeQuickActionBar(e)}),s.registerDuplicatePlugin("wysiwyg.viewer.components.Column",function(t){var o=s.components.getContainer(t);if(!s.components.is.duplicatable(t,o))return[];var n=s.columns.duplicateColumn(e.head(t));return s.documentServices.waitForChangesApplied(function(){s.selection.selectComponentByCompRef(n),s.openFirstTimePanel(n)}),n}),v.registerPlugin("selection","*",y),v.registerPlugin("propertiesChange","*",function(e,t){var o=s.selection.getSelectedComponents(),n={};n[e.id]=t,f(o,n),b(o,n)}),v.registerPlugin("setContainer","*",g),v.registerPlugin("designDataChange","*",r)}var l=[n.ACTIONS.SCREEN_IN,n.ACTIONS.EXIT,n.ACTIONS.MODE_IN,n.ACTIONS.MODE_EXIT,n.ACTIONS.MODE_CHANGE];return{register:s}}),define("rEditor/app/APISectionsPlugins/historyPlugins",["constants"],function(e){"use strict";return{register:function(t){t.pluginService.registerPlugin(e.HISTORY.REDO,e.DS_ACTIONS.ADD_PAGE,function(e,o){e.nextPage&&e.nextPage!==t.documentServices.pages.getFocusedPageId()?t.pages.navigateTo(e.nextPage,o):o()})}}}),define("rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin",["rEditor/app/updateOperationsPlugins"],function(e){"use strict";function t(e,t){t=t&&t.replace(/^#/,"")||e.homePage.get();var o=e.documentServices.pages.data.get(t);return{name:o.pageTitleSEO,description:o.descriptionSEO,keywords:o.metaKeywordsSEO}}function o(e,t){e.site.setSEOSiteName(t.name),e.site.setSEOSiteDescription(t.description),e.site.setSEOSiteKeywords(t.keywords)}return{register:function(){e.setHomePagePlugins.list.push(function(e,n){o(e,t(e,n))}),e.updatePagePlugins.list.push(function(e,n){n===e.homePage.get()&&o(e,t(e,n))})}}}),define("rEditor/app/pluginsRegistrar",["rEditor/app/componentsPlugins","rEditor/app/APISectionsPlugins/historyPlugins","rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin"],function(e,t,o){"use strict";return{register:function(n){e.register(n),t.register(n),o.register()}}}),define("rEditor/app/APISections/concurrentUsersWrapper",["lodash","jquery","util"],function(e,t,o){"use strict";function n(n){function i(s){!function(){var t=n.documentServices.generalInfo.getUserInfo(),i=o.cookie.getCookie("wixClient");return t&&t.name&&e.includes(i,t.name)}()?r():u=n.documentServices.generalInfo.isFirstSave()?window.setTimeout(function(){i(s)},p):window.setTimeout(function(){!function(e){if(e){var i=n.documentServices.generalInfo.getMetaSiteId(),a=o.editorModel.editorSessionId;!function(e,o,n){var i=null,a=c({msid:e,esi:o});t.get(a).done(function(e){e&&(i=e.otherUsersOnSite||null),n(i)}).fail(function(){n(i)})}(i,a,e)}}(e.partial(a,s))},s?0:p)}function a(t,o){if(t&&null===g&&(g=e.isEmpty(o)),!e.isEmpty(o)&&!function(t,o){{if(t===o)return!0;if(t&&!o||!t&&o||e.size(t)<e.size(o))return!1}var n={},i=t.length;return e.forEach(t,function(e){n[e]=e}),e.forEach(o,function(e){n[e]=e}),i===e.size(n)}(d,o)){var a=function(t,o){var n={};e.forEach(t,function(e){n[e]=n});var i=null;return e.forEach(o,function(e){if(!n[e])return i=e,!1}),i}(d,o);d=o;var r={isFirstUser:g,concurrentUsers:o,concurrentUserToDisplay:a};n.panelManager.openPanel(s,r)}i(!1)}function r(){u&&(window.clearTimeout(u),u=null),d=null,m=!1}var s="panels.messagePanels.concurrentUserPanel",l=window.location.protocol+"//editor."+o.serviceTopology.baseDomain+"/concurrent-editing-session-watcher/watcher/report",c=e.template(l+"?msid=<%= msid %>&esi=<%= esi %>"),p=6e4,d=null,u=null,m=!1,g=null;return{checkForConcurrentUsers:function(){m||(m=!0,i(!0))},stopCheckForConcurrentUsers:r}}return{create:n}}),define("rEditor/app/APISections/themeWrapper",["lodash"],function(e){"use strict";return{create:function(t){return{colors:{get:function(o){return e.includes(o,"color")?t.documentServices.theme.colors.get(o):o}},styles:{getExcludedList:function(){return t.theme.styles.excludedList||[]},setExcluded:function(e){var o=t.theme.styles;o.excludedList||(o.excludedList=[]),o.excludedList.push(e)},update:function(o,n,i){t.updateHooks&&e.forEach(t.updateHooks,function(e){e(o,n)}),t.documentServices.theme.styles.update(o,n),i||t.history.debouncedAdd("Update component style")},getAllIds:function(){var o=t.documentServices.theme.styles;return e.difference(o.getAllIds(),t.theme.styles.getExcludedList())},registerHook:function(e){t.updateHooks=t.updateHooks||[],t.updateHooks.push(e)}}}}}}),define("rEditor/app/APISections/historyWrapper",["lodash","constants","core"],function(e,t,o){"use strict";function n(n){function i(t,o){e.assign(o,{isSameEditorMode:o.isMobileEditor===n.isMobileEditor(),selectedComps:n.selection.getSelectedComponents()}),e.forEach(c,n.panelManager.closePanelByName),n.selection.deselectComponents(),n.setEditorMode(o.isMobileEditor,!0),t.call(n.documentServices.history),n.documentServices.waitForChangesApplied(function(){o.postAction?o.postAction(o,e.partial(a,o)):a(o)})}function a(t){var o=e.filter(t.selectedComps,n.components.is.exist.bind(n));if(!e.isEmpty(o)){var i=[n.documentServices.pages.getFocusedPageId()];n.documentServices.pages.popupPages.isPopupOpened()||i.push(n.pages.getMasterPageId());var a=e.get(n.components.getPage(o),"id");t.isSameEditorMode&&e.includes(i,a)&&n.selection.selectComponentByCompRef(o)}}function r(e,o){var i=n.pluginService.getPlugin(o,e.actionType);if(o===t.HISTORY.REDO)switch(e.actionType){case t.DS_ACTIONS.ADD_PAGE:e.postAction=i}return e}function s(t,o,a){var r=o();(r=a(r)||r).currentPage===n.documentServices.pages.getFocusedPageId()?i(t,r):n.pages.isPageExist(r.currentPage)?n.pages.navigateTo(r.currentPage,e.partial(i,t,r)):(i(t,r),n.documentServices.waitForChangesApplied(function(){n.pages.navigateTo(r.currentPage)})),l()}function l(){n.store.getState().savingStatus===o.constants.PROGRESS_STATUS.IDLE_SAVED&&n.updateState({savingStatus:o.constants.PROGRESS_STATUS.IDLE})}var c=["panels.toolPanels.colorPicker.colorPickerPanel","rEditor.panels.backgroundApplyPanel","compPanels.dynamicPanels.pinnedDockPanel","rEditor.panels.slideShowBgApplyPanel"];return{add:function(t,o){n.rulers.resetRulersHistory();var i=n.isMobileEditor();o=e.defaults(o||{},{label:t,currentPage:n.documentServices.pages.getFocusedPageId(),isMobileEditor:i}),n.documentServices.history.add(t,o),l()},debouncedAdd:function(t){n.history._debouncedAdd||(n.history._debouncedAdd=e.debounce(n.history.add,500)),n.history._debouncedAdd(t)},undo:function(){n.rulers.canUndo()?n.rulers.undo():n.documentServices.waitForChangesApplied(function(){if(n.text.isEditingText())return n.text.canUndo()&&n.rulers.resetRulersHistory(),void n.text.undo();var t=n.documentServices.history;t.canUndo()&&(n.rulers.resetRulersHistory(),s(t.undo.bind(t),t.getUndoLastSnapshotParams.bind(t),e.noop))})},redo:function(){n.rulers.canRedo()?n.rulers.redo():n.documentServices.waitForChangesApplied(function(){if(n.text.isEditingText())n.text.redo();else{var o=n.documentServices.history;o.canRedo()&&s(o.redo.bind(o),o.getRedoLastSnapshotParams.bind(o),e.partialRight(r,t.HISTORY.REDO))}})},clear:function(){n.documentServices.history.clear()}}}return{create:n}}),define("rEditor/app/APISections/imageCrop",["lodash","core","util","coreUtilsLib","baseUI","constants","stateManagement"],function(e,t,o,n,i,a,r){"use strict";function s(s){function l(e,t,o){var n=function(e,t){var o=P.getMiddlePoint(e);return P.getPointRatioFromRect(o,t)}(e,t);return{x:o.width*n.x,y:o.height*n.y}}function c(t){var o=s.ui.stage.getEditingAreaLayout();if(t){var n=s.ui.stage.getMobileFrameLayout();return e({left:n.left-o.left,top:n.top-o.top}).defaults(n).thru(P.getRectByBoundingRect).value()}return{x:0,y:0,width:s.site.getSiteWidth(),height:s.site.getHeight()}}function p(t){var n=s.components.data.get(t),i=s.components.properties.get(t),a=i.displayMode,r=s.components.layout.get(t).rotationInDegrees,l=a===S.fittingTypes.SCALE_TO_FILL,p=e.pick(s.components.layout.getRelativeToScreen(t),["height","width","x","y"]),d={},u=i.overrideCrop||n.crop,m=function(t,n,i){var a=e.clone(t);a.x+=n.x,a.y+=n.y;var r=o.math.getPointAsIfRectWasNotRotated(a,P.getMiddlePoint(n),-i);return{x:r.x-n.width/2,y:r.y-n.height/2}}((d=u||l?!u&&l?function(t,o){var n=E.reverseAutoCrop(t,o),i=e.assign({},n,{x:0,y:0});return i=E.autoCrop(i,e.pick(t,["height","width"])),{cropOriginArea:n,cropArea:i}}(p,n):u&&!l?function(e,t,o){var n=E.reverseManualCrop(e,o,t);return{cropOriginArea:n,cropArea:E.manualCrop(n,o,t)}}(p,n,u):function(e,t,o){var n=E.reverseAutoCrop(e,o),i=E.reverseManualCrop(n,o,t),a=E.reverseAutoCrop(i,t),r=E.manualCrop(a,o,t);return r=E.autoCrop(r,e),{cropOriginArea:a,cropArea:r}}(p,n,u):function(t){return{cropOriginArea:t,cropArea:e(t).pick(["height","width"]).assign({x:0,y:0}).value()}}(p)).cropArea,d.cropOriginArea,r);return e.assign(d.cropOriginArea,m),d=function(e){var t=c(s.isMobileEditor());return{cropArea:E.ensure.areaWithinViewport(t,e),cropOriginArea:e.cropOriginArea}}(d)}function d(r,l){var c=void 0,d=void 0,u=s.store.getState(),m=n.objectUtils.cloneDeep(u.imageCrop),g=v(u);e.isEmpty(g)||(m.isOn=void 0===r?!m.isOn:r,m.isOn?(i.tooltipManager.hide(a.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),function(t){var n=o.imageTransform.fittingTypes,i=n.SCALE_TO_FILL,a=n.STRETCH,r=s.components.properties.get(t).displayMode;e.includes([i,a],r)||s.components.properties.update(t,{displayMode:i})}(g),c=p(g),s.bi.event(t.bi.events.imageCrop.Open_crop_mode,{fixed_layout:!1}),d=o.keyboardShortcuts.CONTEXTS.IMAGE_CROP):(c={cropArea:null,cropOriginArea:null},d=o.keyboardShortcuts.CONTEXTS.EDITOR),e.assign(m,c),l=l||e.noop,o.keyboardShortcuts.setContext(d),m.isOn?b(m,l):s.updateState({imageCrop:m},l))}function u(){return e.clone(s.store.getState().imageCrop.cropArea)}function m(){return e.clone(s.store.getState().imageCrop.cropOriginArea)}function g(t,n){var i=s.store.getState(),a=v(i),r=i.imageCrop,l=r.cropOriginArea,c=r.cropArea,p=s.components.layout.get(a).rotationInDegrees,d=t?{x:0,y:0}:function(e){var t=s.components.getContainer(e),o=s.components.layout.getRelativeToScreen(t);if(s.isMobileEditor())return o;var n=s.components.get.byId("PAGES_CONTAINER"),i=s.components.layout.getRelativeToScreen(n);return(s.components.is.fullWidth(t)||s.components.isShowOnAllPages(e))&&(o.x+=i.x),o}(a);if(!r)return null;var u=n?c:function(t,n,i){var a=P.getMiddlePoint(t),r=e.assign({},n,{x:0,y:0}),s=o.math.getPointAsIfRectWasNotRotated(r,a,-i);return{x:s.x-t.width/2,y:s.y-t.height/2}}(c,l,p);return e(c).pick(["height","width"]).assign({x:u.x+l.x-d.x,y:u.y+l.y-d.y}).value()}function h(t){return e(t).pick(["x","y","width","height"]).mapValues(Math.round).value()}function f(t,o){var n=e.cloneDeep(t);n.cropArea=h(t.cropArea),n.cropOriginArea=h(t.cropOriginArea),o=o||e.noop,s.updateState({imageCrop:n},o)}function b(t,o){f(e.assign({},s.store.getState().imageCrop,t),o)}function y(t,n){var i=s.components.data.get(t),a=s.components.layout.get(t),r=a.rotationInDegrees,c=s.components.properties.get(t).displayMode,p=s.imageCrop.getCropOriginArea(),d=s.imageCrop.getCropArea(),u=P.getAspectRatio(a),m=e.assign({},i,{height:i.width*u}),g=c===S.fittingTypes.STRETCH?m:i,h=P.getRectMinDimensionsByContainedInnerRect(g,d),f=function(e,t,o){var n=e/P.getAreaRatioPercentage(t,o);return P.getResizedByRatio(t,n)}(n,p,i),b=function(t,o,n){var i=e.clone(o),a=e.clone(n),r=P.getMiddlePoint(n),s=l(n,t,i),c={x:s.x-r.x,y:s.y-r.y};return a.x+=c.x,a.y+=c.y,i.x-=c.x,i.y-=c.y,{originArea:i,area:a}}(p,f=E.ensure.scaleWithinDimensions(f,d,h),d),y=E.ensure.areaIsFullyContained(b.originArea,b.area),v=function(e,t,n){var i=P.getMiddlePoint(e),a=P.getMiddlePoint(t),r={x:a.x-i.x,y:a.y-i.y},s=o.math.degToRad(n),l=o.math.rotateVectorAround(r,s);return{x:o.math.roundToNearestHalf(l.x-r.x),y:o.math.roundToNearestHalf(l.y-r.y)}}(p,y.originArea,r);return y.originArea.x+=v.x,y.originArea.y+=v.y,y}var v=r.selection.selectors.getSelectedCompsRefs,P=o.math.rect,E=o.imageCrop,S=o.imageTransform;return{isCropMode:function(){return s.store.getState().imageCrop.isOn},toggleCropMode:d,getCropArea:u,getCropOriginArea:m,getCropAreaFinalPosition:g,setCropOriginArea:function(t,o){f(e.assign({},s.store.getState().imageCrop,{cropOriginArea:t}),o)},setCropArea:function(t,o){f(e.assign({},s.store.getState().imageCrop,{cropArea:t}),o)},setCropData:b,updateCrop:function(){var t=s.store.getState(),o=v(t),n=s.components.data.get(o),i=s.components.layout.get(o).fixedPosition,a=s.imageCrop.getCropArea(),r=s.imageCrop.getCropOriginArea(),l=s.imageCrop.getCropAreaFinalPosition(i),c={width:r.width/n.width,height:r.height/n.height},p=e.mapValues({x:a.x/c.width,y:a.y/c.height,height:a.height/c.height,width:a.width/c.width},Math.round);P.areRectsTheSameSize(n,p)&&0===p.x&&0===p.y&&!s.isMobileEditor()&&(p=null),s.isMobileEditor()?s.components.properties.update(o,{overrideCrop:p}):s.components.data.update(o,{crop:p}),s.components.layout.update(o,l)},getNewCropStateByPercentageFromOriginalImage:y,quickActions:{getNewCropStateForHundredPercent:function(e){return y(e,100)},getNewCropStateForSquare:function(){var e=s.imageCrop.getCropOriginArea(),t=s.imageCrop.getCropArea(),o=Math.min(t.width,t.height);return t.height=o,t.width=o,{area:t,originArea:e}},getNewCropStateResetCrop:function(){var t=m(),o=P.getAspectRatio(t),n=u(),i=s.imageCrop.getCropAreaFinalPosition(!0),a=P.getRectMinDimensionsByContainedInnerRect(t,i),r=n.height>n.width?{height:a.height,width:a.height/o}:{width:a.width,height:a.width*o},l=c(s.isMobileEditor());if(i.x+r.width>P.getRight(l)){var p=P.getRight(l)-i.x;r={width:p,height:p*o}}return{area:e.assign({},r,{x:0,y:0}),originArea:e.assign({},i,r)}}}}}return{create:s}}),define("rEditor/app/APISections/siteWrapper",["core","util","stateManagement","lodash"],function(e,t,o,n){"use strict";function i(o){function i(e,o){var i=t.url;return o.forEach(function(t){var o=i.getParameterByName(t);o&&("experiments"===t||"experimentsoff"===t)&&n.includes(o,":")&&(o=function(e){var t=n(e).split(";").filter(function(e){return n.startsWith(e,"viewer")}).map(function(e){return e.split("viewer:")[1]}).join(",");return t?"viewer:"+t:""}(o)),e=o?i.setUrlParam(e,t,o):e}),e}var r=o.store;return{getCurrentSiteDomain:function(){var e=window.location.hostname.match(/editor\.(.*)/);return e?"www."+e[1]:"www.wix.com"},setSEOSiteName:function(e){return o.documentServices.seo.title.set(e)},setSEOSiteDescription:function(e){return o.documentServices.seo.description.set(e)},getSEOSiteKeywords:function(){return o.documentServices.seo.keywords.get()},setSEOSiteKeywords:function(e){return o.documentServices.seo.keywords.set(e)},getMetaSiteId:function(){return o.documentServices.generalInfo.getMetaSiteId()},isPremium:function(){return o.documentServices&&o.documentServices.premiumFeatures&&o.documentServices.premiumFeatures.get().length>0},getXPos:function(){return o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getPagesContainer()).x},getSiteDomainInfo:function(t,n){var i=o.documentServices.generalInfo.getMetaSiteId();e.premiumServicesAPI.getSiteDomainInfo(i,t,n)},getSitePremiumPackage:function(){return o.store.getState().site.premiumPackage||-1},getSitePublicUrl:function(){if(!o.documentServices)return null;var e=r.getState(),t=o.documentServices.generalInfo.getPublicUrl()||a.getFreeDomainPrefix(e,o.documentServices)+o.siteName.get();return t=t.replace(/^https?/i,a.getSiteProtocol(e,o.documentServices)),i(t,["ReactSource","experiments","experimentsoff","viewerexp","js-wixcode-sdk-override"])},getSiteWidth:function(){return window.document.getElementById("preview").getBoundingClientRect().width}}}var a=o.domain.selectors;return{create:i}}),define("rEditor/bi/events.json",[],function(){return{QUALAROO_DUMMY_EVENT:{evid:9,fields:{testField:"testValue"}},UPGRADE_EVENT:{evid:519,fields:{origin:"string"}},AUTOSAVE_TEST:{src:42,endpoint:"ugc-viewer",evid:362,fields:{type:"string",uuid:"guid"}},IDE_TOPBAR_RESIZE:{endpoint:"platform",src:79,evid:20,fields:{old_hight:"string",new_hight:"string",site_id:"guid"}},LEFT_TREE_TOGGLE:{endpoint:"platform",src:79,evid:21,fields:{state:"string",site_id:"guid"}},PROPERTIES_PANEL_TOGGLE:{endpoint:"code",src:39,evid:141,fields:{state:"string",site_id:"guid"}},BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT:{endpoint:"editor",src:38,evid:685,fields:{scroll_type:"string"}}}}),define("rEditor/bi/errors.json",[],function(){return{QUALAROO_SURVEY_TIMEOUT_NOT_SENT:{errorCode:8,errorName:"QUALAROO_SURVEY_TIMEOUT_NOT_SENT",desc:"qualaroo component was added without a timeout prop",severity:"error"}}}),define("rEditor/bi/bi",["rEditor/bi/events.json","rEditor/bi/errors.json"],function(e,t){"use strict";return{events:e,errors:t,registerEvents:function(t){t.documentServices.bi.register("rEditor","event",e)}}}),define("rEditor/app/APISections/developerMode",["core","lodash","util","uiConstants","rEditor/bi/bi","rEditor/rootComps/gfpp/gfppModel","gfppData","constants"],function(e,t,o,n,i,a,r,s){"use strict";function l(l){function c(){require.specified("platform")||require(["platform"],function(e){e.init(l,a.registerGfppActions,r.registerComponent,r.mergeComponentGfppData,s.ROOT_COMPS.GFPP.ACTIONS)})}function p(){var t=!d(),o={developerModeEnabled:t,developerToolBarEnabled:t};l.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,t),l.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,t),t&&l.store.getState().viewTools.toolbarEnabled&&(o.toolbarEnabled=!1),t&&!l.userPreferences.site.get(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)&&(l.selection.deselectComponents(),l.panelManager.openPanel("wixCode.panels.developerWelcomePanel"),l.userPreferences.site.set(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),l.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,!0)),t&&c(),o.showHiddenComponents=function(t){return t&&l.userPreferences.site.get(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS)}(t),t||(l.selection.deselectComponents(),l.panelManager.closeAllPanelsOfType(s.PANEL_TYPES.FULL_STAGE)),m(u(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),l.documentServices.documentMode.showHiddenComponents(o.showHiddenComponents),l.documentServices.documentMode.showControllers(t),l.updateEditorViewTools(o)}function d(){var e=l.getViewTools();return!!e&&!!e.developerModeEnabled}function u(e,t){return{type:e,data:t}}function m(e){l.updateState({devModeContext:e})}function g(o){return l.store.getState()[o]||function(o){switch(o){case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE:return I.getInitialState("calc(100% - 234px)","bottom");case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.FILE:case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION:return I.getInitialState("0","top");case"consoleSplitter":return I.getInitialState("calc(100% - 234px)","bottom");case"fileTreeSplitter":var n=l.userPreferences.site.get(e.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER);return t.isUndefined(n)?I.getInitialState("296px",!1):n}}(o)}function h(e,o){var n=t.drop(arguments,2),i=g(e);return o.apply(null,[i].concat(n))}function f(e,t,o,n){var i=h.apply(null,arguments),a={};return a[e]=i,l.updateState(a,n),a}function b(e,t,o,n){var i=o<=C;return o+T>=n?f(e,I.collapse,"bottom"):i?f(e,I.collapse,"top"):f(e,I.setSplitPosition,t)}function y(){var t=f.apply(null,arguments);l.userPreferences.site.set(e.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER,t.fileTreeSplitter)}function v(t){var o=g(t);return I.isCollapsed(o,"top")?e.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED:I.isCollapsed(o,"bottom")?e.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED:e.constants.DEVELOPER_MODE.CONTAINER_STATES.CUSTOM}function P(e){var o=t.tail(arguments);return e.apply(null,["ideSplitter_"+l.store.getState().devModeContext.type].concat(o))}function E(e,t,o){!function(e,t){l.bi.event(i.events.IDE_TOPBAR_RESIZE,{old_hight:l.developerMode.ui.idePane.getSplitPosition(),new_hight:(100*e/t).toPrecision(4)+"%",site_id:l.documentServices.generalInfo.getSiteId()})}(t,o),P(b,e,t,o)}function S(e){!function(){var e=l.developerMode.ui.treePane.isOpen?"close":"open";l.bi.event(i.events.LEFT_TREE_TOGGLE,{state:e,site_id:l.documentServices.generalInfo.getSiteId()})}(),y("fileTreeSplitter",I.toggleCollapse,"left",e)}var T=n.WIX_CODE_TOPBAR_HEIGHT,C=54,I=o.splitterAPI;return{createContext:u,setContext:m,getContext:function(){if(!l.isPreviewReady())return u(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.UNKNOWN);var t=l.store.getState().devModeContext;if(t.type===e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){var o=l.documentServices.pages.getFocusedPageId(),n={id:l.documentServices.pages.getFocusedPageId(),displayName:l.pages.getPageTitle(o),isPopup:l.documentServices.pages.popupPages.isPopup(o)};t=u(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,n)}return t},isEnabled:d,enableWithMarketingConfig:function(){if(!l.userPreferences.site.get(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){var t={developerModeEnabled:!0,developerToolBarEnabled:!1,showHiddenComponents:!0};l.userPreferences.site.set(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),l.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,t.developerModeEnabled),l.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,t.developerToolBarEnabled),c(),m(u(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),l.documentServices.documentMode.showHiddenComponents(t.showHiddenComponents),l.documentServices.documentMode.showControllers(!0),y("fileTreeSplitter",I.collapse,"left"),l.updateEditorViewTools(t)}},toggle:p,ui:{idePane:{getSplitPosition:t.partial(P,h,I.getSplitPosition),setSplitPosition:E,maximize:t.partial(P,f,I.collapse,"top"),unMaximize:t.partial(P,f,I.unCollapse,"top"),toggleMaximize:t.partial(P,f,I.toggleCollapse,"top"),minimize:t.partial(P,f,I.collapse,"bottom"),unMinimize:t.partial(P,f,I.unCollapse,"bottom"),toggleMinimize:t.partial(P,f,I.toggleCollapse,"bottom"),revertSize:t.partial(P,f,I.unCollapse),getState:t.partial(P,v)},consolePane:{getSplitPosition:t.partial(h,"consoleSplitter",I.getSplitPosition),setSplitPosition:t.partial(b,"consoleSplitter"),minimize:t.partial(f,"consoleSplitter",I.collapse,"bottom"),unMinimize:t.partial(f,"consoleSplitter",I.unCollapse,"bottom"),minimizedByUser:t.partial(function(){var t=v("consoleSplitter");return l.store.getState().consoleSplitter&&t===e.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}),getState:t.partial(v,"consoleSplitter")},treePane:{getSplitPosition:t.partial(h,"fileTreeSplitter",I.getSplitPosition),setSplitPosition:t.partial(y,"fileTreeSplitter",I.setSplitPosition),toggle:S,isOpen:t.negate(t.partial(h,"fileTreeSplitter",I.isCollapsed,"left"))},topbarHeight:T+"px"}}}return{create:l}}),define("rEditor/app/APISections/selectedComponent",["lodash","stateManagement"],function(e,t){"use strict";function o(t){return{sendSelectedComponentBI:function(o,i){var a=t.selection.getSelectedComponents(),r=t.store;if(o&&!e.isEmpty(a)){var s=n.getSelectedComponentType(r.getState(),t.documentServices),l={component_id:e.head(a).id,component_type:s};i&&e.merge(l,i),t.bi.event(o,l)}},copy:function(){return t.copyPaste.copy(t.selection.getSelectedComponents())},duplicate:function(){return t.copyPaste.duplicate(t.selection.getSelectedComponents())},cut:function(){var e=t.selection.getSelectedComponents();return t.selection.isComponentSelected()&&t.components.cut(e),e},remove:function(){var e=t.selection.getSelectedComponents();return t.selection.isComponentSelected()&&t.components.remove(e),e},toggleFixedPosition:function(){var e=t.selection.getSelectedComponents();return!(!e||!t.components.layout.canBeFixedPosition(e))&&function(e){var o=!t.components.layout.get(e).fixedPosition;return t.components.layout.setFixed(e,o),o}(e)}}}var n=t.selection.selectors;return{create:o}}),define("rEditor/app/APISections/savePublishWrapper",["lodash","core","util","stateManagement","coreUtilsLib"],function(e,t,o,n,i){"use strict";function a(e){return e()}function r(r){function l(){var t=d.getState(),o=s.isDomainConnected(t,r.documentServices);return e.merge({isFirstSave:r.documentServices.generalInfo.isFirstSave(),isSitePublished:r.documentServices.generalInfo.isSitePublished(),isDomainConnected:o,domain:o?r.documentServices.generalInfo.getPublicUrl():s.getFreeDomainPrefix(d.getState(),r.documentServices)+r.siteName.get(),isSitePremium:r.site.isPremium()},t.sitePremiumState)}function c(t){r.updateState({savePublish:e.merge({},r.store.getState().savePublish,t)})}function p(o,n,i){return new Promise(function(s,l){function c(){y.duration=e.now()-d,r.bi.event(t.bi.events.save.saveProcess.SUCCESS_SAVE_PROCESS,y),v=e.assign(v,y,{result:"success"}),g.addPageAction("save finish",v),u&&e.forEach(m,a),r.isSavedInCurrentSession=!0,s(),r.updateState({savingStatus:b.DONE_SUCCESS}),window.setTimeout(function(){var e=r.autosaveManager.shouldShowAutosaveUI()?b.IDLE_SAVED:b.IDLE;r.updateState({savingStatus:e})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function p(n){!function(o,n,i){var a=e.keys(o),s=e.compact(e.map(o,"errorCode")),l={p1:a,p2:e.compact(e.map(o,"errorType")),p3:s};n?r.documentServices.bi.error(t.bi.errors.FIRST_SAVE_ERROR,l):i?r.documentServices.bi.error(t.bi.errors.FULL_SAVE_ERROR,l):r.documentServices.bi.error(t.bi.errors.SAVE_ERROR,l)}(n,u,o),v=e.assign(v,{result:"failure",error:function(e){try{return JSON.stringify(e)}catch(e){return"Failed to stringify save error info"}}(n)}),g.addPageAction("save finish",v),l(n),r.updateState({savingStatus:b.DONE_FAILED}),window.setTimeout(function(){r.updateState({savingStatus:b.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}var d=e.now();r.updateState({savingStatus:b.IN_PROGRESS});var u=r.documentServices.generalInfo.isFirstSave(),f=function(e,t){return e?"first":t?"full":"partial"}(u,o);r.bi.event(t.bi.events.save.saveProcess.SAVE_CLICK,{origin:n});var y={save_type:f};r.bi.event(t.bi.events.save.saveProcess.START_SAVE_PROCESS,y);var v=e.assign({is_first_save:u,save_count:++h},y);g.addPageAction("save start",e.clone(v)),e.defer(function(){r.documentServices.save(c,p,o,i),g.addPageAction("save computed",e.assign(e.clone(v),{duration:e.now()-d}))})})}var d=r.store,u=!1,m=[function(){r.userPreferences.loadSitePreferences(r.documentServices.generalInfo.getSiteId(),!0),r.store.dispatch(n.leftBar.logic.collapseMenu())}],g=o.newrelic,h=0,f=0,b=t.constants.PROGRESS_STATUS;return{save:p,saveAsTemplate:function(e,t){r.documentServices.saveAsTemplate(function(){e&&e()},function(e){t&&t(e),i.log.info("Failed saving as template ",e)})},publish:function(){return new Promise(function(o,n){r.updateState({publishingStatus:b.IN_PROGRESS});var i={publish_count:++f};g.addPageAction("publish start",e.clone(i));var a={publish_type:r.documentServices.generalInfo.isSitePublished()?"publish":"first_publish"};r.bi.event(t.bi.events.publish.START_PUBLISH,a),r.documentServices.publish(function(){i.result="success",g.addPageAction("publish finish",i),r.bi.event(t.bi.events.publish.SUCCESS_PUBLISH,a),e.forEach(r.sitePublishedCallbacks,function(e){e()}),o(),r.updateState({publishingStatus:b.DONE_SUCCESS}),window.setTimeout(function(){r.updateState({publishingStatus:b.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)},function(e){i.result="failure",g.addPageAction("publish finish",i),n(e),r.updateState({publishingStatus:b.DONE_FAILED}),window.setTimeout(function(){r.updateState({publishingStatus:b.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)})})},registerFirstSaveCallback:function(e){m.push(e)},getSiteState:l,setSitePremiumState:function(e){r.updateState({sitePremiumState:e})},lockSavePublish:function(){u=!0},unlockSavePublish:function(){u=!1},isSavePublishLocked:function(){return u},canDiffSave:function(){var e=r.store.getState().savePublish;return!(e.isDiffSaveInProgress||e.isSaveInProgress||e.isPublishInProgress||u)},canUserPublish:function(){var t=r.documentServices&&r.documentServices.canUserPublish();return!e.isBoolean(t)||t},canSaveOrPublish:function(){var e=r.store.getState().savePublish;return!e.isPublishInProgress&&!e.isSaveInProgress&&!u},setSaveProgress:function(e){c({isSaveInProgress:e})},setPublishProgress:function(e){c({isPublishInProgress:e})},setDiffSaveProgress:function(e){c({isDiffSaveInProgress:e})},isSaveInProgress:function(){return r.store.getState().savePublish.isSaveInProgress},isPublishInProgress:function(){return r.store.getState().savePublish.isPublishInProgress}}}var s=n.domain.selectors;return{create:r}}),define("rEditor/utils/removeUtil",["lodash","util","core"],function(e,t,o){"use strict";function n(t,o,n,i){var a=function(t,o){return e(o).flatMap(function(e){return t.components.is.container(e)?[e].concat(t.components.get.byAncestor(e)):e}).uniqBy("id").value()}(o,n),r=!1;return e.forEach(t.componentsRemoveHandlerPlugins,function(e){if(e(t.store.dispatch,o,n,a,i))return r=!0,!1}),r}var i=function(e,o){e.bi.reportBI(t.bi.events.COMPONENT_REMOVED,o)},a=function(t,o,n,a,s,l,c,p){var d=o.tpa.section.getPageData(n),u=d.hasSection&&s[o.tpa.constants.COMP_TYPES.TPA_SECTION];if(o.wixapps.classics.isBlogPage(n))s.blog&&s.blog(),t.pages.beforePageRemoveHook(n,function(){e.forEach(o.pages.getPagesData(),function(e){o.wixapps.classics.isBlogPage(e.id)&&(o.pages.remove(e.id),i(t,c))}),p&&p()});else if(u)s[o.tpa.constants.COMP_TYPES.TPA_SECTION](n,d.title,d.appData,l,p,c);else if(l){var m={pageTitle:a.title,onConfirm:r.bind(this,t,o,n,p,c),isPopup:a.isPopup};t.panelManager.openPanel("panels.messagePanels.deletePageMessage",m,!0)}else r(t,o,n,p,c)},r=function(e,t,o,n,a){e.pages.beforePageRemoveHook(o,function(){t.pages.remove(o),n&&n(),i(e,a)})},s=function(t,o,n){var i=t.tpa.getTpaPointersRecursive(n),a=n.concat(i);a=e.uniqBy(a,"id");return o.bi.getComponentsBIParams(a)},l=function(e,t){var o=e;return function(){0===--o&&t()}},c=function(t,o,n,i,a,r){e.forEach(n,function(e){var n=t.components.getType(e),s=function(){t.components.remove(e,a,r)};o[n]?o[n](e,i,a,s):s()})};return{removePage:function(o,n,i,r,s,l,c){var p=n.pages.getReference(r),d=n.pages.data.get(r),u=n.tpa.getPremiumTpaChildrenOnPage(p,d.tpaApplicationId,!0),m=n.wixapps.classics.isBlogPage(r),g=n.components.getTpaChildren(p),h=e.clone(g);m&&(h=h.concat(n.components.getBlogChildren(p)));var f=o.bi.getComponentsBIParams(h);e.forEach(f,function(e){e.removal_method="delete_page"});var b=function(e){return!!e.tpaApplicationId}(d)&&n.tpa.app.isMultiSectionInstalled(d.tpaApplicationId);if(u.length>0&&!b||b&&function(e,t,o){var n=e.app.isPremium(t);return!!(n&&o>1)||!n&&o>0}(n.tpa,d.tpaApplicationId,u.length)){var y=d&&d.title||"",v=u[0];o.panelManager.openPanel("tpaPanels.confirmation.deletePageContainsPremiumTpa",{appName:v.appDefinitionName,appDefId:v.appDefinitionId,appCount:u.length,pageTitle:y,onConfirm:function(){a(o,n,r,d,i,!1,f,s),e.forEach(u,function(e,i){var a={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:h[i].id,is_last_tpa:n.tpa.app.isLastAppComp(e.applicationId)?1:0,component_type:"tpa"};o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,a)})},onCancel:function(){l&&l()}},!0)}else m?o.panelManager.openPanel("blog.blogDeleteConfirmation",{onConfirm:function(){a(o,n,r,d,i,!1,f,s)},onCancel:function(){l&&l()}},!0):a(o,n,r,d,i,"boolean"!=typeof c||c,f,s)},removeComponent:function(i,a,r,p,d,u){var m=e.some(r,i.components.is.container),g=r.length>1;if(i.viewMode.get()===i.viewMode.VIEW_MODES.MOBILE)!function(t,n,i){var a=n.hidePlugins;e.forEach(i,function(i){var r=t.components.getType(i);a[r]?a[r](i):t.mobile.hiddenComponents.hide(i),!n.zoomMode.isInZoomMode()&&n.components.is.hiddenable(i)&&n.panelManager.openPanel("mobileEditor.hiddenItemsPanel");var s=function(t,o){var n=t.documentServices.components.getType(o),i={component_id:o.id,component_type:n,current_page_name:t.documentServices.pages.getFocusedPageId(),site_segment:function(e,t){var o=e.siteSegments.getFooter(),n=e.siteSegments.getHeader();return e.components.isDescendantOfComp(t,n)?n.id:e.components.isDescendantOfComp(t,o)?o.id:""}(t,o),origin:"",hide_method:""};if(t.isTpa(n)){var a=e.head(t.bi.getComponentsBIParams(o));a=e.omit(a,["is_last_tpa","widget_id"]),i=e.assign(i,a)}return i}(n,i);n.bi.event(o.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_HIDE,s)})}(i,p,r),d&&d();else{var h=function(){var e=l(r.length,function(){p.bi.reportBI(t.bi.events.COMPONENT_REMOVED,y)});c(i,a,r,!0,function(){return e(),d?d(arguments):null},u)},f=i.tpa.getPremiumTpaChildren(r),b=e.reject(f,i.tpa.app.hasSections),y=s(i,p,r);(m||g)&&b.length>0?function(o,n,i,a,r,s,l,p){var d=a[0];o.panelManager.openPanel("tpaPanels.confirmation.deleteContainerContainsPremiumTpa",{appName:d.appDefinitionName,appDefId:d.appDefinitionId,appCount:a.length,onConfirm:function(){c(n,i,r,!1,l,p),o.bi.reportBI(t.bi.events.COMPONENT_REMOVED,s),e.forEach(s,function(e){o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,e)})}},!0)}(p,i,a,f,r,y,d,u):n(p,i,r,h)||h()}},cutComponent:function(e,t,o){var n=e.components.getType(t);o[n]?o[n](t):e.components.remove(t)}}}),define("rEditor/utils/multiSelectHandler",["lodash"],function(e){"use strict";return function(){var t=e.toArray(arguments),o=t.shift(),n=t.pop(),i=this.components.asArray(o);return this.multiselect.isMultiselect(i)?n.multiCompHandler.apply(this,[i].concat(t)):n.singleCompHandler.apply(this,[i[0]].concat(t))}}),define("rEditor/app/APISections/componentsFacade/layoutWrapper",["lodash","experiment","core","util","stateManagement","rEditor/utils/multiSelectHandler"],function(e,t,o,n,i,a){"use strict";function r(r){function s(e,t,i,a){var s=function(e,t){var n=r.components.layout.getRelativeToScreen(e);return o.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(r,e,t,n)}(e,t);a(e,n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,s)),i||r.history.debouncedAdd("component - update layout")}function l(e,t,o){return s(e,t,o,r.documentServices.components.layout.update)}function c(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(r,e,t);r.components.layout.update(e,i,o)}function p(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t);r.components.layout.updateAndPreserveProportions(e,i,o)}function d(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(r,e,t);r.components.layout.updateAndPreserveProportions(e,i,o)}function u(e,t,o){r.documentServices.components.layout.updateAndPreserveProportions(t,o,!0)}function m(e,t){var n=r.components.layout.get(e);return o.utils.updateLayoutUtil.getLayoutAfterConstraints(r,e,t,n)}function g(e){return r.documentServices.components.layout.canBeStretched(e)&&!f(e)&&!r.components.isShowOnSomePages(e)}function h(e,t){var o=n.math.getSquaresIntersection(e,t);return o&&n.math.rect.getAreaRatioPercentage(o,t)}function f(e){var t=r.components.asArray(e);return i.componentMetaData.isPinned(t,r.documentServices)}function b(o){return a.call(r,o,{multiCompHandler:r.multiselect.layout.getResizableSides,singleCompHandler:function(n){if(i.pinMode.selectors.isOpen(T.getState()))return{};if(r.components.is.group(n))return e.toArray(r.documentServices.components.layout.RESIZE_SIDES);var a=r.documentServices.components.layout.getResizableSides(n),s=r.components.layout.getDock(n);return s&&(a=function(o,n,i){if(t.isOpen("se_screenWidthEditBox")&&r.components.layout.isHorizontallyStretchedToScreen(o))return n;var a={left:r.documentServices.components.layout.RESIZE_SIDES.LEFT,right:r.documentServices.components.layout.RESIZE_SIDES.RIGHT,top:r.documentServices.components.layout.RESIZE_SIDES.TOP,bottom:r.documentServices.components.layout.RESIZE_SIDES.BOTTOM},s=e.map(i,function(e,t){return a[t]});return e.difference(n,s)}(o,a,s)),a}})}function y(t,o){var n=r.components.asArray(o);return!e.isEmpty(n)&&e.every(n,function(e){return t(e)})}function v(e,t,o,n){var i=m(e,t),s=a.call(r,e,i,{multiCompHandler:r.multiselect.layout.updateAndAdjustLayout,singleCompHandler:n});return o||r.history.debouncedAdd("component - update layout"),s}function P(e,t,o){return s(e,t,o,r.documentServices.components.layout.continuousUpdate.on)}function E(e,t,o){r.documentServices.components.layout.continuousUpdateAndPreserveProportions.on(t,o,!0)}function S(e,t,o){!function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.continuousUpdateAndPreserveProportions,singleCompHandler:E})}(e,n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t),o)}var T=r.store;return{get:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.get,singleCompHandler:r.documentServices.components.layout.get})},isRenderedInFixedPosition:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isRenderedInFixedPosition(e)})},isAncestorRenderedInFixedPosition:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isAncestorRenderedInFixedPosition(e)})},isShowOnFixedPosition:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isShowOnFixedPosition(e)})},isHorizontallyStretchedToScreen:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isHorizontallyStretchedToScreen(e)})},isDocked:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isDocked(e)})},isDockedToScreen:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isDockedToScreen(e)})},unDock:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.unDock,singleCompHandler:r.documentServices.components.layout.unDock})},isRotated:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isRotated(e)})},isPinned:f,canBeStretched:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.canBeStretched,singleCompHandler:g})},canBeFixedPosition:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.canBeFixedPosition,singleCompHandler:r.documentServices.components.layout.canBeFixedPosition})},getRelativeToScreen:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.getRelativeToScreen,singleCompHandler:r.documentServices.components.layout.getRelativeToScreen})},getRelativeToScreenConsideringScroll:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.getRelativeToScreenConsideringScroll,singleCompHandler:r.documentServices.components.layout.getRelativeToScreenConsideringScroll})},getRelativeToStructure:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.getRelativeToStructure,singleCompHandler:r.documentServices.components.layout.getRelativeToStructure})},getResizableSides:b,getResizableWithAnchors:function(e){return y(r.components.is.resizableWithAnchors,e)},getResizableDiagonally:function(e){return y(r.components.is.resizableDiagonally,e)},getProportionStructure:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.getProportionStructure,singleCompHandler:r.documentServices.components.layout.getProportionStructure})},update:function(e,t,o){if(t){var n=m(e,t);a.call(r,e,n,{multiCompHandler:r.multiselect.layout.update,singleCompHandler:r.documentServices.components.layout.update}),o||r.history.debouncedAdd("component - update layout")}},updateRelativeToStructure:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateRelativeToStructure,singleCompHandler:c})},updateRelativeToScreen:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateRelativeToScreen,singleCompHandler:l})},updateRelativeToStructureAndPreserveProportions:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateRelativeToStructureAndPreserveProportions,singleCompHandler:d})},updateRelativeToScreenAndPreserveProportions:function(e,t,o,n){a.call(r,e,t,o,n,{multiCompHandler:r.multiselect.layout.updateRelativeToScreenAndPreserveProportions,singleCompHandler:p})},updateAndPreserveProportions:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateAndPreserveProportions,singleCompHandler:u})},updateAndAdjustLayout:function(e,t,o){return v(e,t,o,r.documentServices.components.layout.updateAndAdjustLayout)},updateRelativeToStructureAndAdjustLayout:function(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(r,e,t);return r.components.layout.updateAndAdjustLayout(e,i,o)},updateRelativeToScreenAndAdjustLayout:function(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t);return r.components.layout.updateAndAdjustLayout(e,i,o)},continuousUpdate:{start:function(){r.documentServices.components.layout.continuousUpdate.start()},on:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.continuousUpdateRelativeToScreen,singleCompHandler:P})},end:function(){r.documentServices.components.layout.continuousUpdate.end()}},continuousUpdateAndPreserveProportions:{start:function(){r.documentServices.components.layout.continuousUpdateAndPreserveProportions.start()},on:function(e,t,o,n){a.call(r,e,t,o,n,{multiCompHandler:r.multiselect.layout.continuousUpdateRelativeToScreenAndPreserveProportions,singleCompHandler:S})},end:function(){r.documentServices.components.layout.continuousUpdateAndPreserveProportions.end()}},continuousUpdateAndAdjustLayout:{start:function(){r.documentServices.components.layout.continuousUpdateAndAdjustLayout.start()},on:function(e,t,o){return v(e,n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t),o,r.documentServices.components.layout.continuousUpdateAndAdjustLayout.on)},end:function(){r.documentServices.components.layout.continuousUpdateAndAdjustLayout.end()}},setFixed:function(e,t){return a.call(r,r,e,t,{multiCompHandler:r.multiselect.layout.setFixed,singleCompHandler:o.utils.fixedPositionUtils.setFixedPosition})},isStretchedToScreen:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.isStretchedToScreen,singleCompHandler:r.documentServices.components.layout.isHorizontallyStretchedToScreen})},setDock:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.setDock,singleCompHandler:r.documentServices.components.layout.setDock})},getDock:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.getDock,singleCompHandler:r.documentServices.components.layout.getDock})},updateDock:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.updateDock,singleCompHandler:r.documentServices.components.layout.updateDock})},updateAspectRatio:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.updateAspectRatio,singleCompHandler:r.documentServices.components.layout.updateAspectRatio})},removeAspectRatio:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.removeAspectRatio,singleCompHandler:r.documentServices.components.layout.removeAspectRatio})},isAspectRatioOn:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isAspectRatioOn(e)})},isCompOutOfPageBounds:function(e){var t=r.components.layout.getRelativeToScreen(e),n=r.components.layout.getRelativeToScreen(r.documentServices.siteSegments.getPagesContainer()),i=r.isMobileEditor()?o.constants.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS:0,a=n.x+i,s=n.x+n.width-i;return t.x+t.width<=a||t.x>=s},getCompMargin:function(e){var t=r.components.layout.getRelativeToScreen(e),o=r.components.layout.getRelativeToStructure(e),n=t.width-o.width,i=r.site.getSiteX(),a=o.x+i-t.x;return{left:a,right:n-a}},isCompExceedingContainerMargin:function(t,o){var n=r.components.layout.getRelativeToScreen(o),i=r.components.layout.getCompMargin(o),a=r.components.layout.getRelativeToScreen(t),s=e.assign({},n,{width:i.left}),l=e.assign({},n,{x:n.x+n.width-i.right,width:i.right});return(h(s,a)||0)>10||(h(l,a)||0)>10},isCompNearPageBounds:function(e){if(!r.getCompRestrictions(e).container){var t=r.components.layout.getRelativeToStructure(e),o=r.components.layout.getRelativeToScreen(r.documentServices.siteSegments.getPagesContainer()),n=r.components.layout.getRelativeToScreen(r.documentServices.siteSegments.getHeader()),i=t.x<=30,a=t.x>=o.width-t.width-30,s=t.y<=n.height+30,l=t.y>=o.height-30;return i||a||s||l}}}}return{create:r}}),define("rEditor/app/APISections/componentsFacade/arrangementFacade",["core"],function(e){"use strict";return{create:function(t){return{moveForward:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveForward(o))return null;t.documentServices.components.arrangement.moveForward(o[0]),t.history.add("component - move forward")},moveBackward:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveBackward(o))return null;t.documentServices.components.arrangement.moveBackward(o[0]),t.history.add("component - move backward")},moveToFront:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveForward(o))return null;t.documentServices.components.arrangement.moveToFront(o[0]),t.history.add("component - move to front")},moveToBack:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveBackward(o))return null;t.documentServices.components.arrangement.moveToBack(o[0]),t.history.add("component - move to back")},moveToIndex:function(e,o,n){var i=t.components.asArray(e);t.documentServices.components.arrangement.moveToIndex(i[0],o),n||t.history.add("component - move to index")},canMoveBackward:function(o){var n=t.components.asArray(o);return t.multiselect.isMultiselect(n)?t.multiselect.arrangement.canMoveBackward(n):!(t.components.getType(n)===e.constants.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveBackward(n[0])},canMoveForward:function(o){var n=t.components.asArray(o);return t.multiselect.isMultiselect(n)?t.multiselect.arrangement.canMoveForward(n):!(t.components.getType(n)===e.constants.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveForward(n[0])}}}}}),define("rEditor/app/APISections/componentsFacade/behaviorsFacade",["lodash","rEditor/utils/multiSelectHandler"],function(e,t){"use strict";return{create:function(e){return{update:function(o,n,i,a){return t.call(e,o,n,i,a,{multiCompHandler:e.multiselect.behaviors.update,singleCompHandler:e.documentServices.components.behaviors.update})},get:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.get,singleCompHandler:e.documentServices.components.behaviors.get})},remove:function(o,n,i,a){return t.call(e,o,n,i,a,{multiCompHandler:e.multiselect.behaviors.remove,singleCompHandler:e.documentServices.components.behaviors.remove})},removeAll:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.removeAll,singleCompHandler:e.documentServices.components.behaviors.removeAll})},previewAnimation:function(o,n,i){return t.call(e,o,n,i,{multiCompHandler:e.multiselect.behaviors.previewAnimation,singleCompHandler:e.documentServices.components.behaviors.previewAnimation})},stopPreviewAnimation:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.stopPreviewAnimation,singleCompHandler:e.documentServices.components.behaviors.stopPreviewAnimation})},execute:function(o,n,i,a){return t.call(e,o,n,i,a,{multiCompHandler:e.multiselect.behaviors.execute,singleCompHandler:e.documentServices.components.behaviors.execute})},getRuntimeState:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.getRuntimeState,singleCompHandler:e.documentServices.components.behaviors.getRuntimeState})}}}}}),define("rEditor/componentsMetaData/components/bgImageStrip",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/fiveGridLine",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/footer",[],function(){"use strict";return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/components/header",["experiment"],function(e){"use strict";return{pinnable:!1,showLegacyFixedPosition:function(t){return!e.isOpen(t.isMobileEditor()?"mobileHeaderBehaviors":"desktopHeaderBehaviors")}}}),define("rEditor/componentsMetaData/components/screenWidthContainer",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripShowcase",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripSlideshowGallery",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/blogComponents",["coreUtilsLib","lodash","experiment"],function(e,t,o){"use strict";var n=e.blogAppPartNames;return{pinnable:!1,selectable:function(e,i){if(o.isOpen("se_blogHeroImage")){if(e.components.data.get(i).appPartName===n.HERO_IMAGE){var a=e.documentServices.wixapps.classics.getAppPartExtraData(i);if(a){return t.head(a.items).coverImageData.isHeroImage}}}return!0},containable:function(e,o){var i=[n.FEED,n.SINGLE_POST,n.RELATED_POSTS],a=e.components.data.get(o);return!t.includes(i,a.appPartName)}}}),define("rEditor/componentsMetaData/components/rssButton",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaGluedWidget",["lodash"],function(e){"use strict";var t=["14517e1a-3ff0-af98-408e-2bd6953c36a2"];return{pinnable:!1,selectable:function(o,n){var i=o.isMobileEditor(),a=(o.components.data.get(n)||{}).applicationId,r=o.documentServices.tpa.app.getData(a)||{},s=e.includes(t,r.appDefinitionId);return!i||i&&!s}}}),define("rEditor/rootComps/overlay/overlayWithHole.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{style:{position:"absolute",height:"100%",width:"100%"}},e.createElement("div",{style:this.getStyles()}))}}),define("rEditor/rootComps/overlay/overlayWithHole",["create-react-class","lodash","core","rEditor/rootComps/overlay/overlayWithHole.rt"],function(e,t,o,n){"use strict";return e({displayName:"overlayWithHole",mixins:[o.mixins.editorAPIMixin],getHoleLayout:function(){return this.getEditorAPI().components.layout.getRelativeToScreen(this.props.hole)},getStyles:function(){var e=this.getHoleLayout(),t={width:e.width,height:e.height,top:e.y,left:e.x,position:"absolute",boxShadow:"0 0 0 9999px "+this.props.background};return e.rotationInDegrees&&(t.transform="rotate("+e.rotationInDegrees+"deg)"),t},render:n})}),define("rEditor/rootComps/overlay/overlayWithQuickTip",["react","create-react-class","lodash","core","baseUI"],function(e,t,o,n,i){"use strict";return t({displayName:"overlayWithQuickTip",mixins:[n.mixins.editorAPIMixin],componentWillMount:function(){this.quickTipShowTimeoutId=this.showQuickTip()},showQuickTip:function(){var t=this.getEditorAPI(),n=t.userPreferences.session,a=this.props.quickTipSession.id+this.props.hoveredComp.id,r=t.userPreferences.session.get(a)||0;return this.sessionDisabledId=a+"-disabled",r>=this.props.quickTipSession.maxNum||n.get(this.sessionDisabledId)?null:window.setTimeout(function(){var s=function(e){var t=e.cursor.get();return{height:0,width:0,top:t.y||0,left:t.x||0}}(t),l=e.createElement(i.popoverTemplates.quickTip,o.assign(this.props.templateInfo,{closeAction:this.closeQuickTip}));this.quickTipShowTimeoutId=null,this.isQuickTipShown=!0,n.set(a,r+1),t.showFloatingBubble(l,s,this.props.propsForBubble,this.props.shouldNotHideOnMouseLeaveTarget)}.bind(this),this.props.delayBeforeShow)},closeQuickTip:function(){this.getEditorAPI().hideFloatingBubble(),this.getEditorAPI().overlay.enableUpdate(),this.isQuickTipShown=!1},componentWillUnmount:function(){this.isQuickTipShown&&(this.props.delayBeforeNext&&function(e,t,o){e.userPreferences.session.set(t,!0),window.setTimeout(function(){e.userPreferences.session.set(t,!1)},o)}(this.getEditorAPI(),this.sessionDisabledId,this.props.delayBeforeNext),this.closeQuickTip()),this.quickTipShowTimeoutId&&window.clearTimeout(this.quickTipShowTimeoutId)},render:function(){return this.props.children}})}),define("rEditor/componentsMetaData/components/popupOverlay",["lodash","react","constants","rEditor/rootComps/overlay/overlayWithHole","rEditor/rootComps/overlay/overlayWithQuickTip"],function(e,t,o,n,i){"use strict";return{pinnable:!1,shouldBeOverlayed:function(e,t){return!e.isMobileEditor()&&e.documentServices.pages.popupPages.isPopup(t.id)},getOverlay:function(a,r){var s=t.createElement(n,{hole:a.pages.popupPages.getPopupContainer(),background:"rgba(127, 204, 247, 0.4)"});return t.createElement(i,e.assign({hoveredComp:r},function(e){return{delayBeforeShow:500,delayBeforeNext:1500,quickTipSession:{id:"popupOverlayQuickTipShownFor-",maxNum:4},shouldNotHideOnMouseLeaveTarget:!1,templateInfo:{text:"POPUPS_OVERLAY_HOVER_TOOLTIP",symbol:"idea-bulb"},propsForBubble:{noArrow:!0,shake:!1,behindPopUps:!0,alignment:o.UI.TOOLTIP.ALIGNMENT.RIGHT,closeTriggers:[o.UI.TOOLTIP.TRIGGERS.CLICK],onMouseLeave:e.overlay.enableUpdate,onMouseEnter:e.overlay.disableUpdate}}}(a)),s)},getOverlayProperties:function(){return{enter:{duration:300,delay:500},leave:{duration:300}}}}}),define("rEditor/componentsMetaData/components/page",["lodash","rEditor/componentsMetaData/components/popupOverlay"],function(e,t){"use strict";return e.assign({},{pinnable:!1},t)}),define("rEditor/componentsMetaData/components/boxSlideShow",["constants","boxSlideshow","gfppData"],function(e,t,o){"use strict";function n(e,t){if(o.utils.isPanelOpen(e,a)){var n={selectedComponent:[i.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(a,n)}}var i=t.utils.boxSlideShowUtils,a="compPanels.panels.BoxSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:i.getCurrentSlideIndex(e,t)+1,total_slides:i.getTotalSlidesLength(e,t)},onNext:i.moveNextSlide.bind(null,e,t,n),onPrev:i.movePrevSlide.bind(null,e,t,n),onLabelClick:function(e,t){e.selection.selectComponentByCompRef(t)}.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/stripSlideShowMetaData",["constants","boxSlideshow","gfppData"],function(e,t,o){"use strict";function n(e,t){if(o.utils.isPanelOpen(e,a)){var n={selectedComponent:[i.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(a,n)}}var i=t.utils.boxSlideShowUtils,a="compPanels.panels.StripContainerSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,pinnable:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:i.getCurrentSlideIndex(e,t)+1,total_slides:i.getTotalSlidesLength(e,t)},onNext:i.moveNextSlide.bind(null,e,t,n),onPrev:i.movePrevSlide.bind(null,e,t,n),onLabelClick:function(e,t){e.selection.selectComponentByCompRef(t)}.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/boxSlideShowSlide",[],function(){"use strict";return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/stripSlideShowSlide",[],function(){"use strict";return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/anchor",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/collage",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/wRichText",["experiment"],function(e){"use strict";return{pinnable:e.isOpen("se_textPinToScreen"),verticallyResizable:function(e){return!e.isMobileEditor()},disabledKnobs:function(e){return e.isMobileEditor()?[e.documentServices.components.layout.RESIZE_SIDES.TOP,e.documentServices.components.layout.RESIZE_SIDES.BOTTOM]:[e.documentServices.components.layout.RESIZE_SIDES.TOP]},resizableWithAnchors:!1,resizableDiagonally:!1}}),define("rEditor/componentsMetaData/components/group",[],function(){"use strict";return{pinnable:!1,selectedBeforeDescendants:!0}}),define("rEditor/componentsMetaData/components/stripContainer",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripColumnsContainer",["lodash","baseUI"],function(e,t){"use strict";return{selectedBeforeDescendants:function(e,t,o){return e.columns.isMultiColumnsStrip(t)&&e.columns.isColumn(o)},showMarginsIndicator:function(t){var o=t.focusBox.getFocusedContainer();if(o){var n=e.head(t.selection.getSelectedComponents());if(e.isEqual(n,o))return t.isDesktopEditor()&&t.components.is.fullWidth(o)&&1===t.components.getChildren(o).length}},focusable:!0,focusBoxNavType:t.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item_component_label_stripColumnsContainer",label:"component_label_stripColumnsContainer",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}},pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaSection",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/column",["lodash","constants","util"],function(e,t,o){"use strict";function n(e,t){return e.components.getSiblings(t).length}return{showMarginsIndicator:function(t){var o=t.focusBox.getFocusedContainer();if(o){var i=e.head(t.selection.getSelectedComponents()),a=t.components.getContainer(o);return e.isEqual(i,o)?t.components.is.fullWidth(a)&&!!n(t,i):t.isDesktopEditor()&&t.components.is.fullWidth(a)}},focusable:!0,focusBoxNavType:t.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(t,i){var a=e.template(o.translate("gfpp_column_navigation_slide_number")),r=t.components.getContainer(i),s=t.components.getChildren(r),l=e.findIndex(s,function(t){return e.isEqual(t,i)});return{tabs:[{id:"item_"+l,label:n(t,i)?a({curr_column:l+1}):o.translate("component_label_stripColumnsContainer"),active:!0}],onTabClick:function(){t.selection.selectComponentByCompRef(i)},translate:!1}},selectable:n,horizontallyMovable:!1,movable:!1,canMoveUp:!1,verticallyMovable:!1,disabledKnobs:function(t){return t.isMobileEditor()?e.values(t.documentServices.components.layout.RESIZE_SIDES):e(t.documentServices.components.layout.RESIZE_SIDES).omit("BOTTOM").values().value()},controlledByParent:!0}}),define("rEditor/componentsMetaData/components/popupCloseIconButton",[],function(){"use strict";return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupCloseTextButton",[],function(){"use strict";return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupContainerMetaData",["constants"],function(e){"use strict";var t={nineGrid:function(e){return"center"===e.horizontalAlignment},fullWidth:function(){return!0},fullHeight:function(){return!1}};return{pinnable:!1,gridLinesVisible:function(e,o){var n=e.components.properties.get(o),i=t[n.alignmentType];if(i)return i(n)},focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item",label:"component_label_PopupContainer_Popupmode",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/mediaControlsContainer",["lodash"],function(e){"use strict";return{disabledKnobs:function(t){return e.values(t.documentServices.components.layout.RESIZE_SIDES)},controlledByParent:!0,selectable:function(e){return!e.isMobileEditor()}}}),define("rEditor/componentsMetaData/components/mediaOverlayControls",[],function(){"use strict";return{controlledByParent:!0}}),define("rEditor/componentsMetaData/components/mediaPlayer",[],function(){"use strict";return{allowLassoOnContainer:!1}}),define("rEditor/componentsMetaData/components/quickActionBarItem",[],function(){"use strict";return{selectable:!1}}),define("rEditor/componentsMetaData/components/quickActionBar",["lodash","experiment"],function(e,t){"use strict";return{selectable:function(o){return t.isOpen("se_qab")||function(t){return e.reject(t.mobile.qab.getActions(),"isDynamic").length>0}(o)}}}),define("rEditor/componentsMetaData/components/tinyMenu",[],function(){"use strict";return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/components/repeaterMetaData",["constants"],function(e){"use strict";return{selectedBeforeDescendants:function(e,t,o){return!e.selection.isComponentSelected(t)||e.components.is.repeaterItem(o)},container:!1,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"repeater",label:"Component_label_listsandgrids",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/siteRegionContainerMetaData",["constants"],function(e){"use strict";return{focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"siteRegion",label:"component_label_member_bar",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/metaDataMap",["rEditor/componentsMetaData/components/bgImageStrip","rEditor/componentsMetaData/components/fiveGridLine","rEditor/componentsMetaData/components/footer","rEditor/componentsMetaData/components/header","rEditor/componentsMetaData/components/screenWidthContainer","rEditor/componentsMetaData/components/stripShowcase","rEditor/componentsMetaData/components/stripSlideshowGallery","rEditor/componentsMetaData/components/blogComponents","rEditor/componentsMetaData/components/rssButton","rEditor/componentsMetaData/components/tpaGluedWidget","rEditor/componentsMetaData/components/page","rEditor/componentsMetaData/components/boxSlideShow","rEditor/componentsMetaData/components/stripSlideShowMetaData","rEditor/componentsMetaData/components/boxSlideShowSlide","rEditor/componentsMetaData/components/stripSlideShowSlide","rEditor/componentsMetaData/components/anchor","rEditor/componentsMetaData/components/collage","rEditor/componentsMetaData/components/wRichText","rEditor/componentsMetaData/components/group","rEditor/componentsMetaData/components/stripContainer","rEditor/componentsMetaData/components/stripColumnsContainer","rEditor/componentsMetaData/components/tpaSection","rEditor/componentsMetaData/components/column","rEditor/componentsMetaData/components/popupCloseIconButton","rEditor/componentsMetaData/components/popupCloseTextButton","rEditor/componentsMetaData/components/popupContainerMetaData","rEditor/componentsMetaData/components/mediaControlsContainer","rEditor/componentsMetaData/components/mediaOverlayControls","rEditor/componentsMetaData/components/mediaPlayer","rEditor/componentsMetaData/components/quickActionBarItem","rEditor/componentsMetaData/components/quickActionBar","rEditor/componentsMetaData/components/tinyMenu","rEditor/componentsMetaData/components/repeaterMetaData","rEditor/componentsMetaData/components/siteRegionContainerMetaData"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h,f,b,y,v,P,E,S,T,C,I,_,O,M,A,w,R,D,k){"use strict";return{"wysiwyg.viewer.components.BgImageStrip":e,"wysiwyg.viewer.components.FiveGridLine":t,"wysiwyg.viewer.components.FooterContainer":o,"wysiwyg.viewer.components.HeaderContainer":n,"wysiwyg.viewer.components.ScreenWidthContainer":i,"tpa.viewer.components.StripSlideshow":r,"tpa.viewer.components.StripShowcase":a,"wixapps.integration.components.AppPart":s,"wysiwyg.common.components.rssbutton.viewer.RSSButton":l,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":c,"mobile.core.components.Page":p,"wysiwyg.viewer.components.BoxSlideShow":d,"wysiwyg.viewer.components.StripContainerSlideShow":u,"wysiwyg.viewer.components.BoxSlideShowSlide":m,"wysiwyg.viewer.components.StripContainerSlideShowSlide":g,"wysiwyg.common.components.anchor.viewer.Anchor":h,"tpa.viewer.components.Collage":f,"wysiwyg.viewer.components.WRichText":b,"wysiwyg.viewer.components.Group":y,"wysiwyg.viewer.components.StripContainer":v,"wysiwyg.viewer.components.StripColumnsContainer":P,"wysiwyg.viewer.components.tpapps.TPASection":E,"wysiwyg.viewer.components.Column":S,"wysiwyg.viewer.components.PopupCloseIconButton":T,"wysiwyg.viewer.components.PopupCloseTextButton":C,"wysiwyg.viewer.components.PopupContainer":I,"wysiwyg.viewer.components.MediaControls":_,"wysiwyg.viewer.components.MediaOverlayControls":O,"wysiwyg.viewer.components.MediaPlayer":M,"wysiwyg.viewer.components.QuickActionBarItem":A,"wysiwyg.viewer.components.QuickActionBar":w,"wysiwyg.viewer.components.mobile.TinyMenu":R,"wysiwyg.viewer.components.Repeater":D,"wysiwyg.viewer.components.SiteRegionContainer":k}}),define("rEditor/app/APISections/singleCompHandlers/componentsMetaData",["lodash","experiment","stateManagement","rEditor/componentsMetaData/metaDataMap"],function(e,t,o,n){"use strict";function i(t,o){return!n[t]||e.isUndefined(n[t][o])?l[o]:n[t][o]}function a(t,o,n){var a=i(r.getCompType(n,t.documentServices),o);if("function"==typeof a){var s=e.toArray(arguments);return s.splice(1,1),a.apply(this,s)}return a}var r=o.components.selectors,s=o.componentMetaData,l={pinnable:!0,showLegacyFixedPosition:!1,duplicatable:!0,controlledByParent:!1,containable:!0,canContain:!0,containableByStructure:!0,canContainByStructure:!0,focusable:!1,movable:!0,verticallyMovable:!0,canMoveUp:!0,resizable:!0,verticallyResizable:!0,horizontallyResizable:!0,rotatable:!0,selectable:!0,slidesContainer:!1,slideContainer:!1,showMarginsIndicator:!1,selectedBeforeDescendants:!1,disabledKnobs:[],resizeOnlyProportionally:!1,resizableWithAnchors:!0,resizableDiagonally:!0,shouldBeOverlayed:!1,allowLassoOnContainer:!0},c={getRestrictions:function(t,o){var n=this;return e.reduce(o,function(e,o){return e[o]=c.is[o].call(n,t),e},{})},is:{controlledByParent:function(e){return a(this,"controlledByParent",e)||this.components.is.repeaterItem(e)},fixed:function(e){return this.documentServices.components.layout.get(e).fixedPosition},exist:function(e){return this.documentServices.components.is.exist(e)},container:function(e){return a(this,"container",e)&&this.documentServices.components.is.container(e)},selectable:function(e){return a(this,"selectable",e)},siteSegment:function(t){var o=this.siteSegments.getRefs();return e.find(o,t)},removable:function(e){return this.documentServices.components.is.removable(e)},anchorableFrom:function(e){return this.documentServices.components.is.anchorableFrom(e)},anchorableTo:function(e){return this.documentServices.components.is.anchorableTo(e)},duplicatable:function(e,t){return a(this,"duplicatable",e,t)&&this.documentServices.components.is.duplicatable(e,t)},containable:function(e,t){return a(this,"containable",e,t)&&a(this,"canContain",t,e)&&this.documentServices.components.is.containable(e,t)},containableByStructure:function(t,o){var n=i(t.componentType,"containableByStructure");return(e.isFunction(n)?n(t,o):n)&&a(this,"canContainByStructure",o,t)&&this.documentServices.components.is.containableByStructure(t,o)},styleCanBeApplied:function(e,t){return this.documentServices.components.is.styleCanBeApplied(e,t)},movable:function(e){return a(this,"movable",e)&&this.documentServices.components.is.movable(e)},verticallyMovable:function(e){return t.isOpen("layoutTractor")?a(this,"verticallyMovable",e)&&this.documentServices.components.is.verticallyMovable(e)&&!this.components.layout.isPinned(e)&&!this.components.layout.isVerticallyStretched(e):a(this,"verticallyMovable",e)&&this.documentServices.components.is.verticallyMovable(e)&&!this.components.layout.isPinned(e)},canMoveUp:function(e){return a(this,"canMoveUp",e)&&this.documentServices.components.is.canMoveUp(e)},focusable:function(e){return a(this,"focusable",e)||s.isPlatformShowFocusBox(e,this.documentServices)},fullWidth:function(e){return this.documentServices.components.is.fullWidth(e)},rotatable:function(e){return a(this,"rotatable",e)&&this.documentServices.components.is.rotatable(e)},slidesContainer:function(e){return a(this,"slidesContainer",e)},slideContainer:function(e){return a(this,"slideContainer",e)},hoverBox:function(e){return a(this,"hoverBox",e)},resizable:function(e){return a(this,"resizable",e)&&this.documentServices.components.is.resizable(e)},horizontallyResizable:function(e){return!this.components.layout.isHorizontallyStretchedToScreen(e)&&a(this,"horizontallyResizable",e)&&(this.documentServices.components.is.horizontallyResizable(e)||this.components.is.group(e))},verticallyResizable:function(e){return a(this,"verticallyResizable",e)&&(this.documentServices.components.is.verticallyResizable(e)||this.components.is.group(e))},proportionallyResizable:function(e){return!this.components.is.fullWidth(e)&&!this.components.layout.isPinned(e)&&!this.components.is.controlledByParent(e)&&this.components.is.horizontallyResizable(e)&&this.components.is.verticallyResizable(e)},repeaterItem:function(e){return!!e&&r.isRepeaterItem(e,this.documentServices)},descendantOfRepeaterItem:function(e){return this.components.is.repeatedComponent(e)},resizeOnlyProportionally:function(e){return this.documentServices.components.is.resizeOnlyProportionally(e)},group:function(e){return this.documentServices.components.is.group(e)},groupable:function(e){return this.documentServices.components.is.groupable(e)&&!a(this,"controlledByParent",e)},topMost:function(e,t){return this.documentServices.components.is.topMost(e,t)},leftMost:function(e,t){return this.documentServices.components.is.leftMost(e,t)},groupedComponent:function(e){return this.documentServices.components.is.groupedComponent(e)},animatable:function(e,t){return this.documentServices.components.is.animatable(e,t)},pinnable:function(e){return a(this,"pinnable",e)&&this.components.layout.canBeFixedPosition(e)&&!this.components.is.fullWidth(e)&&!this.components.layout.isHorizontallyStretchedToScreen(e)&&!this.components.is.controlledByParent(e)&&!this.components.is.descendantOfRepeaterItem(e)&&!this.components.isShowOnSomePages(this.components.getContainer(e))},showLegacyFixedPosition:function(e){return a(this,"showLegacyFixedPosition",e)},alignable:function(e){return this.documentServices.components.is.alignable(e)&&this.components.is.movable(e)},draggable:function(e){return this.components.is.movable(e)&&!this.components.layout.isPinned(e)&&!this.components.is.page(e)},allowLassoOnContainer:function(e){return a(this,"allowLassoOnContainer",e)},showMarginsIndicator:function(e){return a(this,"showMarginsIndicator",e)},focusBoxNavType:function(e){return s.isPlatformShowFocusBox(e,this.documentServices)?s.getPlatformFocusBoxNavType():a(this,"focusBoxNavType",e)},focusBoxNavContent:function(e){if(s.isPlatformShowFocusBox(e,this.documentServices)){var t=this.components.getDisplayName(e);return s.getPlatformFocusBoxNavContent(e,this.documentServices,t)}return a(this,"focusBoxNavContent",e)},selectedBeforeDescendants:function(e,t){return a(this,"selectedBeforeDescendants",e,t)},disabledKnobs:function(e){return a(this,"disabledKnobs",e)},shouldBeOverlayed:function(e){return a(this,"shouldBeOverlayed",e)},getOverlay:function(e,t){return a(this,"getOverlay",e,t)},getOverlayProperties:function(e){return a(this,"getOverlayProperties",e)},gridLinesVisible:function(e){return a(this,"gridLinesVisible",e)},resizableWithAnchors:function(e){return a(this,"resizableWithAnchors",e)},resizableDiagonally:function(e){return a(this,"resizableDiagonally",e)}}};return c}),define("rEditor/app/APISections/componentsFacade/componentsMetaDataFacade",["lodash","rEditor/utils/multiSelectHandler","rEditor/app/APISections/singleCompHandlers/componentsMetaData"],function(e,t,o){"use strict";return{create:function(n){return{controlledByParent:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.controlledByParent,singleCompHandler:o.is.controlledByParent})},fixed:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.fixed,singleCompHandler:o.is.fixed})},exist:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.exist,singleCompHandler:o.is.exist})},container:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.container,singleCompHandler:o.is.container})},selectable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.selectable,singleCompHandler:o.is.selectable})},siteSegment:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.siteSegment,singleCompHandler:o.is.siteSegment})},siblings:function(t){if(e.includes(t,void 0))return!1;var o=t.pop(),i=n.components.getSiblings(o);return e.every(t,function(t){return e.find(i,t)})},removable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.removable,singleCompHandler:o.is.removable})},duplicatable:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.duplicatable,singleCompHandler:o.is.duplicatable})},showMarginsIndicator:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.showMarginsIndicator,singleCompHandler:o.is.showMarginsIndicator})},showLegacyFixedPosition:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.showLegacyFixedPosition,singleCompHandler:o.is.showLegacyFixedPosition})},containable:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.containable,singleCompHandler:o.is.containable})},containableByStructure:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.containableByStructure,singleCompHandler:o.is.containableByStructure})},styleCanBeApplied:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.styleCanBeApplied,singleCompHandler:o.is.styleCanBeApplied})},movable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.movable,singleCompHandler:o.is.movable})},verticallyMovable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.verticallyMovable,singleCompHandler:o.is.verticallyMovable})},canMoveUp:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.canMoveUp,singleCompHandler:o.is.canMoveUp})},fullWidth:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.fullWidth,singleCompHandler:o.is.fullWidth})},resizable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.resizable,singleCompHandler:o.is.resizable})},horizontallyResizable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.horizontallyResizable,singleCompHandler:o.is.horizontallyResizable})},verticallyResizable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.verticallyResizable,singleCompHandler:o.is.verticallyResizable})},proportionallyResizable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.proportionallyResizable,singleCompHandler:o.is.proportionallyResizable})},repeaterItem:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.repeaterItem,singleCompHandler:o.is.repeaterItem})},descendantOfRepeaterItem:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.descendantOfRepeaterItem,singleCompHandler:o.is.descendantOfRepeaterItem})},resizeOnlyProportionally:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.resizeOnlyProportionally,singleCompHandler:o.is.resizeOnlyProportionally})},group:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.group,singleCompHandler:o.is.group})},groupable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.groupable,singleCompHandler:o.is.groupable})},page:function(e){var t=n.components.asArray(e);return n.pages.isPageExist(t[0].id)},topMost:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.topMost,singleCompHandler:o.is.topMost})},leftMost:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.leftMost,singleCompHandler:o.is.leftMost})},groupedComponent:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.groupedComponent,singleCompHandler:o.is.groupedComponent})},rotatable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.rotatable,singleCompHandler:o.is.rotatable})},animatable:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.animatable,singleCompHandler:o.is.animatable})},pinnable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.pinnable,singleCompHandler:o.is.pinnable})},focusable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.focusable,singleCompHandler:o.is.focusable})},slidesContainer:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.slidesContainer,singleCompHandler:o.is.slidesContainer})},slideContainer:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.slideContainer,singleCompHandler:o.is.slideContainer})},hoverBox:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.hoverBox,singleCompHandler:o.is.hoverBox})},alignable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.alignable,singleCompHandler:o.is.alignable})},draggable:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.draggable,singleCompHandler:o.is.draggable})},allowLassoOnContainer:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.allowLassoOnContainer,singleCompHandler:o.is.allowLassoOnContainer})},anchorableFrom:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.anchorableFrom,singleCompHandler:o.is.anchorableFrom})},anchorableTo:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.anchorableTo,singleCompHandler:o.is.anchorableTo})},focusBoxNavType:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.focusBoxNavType,singleCompHandler:o.is.focusBoxNavType})},focusBoxNavContent:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.focusBoxNavContent,singleCompHandler:o.is.focusBoxNavContent})},potentialContainerForScreenWidthComp:function(e){var t=n.components.asArray(e);return 1===t.length&&n.documentServices.components.is.potentialContainerForScreenWidthComp(t[0])},selectedBeforeDescendants:function(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.selectedBeforeDescendants,singleCompHandler:o.is.selectedBeforeDescendants})},disabledKnobs:function(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.disabledKnobs,singleCompHandler:o.is.disabledKnobs})},shouldBeOverlayed:function(e){return o.is.shouldBeOverlayed.call(n,e)},getOverlay:function(e){return o.is.getOverlay.call(n,e)},getOverlayProperties:function(e){return o.is.getOverlayProperties.call(n,e)},gridLinesVisible:function(e){return o.is.gridLinesVisible.call(n,e)},resizableWithAnchors:function(e){return o.is.resizableWithAnchors.call(n,e)},resizableDiagonally:function(e){return o.is.resizableDiagonally.call(n,e)}}}}}),define("rEditor/app/serializedComponentPlugins",["lodash"],function(e){"use strict";function t(o,n,i){var a=function(e,t){return[].concat(e[t]||[],e["*"]||[])}(i[o],n.componentType);return"Container"===(n=e.reduce(a,function(e,t){return t(i,e)},n)).type&&(n.components=e.map(n.components,function(e){return t(o,e,i)})),n}return{runCopyPluginOnSerializedComponent:function(e,t,o){var n=e.componentType;return o.copyComponentPlugins[n]&&(e=o.copyComponentPlugins[n](t,e)),e},runPastePluginOnSerializedComponent:t.bind(null,"pasteComponentPlugins"),runSerializeComponentPlugin:t.bind(null,"serializeComponentPlugins")}}),define("rEditor/app/APISections/galleriesData/galleriesData",[],function(){"use strict";return{map:{"tpa.viewer.components.Masonry":{"wysiwyg.viewer.skins.TPAMasonrySkin":"add_preset_Galleries_Grid_Galleries_1"},"wysiwyg.viewer.components.MatrixGallery":[{"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin":"add_preset_Galleries_Grid_Galleries_4"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin":"add_preset_Galleries_Grid_Galleries_6"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow":"add_preset_Galleries_Grid_Galleries_20"},{"skins.viewer.gallerymatrix.MatrixGalleryIronSkin":"add_preset_Galleries_Grid_Galleries_21"},{"skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin":"add_preset_Galleries_Grid_Galleries_22"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin":"add_preset_Galleries_Grid_Galleries_10"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin":"add_preset_Galleries_Grid_Galleries_12"}],"tpa.viewer.components.StripSlideshow":{"wysiwyg.viewer.skins.TPAStripSlideshowSkin":"add_preset_Galleries_Full_Width_Galleries_1"},"wysiwyg.viewer.components.PaginatedGridGallery":[{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridArrowsOutside":"add_preset_Galleries_Grid_Galleries_7"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridTextBottom":"add_preset_Galleries_Grid_Galleries_8"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin":"add_preset_Galleries_Grid_Galleries_15"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridRibbonArrows":"add_preset_Galleries_Grid_Galleries_16"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridOverlay":"add_preset_Galleries_Grid_Galleries_19"}],"tpa.viewer.components.StripShowcase":{"wysiwyg.viewer.skins.TPAStripShowcaseSkin":"add_preset_Galleries_Full_Width_Galleries_2"},"wysiwyg.viewer.components.SlideShowGallery":[{"skins.viewer.gallery.SlideShowCleanAndSimple":"add_preset_Galleries_Slider_Galleries_2"},{"wysiwyg.viewer.skins.gallery.SlideShowTextBottom":"add_preset_Galleries_Slider_Galleries_4"},{"wysiwyg.viewer.skins.gallery.SlideShowTextRight":"add_preset_Galleries_Slider_Galleries_5"},{"wysiwyg.viewer.skins.gallery.SlideShowPolaroid":"add_preset_Galleries_Slider_Galleries_8"},{"wysiwyg.viewer.skins.gallery.SlideShowTextOverlay":"add_preset_Galleries_Slider_Galleries_13"},{"wysiwyg.viewer.skins.gallery.SlideShowGalleryLiftedShadowSkin":"add_preset_Galleries_Slider_Galleries_14"},{"skins.viewer.gallery.SlideShowIron":"add_preset_Galleries_Slider_Galleries_17"}],"tpa.viewer.components.Accordion":{"wysiwyg.viewer.skins.TPAAccordionSkin":"add_preset_Galleries_Slider_Galleries_7"},"tpa.viewer.components.Impress":{"wysiwyg.viewer.skins.TPAImpressSkin":"add_preset_Galleries_Slider_Galleries_9"},"wysiwyg.viewer.components.SliderGallery":[{"wysiwyg.viewer.skins.galleryslider.SliderGalleryDefaultSkin":"add_preset_Galleries_Slider_Galleries_10"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryCircleSkin":"add_preset_Galleries_Slider_Galleries_6"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin":"add_preset_Galleries_Slider_Galleries_15"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin":"add_preset_Galleries_Slider_Galleries_16"}],"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{"wysiwyg.viewer.skins.TPA3DCarouselSkin":"add_preset_Galleries_3D_Galleries_1"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{"wysiwyg.viewer.skins.TPA3DGallerySkin":"add_preset_Galleries_3D_Galleries_2"},"tpa.viewer.components.Freestyle":{"wysiwyg.viewer.skins.TPAFreestyleSkin":"add_preset_Galleries_3D_Galleries_3"}}}}),define("rEditor/app/APISections/componentsWrapper",["lodash","core","util","coreUtilsLib","rEditor/utils/removeUtil","rEditor/utils/multiSelectHandler","rEditor/app/APISections/componentsFacade/layoutWrapper","rEditor/app/APISections/componentsFacade/arrangementFacade","rEditor/app/APISections/componentsFacade/behaviorsFacade","rEditor/app/APISections/componentsFacade/componentsMetaDataFacade","rEditor/app/APISections/singleCompHandlers/componentsMetaData","rEditor/app/serializedComponentPlugins","rEditor/app/APISections/galleriesData/galleriesData","stateManagement","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g){"use strict";function h(h){function f(t){return e.compact(e.isArray(t)?t:[t])}function b(t,o){return e.every(o,function(o,n){return e.isEqual(t[n],o)})}function y(o,n,i){var a=h.documentServices.components.properties,r=a.get(o),s=!r||!b(r,n),l=a.mobile.isForked(o);s&&(n.type=e.get(n,"type")||e.get(r,"type"),n=t.utils.updatePropertiesUtil.fixProperties(n,o,h.documentServices,h.isMobileEditor()),h.isMobileEditor()&&r&&!l&&a.mobile.fork(o),a.update(o,n),i||h.history.debouncedAdd("comp properties changed"),h.pluginService.getPlugin("propertiesChange","*")(o,n))}function v(e,o,n){o.type=o.type||h.components.data.get(e).type,o=t.utils.updateDataUtil.fixData(o);var i=h.components.data.get(e);(!i||!b(i,o))&&(h.documentServices.components.data.update(e,o),n||h.history.debouncedAdd("comp data changed"))}function P(e,o,n,i){o.type=o.type||h.components.design.get(e).type,o=t.utils.updateDataUtil.fixData(o);var a=h.components.design.get(e);(!a||!b(a,o))&&(h.documentServices.components.design.update(e,o,n),i||h.history.debouncedAdd("comp design changed"),h.pluginService.getPlugin("designDataChange","*")(h,e,o,n))}function E(t,o,n){var i=h.selection.getSelectedComponents(),a=h.selection.getFocusedContainer(i);e.isEmpty(i)||h.documentServices.components.modes.isComponentDisplayedInModes(e.head(i),[o])||h.selection.selectComponentByCompRef(a),o?h.documentServices.components.modes.activateComponentMode(t,o):n&&h.documentServices.components.modes.deactivateComponentMode(t,n)}function S(e){return a.call(h,e,{multiCompHandler:h.multiselect.componentModes.addDefaultSingleModeAnimations,singleCompHandler:x})}function T(t){return e.filter(t,h.documentServices.components.is.visible)}function C(t){return!e.isEmpty(h.components.modes.getModes(t))}function I(t,o){var n=e.noop,a=h.selection.getFocusedContainer(),r=h.components.asArray(t);if(g.isOpen("us_groupRightClick")&&function(t){return e.find(t,function(e){var t=h.components.getType(e);return"wysiwyg.viewer.components.tpapps.TPASection"===t||"wysiwyg.viewer.components.tpapps.TPAMultiSection"===t})}(r)){var s=h.documentServices.pages.getFocusedPageId();h.documentServices.waitForChangesApplied(h.pages.remove(s,e.noop()))}else if(h.components.is.removable(r)){var l=h.selection.getSelectedComponents();if(a&&!e.find(r,a))h.selection.selectComponentByCompRef(a);else if(!o||!o.isReplacingComp){var c=r.concat(function(t,o){return e.filter(o,function(o){return e.some(t,function(e){return A(o,e)})})}(r,l));h.selection.deselectComponents(c)}S(t);var p=h.components.getContainer(t);if(h.components.is.controlledByParent(t)){n=e.isEqual(p,l&&l[0])?e.noop:function(){h.components.is.exist(p)?(h.panelManager.closeAllPanels(),h.selection.selectComponentByCompRef(p)):h.selection.deselectComponents()}}i.removeComponent(h.documentServices,h.removePlugins,r,h,n,o),C(p)&&h.documentServices.waitForChangesApplied(function(){h.tabIndicationState.activateDeleteAnimation()})}else e.forEach(r,function(e){var t=h.components.getType(e);h.cannotRemovePlugins[t]&&h.cannotRemovePlugins[t](e)})}function _(o,n){var i=h.components.isShowOnAllPages(o),r=f(o),s=e.map(r,h.components.getPage),l=e.map(r,h.components.modes.getFirstAncestorWithActiveModes),c=e.isArray(o)?function(t,o){var n=h.components.isShowOnAllPages(t),i=h.components.isShowOnAllPages(o),a=!n&&i;return e.reduce(t,function(e,t){return"platform.components.AppController"===h.documentServices.components.getType(t)?a?e.unshift(t):e.push(t):a?e.push(t):e.unshift(t),e},[])}(o,n):o,p=h.components.getContainer(r);h.editorEventRegistry.dispatch(h.editorEventRegistry.constants.events.SET_CONTAINER_BEFORE,h,c,n);var d=a.call(h,c,n,{multiCompHandler:h.multiselect.setContainer,singleCompHandler:h.documentServices.components.setContainer}),u=f(d),m=function(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,root:t}})}(u,s),g=function(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,ancestor:t}})}(u,l);return!i&&h.utils.isSameRef(n,h.documentServices.siteSegments.getHeader())&&h.panelHelpers.openDragToHeaderPanel(),h.documentServices.waitForChangesApplied(function(){h.pluginService.getPlugin("setContainer","*")(n,m,g,h.components,h.behaviors),h.selection.selectComponentByCompRef(d);var o=h.selection.getParentToFocus([d]);h.updateState({focusedContainer:o}),h.utils.isSameRef(o,n)&&C(n)&&h.tabIndicationState.activateAddAnimation(!0),function(o,n,i){var a=h.components.getType(i),r=h.components.is.repeatedComponent(i),s=h.components.getType(n),l=h.components.is.repeatedComponent(n);e.forEach(o,function(e){var o=h.components.getType(e);h.bi.event(t.bi.events.stage.ATTACH_TO,{origin:"stage",component_type:o,source_component:a,target_component:s,is_target_repeated:l,is_source_repeated:r})})}(u,n,p),S(u)}),d}function O(e){return a.call(h,e,{multiCompHandler:h.multiselect.skin.get,singleCompHandler:h.documentServices.components.skin.get})}function M(t){var n=h.documentServices.components.getType(t),i=O(t);if(e.has(u.map,n)){if(e.some(u.map[n],i))return o.translate(e.find(u.map[n],i)[i]);if(e.has(u.map[n],i))return o.translate(u.map[n][i])}return function(t){var o=h.documentServices.platform.controllers.connections.get(t);if(e.isArray(o))return e(o).map(function(t){var o=t.controllerRef,n=t.role,i=h.documentServices.platform.controllers.getStageData(o);return e.get(i,["connections",n,"displayName"])}).find()}(t)||(h.compNamePlugins[n]?h.compNamePlugins[n](t):o.translate("component_label_"+n.split(".").pop()))}function A(e,t){return a.call(h,e,t,{multiCompHandler:h.multiselect.isDescendantOfComp,singleCompHandler:h.documentServices.components.isDescendantOfComp})}function w(e,t){return h.documentServices.components.alignment.canAlign(e,t)}function R(e,t){return h.documentServices.components.multiComponents.canDistribute(e,t)}function D(e,t){return h.documentServices.components.multiComponents.canMatchSize(e,t)}function k(t){return t&&function(t){t=h.components.asArray(t);var o=h.documentServices.siteSegments.getSiteStructure(),n=h.components.is.containable(t,o)&&!e.some(t,h.components.is.controlledByParent),i=e.some(t,h.documentServices.components.is.groupedComponent),a=h.components.is.descendantOfRepeaterItem(t);return!h.isCurrentPageLandingPage()&&n&&!i&&!h.documentServices.pages.popupPages.isPopupOpened()&&!a&&!e.some(t,h.components.isShowOnSomePages)}(t)&&function(e){var t=h.documentServices.pages.getFocusedPage();return h.components.is.containable(e,t)&&!h.components.isDescendantOfComp(e,h.documentServices.siteSegments.getFooter())}(t)}function N(t){return!(!t||!h.components.isShowOnAllPages(t))&&(h.components.isDescendantOfFrozen(t,h.documentServices.siteSegments.getHeader())||h.components.isDescendantOfFrozen(t,h.documentServices.siteSegments.getFooter())||function(t){if("masterPage"!==h.components.getPage(t).id)return!1;var o=h.documentServices.siteSegments.getSiteStructure(),n=h.utils.findAncestorMatchesCondition(t,function(e){return h.utils.isSameRef(o,h.components.getContainer(e))}),i=h.documentServices.siteSegments.getPagesContainer(),a=h.components.getChildren(o);return e.findIndex(a,function(e){return h.utils.isSameRef(e,n)})>e.findIndex(a,function(e){return h.utils.isSameRef(e,i)})}(t))}function B(t){if(!e.isEmpty(t)){var o=function(e){return a.call(h,e,{multiCompHandler:h.multiselect.componentModes.applyCurrentToAllModes,singleCompHandler:h.documentServices.components.modes.applyCurrentToAllModes})}(t);return h.documentServices.waitForChangesApplied(function(){h.tabIndicationState.activateApplyAnimation(!1)}),h.history.add("comp applyCurrentToAllModes"),o}}function x(t){var o=h.documentServices.components.modes.getFirstAncestorWithActiveModes(t);if(o&&function(t){var o=h.documentServices.components.modes.getModes(t),n=h.documentServices.components.modes.getComponentActiveModeIds(t),i=e.filter(o,function(t){return e.has(n,t.modeId)});return e.every(i,function(t){return e.get(H,t.type,!1)})}(o)){var n={defaultInAnimtaion:{action:"modeIn",name:"FadeIn",delay:0,duration:.35},defaultOutAnimtaion:{action:"modeOut",name:"FadeOut",delay:0,duration:.35}};h.components.is.animatable(t,n.defaultInAnimtaion.action)&&(h.documentServices.components.behaviors.update(t,n.defaultInAnimtaion),h.documentServices.components.behaviors.update(t,n.defaultOutAnimtaion))}}var L="wysiwyg.viewer.components.BoxSlideShow",F="wysiwyg.viewer.components.StripContainerSlideShow",H={DEFAULT:!0,HOVER:!0};return{getAllComponents:function(e,t){return T(h.documentServices.components.getAllComponents(e,t))},getAncestorRepeaterItem:function(t){if(!h.components.is.repeatedComponent(e.isArray(t)?e.head(t):t))return null;var o=h.documentServices.components.getAncestors(e.isArray(t)?e.head(t):t);return e.find(o,function(e){return h.components.is.repeaterItem(e)})},get:{byXYRelativeToStructure:function(e,t,o,n){return T(h.documentServices.components.get.byXYRelativeToStructure(e,t,o,n))},byXYRelativeToScreen:function(e,t,o,n){return T(h.documentServices.components.get.byXYRelativeToScreen(e,t,o,n))},byType:function(e,t){return T(h.documentServices.components.get.byType(e,t))}},canBeMasterChild:function(e,t){var o={multiCompHandler:h.multiselect.canBeMasterChild,singleCompHandler:h.documentServices.layouters.canBeMasterChild};return t?a.call(h,e,t,o):a.call(h,e,L,o)||a.call(h,e,F,o)},onPreviewReady:function(){var o=t.utils.componentPreviewReadyPlugins;e.forEach(o,function(e){e(h)})},getPage:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.getPage,singleCompHandler:h.documentServices.components.getPage})},asArray:f,reset:function(){h.clipboard.setItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,void 0)},isShowOnAllPages:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.isShowOnAllPages,singleCompHandler:h.documentServices.components.isShowOnAllPages})},isShowOnSomePages:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.isShowOnSomePages,singleCompHandler:h.documentServices.components.isShowOnSomePages})},serialize:function(e,t,o,n,i,a){var r=h.documentServices.components.serialize(e,t,o,n,i,a);if(r)return d.runSerializeComponentPlugin(r,h)},cut:function(t){var o=h.selection.getSelectedComponents();o=h.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(o),t=h.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t),e.isEqual(o,t)&&h.selection.deselectComponents(),h.isMobileEditor()?h.openCantCopyPastePanel():h.components.is.duplicatable(t)&&(h.copyPaste.copy(t,!0),e.forEach(t,function(e){i.cutComponent(h.documentServices,e,h.cutComponentPlugins)}))},add:function(o,n,i,a,r,s){s=s||{},h.mouseActions.turnOffMouseEvents();var l=t.utils.addUtil.addComponent(h,h.documentServices.components.add,o,n,i,a,r);if(h.utils.isSameRef(o,h.documentServices.siteSegments.getHeader())&&!1!==s.showAddToHeaderPanel&&h.panelHelpers.openDragToHeaderPanel(),g.isOpen("dontCloseAddPanelOnAdd")||h.panelManager.closePanelByName("addPanelInfra.addPanel"),C(o)&&l.id){var c=h.components.modes.getComponentActiveModeIds(o);h.components.modes.showComponentOnlyInModesCombination(l,e.keys(c)),h.tabIndicationState.activateAddAnimation(!0),S(l)}return l},addAndAdjustLayout:function(e,o,n,i){return t.utils.addUtil.addComponent(h,h.documentServices.components.addAndAdjustLayout,e,o,n,i)},remove:I,setContainer:_,reparentComponentToPage:function(e,t){return a.call(h,e,t,{multiCompHandler:h.multiselect.reparentComponentToPage,singleCompHandler:h.documentServices.components.reparentComponentToPage})},getType:function(e){return m.components.selectors.getCompType(e,h.documentServices)},getSiblings:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.getSiblings,singleCompHandler:h.documentServices.components.getSiblings})},getChildren:function(e,t){return a.call(h,e,t,{multiCompHandler:h.multiselect.getChildren,singleCompHandler:h.documentServices.components.getChildren})},getDisplayName:M,getNickname:function(e){return h.documentServices.components.code.getNickname(e)},ungroup:function(e){var t=h.components.asArray(e);if(h.components.is.exist(t[0])){var o=h.documentServices.components.getChildren(t[0]);h.selection.selectComponentByCompRef(o),h.documentServices.components.ungroup(t[0]),h.history.add("ungroup")}},getIconInfo:function(e,t){var n=h.documentServices.components.getType(e);return h.compIconPlugins[n]?h.compIconPlugins[n](e):o.compIcon.getCompIconInfo(e,n,t,h)},getContainer:function(e){var t=h.components.asArray(e);return h.documentServices.components.getContainer(t[0])},moveToFooter:function(t){var o=e.negate(h.components.is.controlledByParent),n=o(t)?t:h.utils.findAncestorMatchesCondition(t,o),i=h.components.layout.getRelativeToStructure(n),a=h.documentServices.siteSegments.getFooter(),r=h.components.layout.get(a),s=h.components.setContainer(n,a);h.components.layout.update(s,{y:i.y-i.bounding.y+15}),r.height<i.bounding.height+15&&h.components.layout.update(a,{height:i.bounding.height+30})},isDescendantOfComp:A,isAscendantOfComp:function(t,o){return e.some(t,function(e){return h.components.isDescendantOfComp(o,e)})},getDefaultBiParams:function(e){var t=h.components.asArray(e);return{componentType:h.components.getType(e),component_id:t[0].id}},data:{update:function(e,t,o){a.call(h,e,t,o,{multiCompHandler:h.multiselect.data.update,singleCompHandler:v})},get:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.data.get,singleCompHandler:h.documentServices.components.data.get})},remove:function(e,t){a.call(h,e,{multiCompHandler:h.multiselect.data.remove,singleCompHandler:h.documentServices.components.data.remove}),t||h.history.add("comp data removed")}},design:{update:function(e,t,o,n){return h.documentServices.components.design&&a.call(h,e,t,o,n,{multiCompHandler:h.multiselect.design.update,singleCompHandler:P}),null},get:function(e,t){return h.documentServices.components.design?a.call(h,e,t,{multiCompHandler:h.multiselect.data.get,singleCompHandler:h.documentServices.components.design.get}):null},remove:function(e,t){h.documentServices.components.design&&(a.call(h,e,{multiCompHandler:h.multiselect.design.remove,singleCompHandler:h.documentServices.components.design.remove}),t||h.history.add("comp design removed"))}},properties:{update:function(e,t,o){return a.call(h,e,t,o,{multiCompHandler:h.multiselect.properties.update,singleCompHandler:y})},get:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.properties.get,singleCompHandler:h.documentServices.components.properties.get})}},alignment:{align:function(e,t){a.call(h,e,t,{multiCompHandler:h.multiselect.alignment.align,singleCompHandler:h.documentServices.components.alignment.alignInContainer}),h.history.add("component - align - "+t)},canAlign:w,canAlignAllDirections:function(o){return o&&e.every(t.constants.COMP_ALIGNMENT_OPTIONS,e.partial(w,o))}},multiComponents:{distribute:function(t,o){a.call(h,t,o,{multiCompHandler:h.multiselect.multiComponents.distribute,singleCompHandler:e.noop}),h.history.add("component - distribute - "+o)},matchSize:function(t,o){a.call(h,t,o,{multiCompHandler:h.multiselect.multiComponents.matchSize,singleCompHandler:e.noop}),h.history.add("component - matchSize - "+o)},canDistribute:R,canDistributeAllDirections:function(o){return o&&e.every(t.constants.COMP_ALIGNMENT_OPTIONS,e.partial(R,o))},canMatchSize:D,canMatchAllSizes:function(o){return o&&e.every(t.constants.COMP_MATCH_SIZE_OPTIONS,e.partial(D,o))}},layout:r.create(h),style:{getId:function(e){var t=h.components.asArray(e);if(h.multiselect.isMultiselect(t))throw"components.style.getId isn't supported for multi select";return h.documentServices.components.style.getId(t[0])},setId:function(e,t){var o=h.components.asArray(e);if(h.multiselect.isMultiselect(o))throw"components.style.setId isn't supported for multi select";return h.documentServices.components.style.setId(o[0],t)},update:function(e,t){var o=h.components.asArray(e);if(h.multiselect.isMultiselect(o))throw"components.style.update isn't supported for multi select";return h.documentServices.components.style.update(o[0],t)}},arrangement:s.create(h),getRestrictions:function(e,t){return a.call(h,e,t,{multiCompHandler:h.multiselect.getRestrictions,singleCompHandler:p.getRestrictions})},is:c.create(h),skin:{getComponentSkinExports:function(e){return a.call(h,e,{multiCompHandler:h.multiselect.skin.getComponentSkinExports,singleCompHandler:h.documentServices.components.skin.getComponentSkinExports})},get:O},behaviors:l.create(h),code:{setNickname:function(e,t){h.documentServices.components.code.setNickname(e,t),h.history.debouncedAdd("comp nick name changed")}},canToggleShowOnAllPages:k,shouldDisableShowOnAllPages:N,isDescendantOfFrozen:function(e,t){return h.components.isDescendantOfComp(e,t)&&h.components.layout.isFixedPosition(t)},setShowOnAllPages:function(e,t){var o=void 0;return e=h.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(e),o=t?h.documentServices.siteSegments.getSiteStructure():h.documentServices.pages.getReference(h.documentServices.pages.getPrimaryPageId()),h.components.setContainer(e,o)},toggleShowOnAllPages:function(e){var t=h.selection.getSelectedComponents(),o=!h.components.isShowOnAllPages(e),n=h.components.setShowOnAllPages(e,o);return t===e&&h.selection.selectComponentByCompRef(n),h.history.add(o?"Show component on all pages":"Show component on current page"),o},modes:{getModes:function(e){return h.documentServices.components.modes.getModes(e)},activateComponentMode:function(e,t){E(e,t),h.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")},deactivateComponentMode:function(e,t){E(e,null,t),h.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")},applyCurrentToAllModes:B,applyComponentToMode:function(e,t){h.documentServices.components.modes.applyComponentToMode(n.objectUtils.cloneDeep(e),t)},isCompDefaultModeActive:function(t){var o=h.documentServices.components.modes.getTypes().DEFAULT,n=e.head(h.documentServices.components.modes.getModesByType(t,o));if(n){var i=h.documentServices.components.modes.getComponentActiveModeIds(t);return e.includes(e.keys(i),n.modeId)}return!1},addDefaultSingleModeAnimations:x,getFirstAncestorOrSelfWithModeDefinitions:function(e){for(var t=e;t&&!h.components.modes.getModes(t);)t=h.components.getContainer(t);return t},getFirstAncestorWithModeDefinitions:function(e){var t=h.components.getContainer(e);return h.components.modes.getFirstAncestorOrSelfWithModeDefinitions(h.components,t)}}}}return{create:h}}),define("rEditor/app/APISections/rulersAPI",["lodash","core","util"],function(e,t,o){"use strict";function n(n){function i(){var e=p();_={stack:[e],currentIndex:0}}function a(){return _.currentIndex>0}function r(){return _.stack.length>_.currentIndex+1}function s(o){var i=o.guidesState;n.userPreferences.site.set(t.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,i),g(o),e.isEqual(_.stack[_.currentIndex],o.guidesState)||(_.stack=e.take(_.stack,_.currentIndex+1),_.stack.push(i),_.currentIndex+=1)}function l(){return n.store.getState().viewTools.rulersEnabled}function c(t,o){var i=e.cloneDeep(n.store.getState().viewTools.rulers);return i[t]=o,i}function p(){var t=void 0,o=n.store.getState();return e.get(o,"viewTools.rulers")&&(t=e.cloneDeep(o.viewTools.rulers.guidesState)),t=e.isEmpty(t)?{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}:t}function d(t){var o=p(),n=void 0;e.some(o.mobile.verticalGuides,["guideId",t])?n="mobile.verticalGuides":e.some(o.mobile.horizontalGuides,["guideId",t])?n="mobile.horizontalGuides":e.some(o.desktop.verticalGuides,["guideId",t])?n="desktop.verticalGuides":e.some(o.desktop.horizontalGuides,["guideId",t])&&(n="desktop.horizontalGuides");return{guideId:t,guidePosition:e.find(e.get(o,n),{guideId:t}).guidePosition,guidePath:n}}function u(){return d(n.store.getState().viewTools.rulers.selectedGuide)}function m(){return{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}}function g(e){n.updateEditorViewTools("rulers",e)}function h(t,o){var i=e.clone(n.store.getState().viewTools.rulers);i[t]=o,g(i)}function f(e){n.userPreferences.site.set(t.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,e),h("guidesState",e)}function b(e,t){t&&C("GUIDE_TOOLTIP_IN_EDIT_MODE",{origin:t}),e&&(n.selection.deselectComponents(),o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.RULERS)),h("selectedGuide",e)}function y(){b(null),o.keyboardShortcuts.setContext(n.getPreviewMode()?o.keyboardShortcuts.CONTEXTS.PREVIEW:o.keyboardShortcuts.CONTEXTS.EDITOR)}function v(t,i){var a=p(),r=function(e){return O++,{guideId:"GUIDE_"+Date.now().toString(36)+O.toString(36),guidePosition:e}}(i);e.get(a,t).push(r);var l=c("guidesState",a);return n.selection.deselectComponents(),l.selectedGuide=r.guideId,o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.RULERS),s(l),r.guideId}function P(t,o,i){var a=I(t,n.isMobileEditor()),r=E(a,o),l={guidePosition:i,guideId:o};e.get(r,a).push(l);s(c("guidesState",r))}function E(t,o){var n=p(),i=e.reject(e.get(n,t),{guideId:o});return e.set(n,t,i),n}function S(e){var t=d(e),i=c("guidesState",E(t.guidePath,t.guideId));i.selectedGuide=null,o.keyboardShortcuts.setContext(n.getPreviewMode()?o.keyboardShortcuts.CONTEXTS.PREVIEW:o.keyboardShortcuts.CONTEXTS.EDITOR),s(i)}function T(){S(n.store.getState().viewTools.rulers.selectedGuide)}function C(o,i){var a=t.bi.events.rulers[o],r={editor_view_mode:n.getDeviceType()};e.merge(r,i),n.bi.event(a,r)}function I(e,t){return(t?"mobile.":"desktop.")+e+"Guides"}var _={stack:[],currentIndex:0},O=0;return{getGuidesState:p,getHorizontalGuides:function(){var e=p();return n.isMobileEditor()?e.mobile.horizontalGuides:e.desktop.horizontalGuides},getVerticalGuides:function(){var e=p();return n.isMobileEditor()?e.mobile.verticalGuides:e.desktop.verticalGuides},isRulersEnabled:l,toggleRulers:function(e,o){var a=!l();n.updateEditorViewTools("rulersEnabled",a),n.userPreferences.site.set(t.constants.USER_PREFS.VIEW_TOOLS.RULERS_ENABLED,a).then(e).catch(o),i()},getGuidesInitialState:m,setVerticalGuide:function(e){return v(I("vertical",n.isMobileEditor()),e)},setHorizontalGuide:function(e){return v(I("horizontal",n.isMobileEditor()),e)},removeSelectedGuide:T,removeGuideById:S,selectGuide:b,deselectGuide:y,changeGuidePosition:P,updateEditorRulersState:h,getVerticalGuideRealPosition:function(e){var t=n.siteSegments.getPagesContainerAbsLayout();return e+Math.round(t.x)},sendBIEvent:C,undo:function(){a()&&(y(),_.currentIndex-=1,f(_.stack[_.currentIndex]))},redo:function(){r()&&(y(),_.currentIndex+=1,f(_.stack[_.currentIndex]))},canUndo:a,canRedo:r,resetRulersHistory:i,updateStateOnDragEnd:function(t){var o=e.clone(n.store.getState().viewTools.rulers);o.isDragging=!1,t||(o.isHovered=!1),g(o)},getSelectedGuideData:u,removeGuideViaDelBtn:function(){C("GUIDE_DELETED",{origin:"delete_button"}),T()},changeGuidePositionByPixels:function(t,o){var n=u();e.includes(n.guidePath,t)&&P(t,n.guideId,n.guidePosition+o)}}}return{create:n}}),define("rEditor/app/APISections/tabIndicationState",[],function(){"use strict";return{create:function(e){function t(){e.updateState({tabIndicationState:{indication:"INACTIVE",activeMode:void 0}})}return{activateDeleteAnimation:function(){e.updateState({tabIndicationState:{indication:"DELETE",activeMode:void 0}},t)},activateAddAnimation:function(o){e.updateState({tabIndicationState:{indication:"ADD",activeMode:o}},t)},activateApplyAnimation:function(o){e.updateState({tabIndicationState:{indication:"APPLY",activeMode:o}},t)},getState:function(){return e.store.getState().tabIndicationState}}}}}),define("rEditor/app/APISections/feedback",["lodash","jquery","constants","util"],function(e,t,o,n){"use strict";function i(e){function i(t){e.store.getState().unreadComments!==t&&e.updateState({unreadComments:t})}function a(){var o=function(){var t=e.documentServices.generalInfo.getSiteId(),o=e.documentServices.generalInfo.getMetaSiteId();return l+t+"?metaSiteId="+o}();t.ajax({url:o,type:"GET",success:function(e){i(e.count)}})}function r(){if(e.account.isUserOwner()){var n=c+e.documentServices.generalInfo.getSiteId()+"?metaSiteId="+e.documentServices.generalInfo.getMetaSiteId();t.ajax({url:n,type:"GET",success:function(t){t.shared?(i(t.count),a(),window.setInterval(a,o.FEEDBACK.CHECK_COMMENTS_INTERVAL)):window.setTimeout(e.feedback.init,o.FEEDBACK.CHECK_SITE_SHARED_INTERVAL)}})}}var s=n.serviceTopology.feedbackServiceUrl,l=s+"/getNewCommentsCount/",c=s+"/siteIsShared/";return{init:r,getNewCommentsCounter:function(){return e.store.getState().unreadComments}}}return{create:i}}),define("rEditor/app/APISections/mainMenuWrapper",["lodash","pagesMenu","experiment"],function(e,t,o){"use strict";function n(n){function i(e){return e.replace("#","")}function a(t){var o=void 0;return e.some(t,function(e){return e.type.isPage&&!n.pages.isHomePage(e.pageData.id)?(o=e,!0):!!(e.items&&e.items.length&&(o=a(e.items)))||void 0}),o}function r(t,o){var n=void 0;return e.some(t,function(e){var t=e.link&&e.link.pageId;return(t&&t.substr(1))===o?(n=e,!0):!!(e.items&&e.items.length&&(n=r(e.items,o)))||void 0}),n}function s(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,i="PageLink"===t,a=o&&n.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!i&&u.test(t)||a,isPage:i&&!a}}function l(e,t,o){return{id:e.id,type:s(e),label:e.label,parent:o,isVisible:e.isVisible,isVisibleMobile:e.isVisibleMobile,pageData:t,link:e.link}}function c(t,n,a,r){var p=[];return e.forEach(t,function(t){var d=void 0,u=s(t),m=void 0;m=o.isOpen("pagesPanelOpenCollapsed")?u.isPage?n.pagesDataMap[i(t.link.pageId)]:null:u.isPage?e.find(n.pagesDataList,["id",i(t.link.pageId)]):null,a&&!a(t,m)||(d=l(t,m,n.parent),t.items.length>0?d.items=c(t.items,e.defaults({parent:d},n),a,r):d.items=[],p.push(d),r&&r(d))}),p}function p(t){return function(t){for(var o=e.slice(t),n=[],i=void 0;o.length;)(i=o.pop()).items&&i.items.length&&(n=n.concat(i.items)),n.push(i);return n}(n.mainMenu.getMenuItemsTreeForMainMenu(t)||[])}var d=t.specialPages.menuLogic,u=/Link$/;return{hasOnlyLastPageMenuItem:function(){var t=n.documentServices.pages.getPagesData();return 1===e.filter(t,function(e){return!d.isSpecialPage(n,e)}).length},getFirstNonHomePageMenuItem:function(){return a(n.mainMenu.getMenuItemsTreeForMainMenu())},getMenuItemIdForCurrentPage:function(){var e=r(n.documentServices.mainMenu.getMenu(),n.documentServices.pages.getCurrentUrlPageId());return e&&e.id},getMenuItemsTree:function(){var e=n.documentServices.pages.getPagesData();return n.mainMenu.extendMenuItemsTreeWithPageData(e)},getMenuItemsTreeForPagesFixed:function(){var t=n.documentServices.mainMenu.getMenu(!0),o=n.documentServices.pages.getPagesData(),i=d.getSectionPagesIds(n,o),a=[],r=Array.prototype.push,s=n.mainMenu.extendMenuItemsTreeWithPageData(o,function(e,t){return!(!t&&0===e.items.length||t&&d.isSpecialPage(n,t))},function(t){t.pageData&&e.includes(i,t.pageData.id)&&a.push(t)},t);return e.forEach(a,function(e){var i=d.getSpecialPagesListBySectionPageOrBySibling(n,e.pageData,o),a=n.mainMenu.convertPagesDataListToMenuItemsList(i,t);r.apply(e.items,a)}),s},getMenuItemsTreeForMainMenu:function(e){return n.documentServices?(e=e||n.documentServices.pages.getPagesData(),n.mainMenu.extendMenuItemsTreeWithPageData(e,function(e,t){return!t||!d.isSpecialPage(n,t)})):[]},getMenuItemsFlattened:p,extendMenuItemsTreeWithPageData:function(t,i,a,r){if(r=r||n.documentServices.mainMenu.getMenu(!0),o.isOpen("pagesPanelOpenCollapsed")){var s=e.keyBy(t,"id");return c(r,{parent:null,homePageId:n.homePage.get(),pagesDataMap:s},i,a)}return c(r,{parent:null,homePageId:n.homePage.get(),pagesDataList:t},i,a)},convertPagesDataListToMenuItemsList:function(t,o){function a(o){var n=void 0,c=void 0,p=void 0;e.forEach(o,function(o){(c=s(o)).isPage&&(p=e.findIndex(t,{id:i(o.link.pageId)}))>-1&&(n=t[p],r[p]=l(o,n)),o.items.length>0&&a(o.items)})}var r=[];return a(o||n.documentServices.mainMenu.getMenu(!0)),e.compact(r)},renameMenuItem:function(e,t){t&&e.label!==t&&(n.documentServices.mainMenu.setItemLabel(e.id,t),n.history.debouncedAdd("Rename Menu Item"))}}}return{create:n}}),define("rEditor/app/APISections/menuWrapper",["lodash","core","util","coreUtilsLib"],function(e,t,o,n){"use strict";function i(i){function a(e){return e.replace("#","")}function r(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,n="PageLink"===t,a=o&&i.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!n&&S.test(t)||a,isPage:n&&!a,isPopupLink:a}}function s(o,n,l,c){var p=[];return e.forEach(o,function(o,d){var u=r(o).isPage?n[a(o.link.pageId)]:null;if(!l||l(o,u)){var m=function(o,n,a,s){var l=e.get(n,"tpaApplicationId"),c=l?i.documentServices.tpa.app.getData(l).appDefinitionId:null;return{id:o.id,type:r(o),label:o.label,parent:a,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile,pageData:n,link:o.link,position:s,appDefinitionId:c,isHomePage:i.pages.isHomePage(e.get(n,"id")),isOldBlog:!!e.get(n,"appInnerID")&&t.utils.blogTypeUtils.isBlog(i,n)}}(o,u,c,d);o.items.length>0?m.items=s(o.items,n,l,m):m.items=[],p.push(m)}}),p}function l(t,o){return e.find(t.items,o)?t:e.find(t.items,function(t){return e.find(t.items,o)})}function c(t,o,n,a,r){var s=l(t,{id:o}),c=e.findIndex(s.items,{id:o}),p=s.items[c];s.items.splice(c,1);var d=n?function(t,o){return e.find(l(t,o).items,o)}(t,{id:n}):t;(d=d||t).items=d.items||[],d.items.splice(a,0,p),i.documentServices.menu.update(t.id,t),i.history.add("moving a page"),e.isFunction(r)&&i.documentServices.waitForChangesApplied(r),t.appId&&i.documentServices.platform.notifyApplication(t.appId,{eventType:"appMenuReorder",eventPayload:{menuId:t.id,menuItemId:o,parentId:n,index:a}})}function p(t,o){return e.find(o,function(e){return e.link&&e.link.pageId===t})}function d(e,t,o){for(var n={itemIndex:null,parentId:o},i=0;i<e.length;i++){var a=e[i];if(a.id===t)return n.itemIndex=i,n;if(a.items&&a.items.length){var r=d(a.items,t,a.id);if(null!==r.itemIndex)return r}}return n}function u(e,t,o,n){var i=d(e.items,o,null);c(e,t,i.parentId,i.itemIndex+1,n)}function m(e,o,n,a){var r=i.documentServices.pages.getFocusedPageId(),s=function(e){var o=i.pages.duplicate(e.id),n=t.utils.pageTitleUtils.generateDuplicatedTitle(e.title),a=(i.documentServices.generalInfo.urlFormat.isSlash()?i.pages.data.pageUriSEO:t.utils.pageTitleUtils).convertPageNameToUrl(n);return i.pages.data.update(o.id,{title:n,pageUriSEO:a}),o.id}(o);i.documentServices.waitForChangesApplied(function(){var t=i.menu.getById(e),o=p("#"+s,t.items);u(t,o.id,n,function(){i.pages.navigateTo(s),i.history.add("duplicating a page",{currentPage:r}),a(o.id,s)})})}function g(e,o,a){o.type.isPage?m(e,o.pageData,o.id,a):o.type.isDropdown?function(e,o,n){var a=t.utils.pageTitleUtils.generateDuplicatedTitle(o.label),r=i.documentServices.menu.addItem(e,{link:o.link,label:a,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile});i.documentServices.waitForChangesApplied(function(){u(i.menu.getById(e),r,o.id,function(){i.history.add("duplicating a dropdown"),n(r)})})}(e,o,a):o.type.isLink?function(e,o,n){var a=t.utils.pageTitleUtils.generateDuplicatedTitle(o.label),r=i.documentServices.menu.addItem(e,{link:o.link,label:a,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile});i.documentServices.waitForChangesApplied(function(){u(i.menu.getById(e),r,o.id,function(){i.history.add("duplicating a link"),n(r)})})}(e,o,a):n.log.error("not supported menu type")}function h(e,t,o){i.pages.data.update(e,t),i.history.debouncedAdd(o)}function f(n,a){var r={title:a};if(a&&n.title!==a)if(function(e){return!i.documentServices.generalInfo.urlFormat.isSlash()||!i.documentServices.generalInfo.isSitePublished()||e===o.translate("Pages_Menu_Add_New_Page")}(n.title)){var s=i.documentServices.generalInfo.urlFormat.isSlash()?i.pages.data.pageUriSEO:t.utils.pageTitleUtils,l=s.convertPageNameToUrl(a);l?(r.pageUriSEO=l,h(n.id,r,"Rename Page")):o.googleTranslate(a,function(t){(l=s.convertPageNameToUrl(t))&&(r.pageUriSEO=l,r.translationData=e.assign({}||r.translationData,{uriSEOTranslated:!0})),h(n.id,r,"Rename Page")})}else h(n.id,r,"Rename Page")}function b(t,o){i.openLinkPanel({visibleSections:{NoLink:!1},hidePageLinks:!0,link:o,showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(t)})}function y(e,t,o){return{id:e.id,type:o||r(e),label:e.label,pageData:{id:t?t.id:null}}}function v(t,o,n,i){var s=[];return e.forEach(t,function(e){var t=void 0,l=r(e),c=l.isPage?o[a(e.link.pageId)]:null;n&&!n(e,c)||(t=y(e,c,l),e.items.length>0?t.items=v(e.items,o,n,i):t.items=[],s.push(t),i&&i(t,c))}),s}function P(){var o=i.documentServices.menu.getById("CUSTOM_MAIN_MENU").items,n=i.documentServices.pages.getPagesData(),s=e.keyBy(E.getSectionPagesIds(i,n)),l=[],c=Array.prototype.push,p=function(){var t={},o=i.documentServices.routers.get.all();return e.forOwn(o,function(o){e.forOwn(o.pages,function(e){t[e]=!0})}),t}(),d=function(t,o,n,i){return v(i,e.keyBy(t,"id"),o,n)}(n,function(e,t){return!(!t&&0===e.items.length||t&&E.isSpecialPage(i,t,p))},function(e){e.pageId&&s[e.pageId]&&l.push(e)},o);return e.forEach(l,function(s,l){var p=function(t,o){function n(o){var s=void 0,l=void 0,c=void 0;e.forEach(o,function(o){(l=r(o)).isPage&&(c=e.findIndex(t,{id:a(o.link.pageId)}))>-1&&(s=t[c],i[c]=y(o,s)),o.items.length>0&&n(o.items)})}var i=[];return n(o),e.compact(i)}(e.reject(E.getSpecialPagesListBySectionPageOrBySibling(i,l,n),e.partial(t.utils.tpaTypeUtils.isPageNotVisibleInPagesMenu,i)),o);c.apply(s.items,p)}),d}var E=t.utils.menuLogic,S=/Link$/,T=o.translate("Pages_Menu_Add_New_Page"),C=o.translate("Pages_Menu_Add_New_Link"),I=o.translate("Pages_Menu_Add_New_Category");return{getExtendedMenuItemsTree:function(t,o){o=o||i.documentServices.pages.getPagesData();var n=e.keyBy(o,"id");return s(t.items,n,function(e,t){return!t||!E.isSpecialPage(i,t)})},duplicateMenuItem:g,moveMenuItem:c,canDuplicate:function(e){return e.type.isPage&&e.pageData?i.pages.isDuplicable(e.pageData.id):e.type.isDropdown||e.type.isLink},removeMenuItem:function(e,t){if(1===i.menu.getById(e).items.length)i.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else if(t.pageData){var o=i.documentServices.pages.getFocusedPageId();i.pages.remove(t.pageData.id,function(){i.history.add("removing a page",{currentPage:o})})}else i.pages.navigateTo(i.homePage.get(),function(){i.documentServices.menu.removeItem(e,t.id,!0),i.history.add("removing menu item")})},updateLink:function(e,t,o){b(function(o){i.documentServices.menu.updateItem(e,t.id,{link:o}),i.history.add("updating menu link")},o)},renamePage:f,addPage:function(t,o,n){var a=void 0,r=void 0,s=void 0,l=i.pages.add(T);return i.documentServices.waitForChangesApplied(function(){a=i.menu.getById(t),s=a.items,r=p("#"+l.id,s),u(a,r.id,o,function(){i.history.add("adding new page",{actionType:"addPage",nextPage:l.id}),i.pages.navigateTo(l.id,e.partial(n,r.id,l.id))})}),l},addLink:function(e,t,o){b(function(n){var a=void 0,r=i.documentServices.menu.addItem(e,{link:n,label:C});i.documentServices.waitForChangesApplied(function(){u(a=i.menu.getById(e),r,t,function(){o(r),i.history.add("adding new page link")})})})},addFolder:function(e,t,o){var n=void 0,a=i.documentServices.menu.addItem(e,{label:I,link:null});i.documentServices.waitForChangesApplied(function(){u(n=i.menu.getById(e),a,t,function(){o(a),i.history.add("adding new page header")})})},getMenuItemsForIdeTree:P}}return{create:i}}),define("rEditor/app/APISections/multiselect",["lodash","core","util"],function(e,t,o){"use strict";function n(n){function i(t,i){return e.map(t,function(t){var a=e.pick(n.components.layout.get(t),["x","y"]);return{component:t,newLayout:o.layoutUtils.addXYOffsetsToLayout(a,i)}})}function a(t,n,a,r){var s=i(t,o.layoutUtils.getLayoutsXYDiff(a,n));e.forEach(s,function(e){r(e.component,e.newLayout)})}function r(e,t,o){return a(e,t,o,n.components.layout.update)}function s(t){return n.multiselect.count(t)<=1||!function(t){return e.some(t,n.selection.isSingleSelectionComponent)}(t)&&function(t){var o=n.components.getAncestorRepeaterItem(e.head(t));return!e.some(e.drop(t),function(e){var t=n.components.getAncestorRepeaterItem(e);return!(!t&&!o||n.utils.isSameRef(t,o))})}(t)}function l(t){return e.isEmpty(t)?[]:e.reject(t,function(o){var i=function(e){for(var t=n.components.getContainer(e);t&&!n.components.is.group(t);)t=n.components.getContainer(t);return t}(o);return i&&!!e.find(t,i)})}function c(t,o){!function(e,t,o){a(e,t,o,n.components.layout.continuousUpdate.on)}(t,e.pick(n.multiselect.layout.getRelativeToScreen(t),["x","y"]),o)}function p(t,n,i,a){e.defaults(n,i.layout),e.forEach(i.children,function(e){var t=function(e,t){var n=o.layoutUtils.calcLayoutFromLayoutAndRatio(t,e.proportions);return o.layoutUtils.addXYOffsetsToLayout(n,t)}(e,n);a(e.component,t,e)})}function d(t,a,r){if(!n.multiselect.containsSiblingsOnly(t))throw"Cannot update and adjust layout of non-siblings components";var s=n.documentServices.components.layout.getSnugLayout(t);s=e.pick(s,"y");var l=i(t,o.layoutUtils.getLayoutsXYDiff(a,s));e.forEach(l,function(e){r(e.component,e.newLayout)})}return{canBeMasterChild:function(){return!1},getParentCompWithOverflowHidden:function(){return!1},getNonMasterChildren:function(){},isDescendantOfComp:function(t,o){return e.every(t,function(e){return n.documentServices.components.isDescendantOfComp(e,o)})},getPage:function(t){return n.multiselect.areComponentsOfSamePage(t)?n.documentServices.components.getPage(e.head(t)):null},count:function(t){return e.isArray(t)?t.length:0},isMultiselect:function(e){return n.multiselect.count(e)>1},getContainer:function(t){return n.multiselect.containsSiblingsOnly(t)?n.documentServices.components.getContainer(e.head(t)):null},getChildren:function(){return[]},getSiblings:function(t){if(!n.multiselect.containsSiblingsOnly(t))throw"Cannot obtain siblings of the given compoents since they are not siblings";var o=n.documentServices.components.getSiblings(t[0]);return e.reject(o,function(o){return e.some(t,{id:o.id})})},isShowOnAllPages:function(t){return e.every(t,function(e){return n.documentServices.components.isShowOnAllPages(e)})},isShowOnSomePages:function(t){return e.every(t,function(e){return n.documentServices.components.isShowOnSomePages(e)})},canBeSelectedTogether:s,containsSiblingsOnly:function(t){if(!n.multiselect.isMultiselect(t))return!0;var o=n.components.getSiblings(e.head(t)),i=e.tail(t);return e.every(i,function(t){return!!e.find(o,t)})},containsAncestorsAndDescendants:function(t){return!!n.multiselect.isMultiselect(t)&&e.every(t,function(o,i){var a=t.slice(i+1);return e.every(a,function(e){return n.components.isDescendantOfComp(o,e)||n.components.isDescendantOfComp(e,o)})})},areComponentsOfSamePage:function(t){if(!n.multiselect.isMultiselect(t))return!0;var o=e.head(t),i=e.tail(t),a=n.documentServices.components.getPage(o);return e.every(i,function(t){var o=n.documentServices.components.getPage(t);return e.isEqual(o,a)})},getComponentsWhichDontHaveAncestorsInTheArray:function(t){var o=e.clone(t);return e.forEach(t,function(i,a){var r=t.slice(a+1);e.forEach(r,function(t){if(n.components.isDescendantOfComp(i,t))return e.remove(o,i),!1;n.components.isDescendantOfComp(t,i)&&e.remove(o,t)})}),o},removeGroupedCompsIfTheirGroupIsInArray:l,setContainer:function(t,o){return e.map(t,function(e){return n.documentServices.components.setContainer(e,o)})},reparentComponentToPage:function(t,o){return e.map(t,function(e){return n.documentServices.components.reparentComponentToPage(e,o)})},data:{update:function(){throw"Cannot update data for multiple components"},get:function(t){return e.map(t,function(e){return n.documentServices.components.data.get(e)})},remove:function(){throw"Cannot remove data for multiple components"}},design:{update:function(t,o){e.forEach(t,function(e){n.documentServices.components.design.update(e,o)})},get:function(t){return e.map(t,function(e){return n.documentServices.components.design.get(e)})},remove:function(){throw"Cannot remove design for multiple components"}},properties:{update:function(){throw"cannot update multiple components properties"},get:function(t){return e.map(t,function(e){return n.documentServices.components.properties.get(e)})}},arrangement:{canMoveForward:function(){return!1},canMoveBackward:function(){return!1}},alignment:{align:function(e,t){n.documentServices.components.alignment.alignComponents(e,t)}},multiComponents:{distribute:function(e,t){n.documentServices.components.multiComponents.distribute(e,t)},matchSize:function(e,t){n.documentServices.components.multiComponents.matchSize(e,t)}},layout:{get:function(e){if(!n.multiselect.containsSiblingsOnly(e))throw"Cannot get layout for non-siblings components";return n.documentServices.components.layout.getSnugLayout(e)},canBeFixedPosition:function(t){return e.every(t,function(e){return n.documentServices.components.layout.canBeFixedPosition(e)})},getRelativeToScreen:function(e){return n.documentServices.components.layout.getSnugLayoutRelativeToScreen(e)},getRelativeToScreenConsideringScroll:function(e){return n.documentServices.components.layout.getSnugLayoutRelativeToScreenConsideringScroll(e)},getRelativeToStructure:function(e){return n.documentServices.components.layout.getSnugLayoutRelativeToStructure(e)},getResizableSides:function(t){return n.multiselect.is.proportionallyResizable(t)?e.values(n.documentServices.components.layout.RESIZE_SIDES):[]},update:function(e,t){if(!n.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";r(e,n.documentServices.components.layout.getSnugLayout(e),t)},updateRelativeToStructure:function(t,o){r(t,e.pick(n.multiselect.layout.getRelativeToStructure(t),["x","y"]),o)},updateRelativeToScreen:function(t,o){r(t,e.pick(n.multiselect.layout.getRelativeToScreen(t),["x","y"]),o)},updateRelativeToScreenAndPreserveProportions:function(e,t,o){return p(0,t,o,n.components.layout.updateRelativeToScreenAndPreserveProportions)},updateRelativeToStructureAndPreserveProportions:function(e,t,i){var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToStructure(n,e,t);n.multiselect.layout.updateRelativeToScreenAndPreserveProportions(e,a,i)},updateAndPreserveProportions:function(e,t,i){if(!n.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(n,e,t);n.multiselect.layout.updateRelativeToScreenAndPreserveProportions(e,a,i)},getProportionStructure:function(t,i){var a=n.components.layout.getRelativeToScreen(t);return{component:null,layout:a,children:e.map(t,function(t){var r=n.components.layout.getRelativeToScreen(t),s=o.layoutUtils.getLayoutsXYDiff(r,a),l=e.defaults(s,r),c=o.layoutUtils.getChildContainerLayoutRatio(l,a),p=n.components.layout.getProportionStructure(t,i);return p.proportions=c,p.minLayout=e.omit(p.minLayout,["x","y"]),p})}},updateAndAdjustLayout:function(e,t){return d(e,t,n.documentServices.components.layout.updateAndAdjustLayout)},continuousUpdateRelativeToScreen:c,continuousUpdateAndAdjustLayout:function(e,t){return d(e,t,n.documentServices.components.layout.continuousUpdateAndAdjustLayout.on)},continuousUpdateAndPreserveProportions:function(e,t,i){if(!n.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(n,e,t);n.multiselect.layout.continuousUpdateRelativeToScreenAndPreserveProportions(e,a,i)},continuousUpdateRelativeToScreenAndPreserveProportions:function(e,t,o){return p(0,t,o,n.components.layout.continuousUpdateAndPreserveProportions.on)},setFixed:function(o,i){return e.map(o,function(e){return t.utils.fixedPositionUtils.setFixedPosition(n,e,i)})},updateAspectRatio:function(t){e.forEach(t,function(e){n.documentServices.components.layout.updateAspectRatio(e)})},removeAspectRatio:function(t){e.forEach(t,function(e){n.documentServices.components.layout.removeAspectRatio(e)})},unDock:function(){throw"Dock / Undock not supported for multiselect"},setDock:function(){throw"Dock / Undock not supported for multiselect"},updateDock:function(){throw"Dock / Undock not supported for multiselect"},getDock:function(){throw"Dock / Undock not supported for multiselect"},canBeStretched:function(){return!1},isStretchedToScreen:function(t){return e.some(t,function(e){return n.components.layout.isStretchedToScreen(e)})}},skin:{get:function(){throw"cannot get skin of multiple components"},getComponentSkinExports:function(){throw"Cannot get component skin exports for multiple components"}},getRestrictions:function(t,o){return e.reduce(o,function(e,o){return e[o]=n.multiselect.is[o](t),e},{})},is:{controlledByParent:function(t){return e.every(t,n.components.is.controlledByParent)},fixed:function(t){return e.every(t,n.components.is.fixed)},selectable:function(){return!0},alignable:function(t){return e.every(t,n.components.is.alignable)},container:function(){return!1},exist:function(t){return e.every(t,function(e){return n.components.is.exist(e)})},siteSegment:function(){return!1},removable:function(t){return e.every(t,function(e){return n.components.is.removable(e)})},duplicatable:function(t){return e.every(t,function(e){return n.components.is.duplicatable(e)})},styleCanBeApplied:function(){return!1},containable:function(t,o){return e.every(t,function(e){return n.components.is.containable(e,o)})},containableByStructure:function(t,o){return e.every(t,function(e){return n.components.is.containableByStructure(e,o)})},movable:function(t){return e.every(t,function(e){return n.components.is.movable(e)})},verticallyMovable:function(t){return e.every(t,function(e){return n.components.is.verticallyMovable(e)})},canMoveUp:function(t){return e.every(t,function(e){return n.components.is.canMoveUp(e)})&&n.multiselect.containsSiblingsOnly(t)},anchorableFrom:function(t){return e.some(t,function(e){return n.components.is.anchorableFrom(e)})&&n.multiselect.containsSiblingsOnly(t)},anchorableTo:function(t){return e.some(t,function(e){return n.components.is.anchorableTo(e)})&&n.multiselect.containsSiblingsOnly(t)},fullWidth:function(t){return e.every(t,function(e){return n.components.is.fullWidth(e)})},horizontallyResizable:function(t){return e.every(t,n.components.is.horizontallyResizable)},verticallyResizable:function(t){return e.every(t,n.components.is.verticallyResizable)},proportionallyResizable:function(t){return e.every(t,n.components.is.proportionallyResizable)},resizeOnlyProportionally:function(t){return e.every(t,n.components.is.resizeOnlyProportionally)},group:function(){return!1},groupable:function(t){return e.every(t,function(e){return n.components.is.groupable(e)})},groupedComponent:function(t){return e.every(t,function(e){return n.documentServices.components.is.groupedComponent(e)})},topMost:function(t,o){return e.some(t,function(e){return n.documentServices.components.is.topMost(e,o)})},leftMost:function(t,o){return e.some(t,function(e){return n.documentServices.components.is.leftMost(e,o)})},resizable:function(){return!1},rotatable:function(){return!1},animatable:function(t,o){return e.every(t,function(e){return n.components.is.animatable(e,o)})},focusable:function(){return!1},pinnable:function(){return!1},slidesContainer:function(){return!1},slideContainer:function(){return!1},hoverBox:function(){return!1},draggable:function(t){return e.every(t,n.components.is.draggable)},allowLassoOnContainer:function(){return!1},selectedBeforeDescendants:function(){return!1},showLegacyFixedPosition:function(){return!1},repeaterItem:function(){return!1},descendantOfRepeaterItem:function(t){return e.some(t,function(e){return n.components.is.descendantOfRepeaterItem(e)})},disabledKnobs:function(t){return e(t).map(n.components.is.disabledKnobs).map("length").compact().get("length")?e.values(n.documentServices.components.layout.RESIZE_SIDES):[]}},behaviors:{update:function(t,o,i){e.forEach(t,function(e){n.documentServices.components.behaviors.update(e,o,i)})},get:function(t){return e.reduce(t,function(e,t){return e.concat(n.documentServices.components.behaviors.get(t)||[])},[])},remove:function(t,o,i){e.forEach(t,function(e){n.documentServices.components.behaviors.remove(e,o,i)})},removeAll:function(t){e.forEach(t,function(e){n.documentServices.components.behaviors.removeAll(e)})},previewAnimation:function(t,o,i){return e.map(t,function(t,a,r){return n.documentServices.components.behaviors.previewAnimation(t,e.cloneDeep(o),a===r.length-1?i:void 0)})},stopPreviewAnimation:function(t){e.forEach(t,function(e){n.documentServices.components.behaviors.stopPreviewAnimation(e)})},execute:function(t,o,i){e.forEach(t,function(e){n.documentServices.components.behaviors.execute(e,o,i)})},getRuntimeState:function(t){return e.map(t,function(e){return n.documentServices.components.behaviors.getRuntimeState(e)})}},componentModes:{applyCurrentToAllModes:function(t){e.forEach(t,function(e){n.components.modes.applyCurrentToAllModes(e)})},addDefaultSingleModeAnimations:function(t){e.forEach(t,function(e){n.components.modes.addDefaultSingleModeAnimations(e)})},areComponentsOfSameModefulContainer:function(t){if(!n.multiselect.isMultiselect(t))return!0;var o=e.map(t,function(e){return n.components.modes.getFirstAncestorWithActiveModes(e)});return e.every(o,e.partial(e.isEqual,o[0]))}},media:{getSvgOriginalAspectRatio:function(){throw"getSvgOriginalAspectRatio does not support multiple components"}}}}return{create:n}}),define("rEditor/app/APISections/addPanelAPI",["lodash","util"],function(e,t){"use strict";function o(o,i){var a=function(){var o=["addPanelInfra","addPanel"],i=t.languages.getLanguageCode(),a=i&&"addPanelSections"+i.toUpperCase();return i&&"en"!==i.toLowerCase()&&!e.includes(n,i)?o.concat(a):o}();require(a,function(e,t,n){o.addPanelInfra=e,n&&t.sections.applyTranslatedSections(n),i({registerToOverrideSectionItemsForCategory:function(t,o){e.addPanelData.manager.override.sections.register(t,o)},registerOverrideCategoryAttributes:function(t,o,n){e.addPanelData.manager.override.attributes.register(t,o,n)},registerToAddSectionAtTheStartOfCategory:function(t,o){e.addPanelData.manager.start.register(t,o)},registerToAddSectionAtTheEndOfCategory:function(t,o){e.addPanelData.manager.end.register(t,o)},getCategory:function(t){return e.addPanelData.getCategory(o,t)},getSectionsByComponentType:function(t,n){return e.addPanelData.getSectionsByComponentType(t,n,o)},getDesignPanelTitleByComp:function(t,n){return e.addPanelData.getDesignPanelTitleByComp(t,n,o)}})})}var n=["cs","hi"];return{loadAndCreate:o}}),define("rEditor/app/APISections/topBarAPI",["lodash","stateManagement","core"],function(e,t,o){"use strict";return{create:function(n){function i(o){n.store.dispatch(t.legacy.setState({topBar:e.defaults(o,n.store.getState().topBar)}))}var a=o.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_PROGRESS,r=o.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_DURATION;return{animateModeSwitch:function(){var e={modeSwitchAnimationProgress:a.IN_PROGRESS},t={modeSwitchAnimationProgress:a.IDLE};i(e),window.setTimeout(i.bind(this,t),r)},isModeSwitchAnimationInProgress:function(){return n.store.getState().topBar.modeSwitchAnimationProgress===a.IN_PROGRESS}}}}}),define("rEditor/app/APISections/selection",["lodash","core","util","constants","stateManagement","experiment"],function(e,t,o,n,i,a){"use strict";function r(r){function c(t){var o=m(t);(function(t){var o=r.store.getState(),n=t&&1===t.length&&t[0],i=D(o),a=i&&1===i.length&&i[0];return o.focusedContainer&&!e.isEqual(a,n)&&e.isEqual(n,o.focusedContainer)})(t)&&r.panelManager.closeAllPanelsOfType("compPanelFrame"),p({selectedComponents:t,focusedContainer:o})}function p(t){var o=D(r.store.getState()),n=e.has(t,["selectedComponents"])&&!e.isEqual(o,t.selectedComponents);if(n&&(r.store.dispatch(i.selection.actions.selectComponents(t.selectedComponents)),r.store.dispatch(i.highlights.logic.handleSelectionHighlights())),r.store.dispatch(i.legacy.setState(e.omit(t,["selectedComponents"]))),n){var a=r.pluginService.getPlugin("selection","*");e.isFunction(a)&&a(t.selectedComponents)}}function d(t){return e.includes(["DEFAULT","HOVER"],t.type)}function u(t){return r.components.is.focusable(t)||function(t){var o=r.components.modes.getModes(t);return!e.isEmpty(o)&&e.every(o,d)}(t)}function m(t){if(t&&t.length>=2&&!function(t,o){var n=o.getContainer(e.head(t));return e(t).tail().every(function(t){return e.isEqual(o.getContainer(t),n)})}(t,r.components))return null;for(var o=e.head(t);o&&!u(o);)o=r.components.getContainer(o);return o}function g(e,t){return A(e)?t.button===k?null:M(e):(r.closeCompPanelIfExists(),I(e))}function h(e,t){r.closeCompPanelIfExists();var o=r.utils.getParentIfCompCanBeSelected(e);o&&(e=o),C(e),t&&r.openFirstTimePanel(e)}function f(t){var o=function(e){return r.utils.findAncestorMatchesCondition(e,r.components.is.selectedBeforeDescendants)}(t),n=o?e(o).thru(f).flatten().value():[];return e.compact([o].concat(n))}function b(e){return e.shiftKey||B.isSpecialKeyPressed(e)}function y(e){L=e}function v(t,o){var n={x:t,y:o},i=r.documentServices.pages.getReference(r.documentServices.pages.getFocusedPageId()),a=r.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",i);return e.filter(a,function(e){var t=r.components.layout.getRelativeToScreenConsideringScroll(e);return t.y+=N.ANCHOR_OFFSET_TOP,n.x>=t.x&&n.x<=t.x+N.ANCHOR_WIDTH&&n.y>=t.y&&n.y<=t.y+N.ANCHOR_HEIGHT})}function P(e,t){var o={x:e,y:t},n=r.components.get.byXYRelativeToScreen(o.x,o.y,0,r.documentServices.pages.getFocusedPageId());return v(e,t).concat(n)}function E(e){var t=x.fitMouseCoordinatesToViewer(r,e),o=G.get(e,t);return o||(o=P(t.clientX,t.clientY),G.set(o,t)),o}function S(t){var o=E(t);if(e.isEmpty(o))return null;var n=0,i=o[n];if(i)for(var a=r.layouters.getParentCompWithOverflowHidden(i);r.components.is.group(i)||!r.components.is.selectable(i)||a&&!e.includes(e.map(o,"id"),a.id);)a=(i=o[++n])?r.layouters.getParentCompWithOverflowHidden(i):null;else for(;r.components.is.group(i)||!r.components.is.selectable(i);)i=o[++n];return i||null}function T(t){var o=S(t),n=e.head(_());if(!o)return null;if(o=function(t,o){function n(e){return o&&r.components.isDescendantOfComp(o,e)}if(A(t))return t;var i=f(t);if(0===i.length)return t;var a=e.head(i),s=e.last(i);return n(a)?t:n(s)?a:s}(o,n),a.isOpen("se_overlapping_highlights")){var i=function(t,o){var n=E(o);return n=e.filter(n,r.components.is.selectable),n=e.reject(n,function(o){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],o.id)||r.utils.isPage(o)||e.isEqual(t,o)||"wysiwyg.viewer.components.Column"===r.components.getType(o)}),e.head(n)}(o,t);if(i){if(function(e,t,o){var n=r.components.layout.getRelativeToScreenConsideringScroll(e),i=r.components.layout.getRelativeToScreenConsideringScroll(t);return n.width*o>=i.width&&n.height*o>=.7*i.height}(o,i,.7))return i}}return o}function C(t){var n=r.components.asArray(t);if(!((n=e.uniqBy(n,"id")).length>30)&&(!(n.length>0)||r.components.is.selectable(n))&&r.multiselect.canBeSelectedTogether(n)){n=r.multiselect.removeGroupedCompsIfTheirGroupIsInArray(n),n=e.filter(n,r.documentServices.components.is.visible);var i=e.find(r.panelManager.getOpenPanels(),{name:R});e.size(n)<2&&i&&r.panelManager.closePanelByName(R),r.components.layout.isPinned(n)?o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.PIN_MODE):o.keyboardShortcuts.getContext()===o.keyboardShortcuts.CONTEXTS.PIN_MODE&&o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.EDITOR),c(n)}}function I(e){var o=r.components.asArray(e),n=_()||[],i=n.concat(o);return i.length>1&&r.bi.event(t.bi.events.selection.MULTISELECT,{num_of_elements_selected:i.length,selection_method:"keyboard"}),C(i),n}function _(){var e=r.store.getState();return D(e)}function O(){var o=_(),n=void 0,i=void 0;r.multiselect.containsSiblingsOnly(o)&&A()?r.components.is.siteSegment(o)||function(e){var t=l.getCompTypeSuffix(e,r.documentServices);return"Page"===t||"AppPage"===t}(o)?n=r.components.getChildren(o):(i=function(t){var o=r.components.getSiblings(t);return e.reject(o,function(e){return r.components.is.siteSegment(e)})}(o),n=o.concat(i)):n=(o||[]).concat(r.components.getChildren(r.pages.getFocusedPage())),e.isEmpty(n)||(r.closeCompPanelIfExists(),n.length>1&&r.bi.event(t.bi.events.selection.MULTISELECT,{num_of_elements_selected:n.length,selection_method:"keyboard"}),C(n))}function M(t){o.keyboardShortcuts.getContext()===o.keyboardShortcuts.CONTEXTS.PIN_MODE&&o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.EDITOR);var n=!t,i=r.components.asArray(t),a=_();C(e.reject(a,function(t){return n||e.some(i,t)}))}function A(t){var o=_();if(e.isEmpty(t))return!e.isEmpty(o);var n=r.components.asArray(t);return e.every(n,function(t){return e.some(o,t)})}function w(e){p({lastSelectionClickPos:e})}var R="compPanels.panels.MultiSelect.layoutPanel",D=i.selection.selectors.getSelectedCompsRefs,k=2,N=n.UI,B=o.browserUtil,x=t.utils.mouseCoordinatesHandler,L=!1,F=!1,H=null,U=null,G=function(){function e(e,t){return{clientX:e.clientX,clientY:e.clientY,timeStamp:t}}var t={timeStamp:-s.TIME_DELTA},n=null;return{get:function(i,a){return function(e){if(e.timeStamp-t.timeStamp>s.TIME_DELTA)return!1;var o=e.clientX-t.clientX,n=e.clientY-t.clientY;return o*o+n*n<s.DIST_SQR}(e(a,i.timeStamp||o.performance.now()))?n:null},set:function(i,a){t=e(a,o.performance.now()),n=i}}}();return{isMultiSelectKeyPressed:b,isSingleSelectionComponent:function(t){var o=r.components.getType(t);return e.includes(n.MULTISELECT.SINGLE_SELECTION_COMPONENT_TYPES,o)||r.components.layout.isShowOnFixedPosition(t)},setIsMouseUpSelectionEnabled:y,getIsMouseUpSelectionEnabled:function(){return L},setIsHiddenComponentDraggedNext:function(e){F=!!e},isHiddenComponentDraggedNext:function(){return F},isComponentExplicitlySelected:function(){return null!==H},getAnchorsUnderClick:v,getComponentsByXY:P,getComponentsUnderClick:E,getNonGroupCompUnderCursor:S,getComponentUnderClickToBeSelected:T,getComponentToBeMarkedByHoverBox:function(e,t){var o=t&&H||T(e);return U&&o?U:o},selectComponentByClick:function(e){var t=T(e);U&&t&&U.id!==t.id?(t=U,H=null):H=t;var o=A(t),n=_(),i=e.button!==k;if(t)if(b(e)&&!o)g(t,e),w(null);else{if(!r.multiselect.isMultiselect(n)){var a=r.components.layout.isShowOnFixedPosition(t),s=void 0,l=x.fitMouseCoordinatesToViewer(r,e);if(a)s={x:l.clientX,y:l.clientY};else{var c=r.ui.scroll.getScroll();s={x:l.clientX+c.scrollLeft,y:l.clientY+c.scrollTop}}w(s)}if(o)return void y(!0);h(t,i)}else M()},selectNonGroupCompUnderCursor:function(e){var t=S(e);t=t&&U?U:t;var o=e.button!==k;return A(t)?null:b(e)?g(t):h(t,o)},selectComponentByCompRef:C,addComponentToSelectionByRef:I,getSelectedComponentId:function(){var t=_();return!e.isEmpty(t)&&e.head(t).id},getSelectedComponents:_,getFocusedContainer:function(){return r.store.getState().focusedContainer},getParentToFocus:function(e){return m(e)},getSelectedComponentType:function(){var t=_();return e.isEmpty(t)?null:l.getCompTypeSuffix(e.head(t),r.documentServices)},selectAll:O,getSelectedComponentData:function(){var e=_();return e?r.components.data.get(e):null},deselectComponents:M,isComponentSelected:A,setLastSelectionClickPos:w,isSelectedCompUnderCursorAndBeneathSiteSegment:function(t,o){var n=E(o),i=r.documentServices.pages.getReference(r.documentServices.pages.getPrimaryPageId()),a=r.siteSegments.getRefs().concat(i),s=e.findIndex(n,function(t){return e.some(a,t)});return-1!==s&&e.some(t,function(t){return e.some(n,function(o,n){return e.isEqual(t,o)&&n>s})})},setModalComponent:function(e){U=e}}}var s={TIME_DELTA:400,DIST_SQR:5},l=i.components.selectors;return{create:r}}),define("rEditor/app/APISections/databaseEditor",["lodash","experiment"],function(e,t){"use strict";return{create:function(o){function n(e,n,i){o.panelManager.openPanel("compPanels.panels.AppPart2.databaseEditorPanel",{selectedComponentType:i,listId:e,compRef:n,autoSave:!t.isOpen("disableDbEditorAutoSave")})}function i(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:"http://www.wix.com/"})}return{openDatabaseEditor:function(a,r){var s=o.selection.getSelectedComponentType();!t.isOpen("disableDbEditorAutoSave")&&o.documentServices.generalInfo.isFirstSave()?o.saveManager.saveInBackground(e.partial(n,a,r,s),i):n(a,r,s)}}}}}),define("rEditor/app/APISections/welcomeScreensWrapper",["lodash","util","core","experiment"],function(e,t,o,n){"use strict";function i(e){return"na"===e}function a(e){var t=e.account.getEditorVersionsInfo();return!!t&&t.isEligibleForSwitch&&(e.compatibility.hasOldApp()||e.compatibility.hasAppPage())}function r(e){var t=e.account.getEditorVersionsInfo(),o=!1===window.editorModel.firstSave&&!1===t.isEligibleForSwitch;return t&&!t.isNewUser&&!o}function s(e,o){c(e,e.account.getEditorVersionsInfo().isEligibleForSwitch?"START_NOW_CLICK_WITH_BACK_OPTION":"START_NOW_CLICK_WITHOUT_BACK_OPTION",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","new")}function l(e,o){c(e,"BACK_TO_OLD_EDITOR_CLICK",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old"),t.windowInteractionUtils.reloadPageWithoutQuestion()}function c(e,t,n){var i=o.bi.events.newEditorWelcomeScreens[t],a={site_id:e.documentServices.generalInfo.getSiteId()};i.fields.duration&&(a.duration=Date.now()-n),e.bi.event(i,a)}function p(e){if(!r(e))return!1;var t=e.account.getEditorVersionsInfo(),o="new"===t.userOverride,n="old"===t.userOverride&&t.isEligibleForSwitch;return!o&&!n}function d(t){return r(t)&&function(t){return e(t.components.get.byType("wixapps.integration.components.AppPart2")).map(t.components.data.get).map("appPartName").map(t.documentServices.wixapps.appbuilder.data.lists.getListVersion).some(function(e){return!e||"1.0"===e})}(t)}function u(e){e.panelManager.openPanel("panels.focusPanels.newUserIntroVideoPanel",{linkedVideoData:P,title:t.translate("Intro_video_new_user_dialog_title"),subtitle:t.translate("Intro_video_new_user_dialog_sub_heading"),buttonLabel:"Intro_video_new_user_button"})}function m(e){var t=e.account.getEditorVersionsInfo(),o=d(e);e.panelManager.openPanel("panels.focusPanels.newEditorWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:o?g.bind(this,e):s.bind(this,e,Date.now()),nextBtnLabel:o?"Notification_Box_Next":"Notification_Box_Start_Now",onBackClick:l.bind(this,e,Date.now())})}function g(e){var t=e.account.getEditorVersionsInfo();e.panelManager.openPanel("panels.focusPanels.newEditorListWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:s.bind(this,e,Date.now()),onBackClick:l.bind(this,e,Date.now())})}function h(o){var n=o.documentServices.siteName.getUsed(),a=!n||0===n.length,r=!!o.getUserPreferences().global.get("didPassNewUserVideoCheck");return P=t.translate("Intro_video_new_user_video_link"),!r&&!i(P)&&(o.getUserPreferences().global.set("didPassNewUserVideoCheck",!0).catch(e.noop),a&&!o.getUserPreferences().global.get(E))}function f(e){var t=e.getUserPreferences().global.get("didPassNewFeaturesVideoCheck");return!(!n.isOpen("newFeaturesIntroVideo")||t)&&(!r(e)&&function(e){var t=e.account.getEditorVersionsInfo(),o=e.documentServices.siteName.getUsed(),n=!o||0===o.length;return t&&"old"!==t.userOverride&&!n}(e))}function b(e){return S=t.translate("Notification_Box_ADI_Migration_URL"),e.documentServices.generalInfo.isSiteFromOnBoarding()&&!e.getUserPreferences().global.get(E)&&!i(S)}function y(o){o.getUserPreferences().global.set("didPassNewFeaturesVideoCheck",!0).catch(e.noop),o.panelManager.openPanel("panels.focusPanels.newFeaturesVideoPanel",{linkedVideoData:t.translate("Notification_Box__video_url_EN"),title:t.translate("Notification_Box_New_Editor_Features_Title"),subtitle:t.translate("Notification_Box_New_Editor_Features_Subtitle"),buttonLabel:"Intro_video_new_user_button"})}function v(o){o.getUserPreferences().global.set(E,!0).catch(e.noop),o.panelManager.openPanel("panels.focusPanels.cameFromADIVideoPanel",{linkedVideoData:S,title:t.translate("Notification_Box_ADI_Migration_Title"),subtitle:t.translate("Notification_Box_ADI_Migration_Subtitle"),buttonLabel:"Notification_Box_ADI_Migration_Button"})}var P=void 0,E="didPassCameFromADIVideo",S=void 0;return{initWelcomeScreen:function(o){var n=[{shouldShow:b,show:v},{shouldShow:h,show:u},{shouldShow:f,show:y},{shouldShow:a,show:function(){o.panelManager.openPanel("panels.focusPanels.editorMigrationFailedPanel",{})}},{shouldShow:p,show:m},{shouldShow:d,show:g},{shouldShow:function(){return!0},show:e.noop}],i="true"===t.url.getParameterByName("disableWelcomeScreen");o.wixStores.isSiteInWixStoreTestDrive()||i||e.find(n,function(e){return e.shouldShow(o)}).show(o)}}}),define("rEditor/app/APISections/copyPasteWrapper",["lodash","core","experiment","rEditor/app/serializedComponentPlugins","boxSlideshow","stateManagement"],function(e,t,o,n,i,a){"use strict";function r(r){function s(e){var t={compRef:e};if(r.components.canBeMasterChild(e)){var o=T.getSlideShowParent(r,e),n=T.getSlideShowSlideParent(r,e);if(n){t.originalParent=n,t.originalGrandParent=o;var i=r.components.layout.getRelativeToStructure(e),a=r.components.layout.getRelativeToStructure(n);t.relativeToParentPosition={x:i.x-a.x,y:i.y-a.y}}}return t}function l(t,o){if(t.originalGrandParent&&r.components.is.slidesContainer(t.originalGrandParent)){var n=r.components.get.byXYRelativeToStructure(o.x,o.y);return!!e.find(n,t.originalGrandParent)}return!1}function c(t,n,i){return l(t,n)?T.findCurrentSlide(r,t.originalGrandParent):o.isOpen("se_pasteBehaviorFix")?(_=new I(r,{comp:t.serializedComp,layout:e.pick(i,["width","height"])},I.TYPES.STRUCTURE)).getCurrentAttachCandidate(i):null}function p(t,o){return l(t,o)?e.isEqual(T.findCurrentSlide(r,t.originalGrandParent),t.originalParent)?null:t.relativeToParentPosition:null}function d(t){return e.has(t,"x")&&e.has(t,"y")}function u(t){return e.includes(S,t)}function m(t,o){var i=r.ui.scroll.getScroll(),a=r.documentServices.pages.getFocusedPageId(),s=[],l=r.components.asArray(e.cloneDeep(t.components)),m=r.documentServices.siteSegments.getPagesContainer(),h=r.components.layout.getRelativeToScreen(m);o=d(o)?o:null;var f=r.pasteLogic.pasteContext.getPastePosition(r,t.snugLayoutRelativeToStructure,a);return f.x-=i.scrollLeft,f.y-=i.scrollTop,e.forEach(l,function(t){var l=t.serializedComp,d=u(l.componentType),m=r.documentServices.pages.getReference(d?r.pages.getMasterPageId():a),b=e.clone(o)||e.clone(f),y=function(e,t,o){var n=void 0;return o?(n={x:o.x,y:o.y-e.layout.height,width:e.layout.width,height:e.layout.height},"Container"===e.type&&(n.y=o.y-C),n):n={x:t.x,y:t.y,width:e.layout.width,height:e.layout.height}}(l,b,o),v=void 0,P=c(t,f,y);if(e.isEqual(P,m))b&&(b.x=y.x-h.x+i.scrollLeft,b.y=y.y-h.y+i.scrollTop);else{var E=r.components.layout.getRelativeToScreenConsideringScroll(P);b.x=y.x-E.x,b.y=y.y-E.y,r.components.is.fullWidth(P)&&(b.x-=h.x),m=P}var S=e.clone(b);l.layout.x=S.x+t.positionRelativeToSnug.x,l.layout.y=S.y+t.positionRelativeToSnug.y;var T=p(t,f);T&&(l.layout.x=T.x,l.layout.y=T.y),l=n.runPastePluginOnSerializedComponent(l,r),r.components.is.containableByStructure(l,m)&&(v=g(m,l),s.push(v))}),s}function g(e,t){return r.addComponentPlugins[t.componentType]?r.addComponentPlugins[t.componentType](r,e,t):r.components.add(e,t,t.id)}function h(e){e.styleId&&(e.previousStyleId=e.styleId)}function f(t,i){var a=void 0;a=o.isOpen("se_pasteBehaviorFix")?r.components.layout.getRelativeToScreen(t):r.components.layout.getRelativeToStructure(t);var l=r.documentServices.pages.getFocusedPageId();r.pasteLogic.pasteContext.setPasteData(a,l,r.ui.scroll.getScroll());var c={snugLayoutRelativeToStructure:a,components:e.map(t,function(t){var l=r.components.serialize(t,null,!1,i,null,h),c=r.components.style.getId(t);c&&(l.style=c),o.isOpen("layoutTractor")&&r.components.layout.isDocked(t)&&!r.components.layout.isDockedToScreen(t)&&delete l.layout.docked;var p=void 0;p=o.isOpen("se_pasteBehaviorFix")?r.components.layout.getRelativeToScreen(t):r.components.layout.getRelativeToStructure(t),l=n.runCopyPluginOnSerializedComponent(l,t,r);var d=s(t);return e.merge({serializedComp:l,positionRelativeToSnug:{x:p.x-a.x,y:p.y-a.y},isShowOnAllPages:r.components.isShowOnAllPages(t)},d)})},p=function(t){if(t&&t.length>0){var o=r.components.modes.getFirstAncestorWithActiveModes(e.head(t)),n=e.curry(e.isEqual)(o);if(e(t).tail().map(r.components.modes.getFirstAncestorWithActiveModes).every(n))return o}}(t);return p&&(c.containerWithModes=p),c}function b(t){var o=r.documentServices.pages.getFocusedPageId(),i=r.documentServices.siteSegments.getPagesContainer(),a=r.documentServices.siteSegments.layout.get(i),l=r.ui.scroll.getScroll();return e.map(t,function(t){var i=r.components.serialize(t);!function(e,t){var o=r.components.style.getId(e);o&&(t.style=o)}(t,i);var p=function(e,t,o,n,i){var a=r.components.layout.getRelativeToStructure(e).bounding;r.pasteLogic.duplicateContext.setPasteData(a,t,o);var s=r.pasteLogic.duplicateContext.getPastePosition(r,a,t);u(n)||(s.y-=i.y);return s}(t,o,l,i.componentType,a);i.layout.x=p.x,i.layout.y=p.y,i=n.runCopyPluginOnSerializedComponent(i,t,r),i=n.runPastePluginOnSerializedComponent(i,r);var d=function(t,o,n,i){var a=u(o.componentType),l=r.documentServices.pages.getReference(a?r.pages.getMasterPageId():t),p=c(e.merge({serializedComp:o},s(n)),i);p&&(l=p);return l}(o,i,t,p);return r.components.add(d,i)})}function y(e,o){if(e){var n=r.components.asArray(e);if(n=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(n),function(e){return r.components.is.duplicatable(e)}(n)){var i=f(n,o);r.clipboard.setItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,i)}else r.isMobileEditor()&&r.openCantCopyPastePanel()}}function v(i,s){var l=E(),h=r.store.getState(),f=a.selection.selectors.getSelectedCompsRefs(h),b=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(function(t){if(e.isEmpty(t))return!1;var o=r.isMobileEditor(),n=r.documentServices.pages.getPrimaryPageId(),i=r.documentServices.pages.isLandingPage(n),a=e.some(t.components,"isShowOnAllPages");return!(o||i&&a)}(b)){r.panelManager.closeAllPanels();var y=void 0;y=o.isOpen("se_pasteBehaviorFix")?m(b,i):function(t,o,i){var a=r.documentServices.pages.getFocusedPageId(),s=[],l=r.components.asArray(e.cloneDeep(t.components)),m=r.documentServices.siteSegments.getPagesContainer(),h=r.documentServices.siteSegments.layout.get(m);o=d(o)?o:null;var f=r.pasteLogic.pasteContext.getPastePosition(r,t.snugLayoutRelativeToStructure,a);return e.forEach(l,function(t){var l=t.serializedComp,d=u(l.componentType),m=r.documentServices.pages.getReference(d?r.pages.getMasterPageId():a),b=void 0,y=c(t,f);if(y){var v=r.components.layout.getRelativeToStructure(y);(o=o||{}).x=f.x-v.x,o.y=f.y-v.y,m=y}var P=e.clone(o),E=e.clone(f);P?d&&(P.y+=h.y):(d||(E.y-=h.y),P=E),l.layout.x=P.x+t.positionRelativeToSnug.x,l.layout.y=P.y+t.positionRelativeToSnug.y,i&&(l.layout.x-=l.layout.width/2,l.layout.y-=l.layout.height/2);var S=p(t,f);S&&(l.layout.x=S.x,l.layout.y=S.y),l=n.runPastePluginOnSerializedComponent(l,r),r.components.is.containableByStructure(l,m)&&(b=g(m,l),s.push(b))}),s}(b,i,s),h.performingMouseMoveAction||r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(y),r.openFirstTimePanel(y),l&&r.updateState({applyModeFromClipboardSuggestion:{selectedComponents:y,container:f}})})}else r.isMobileEditor()&&r.openCantCopyPastePanel()}function P(){r.updateState({applyModeFromClipboardSuggestion:void 0})}function E(){var o=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(o&&o.containerWithModes){var n=r.components,i=r.store.getState(),s=a.selection.selectors.getSelectedCompsRefs(i);if(s&&1===s.length){var l=s[0];if(e.isEqual(l,o.containerWithModes)){var c=n.modes.getModes(l);if(c&&c.length>0){var p=n.modes.getComponentActiveModeIds(l);if(1===e.size(p)){var d=e.keys(p)[0],u=e(c).reject({modeId:d}).map("modeId").value();return e(o.components).map("compRef").every(function(t){return e.some(u,function(e){return n.modes.isComponentDisplayedInModes(t,[e])})&&!n.modes.isComponentDisplayedInModes(t,[d])})}}}}}return!1}var S=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"],T=i.utils.boxSlideShowUtils,C=48,I=t.utils.AttachHandler,_=void 0;return{copy:y,paste:v,hideApplyModeFromClipboardSuggestion:P,canApplyModeFromClipboard:E,removePastedComponentAndApplyModeFromClipboard:function(){var e=r.store.getState(),t=a.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(e),o=t.container;P(),r.components.remove(t.selectedComponents),r.documentServices.waitForChangesApplied(function(){r.copyPaste.applyModeFromClipboard(o)})},applyModeFromClipboard:function(o){var n=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT),i=e.map(n.components,function(e){return{compRef:e.compRef,compDefinition:e.serializedComp}});if(o&&1===o.length){var a=r.components,s=o[0];if(e.isEqual(s,n.containerWithModes)){var l=a.modes.getModes(s);if(l&&l.length>0){var c=a.modes.getComponentActiveModeIds(s);if(1===e.size(c)){var p=e.keys(c)[0];a.modes.applyComponentToMode(i,p);var d=e.map(i,"compRef");r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(d)})}}}}r.history.add("apply mode from clipboard"),r.tabIndicationState.activateApplyAnimation(!0)},duplicate:function(t){if(e.isEmpty(t))return[];r.panelManager.closeAllPanels();var o=r.selection.getSelectedComponents(),n=r.components.asArray(t),i=r.components.getType(o);if(r.duplicatePlugins[i])return r.duplicatePlugins[i](o);o=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(o),n=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(n);var a=r.components.getContainer(t);if(!r.components.is.duplicatable(n,a))return[];e.isEqual(n,o)&&r.selection.deselectComponents();var s=b(n);return r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(s),r.openFirstTimePanel(s)}),s}}}return{create:r}}),define("rEditor/app/APISections/wixStoresFlowAPI",["lodash","util"],function(e,t){"use strict";return{create:function(){return{isSiteInWixStoreTestDrive:function(){return e.includes(t.editorModel.metaSiteFlags,"EComTestDrive")}}}}}),define("rEditor/app/APISections/editorUI",[],function(){"use strict";return{create:function(e){return{scroll:{getScroll:function(){return e.scroll.get()},setScroll:function(t){return e.scroll.scrollTo(t)},animateScroll:function(t,o,n){e.scroll.animateScrollTo(t,o,n)},addListener:function(t){return e.scroll.addScrollListener(t)},removeListener:function(t){return e.scroll.removeScrollListener(t)}},stage:{getEditingAreaLayout:function(){return e.getEditingAreaPosition()},getMobileFrameLayout:function(){return e.getMobileFramePosition()}},focus:{setOnEditor:function(){e.setFocus()}}}}}}),define("rEditor/app/APISections/wixCode",["lodash","core"],function(e,t){"use strict";function o(o){function n(n){function i(){o.savePublish.unlockSavePublish(),n()}function a(){o.toggleEditorStateParam(r,t.constants.PROGRESS_STATUS.IDLE)}var r="previewingStatus";o.wixCode.isLoaded()?(o.savePublish.lockSavePublish(),o.toggleEditorStateParam(r,t.constants.PROGRESS_STATUS.IN_PROGRESS),o.wixCode.console.clear(),o.wixCode.fileSystem.flush().then(function(){!function(t){function n(n){var i=o.data.createItem("DynamicPageLink");e.assign(i,{innerRoute:n.innerRoute||"/",routerId:n.routerId}),o.pages.navigateTo(i,t)}var i=o.documentServices.routers.getCurrentInnerRoute();if(i&&i.isDynamic)return i.innerRoute?void n(i):void o.documentServices.routers.getRouterInnerRoutes(i.routerId,o.documentServices.pages.getPrimaryPageId(),function(t){i.innerRoute=e.isEmpty(t)?"":t[0].url,n(i)});t()}(function(){a(),i()})}).catch(function(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"WixCode_PreviewSaveFail_Title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",stepsTitle:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION_BOLD",steps:["SAVE_PUBLISH_ERROR_OPTION_1","WixCode_PreviewSaveFail_Step2_Text","WixCode_DeveloperModeFail_Step3_Text"],helpMessage:"WixCode_PreviewSaveFail_Learn_More_Label",helpLinkMessage:"WixCode_PreviewSaveFail_Learn_More_Link",helpLink:"",errorCode:"1234"}),o.savePublish.unlockSavePublish(),a()})):i()}var i="wixCodeLoaded";return{isLoaded:function(){return o.store.getState()[i]},setLoaded:function(){o.toggleEditorStateParam(i,!0)},prepareBeforePreview:n}}return{create:o}}),define("rEditor/app/APISections/columns",["lodash","stateManagement","rEditor/app/serializedComponentPlugins"],function(e,t,o){"use strict";function n(t){function n(o){return o.components=e.reject(o.components,t.components.is.fullWidthByStructure),e.forEach(o.components,n),o}function a(t){var o=e.sum(t);return e.map(t,function(e){return 100*e/o})}function r(o){var n=t.components.getChildren(o);return e(n).keyBy("id").mapValues(t.components.layout.get).mapValues("width").value()}function s(o,n,i){var r=l(o),s=t.components.getChildren(o);n=function(t){var o=980/e.sum(t);return e.map(t,function(e){return e*o})}(n),e.forEach(s,function(e,o){t.components.layout.update(e,{width:n[o]},!0)});m(s,r,a(n)),i||t.history.add("Change Columns Proportions")}function l(o){var n=t.components.getChildren(o);return a(e(n).map(t.components.layout.get).map("width").value())}function c(i){var r=e(i).thru(t.components.serialize).thru(n).value(),c=t.components.getContainer(i),p=t.components.getChildren(c);if(p.length!==f&&!E){E=!0;var d=e.findIndex(p,i)+1,u=l(c);u.splice(d,0,u[d-1]);var g=a(u);r=o.runCopyPluginOnSerializedComponent(r,i,t),r=o.runPastePluginOnSerializedComponent(r,t);var h=t.components.add(c,r);return t.documentServices.waitForChangesApplied(function(){!function(o,n,i){e.isUndefined(n)||t.components.arrangement.moveToIndex(o,n,i)}(h,d,!0),function(e,o){t.components.getChildren(e).length===f&&s(e,b,o)}(c,!0);m(t.components.getChildren(c),u,g),E=!1,t.documentServices.waitForChangesApplied(function(){t.history.add("added column")})}),h}}function p(e){var o=i.getCompTypeSuffix(e,t.documentServices);return!!v[o]}function d(o){var n=t.components.getChildren(o);return e(n).reject(p).flatMap(d).union(n).value()}function u(e,o,n,i){var a=t.components.layout.getRelativeToStructure(o),r=a.x-e.x,s=a.width,l=t.components.is.resizable(o)?s*n:s,c={width:l};if(!t.components.is.group(o)){if(i===y.LEFT)c.x=r*n;else if(i===y.CENTER){var p=(r+s/2)*n;c.x=p-l/2}else{var d=(r+s)*n;c.x=d-l}c.x+=e.x;t.components.layout.updateRelativeToStructure(o,c,!0)}}function m(o,n,i){e.forEach(o,function(o,a){var r=function(e,t,o){var n=e[o],i=t[o];return n&&i?n/i:null}(i,n,a);if(r){var s=d(o),l=t.components.properties.get(o).alignment,c=t.components.layout.getRelativeToStructure(o);e.forEach(s,function(e){u(c,e,r,l)})}})}function g(e){return 1===t.components.getChildren(e).length}var h="compPanels.panels.StripColumnsContainer.managePanel",f=5,b=e.times(f,function(){return 1}),y={LEFT:0,CENTER:50,RIGHT:100},v={BoxSlideShow:!0,StripContainerSlideShow:!0},P={background:{type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",color:"#FFFFFF",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:""}},E=!1;return{isColumn:function(e){return"wysiwyg.viewer.components.Column"===t.components.getType(e)},isStrip:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===t.components.getType(e)},isMultiColumnsStrip:function(e){return!g(e)},isSingleColumnStrip:g,addColumn:function(o){var n=t.components.getChildren(o),i=e.last(n);if(n.length!==f)return c(i)},duplicateColumn:c,removeColumn:function(o,n,i,a){var s=a||e.partial(t.documentServices.components.remove,o,i),l=t.components.getContainer(o),c=t.components.getChildren(l),p=r(l);s(),t.documentServices.waitForChangesApplied(function(){var o=r(l);e.forEach(o,function(o,n){var i=o/p[n],a=e.find(c,{id:n}),r=d(a),s=t.components.properties.get(a).alignment,l=t.components.layout.getRelativeToStructure(a);e.forEach(r,function(e){u(l,e,i,s)})}),1===e.keys(o).length&&t.components.design.update(l,P,void 0,!0)})},canAdd:function(e){return t.components.getChildren(e).length<f},proportions:{set:s,get:l,flip:function(e){s(e,l(e).reverse())},toPercentages:a},columnAlignment:{set:function(e,o){t.components.properties.update(e,{alignment:o})},get:function(e){return t.components.properties.get(e).alignment}},move:{left:function(e){t.components.arrangement.moveBackward(e)},right:function(e){t.components.arrangement.moveForward(e)}},manage:{setManagedColumn:function(e,o){t.updateState({managedColumnPointer:e},o)},getManagedColumn:function(){var e=t.store.getState().managedColumnPointer;return e&&t.components.is.exist(e)?e:null},openPanel:function(o,n){e.isArray(n)&&(n=e.head(n)),n=n||e(o).thru(t.components.getChildren).head(),t.columns.manage.setManagedColumn(n,function(){t.selection.selectComponentByCompRef(o),t.panelManager.openComponentPanel(h,{selectedComponent:o})})},closePanel:function(){t.columns.manage.setManagedColumn(null,function(){t.panelManager.closePanelByName(h)})}}}}var i=t.components.selectors;return{create:n}}),define("rEditor/app/APISections/pagesWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/app/updateOperationsPlugins","platform"],function(e,t,o,n,i,a){"use strict";function r(r){function s(t,n){!function(t,n){o.keyboardShortcuts.enable(),e(r.pageNavigationCallbacks).concat(n).compact().forEach(function(e){e(t)})}(t,n),l()}function l(){r.getPreviewMode()||(r.shouldUpdateEditorScrollAfterHeightUpdate=!0,r.applyPreviewScrollToEditorScroll())}function c(t,n){return e.reduce(t,function(t,i){return e.isObject(i)?(t.push(e.defaults(i,{category:n,id:i.event||i.title||i.type})),t):(t.push({title:o.translate(i),type:i,id:i,category:n}),t)},[])}function p(o){var n=o.style;e.isObject(o.style)&&(n=t.styleManager.getStyleIdByDef(r.theme,r.components,o.style,o.componentType)),n&&(o.style=n),e.forEach(o.components,function(e){p(e)})}function d(t,o){var n=t.pages.data.get(o);return e.get(n,"title")||""}function u(t,n){var i=r.documentServices.platform.editorApps.DATA_BINDING.appDefId,a=r.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId;switch(t){case i:return o.translate("DYNAMIC_PAGES_APP_TYPE_DATA_BINDING");case a:var s=r.documentServices.platform.getAppManifest(a);return e.get(s,"routers.pagesGroups."+n+".label")}return o.translate("DYNAMIC_PAGES_APP_TYPE_CUSTOM_ROUTER")}function m(){return r.documentServices?r.documentServices.pages.getCurrentUrlPageId():null}function g(){var t=function(){var t=["type","name"],o=r.actions.getDefinition("load"),n=r.behaviors.getDefinition("openPopup");return{action:e.pick(o,t),behavior:e.pick(n,t)}}();return e(r.documentServices.pages.getPageIdList(!0)).map(e.ary(r.components.get.byId,1)).flatMap(e.ary(r.behaviors.get,1)).filter(t).map(function(e){return{pageId:e.action.sourceId,popupId:e.behavior.targetId,params:e.behavior.params}}).value()}function h(){function n(e,t){return{id:t.id,label:t.title,type:{isPage:!0,isDynamicPage:!0,routerType:e},isVisible:!0,isVisibleMobile:!0,pageData:t}}function i(t){var n=[],i=e.groupBy(t,"appDefinitionId");return e.forEach(i,function(t){var i=e.groupBy(t,"group");i[void 0]&&(n=n.concat(i[void 0]),delete i[void 0]),e.forEach(i,function(t){var i=function(t,n,i){var a=r.documentServices.platform.getAppManifest(t),s=e.get(a,"routers.pagesGroups."+i+".label");return s?s+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES"):n+" ("+i+")"}(t[0].appDefinitionId,t[0].appDefinitionName,t[0].group),a=e.reduce(t,function(e,t){return e.pages=e.pages.concat(t.pages),e},e.assign({},t[0],{prefix:t[0].prefix,label:i,pages:[]}));n=n.concat(a)})}),n}var a=i(r.documentServices.routers.pages.getDynamicPagesList()),s=[];return e.forEach(a,function(i,a){var l=u(i.appDefinitionId,i.group),c=function(e){return e===r.documentServices.platform.editorApps.DATA_BINDING.appDefId?t.constants.ROUTER_TYPES.DATA_BINDING:t.constants.ROUTER_TYPES.CUSTOM_ROUTER}(i.appDefinitionId),p={id:"router_"+a,isRoot:!0,isVisible:!0,isVisibleMobile:!0,label:i.label||e.upperFirst(i.prefix)+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES")+" ("+l+")",prefix:i.prefix,routerType:c,type:{isRouter:!0},items:e.map(i.pages,e.partial(n,c))};s.push(p)}),s}function f(t,n){var i=e.filter(t,function(t){var o=t.type;return e.includes(n,o)}),r=e.find(i,{type:a.constants.pages.page_settings.pageInfo.type}),s=e.find(i,{type:a.constants.pages.page_settings.seo.type}),l=[];return r&&l.push(function(t){return e.assign(t,{tabTitle:t.title,title:o.translate("Pages_Actions_Page_Settings"),icon:"settingsAction"})}(r)),s&&l.push(function(t){return e.assign(t,{tabTitle:t.title,icon:"seoSettingsAction"})}(s)),l}function b(t){var o=r.documentServices,n=o.routers.getRouterRef.byPrefix(t);if(!n)return[];var i=o.routers.get.byRef(n);return function(t,o){return e.isEmpty(o.pages)?t:t?e.reject(t,{event:"removeRouterClicked"}):[]}(y(c(r.platform.routers.getDataFromRoutersAppManifest(i.appDefinitionId,"routerActions"),"routerActions")),i)||[]}function y(t){return e(t).map(function(t){switch(t.type){case a.constants.members.router_actions.view_site_members.type:return function(t){if(!r.documentServices.generalInfo.isTemplate()){var n=r.site.getMetaSiteId();return e.assign(t,{title:o.translate(a.constants.members.router_actions.view_site_members.title),icon:a.constants.members.router_actions.view_site_members.icon,callback:function(){window.open("https://www.wix.com/my-account/sites/"+n+"/contacts/?tag=contacts-site_members_approved")}})}return null}(t);case a.constants.members.router_actions.open_signup_settings.type:return function(t){return e.assign(t,{title:o.translate(a.constants.members.router_actions.open_signup_settings.title),icon:a.constants.members.router_actions.open_signup_settings.icon,callback:function(){r.panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)}})}(t);case a.constants.pages.page_actions.rename.type:return function(t){return e.assign(t,{icon:a.constants.pages.page_actions.rename.icon,title:o.translate(a.constants.pages.page_actions.rename.title)})}(t);default:return t}}).compact().value()}return{add:function(e,t){return t&&(t.data.pageUriSEO=r.documentServices.pages.data.pageUriSEO.getValid("",t.data.pageUriSEO)),r.documentServices.pages.add(e,t)},navigateTo:function(e,n,i){r.selection.deselectComponents(),o.keyboardShortcuts.disable(),r.documentServices.pages.navigateTo(e),r.documentServices.waitForChangesApplied(function(){s(r.documentServices.pages.getFocusedPageId(),n)}),i||r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},navigateToAndScroll:function(o,n,i){r.selection.deselectComponents(),r.documentServices.pages.navigateToAndScroll(o,n,l),r.documentServices.waitForChangesApplied(e.partial(s,o,i)),r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},getCurrentUrlPageTitle:function(){return r.documentServices?d(r.documentServices,m()):null},getCurrentUrlPageId:m,getPageTitle:function(e){return d(r.documentServices,e)},remove:function(e,t,o,i){r.selection.deselectComponents(),n.removePage(r,r.documentServices,r.removePlugins,e,t,o,i)},beforePageRemoveHook:function(e,t){var o=r.homePage.get(),n=void 0;o===e&&(n=r.mainMenu.getFirstNonHomePageMenuItem())&&(r.homePage.set(n.pageData.id),o=n.pageData.id.replace(/^#/,"")),r.documentServices.pages.navigateTo(o,t)},isPageExist:function(e){return r.documentServices.pages.doesPageExist(e)},isHomePage:function(e){return e===r.homePage.get()},serialize:function(e,t){var o=r.documentServices.pages.serialize(e,!0);return t&&p(o),o},data:{update:function(e,o){o.isLandingPage&&r.selection.deselectComponents(),o.pageUriSEO&&(o.pageUriSEO=r.documentServices.pages.data.pageUriSEO.getValid(e,o.pageUriSEO)),o=t.utils.updateDataUtil.fixData(o),r.documentServices.pages.data.update(e,o),r.documentServices.waitForChangesApplied(function(){i.updatePagePlugins.run(r,e)})}},background:{update:function(e,o,n){o=t.utils.updateDataUtil.fixData(o),r.documentServices.pages.background.update(e,o,n)}},transitions:{set:function(e){r.documentServices.pages.transitions.set(e),r.history.add("page transition")}},popupPages:{close:function(){r.hideFloatingBubble();var e=r.documentServices.pages.getPrimaryPageId();r.pages.navigateTo(e)},getCurrentPopup:function(){var e=r.documentServices.pages.popupPages.getCurrentPopupId();return r.components.get.byId(e)},getCurrentPopupData:function(){var e=r.documentServices.pages.popupPages.getCurrentPopupId();return r.documentServices.pages.data.get(e)},getPopupContainer:function(o){if(!(o=o||r.documentServices.pages.popupPages.getCurrentPopupId()))return null;var n=r.documentServices.components.get.byId(o);return e.head(r.documentServices.components.get.byType(t.constants.COMP_TYPES.POPUP_CONTAINER,n))},getOpenBehaviorsForPopups:g,getOpenBehaviorsForPopupWithId:function(t){return e.filter(r.pages.popupPages.getOpenBehaviorsForPopups(),{popupId:t})},getDataListOrdered:function(){return e.sortBy(r.documentServices.pages.popupPages.getDataList(),"id")},isFullWidthPopupOpened:function(){if(!r.documentServices.pages.popupPages.isPopupOpened())return!1;var e=r.components.properties.get(r.pages.popupPages.getPopupContainer());return e&&"fullWidth"===e.alignmentType}},dynamicPages:{getMenuItems:h,getRouterPageType:function(e){var t=r.documentServices.routers.getRouterDataForPageIfExist(e);return t?u(t.appDefinitionId,t.group):""},getDynamicPageActions:function(t,o,n){var i=r.documentServices,a=i.pages.getReference(t);if(!a)return[];var s=i.routers.getRouterRef.byPage(a);if(!s)return[];var l=i.routers.get.byRef(s);if("pageActions"===o&&l.appDefinitionId===r.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId)return[];var p=y(c(r.platform.routers.getDataFromRoutersAppManifest(l.appDefinitionId,o),o));return"pageSettings"!==o||e.isEmpty(n)||(p=f(p,n)),p||[]},getRouterActionByPrefix:b,getActionByAppDefId:function(t,o,n){var i=y(c(r.platform.routers.getDataFromRoutersAppManifest(t,o),o));return"pageSettings"!==o||e.isEmpty(n)||(i=f(i,n)),i||[]}}}}return{create:r}}),define("rEditor/app/APISections/layoutersWrapper",["rEditor/utils/multiSelectHandler"],function(e){"use strict";return{create:function(t){return{getNonMasterChildren:function(o){return e.call(t,o,{multiCompHandler:t.multiselect.getNonMasterChildren,singleCompHandler:t.documentServices.layouters.getNonMasterChildren})},getParentCompWithOverflowHidden:function(o){return e.call(t,o,{multiCompHandler:t.multiselect.getParentCompWithOverflowHidden,singleCompHandler:t.documentServices.layouters.getParentCompWithOverflowHidden})}}}}}),define("rEditor/app/APISections/platformWrapper",["lodash","util"],function(e,t){"use strict";function o(o){return o.editorEventRegistry.register(o.editorEventRegistry.constants.events.ADD_PANEL_LOADED,function(){if(o.wixCode.isProvisioned()){var e=o.wixCode.fileSystem,t=e.getVirtualDescriptor(e.getRoots().schemas.location,!0);e.getChildren(t).then(function(e){e.length>0&&o.toggleEditorStateParam("hasDatabaseCollections",!0)})}}),o.editorEventRegistry.register(o.editorEventRegistry.constants.events.ADD_PANEL_LOADED,function(){o.documentServices.platform.registerToManifestAdded(function(o,n){var i=e.get(o,"controllersStageData.langs");e.forEach(i,function(e,o){var i={};i[n.applicationId+"_"+o]=e,t.translate.addLangs(i)})})}),{controllers:{getStageData:function(e){return o.documentServices.platform.controllers.getStageData(e)},connections:{isConnectedToDataBindingController:function(t){return e(t).thru(o.documentServices.platform.controllers.connections.get).map("controllerRef").map(o.components.data.get).some({applicationId:"dataBinding"})}}},routers:{getDataFromRoutersAppManifest:function(t,n){return function(t,n){var i=o.documentServices.platform.getAppManifest(t);return e.get(i,n)}(t,["routers",n,"default"])||[]}}}}return{create:o}}),define("rEditor/app/APISections/pinModeWrapper",["lodash","baseUI","util","stateManagement"],function(e,t,o,n){"use strict";function i(t){function i(){r(a.close()),t.getPreviewMode()||t.documentServices.waitForChangesApplied(function(){var i=t.store.getState(),a=n.selection.selectors.getSelectedCompsRefs(i),r=t.components.layout.getDock(a);if(!e.isUndefined(r)){var s=o.pinModeUtils.getDockedDirection(r),l=t.components.layout.get(a);o.pinModeUtils.checkSizeRestrictions(s,l)&&t.panelHelpers.openPinModeSizeRestrictionPanel({state:"on pin",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}})}var r=t.store.dispatch;return{closeAndCheckSizeRestrictions:i}}var a=n.pinMode.logic;return{create:i}}),define("rEditor/app/APISections/promotionsWrapper",["lodash","core","util","staticAssets","stateManagement","experiment"],function(e,t,o,n,i,a){"use strict";function r(r){function s(t){var i=e.template("panels/focusPanels/<%= promotionName %>PromotionPopup.png"),a=e.template("panels/focusPanels/<%= promotionName %>PromotionPopupRetina.png");return o.browserUtil.getDevicePixelRatio()>=2?o.media.getMediaUrl(n.staticAssetsMap[a({promotionName:t})]):o.media.getMediaUrl(n.staticAssetsMap[i({promotionName:t})])}function l(){r.userPreferences.session.get("photo-promo-popup-displayed")||(r.userPreferences.session.set("photo-promo-popup-displayed",!0),r.promotions.photography.displayPopup())}function c(){p=function(){var t=i.userProfile.selectors.getUserProfile(r.store.getState());return e.get(t,["post_reg_category","value"])||""}().toLowerCase(),function(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var e=r.promotions.music;r.documentServices.tpa.app.registerOnInstalled(t.constants.MUSIC_PROMO.APP_DEFINITION_ID,e.displayPopup),e.isActive()&&e.displayPopup()}}(),(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation"))&&e.forEach(t.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,function(e){r.documentServices.tpa.app.registerOnInstalled(e,l)})}var p=void 0;return{initPromotions:c,music:{isActive:function(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var o=r.documentServices.generalInfo.getSiteOriginalTemplateId(),n=e.includes(t.constants.MUSIC_PROMO.TEMPLATE_IDS,o),i=r.documentServices.tpa.app.isInstalled(t.constants.MUSIC_PROMO.APP_DEFINITION_ID);return n||i||e.includes(p,"music")}return!1},displayPopup:function(){r.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"music-promo-popup",headerFirstLineText:"MUSIC_PROMOTION_HEADER_2",imageSrc:s("music"),bodyText:"MUSIC_PROMOTION_BODY_LINE1",bodyLinkText:"MUSIC_PROMOTION_BODY_B4_ENDS",bodyBottomText:"MUSIC_PROMOTION_BODY_EASY",actionText:"MUSIC_PROMOTION_BUTTON_SUBMIT",actionUrl:"MUSIC_PROMOTION_BUTTON_SUBMIT_URL",biEvent:t.bi.events.musicPromotionPopup.submit_video_clicked})}},photography:{isActive:function(){if(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation")){var o=r.documentServices.generalInfo.getSiteOriginalTemplateId().toUpperCase(),n=e.includes(t.constants.PHOTOGRAPHY_PROMO.TEMPLATE_IDS,o),i=e.some(t.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,e.bind(r.documentServices.tpa.app.isInstalled,r)),s=e.includes(p,"photography")||e.includes(p,"design");return n||i||s}return!1},displayPopup:function(){r.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"photo-promo-popup",headerFirstLineText:"PHOTO_PROMO_POP_HEADER1",headerSecondLineText:"PHOTO_PROMO_POP_HEADER2",imageSrc:s("photo"),bodyText:"PHOTO_PROMO_POP_TEXT1",isImageLinkActive:!1,actionText:"PHOTO_PROMO_POP_BUTTON_TEXT",actionUrl:"PHOTO_PROMO_POP_BUTTON_URL",biEvent:t.bi.events.photographyPromotionPopup.submit_video_clicked})}}}}return{create:r}}),define("rEditor/app/APISections/togglePreviewWrapper",["lodash","core","baseUI","constants","util","stateManagement"],function(e,t,o,n,i,a){"use strict";function r(r){function s(s){var c=e.isFunction(s)?[s]:[];c.push(l),r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),function(){var t=r.store.getState().eventCounters,o=e.defaults({clearTextSelection:t.clearTextSelection+1},t);r.store.dispatch(a.legacy.setState({eventCounters:o}))}(),o.tooltipManager.hide(n.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),i.keyboardShortcuts.setContext(i.keyboardShortcuts.CONTEXTS.PREVIEW),function(t){var o=u.concat(t);r.updateState({previewMode:!0,contextMenu:null},function(){e.invokeMap(o,Function.call),r.documentServices.waitForChangesApplied(r.actions.executeAnimationsInPage)})}(c)}function l(){var e=r.isMobileEditor(),o=!r.userPreferences.site.get(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN);!e&&o&&(r.userPreferences.site.set(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0),r.waitForChangesApplied(r.topBar.animateModeSwitch))}function c(e){var t=d();t&&(r.panelManager.closeAllPanels(),r.selection.deselectComponents()),r.prepareDocumentForPreviewMode(t),r.setRenderPlugins(t),r.documentServices.waitForChangesApplied(function(){t?s(e):function(){r.documentServices.components.modes.resetAllActiveModes();var e=r.site.getScroll();r.scroll.scrollTo({scrollLeft:e.x,scrollTop:e.y}),r.updateState({previewMode:!1},function(){r.hideFloatingBubble(),i.keyboardShortcuts.setContext(i.keyboardShortcuts.CONTEXTS.EDITOR),r.isMobileEditor()&&r.panelHelpers.openMobileEditorFirstTimePanelIfNeeded()})}()})}function p(){return!!r.store.getState().previewMode}function d(){return!p()}var u=[];return{registerToGoToPreview:function(e){u.push(e)},togglePreview:function(t){d()?r.wixCode.prepareBeforePreview(e.partial(c,t)):c(t)},isInPreviewMode:p}}return{create:r}}),define("rEditor/app/APISections/account",["lodash","jquery","util","core","rEditor/bi/bi"],function(e,t,o,n,i){"use strict";return{create:function(a){function r(){var e=a.documentServices.generalInfo.getMetaSiteId(),t=s+"history/"+e+"/?referralInfo=EDITOR";window.open(t)}var s=o.serviceTopology.dashboardUrl.replace(/create\//,"")+"/",l="1480c568-5cbd-9392-5604-1148f5faffa0",c={},p="https://www."+o.serviceTopology.serverName+"/_api/wix-laboratory-server/laboratory/conductAllInScope?scope=my-account",d="specs.wos.OpenNewSEOWizard";return{isUserOwner:function(){var e=o.editorModel.permissionsInfo;return e&&e.ownerId===e.loggedInUserId},isUserContributor:function(){return!a.account.isUserOwner()},openConnectDomain:function(t,o){var n=a.documentServices.generalInfo.isFirstSave();o=e.isBoolean(o)?o:!a.documentServices.generalInfo.isSitePublished();var i=a.site.isPremium();a.panelManager.openPanel("savePublish.panels.connectDomain",{isFirstSave:n,isFirstPublish:o,isPremium:i,title:"PREMIUM_PUBLISH_TITLE",subtitle:i?"PREMIUM_PUBLISH_SUBTITLE":"CONNECT_DOMAIN_DIALOG_FREE_SUBTITLE",flowId:t},!0)},openSettings:function(e,t){a.panelManager.openPanel("rEditor.panels.siteSettingsPanel",{helpId:"49cebc11-f15c-4cf8-82d9-2c36c5397520",tab:e,referrer:t})},openRevisions:function(){a.userPreferences.site.get(n.constants.USER_PREFS.SITE_REVISIONS.SITE_HISTORY_DONT_SHOW_AGAIN)?r():a.panelManager.openPanel("panels.messagePanels.siteRevisionsPanel",{onButtonClick:function(e){e&&a.account.openSiteHistory()}})},manage:function(){var e=a.documentServices.generalInfo.getMetaSiteId();window.open(s+"sites/"+e+"/?referralInfo=EDITOR")},transferSite:function(){var e=a.documentServices.generalInfo.getMetaSiteId();window.open(s+"sites/"+e+"/site-settings/overview?referrer==EDITOR")},openSiteHistory:r,upgrade:function(e){var t=e.replace(/edhtml_/,"")||"unknown";a.bi.event(i.events.UPGRADE_EVENT,{origin:t});var n=a.documentServices.generalInfo.getMetaSiteId(),r=e?"referralAdditionalInfo="+e:"",s=o.serviceTopology.premiumServerUrl||"https://premium.wix.com";s+="/wix/api/premiumStart?"+r+"&siteGuid="+n,window.open(s)},getEditorVersionsInfo:function(){return window.editorVersionsInfo||null},getWixSEOWizURL:function(e){var t=a.documentServices.generalInfo.getMetaSiteId(),o=s+"sites/"+t+"/app/"+l+"?app=seo";return e?o+"&referralInfo="+e:o},openWixSEOWiz:function(e){window.open(a.account.getWixSEOWizURL(e),"_blank")},initMyAccountExperiments:function(){t.ajax({url:p,xhrFields:{withCredentials:!0},success:function(e){c=e}})},isWixSEOWizExperimentOpen:function(){return"true"===c[d]}}}}}),define("rEditor/app/APISections/mobileEditor",["lodash","core","coreUtilsLib","util","baseUI","mobileEditor","constants","stateManagement","experiment"],function(e,t,o,n,i,a,r,s,l){"use strict";function c(c){function m(t,o){var n=e.assign({},c.store.getState().mobile,{reAddedHiddenElement:{compRef:t,addingPhase:o}});c.updateState({mobile:n})}function g(){return c.store.getState().mobile.isHiddenItemsCounterVisible}function h(){m(null,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE)}function f(o){var n=e.defaults({targetId:o.id},u);c.components.behaviors.previewAnimation(o,n,function(e){c.selection.selectComponentByCompRef(e),c.documentServices.documentMode.setComponentVisibility(e.id,!0),m(e,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH),window.clearTimeout(E),E=window.setTimeout(h,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.TOOLTIP_TIMEOUT)}.bind(this,o))}function b(e,n){l.isOpen("se_animateReAddMobileItem")&&c.documentServices.documentMode.setComponentVisibility(e,!1),c.documentServices.mobile.hiddenComponents.show(e,n),l.isOpen("se_animateReAddMobileItem")&&c.documentServices.waitForChangesApplied(function(e){var n=c.components.get.byId(e);m(n,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IN_PROGRESS);var i=c.components.layout.getRelativeToScreen(n).y-d,a=o.scrollUtils.calcScrollDuration(c.site.getScroll().y,i,c.isMobileEditor());c.scroll.animateScrollTo({y:i},a,f.bind(this,n))}.bind(this,e))}function y(){var e=c.documentServices.pages.getFocusedPageId();c.mobile.reLayoutPage(e),c.history.add("relayout"),c.bi.event(t.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_REFRESH_LAYOUT_CLICK,{current_page_name:e}),function(){var e=n.url.isQA();return"true"===n.url.getParameterByName("qa_magicLayoutTooltip")||!e}()&&function(){if(l.isOpen("newTopBar")){var e=r.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.MOBILE_OPTIMIZE_LAYOUT_UNDO;c.topBarMenuBar.openDropDown(e),window.setTimeout(c.topBarMenuBar.closeDropDown.bind(c,e),5e3)}else P({onClose:v,props:{title:"TOPBAR_UNDO_TOOLTIP_TITLE",text:"TOPBAR_MOBILE_TOOLTIP_UNDO_BODY",link:null,linkAction:null,onClose:function(){i.tooltipManager.hide(t.constants.TOP_BAR.TOOLTIP_ID.UNDO)}},closeDelay:5e3,openTriggers:[r.UI.TOOLTIP.TRIGGERS.IMMEDIATE],closeTriggers:[r.UI.TOOLTIP.TRIGGERS.TIMER]})}()}function v(){P(null)}function P(t){c.updateState({topBarCustomization:e.defaultsDeep({tooltipOverrides:{UNDO:t}},c.store.getState().topBarCustomization)})}var E=null;return{mobileOnlyComponents:{enableBackToTopButton:function(e){c.documentServices.mobile.mobileOnlyComponents.enableBackToTopButton(e)},removeQuickActionBar:function(){c.documentServices.mobile.qab.clearActions(),e.some(c.panelManager.getPanelsOfType("leftPanelFrame"),{name:"mobileEditor.mobileElementsPanel"})||p.show("mobileElementsPanel_quickActionBar_afterRemove")}},hiddenComponents:{get:function(e){return c.documentServices.mobile.hiddenComponents.get(e)},show:b,getReAddedHiddenElement:function(){return c.store.getState().mobile.reAddedHiddenElement},setReAddedHiddenElement:m},hideHiddenItemsCounter:function(){g()&&c.updateState({mobile:e.defaults({isHiddenItemsCounterVisible:!1},c.store.getState().mobile)},function(){c.store.dispatch(s.leftBar.actions.setNotificationsCount("mobileEditor.hiddenItemsPanel",0))})},optimizeLayout:y,updateLeftBarNotificationsCount:function(){if(c.documentServices.pages.getFocusedPageId()){var e=l.isOpen("se_mobileHiddenItemsCounter")&&g()?a.hiddenItemsUtils.getFocusedPageHiddenComps(c,c.documentServices.pages.getFocusedPageId()).length:0;c.store.dispatch(s.leftBar.actions.setNotificationsCount("mobileEditor.hiddenItemsPanel",e))}}}}var p=i.tooltipManager,d=50,u={action:"",duration:.3,name:"FadeIn"};return{create:c}}),define("rEditor/app/APISections/mouseActions",["lodash","core","util","experiment"],function(e,t,o,n){"use strict";return{create:function(t){function i(n){n.preventDefault();var i=t.store.getState();s&&e.isFunction(s.on)&&(!i.performingMouseMoveAction&&(o.keyboardShortcuts.disable(),t.updateState({performingMouseMoveAction:!0,lastSelectionClickPos:null})),s.on(n))}function a(i){i.preventDefault();var a=t.store.getState();if(s&&e.isFunction(s.end)&&s.end(i),o.keyboardShortcuts.enable(),n.isMultiValueExperimentOpen("editorHintsConfigs")){var l=s?s.type:null,c=t.pluginService.getPlugin("mouseMoveEndPlugin","*");e.isFunction(c)&&c(l,a.performingMouseMoveAction)}r()}function r(){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",a);var o={isUsingWindowMouseEvents:!1,performingMouseMoveAction:!1};e.isEqual(o,e.pick(t.store.getState(),e.keys(o)))||t.updateState(o),s=null}var s=null;return{isPerformingMouseMoveAction:function(){return t.store.getState().performingMouseMoveAction},onMouseMove:i,onMouseUp:a,onEditorViewMouseMove:function(e){var o=t.store.getState();s&&!o.isUsingWindowMouseEvents&&i(e)},onEditorViewMouseUp:function(e){var o=t.store.getState();s&&!o.isUsingWindowMouseEvents&&a(e)},turnOffMouseEvents:r,registerMouseMoveAction:function(o,r,l){if(e.isFunction(o.start)&&o.start(t,r),l&&(window.addEventListener("mousemove",i),window.addEventListener("mouseup",a)),s=o,t.updateState({isUsingWindowMouseEvents:!!l}),n.isMultiValueExperimentOpen("editorHintsConfigs")){var c=t.pluginService.getPlugin("mouseMoveStartPlugin","*");e.isFunction(c)&&c()}},shouldInitLassoToolOnMouseDown:function(e){var n=t.selection.getSelectedComponents();if(t.selection.isSelectedCompUnderCursorAndBeneathSiteSegment(n,e))return!1;var i=t.selection.getComponentUnderClickToBeSelected(e);if(o.browserUtil.isSpecialKeyPressed(e))return!0;if(t.selection.isHiddenComponentDraggedNext())return!1;if(t.components.is.siteSegment(i)||t.components.is.page(i))return!0;var a=t.components.is.container(i),r=t.components.is.allowLassoOnContainer(i);return a&&r&&(!t.selection.isComponentSelected(i)||!t.components.is.movable(i))},getRegisteredMouseMoveAction:function(){return s},setRegisteredMouseMoveAction:function(e){s=e}}}}}),define("rEditor/app/APISections/tpaWrapper",["lodash","tpa"],function(e,t){"use strict";return{create:function(e){return{addApplication:function(o,n){return new Promise(function(i,a){t.services.tpaAddAppService.isAppInstalled(e,o,!0)?a(new Error("Application already installed.")):e.documentServices.tpa.appMarket.getDataAsync(o).then(function(r){if(r&&!r.error){var s="Wix"===r.by;if(s){var l=r.hasSection?"tpaSection":"tpaWidget",c=t.constants.BI.initiator.PLATFORM;t.services.tpaAddAppService.addApp(e,o,r.name,null,l,c,!s,{adding_method:"platform"},n,i)}else a(new Error("Only wix apps are allowed"))}else a(new Error("Application with "+o+" appDefinitionId do not exist."))})})},addComponent:function(o){return new Promise(function(n,i){t.services.tpaAddComponentService.addComponent(e,null,o,function(e){e.onError?i(new Error(e.onError)):n(e)})})}}}}}),define("rEditor/app/APISections/mediaWrapper",["rEditor/utils/multiSelectHandler"],function(e){"use strict";return{create:function(t){return{vectorImage:{getSvgOriginalAspectRatio:function(o){return e.call(t,o,{multiCompHandler:t.multiselect.media.getSvgOriginalAspectRatio,singleCompHandler:t.documentServices.media.vectorImage.getSvgOriginalAspectRatio})}}}}}}),define("rEditor/app/pluginService",["lodash"],function(e){"use strict";return{create:function(){var t={};return{pluginConstants:{DOUBLE_CLICK:"doubleClick"},registerPlugin:function(o,n,i){e.set(t,[o,n],i)},getPlugin:function(o,n){return e.get(t,[o,n])}}}}}),define("rEditor/app/updateThemePlugins/tinyMenu",["lodash"],function(e){"use strict";return function(t,o){if(o&&o.style&&o.style.properties){var n=o.style.properties,i=o.style.propertiesSource,a=n["alpha-txt"];if(e.isUndefined(a)||(e.isUndefined(n["alpha-iconcolor"])&&(n["alpha-iconcolor"]=a),e.isUndefined(n["alpha-bordercolor"])&&(n["alpha-bordercolor"]=a)),delete n["alpha-txt"],delete n["alpha-txts"],i){var r=i["alpha-txt"];i["alpha-iconcolor"]=i["alpha-iconcolor"]||r,i["alpha-bordercolor"]=i["alpha-bordercolor"]||r,delete i["alpha-txt"],delete i["alpha-txts"]}}}}),define("rEditor/app/updateThemePlugins/designDataThemeChangeHandler",["lodash","util"],function(e,t){"use strict";return function(o,n){var i=n.values;"COLOR"===n.type&&e(o.components.getAllComponents()).reduce(function(e,t){var n=o.components.design.get(t);return n&&e.push({pointer:t,data:n}),e},[]).forEach(function(e){var n=e.data;t.designData.updateThemeColors(n,i),o.components.design.update(e.pointer,n,!0)})}}),define("rEditor/app/updateThemePlugins",["lodash","rEditor/app/updateThemePlugins/tinyMenu","rEditor/app/updateThemePlugins/designDataThemeChangeHandler"],function(e,t,o){"use strict";function n(e,t){var o=i[t.skin];o&&o(e,t)}var i={"wysiwyg.viewer.skins.mobile.TinyMenuSkin":t};return{register:function(t){t.theme.styles.registerHook(n);var i=e.bind(o,{},t);t.documentServices.theme.events.onChange.addListener(i)}}}),define("rEditor/app/tooltipTextService",["lodash"],function(e){"use strict";var t={};return{registerTooltipText:function(o,n,i){e.isUndefined(t[o])&&(t[o]={}),t[o][n]=i},getTooltipText:function(e,o){return t[e]?t[e][o]||null:null},getSelectedComponentTooltipText:function(e){var t=this.selection.getSelectedComponents();return this.tooltipTextService.getComponentTooltipText(t,e)},getComponentTooltipText:function(e,t){var o=this.components.getType(e);return this.tooltipTextService.getTooltipText(o,t)},clearAllToolTipsText:function(){t={}}}}),define("rEditor/pasteLogic/pasteLogicCalculations",["experiment"],function(e){"use strict";var t={xOffset:40,yOffset:30,newStackOffset:{x:60,y:40},bottomThreshold:80,rightThreshold:80};return{getNextComponentPosition:function(o){return e.isOpen("se_pasteBehaviorFix")&&(t.xOffset=20,t.yOffset=20),{x:o.x+t.xOffset,y:o.y+t.yOffset}},getNewStackComponentPosition:function(e){return{x:e.x+t.newStackOffset.x,y:e.y-t.newStackOffset.y}},cannotFitIntoViewPort:function(e,o,n){var i=t.rightThreshold,a=t.bottomThreshold;return n&&(i=0,a=0),o.x+i>e.rightX||o.y+a>e.stageLayout.bottom+e.scrollTop},getCenteredCompPosition:function(t,o,n){if(e.isOpen("se_pasteBehaviorFix"))return function(e,t,o){var n=e.documentServices.siteSegments.getPagesContainer(),i=e.components.layout.getRelativeToScreen(n);return{x:(i.width-o.width)/2+i.x,y:(t.stageLayout.height-o.height)/2+t.scrollTop+i.y}}(t,o,n);var i=t.documentServices.siteSegments.getPagesContainer(),a=t.documentServices.siteSegments.layout.get(i);return{x:(a.width-n.width)/2,y:(o.stageLayout.height-n.height)/2+o.scrollTop-a.y}},isComponentInViewPort:function(e,o){return o.y>=e.stageLayout.top&&o.y+t.bottomThreshold<=e.stageLayout.bottom-e.stageLayout.top+e.scrollTop},cannotFitIntoPageHeight:function(e,t,o){var n=e.documentServices.siteSegments.getPagesContainer(),i=e.documentServices.siteSegments.layout.get(n);return o.y>i.height+t.stageLayout.top}}}),define("rEditor/pasteLogic/ComponentPasteLogic",["lodash","core","rEditor/pasteLogic/pasteLogicCalculations"],function(e,t,o){"use strict";function n(e){return e!==this.lastCompPage}function i(e,t,i,a){var r={};if(function(e,t,i){return this.centerOnFirstPaste||n.call(this,i)&&o.cannotFitIntoPageHeight(e,t,this.originalCompPosition)}.call(this,e,t,a))(function(e){return e.y<0})(r=o.getCenteredCompPosition(e,t,i))&&(r.y=0);else if(n.call(this,a))!function(e,t,n){o.isComponentInViewPort(t,n)||e.ui.scroll.setScroll({scrollLeft:0,scrollTop:n.y})}(e,t,r=this.originalCompPosition);else{var s=e.ui.scroll.getScroll();r={x:this.originalCompPosition.x,y:this.originalCompPosition.y-this.originalScrollPosition+s.scrollTop}}return this.firstCompPosition=r,r}function a(e){e=e||{},this.originalCompPosition={},this.originalScrollPosition=0,this.firstCompPosition={},this.lastCompPosition={},this.lastCompPage="",this.centerOnFirstPaste=e.centerOnFirstPaste||!1,this.lastScrollPosition=null}return a.prototype.setPasteData=function(e,t,o){this.originalScrollPosition=o.scrollTop,this.originalCompPosition={x:e.x,y:e.y},this.firstCompPosition={x:e.x,y:e.y},this.lastCompPosition={x:e.x,y:e.y},this.lastCompPage=t},a.prototype.resetPastePosition=function(){this.firstCompPosition={},this.lastCompPosition={}},a.prototype.getPastePosition=function(a,r,s){var l=a.ui.scroll.getScroll();this.lastScrollPosition&&!e.isEqual(l,this.lastScrollPosition)&&this.resetPastePosition();var c=t.utils.stageUtils.getViewPort(!0),p=e.pick(r,["width","height"]),d={};return function(e){this.lastCompPage||(this.lastCompPage=e),n.call(this,e)&&this.resetPastePosition()}.call(this,s),d=function(){return e.isEmpty(this.firstCompPosition)}.call(this)?i.call(this,a,c,p,s):function(e){var t=o.getNextComponentPosition(this.lastCompPosition);return o.cannotFitIntoViewPort(e,t)&&(t=o.getNewStackComponentPosition(this.firstCompPosition),this.firstCompPosition=t),t}.call(this,c),this.lastCompPosition=d,this.lastCompPage=s,this.lastScrollPosition=l,e.clone(d)},a}),define("rEditor/pasteLogic/AddPanelPasteLogic",["rEditor/pasteLogic/ComponentPasteLogic"],function(e){"use strict";function t(){e.call(this,{centerOnFirstPaste:!0}),this.lastCompTypeAdded=""}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getPastePosition=function(t,o,n,i){return i!==this.lastCompTypeAdded&&this.resetPastePosition(),this.lastCompTypeAdded=i,e.prototype.getPastePosition.call(this,t,o,n)},t}),define("rEditor/pasteLogic/pasteLogicContext",["lodash","rEditor/pasteLogic/ComponentPasteLogic","rEditor/pasteLogic/AddPanelPasteLogic"],function(e,t,o){"use strict";return{pasteContext:new t,duplicateContext:new t,addContext:new t({centerOnFirstPaste:!0}),addPanelPasteLogic:new o}}),define("rEditor/utils/openPanelByURLData",["lodash","experiment"],function(e,t){"use strict";var o={addPanel:{name:"addPanelInfra.addPanel",propsGenarator:function(e,t){return{category:e,section:t}}},siteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},pagesPanel:{name:t.isOpen("newPagesPanel")?"pages.pagesPanel":"rEditor.panels.pagesAndPopupsPanel",propsGenarator:function(e){return{initialSettingsTabTitle:e}}},feedMe:{name:"panels.focusPanels.feedbackPanel"},blog:{name:"blog.menuPanel"},background:{name:"rEditor.panels.backgroundPanel"},wixStore:{name:"wixStore.panels.wixStorePanel",shouldOpenPanelByRestrictions:function(e){return e.documentServices.tpa.app.isInstalled("1380b703-ce81-ff05-f115-39571d94dfcd")}},accessibilityPanel:{name:"panels.focusPanels.accessibilityPanel"}},n={mobileHidden:{name:"mobileEditor.hiddenItemsPanel"},mobileBackground:{name:"rEditor.panels.backgroundPanel"},mobileSiteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},mobileElements:{name:"mobileEditor.mobileElementsPanel",propsGenarator:function(e){return{mobileElementId:e}}},mobileLayoutOptimizer:{name:"mobileEditor.layoutOptimizerPanel"}};return{allPanels:function(){var t=e.merge({},o,n);return e.mapKeys(t,function(e,t){return t.toLowerCase()})}(),mobilePanels:e.mapKeys(n,function(e,t){return t.toLowerCase()})}}),define("rEditor/utils/openPanelByURL",["lodash","rEditor/utils/openPanelByURLData"],function(e,t){"use strict";function o(e){var t=n(e),o=t?t.split("."):"",i=o?o[0]:"";return"mobile"===i||function(e){return e&&!!r[e]}(i)}function n(t){var o=e.mapKeys(t,function(e,t){return t.toLowerCase()}).openpanel;return o?o.toLowerCase():""}function i(t,o){var i=n(t);if(function(t,o){if(t){var n=t.split(".")[0],i=!e.isFunction(e.get(a[n],"shouldOpenPanelByRestrictions"))||a[n].shouldOpenPanelByRestrictions(o);return!!a[n]&&i}}(i,o)){var r=a[i.split(".")[0]].name,s=function(t){var o=t.split("."),n=o[0],i=o.slice(1);if(a[n]&&e.isFunction(a[n].propsGenarator)&&i.length){var r=a[n].propsGenarator.apply(null,i);return e.omit(r,e.isUndefined)}return{}}(i);o.panelManager.openPanel(r,s)}}var a=t.allPanels,r=t.mobilePanels;return{shouldLoadMobileEditor:o,openPanel:i}}),define("rEditor/app/EditorAPI",["coreUtilsLib","lodash","jquery","core","baseUI","panels","util","tpa","shoutOut","wixStore","wixBookings","mediaServices","compPanels","rEditor/app/panelHelpers","rEditor/app/updateOperationsPlugins","rEditor/app/pluginsRegistrar","userPreferences","savePublish","gfppData","platform","addPanel","rEditor/rootComps/gfpp/gfppModel","rEditor/app/APISections/concurrentUsersWrapper","rEditor/app/APISections/themeWrapper","rEditor/app/APISections/historyWrapper","rEditor/app/APISections/imageCrop","rEditor/app/APISections/siteWrapper","rEditor/app/APISections/developerMode","rEditor/app/APISections/selectedComponent","rEditor/app/APISections/savePublishWrapper","rEditor/app/APISections/componentsWrapper","rEditor/app/APISections/rulersAPI","rEditor/app/APISections/tabIndicationState","rEditor/app/APISections/feedback","rEditor/app/APISections/mainMenuWrapper","rEditor/app/APISections/menuWrapper","rEditor/app/APISections/multiselect","rEditor/app/APISections/addPanelAPI","rEditor/app/APISections/topBarAPI","rEditor/app/APISections/selection","rEditor/app/APISections/databaseEditor","rEditor/app/APISections/welcomeScreensWrapper","rEditor/app/APISections/copyPasteWrapper","rEditor/app/APISections/wixStoresFlowAPI","rEditor/app/APISections/editorUI","rEditor/app/APISections/wixCode","rEditor/app/APISections/columns","rEditor/app/APISections/pagesWrapper","rEditor/app/APISections/layoutersWrapper","rEditor/app/APISections/platformWrapper","rEditor/app/APISections/pinModeWrapper","rEditor/app/APISections/promotionsWrapper","rEditor/app/APISections/togglePreviewWrapper","rEditor/app/APISections/account","rEditor/app/APISections/mobileEditor","rEditor/app/APISections/mouseActions","rEditor/app/APISections/tpaWrapper","rEditor/app/APISections/mediaWrapper","rEditor/app/pluginService","rEditor/app/updateThemePlugins","rEditor/app/tooltipTextService","rEditor/pasteLogic/pasteLogicContext","rEditor/utils/openPanelByURL","textControls","blog","editorEventRegistry","experiment","constants","rEditor/bi/bi","stateManagement","uiAnimations"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h,f,b,y,v,P,E,S,T,C,I,_,O,M,A,w,R,D,k,N,B,x,L,F,H,U,G,V,W,q,z,j,Y,K,X,Z,Q,J,$,ee,te,oe,ne,ie,ae,re,se,le,ce,pe,de,ue,me,ge,he){"use strict";function fe(fe,_e){function Oe(e){if($e.store.dispatch(he.legacy.setState({previewReady:!0})),e&&(we(e),$e.bi.event=Ge),xe(),Xe.complete(function(e,o){if("success"===o){var n=e.responseJSON,i=n.payload&&n.payload.fields;fe.dispatch(he.userProfile.actions.setUserProfile(t.keyBy(i,"name")))}}),De(),$e.components.onPreviewReady(),$e.account.initMyAccountExperiments(),Ae(),$e.saveManager.setTimerForSaveReminder(),$e.feedback.init(),$e.documentServices.registerToSiteChanged($e.notifyViewerUpdate),$e.autosaveManager.init(),$e.documentServices.documentMode.enableAction("screenIn",!1),$e.documentServices.documentMode.enableAction("scrollScrub",!1),$e.documentServices.documentMode.enableAction("viewportEnter",!1),$e.documentServices.documentMode.enableAction("viewportLeave",!1),$e.documentServices.documentMode.enableAction("modeChange",!1),$e.documentServices.documentMode.enableAction("load",!1),$e.documentServices.documentMode.enableAction("exit",!1),$e.documentServices.documentMode.enableBgVideoAutoplay(!1),$e.documentServices.generalInfo.isFirstSave()||$e.store.dispatch(he.leftBar.logic.collapseMenu()),n.bi.registerEvents($e),Re(),$e.campaigns.fetchCampaignInfo(),$e.documentServices.generalInfo.isFirstSave()&&$e.initTemplateCharacterSet(),$e.mediaServices.fontsManager.init(),Xe.then($e.promotions.initPromotions),function(e){var o=r.url.parseUrl(window.document.location.href).query||"",n=t.mapKeys(o,function(e,t){return t.toLowerCase()}),i=t.partial(le.openPanel,n,e);n.pageid?e.pages.navigateTo(n.pageid,i):i()}($e),L.loadAndCreate($e,Me),ue.isOpen("se_multilingual")){var o=r.url.parseUrlParams(window.location),i=o.languages&&o.languages.split(","),a=$e.language,s=a.multilingual.isEnabled();if(i&&!s){a.multilingual.init(i[0]),t.forEach(i.slice(1),function(e){a.add(e),a.public.set(e,!0)});var l=P.sections.getSections().menu.languageSelectorSection.props.items[0],c=$e.documentServices.siteSegments.getHeader();$e.components.add(c,l.structure,void 0,function(e){$e.selection.selectComponentByCompRef(e)})}}$e.store.dispatch(he.legacy.logic.onPreviewReady())}function Me(e){$e.addPanel=e,function(e){var t=e.documentServices.generalInfo.getUserInfo().email;e.mediaServices.setIsEmailWithWixDomain(/@wix\.com$/.test(t)),e.mediaServices.setSiteMediaToken(e.documentServices.generalInfo.getSiteToken()),e.savePublish.registerFirstSaveCallback(function(){e.mediaServices.setSiteMediaToken(e.documentServices.generalInfo.getSiteToken())})}($e);var t=$e.editorEventRegistry.constants.events.ADD_PANEL_LOADED;s.onPreviewReady($e),c.onPreviewReady($e),l.onPreviewReady($e),p.onPreviewReady($e),pe.onPreviewReady($e),u.onPreviewReady($e),r.automationUtil.onPreviewReady($e),$e.bi.event(n.bi.events.editor.Add_PANEL_LOADED,{}),$e.editorEventRegistry.dispatch(t,$e)}function Ae(){var e=$e.documentServices.seo.title.get()||"",t=$e.documentServices.seo.description.get()||"",o=$e.documentServices.seo.keywords.get()||"",n=$e.homePage.get(),i=$e.documentServices.pages.data.get(n);i.pageTitleSEO=e,i.descriptionSEO=t,i.metaKeywordsSEO=o,$e.pages.data.update(n,i)}function we(e){var o=void 0;o=ue.isOpen("cachedDocumentServices")&&e.withCache?e.withCache():e,function(e,o){t.defaultsDeep(e,o)}($e,o),$e.documentServices=o,fe.dispatch(he.legacy.logic.loadDocumentServices(o))}function Re(){h.register($e),ae.register($e)}function De(){function e(e){Xe.then(function(){i=i||e===n.constants.USER_PREFS.TYPES.GLOBAL,a=a||e===n.constants.USER_PREFS.TYPES.SITE,i&&(a||r)&&($e.userPreferencesInitCallbacksInvoked=!0,t.forEach($e.userPreferencesInitCallbacks,function(e){e()}))})}var o=$e.documentServices.generalInfo.getSiteId(),i=void 0,a=void 0,r=$e.documentServices.generalInfo.isFirstSave();$e.userPreferences.loadGlobalPreferences().then(t.partial(e,n.constants.USER_PREFS.TYPES.GLOBAL)),r||$e.userPreferences.loadSitePreferences(o,!1).then(t.partial(e,n.constants.USER_PREFS.TYPES.SITE)).catch(t.partial(e,n.constants.USER_PREFS.TYPES.SITE))}function ke(e){var o=fe.getState(),n=t.isUndefined(e)?o.hideTools&&!o.hideToolsAndMaintainStagePosition:e,i=Ee.TOPBAR_HEIGHT;return n&&(i-=Ee.OFFSET_TOP_WHEN_TOOLS_HIDDEN),$e.isMobileEditor()&&(i+=Ee.MOBILE_PREVIEW_TOP),i}function Ne(e){$e.updateState({scrollTo:e})}function Be(){return fe.getState().openPanels}function xe(){var e=fe.getState();e.editorIsInit||$e.prepareDocumentForPreviewMode(!1);var o=he.selection.selectors.getSelectedCompsRefs(e),n=$e.getPendingStateChanges();$e.pendingStateChanges={},$e.pendingEditorStateUpdateCallbacks=[];var i=t.filter(o,$e.documentServices.components.is.rendered);!t.isEqual(i,o)&&($e.mouseActions.turnOffMouseEvents(),$e.pendingStateChanges.focusedContainer=null);var a=$e.documentServices.viewMode&&$e.documentServices.viewMode.get()===$e.documentServices.viewMode.VIEW_MODES.MOBILE,r=t.defaults({config:t.defaults({previewHeight:$e.documentServices.site.getHeight()},fe.getState().config),previewPosition:t.defaults({top:ke()},e.previewPosition),editorIsInit:!0,isMobileEditor:a,viewerRendersCounter:e.viewerRendersCounter+1},n);fe.dispatch(he.legacy.setState(r)),i.length!==o.length&&fe.dispatch(he.selection.actions.selectComponents(i)),fe.dispatch(he.highlights.logic.updateHighlights()),fe.flush(),$e.shouldUpdateEditorScrollAfterHeightUpdate&&($e.applyPreviewScrollToEditorScroll(),$e.shouldUpdateEditorScrollAfterHeightUpdate=!1)}function Le(e){return $e.documentServices.tpa.isTpaByCompType(e)}function Fe(e){$e.documentServices.renderPlugins.allowSiteOverflow(e),$e.documentServices.renderPlugins.setExtraSiteHeight(e||$e.isMobileEditor()?0:$e.editorConfig.extraSiteHeight),$e.documentServices.renderPlugins.setPreviewTooltipCallback(function(e,o){var i=function(e,o){var n=t.pick(e,["top","left","height","width"]);return n.top+=o,n}(e,$e.getPreviewPosition().top);$e.showFloatingBubble(o,i),Ce=window.setTimeout($e.hideFloatingBubble,n.constants.PREVIEW.FLOATING_BUBBLE_TIMEOUT)}),$e.documentServices.renderPlugins.setErrorPagesPopUp(function(e){$e.preview.isInPreviewMode&&$e.panelManager.openPanel("panels.errorPages.errorPagePanel",{errorInfo:e,routerAddress:e.routerUrl})})}function He(e){var t=fe.getState();if(!e||t.isOpenTextEditor||he.pinMode.selectors.isOpen(t))return{horizontallyMovable:!1,verticallyMovable:!1};var o=$e.components.getRestrictions(e,["verticallyMovable"]);return o.horizontallyMovable=he.componentMetaData.isHorizontallyMovable($e.components.asArray(e),$e.documentServices),o}function Ue(){return $e.store.getState().previewReady}function Ge(e,t){fe.dispatch(he.bi.event(e,t))}function Ve(e){var o=ue.isOpen("newTopBar")?{openDropDown:We,closeDropDown:function(e){if(!ue.isMultiValueExperimentOpen("editorHintsConfigs")&&!fe.getState().topBar.shouldDropPanelRemainOpen){var t=fe.getState().topBar.openedDropPanel;e&&e!==t||We(null)}},getOpenedDropDown:function(){return fe.getState().topBar.openedDropPanel},disableDropDown:ze.bind(this,!1),enableDropDown:ze.bind(this,!0),enableClose:function(e){qe("shouldDropPanelRemainOpen",e)}.bind(this,!0),shouldBeVisible:t.noop}:e;t.assign($e.topBarMenuBar,o)}function We(e,o){var i=fe.getState().topBar;i.dropPanelDisabled||(Ye({topBar:t.assign({},i,{openedDropPanel:e,shouldDropPanelRemainOpen:o&&ue.isMultiValueExperimentOpen("editorHintsConfigs")})}),$e.openPanelTimeout&&window.clearTimeout($e.openPanelTimeout),e&&($e.openPanelTimeout=window.setTimeout(function(){$e.bi.event(n.bi.events.topbar.TOP_BAR_PANEL_OPENED,{menu_name:e})},3e3)))}function qe(e,o){if(ue.isMultiValueExperimentOpen("editorHintsConfigs")){var n=fe.getState().topBar,i={};i[e]=t.isUndefined(o)?!n[e]:!o,Ye({topBar:t.assign({},n,i)})}}function ze(e){qe("dropPanelDisabled",e)}function je(e){return $e.panelHelpers.openPagesPanel(e)}function Ye(e,o){t.isFunction(o)&&(null===t.last(Qe)&&(Qe=[],Je=-1),Qe.push(o));var n=t.defaults({__renderCounter:Qe.length},e);fe.dispatch(he.legacy.setState(n))}var Ke={scrollTop:0,scrollLeft:0},Xe=function(){var e=(r.serviceTopology.wixStoresMigrationServiceUrl.replace(/ecommerce-migration-web\//,"bi-profile-webapp/userprofile")||"https://editor.wix.com/_api/wix-bi-profile-webapp/userprofile")+"?fields=post_reg_category,post_reg_sub_category,wix_code_exposure_flag&accept=json";return o.ajax(e)}(),Ze=t.curry(function(e,o){if(!t.isUndefined(o)&&!t.isEqual(o,fe.getState()[e])){var n={};n[e]=o,fe.dispatch(he.legacy.setState(n))}}),Qe=[],Je=-1,$e={store:fe,onPreviewReady:Oe,onRenderDone:function(e){var o=void 0;for(o=Je+1;o<e;o++)Je++,t.isFunction(Qe[o])&&Qe[o](),Qe[o]=null},updateState:Ye,isMetaSiteFlagOpen:function(e){return t.includes(r.editorModel.metaSiteFlags,e)},synchronizeSiteSEOToMainPageSEO:Ae,initTemplateCharacterSet:function(){var e=$e.documentServices.theme.fonts.getCharacterSet();if(function(e){return t.isEqual(e,Te)}(e)||function(e){return t.includes(e,"arabic")&&t.includes(e,"hebrew")}(e)){var o=$e.documentServices.theme.fonts.getLanguageCharacterSet($e.getLanguageCode());if(o)$e.documentServices.theme.fonts.updateCharacterSet(o);else{var n=$e.documentServices.theme.fonts.getCharacterSetByGeo();$e.documentServices.theme.fonts.updateCharacterSet(n)}}},setDocumentServices:we,initPlugins:Re,getLanguageCode:function(){return r.languages.getLanguageCode()},getViewTools:function(){return t.clone(fe.getState().viewTools)},updateUserPreferencesOnPreviewReady:De,initWelcomeScreen:function(){$e.newEditorWelcomeScreenWrapper.initWelcomeScreen($e)},initViewToolsFromUserPrefs:function(){var e=n.constants.USER_PREFS.VIEW_TOOLS,o={showHiddenComponents:$e.userPreferences.site.get(e.SHOW_HIDDEN_COMPS),developerModeEnabled:$e.userPreferences.site.get(e.DEVELOPER_MODE_ENABLED),developerToolBarEnabled:$e.userPreferences.site.get(e.DEVELOPER_TOOLBAR_ENABLED),guidelinesEnabled:$e.userPreferences.site.get(e.GUIDELINES_ENABLED),sectionsHandlesEnabled:$e.userPreferences.site.get(e.SECTIONS_HANDLES_ENABLED),snapToEnabled:$e.userPreferences.site.get(e.SNAPTO_ENABLED),rulersEnabled:$e.userPreferences.site.get(e.RULERS_ENABLED),rulers:{guidesState:$e.userPreferences.site.get(e.GUIDES_STATE)}};ue.isOpen("se_toolbarVisibility")&&(o.toolbarEnabled=$e.userPreferences.site.get(e.TOOLBAR_ENABLED)),t.defaults(o,Se),fe.dispatch(he.legacy.setState({viewTools:o})),$e.rulers.resetRulersHistory()},initUserAddedColors:function(){var e=$e.documentServices.theme.colors.getCustomUsedInSkins(),t=n.constants.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED;$e.userPreferences.session.set(t,e)},refreshNavControlsSize:Ze("navControlsSize"),refreshPreviewPosition:Ze("previewPosition"),refreshEditingAreaPosition:Ze("editingAreaPosition"),refreshMobileFramePosition:Ze("mobileFramePosition"),setEditBoxRotateKnobRect:Ze("editBoxRotateKnobRect"),getOpenPanels:Be,openLayoutTractor:function(){ue.isOpen("layoutTractor")&&$e.updateState({isLayoutTractorOpen:!0})},closeLayoutTractor:function(){$e.updateState({isLayoutTractorOpen:!1})},notifyViewerUpdate:function(e){t.forEach($e.viewerUpdateCallbacks,function(t){t(e)})},setStateWaitForViewer:function(e){t.assign($e.pendingStateChanges,e)},setStateUpdateCallback:function(e){$e.pendingEditorStateUpdateCallbacks.push(e)},getPendingStateChanges:function(){return t.reduce($e.pendingEditorStateUpdateCallbacks,function(e,o){return t.assign(e,o())},$e.pendingStateChanges)},preventMouseDown:function(){window.addEventListener("mousedown",$e.preventEvent,!0),$e.preventMouseDownTimeout=window.setTimeout($e.allowMouseDown,5e3)},allowMouseDown:function(){window.clearTimeout($e.preventMouseDownTimeout),window.removeEventListener("mousedown",$e.preventEvent,!0)},preventEvent:function(e){e.stopPropagation(),e.preventDefault()},onViewerChanged:xe,registerInitUserPrefsCallback:function(e){$e.userPreferencesInitCallbacks.push(e),$e.userPreferencesInitCallbacksInvoked&&e()},exitEditor:function(){window.open(be+"?referralInfo=EDITOR","_self")},getUserPreferences:function(){return $e.userPreferences},isTpa:Le,registerToViewerChange:function(e){$e.viewerUpdateCallbacks.push(e)},registerRemovePlugin:function(e,t){$e.removePlugins[e]=t},registerComponentsRemoveHandlerPlugin:function(e){$e.componentsRemoveHandlerPlugins.push(e)},registerHidePlugin:function(e,t){$e.hidePlugins[e]=t},registerDuplicatePlugin:function(e,t){$e.duplicatePlugins[e]=t},registerCannotRemovePlugin:function(e,t){$e.cannotRemovePlugins[e]=t},registerCopyComponentPlugin:function(e,t){$e.copyComponentPlugins[e]=t},registerAddComponentPlugin:function(e,t){$e.addComponentPlugins[e]=t},registerPasteComponentPlugin:function(e,t){$e.pasteComponentPlugins[e]=$e.pasteComponentPlugins[e]||[],$e.pasteComponentPlugins[e].push(t)},registerSerializeComponentPlugin:function(e,t){$e.serializeComponentPlugins[e]=$e.serializeComponentPlugins[e]||[],$e.serializeComponentPlugins[e].push(t)},registerCutComponentPlugin:function(e,t){$e.cutComponentPlugins[e]=t},registerPageNavigationCallback:function(e){$e.pageNavigationCallbacks.push(e)},registerCompNamePlugin:function(e,t){$e.compNamePlugins[e]=t},registerCompIconPlugin:function(e,t){$e.compIconPlugins[e]=t},registerSitePublishedCallbacks:function(e){$e.sitePublishedCallbacks.push(e)},registerDeviceTypeChangeCallbacks:function(e){$e.deviceTypeChangeCallbacks.push(e)},applyPreviewScrollToEditorScroll:function(){if(!$e.getPreviewMode()){var e=$e.site.getScroll();Ne({scrollLeft:e.x,scrollTop:e.y})}},setRenderPlugins:Fe,prepareDocumentForPreviewMode:function(e){var t=e&&$e.isDesktopEditor(),o=$e.documentServices.documentMode;$e.documentServices.components.modes.resetAllActiveModes(),o.enablePlaying(e),o.enableZoom(e),o.enableSocialInteraction(!1),o.enableExternalNavigation(!1),o.enableSlideShowGalleryClick(e),o.enableTinyMenuOpening(e),o.enableRenderFixedPositionContainers(e),o.enableRenderFixedPositionBackgrounds(e),o.enableBackToTopButton(e),o.enablePageProtection(!1),o.toggleWixAds(e),o.enableBgVideoAutoplay(t),o.enableSiteMembersDialogsOpening(e),o.enableResetGalleryToOriginalState(e),o.enableResetComponent(!e),o.resetBehaviors(e),o.enableAction("screenIn",t),o.enableAction("viewportEnter",e),o.enableAction("viewportLeave",e),o.enableAction("load",e),o.enableAction("scrollScrub",e),o.enableAction("modeChange",t),o.enableAction("exit",t),o.enableAction("bgScrub",t),o.setExtraSiteHeight(e||$e.isMobileEditor()?0:$e.editorConfig.extraSiteHeight),o.enableShouldUpdateJsonFromMeasureMap(!e),o.allowSiteOverflow(e),e||($e.documentServices.pages.animations.stopAll(),o.runtime.reset()),o.setComponentViewMode(e?"preview":"editor"),o.allowWixCodeInitialization(e),o.showHiddenComponents(e?!e:$e.getViewTools().showHiddenComponents),o.showControllers(e?!e:$e.getViewTools().developerModeEnabled)},getPreviewPosition:function(){return fe.getState().previewPosition},getNavControlsSize:function(){return fe.getState().navControlsSize},getEditBoxRotateKnobRect:function(){return fe.getState().editBoxRotateKnobRect},getEditingAreaPosition:function(){return fe.getState().editingAreaPosition},getMobileFramePosition:function(){return fe.getState().mobileFramePosition},getPreviewMode:function(){return fe.getState().previewMode},isCurrentPageLandingPage:function(){var e=$e.pages.getCurrentPageId();return $e.documentServices.pages.isLandingPage(e)},isDesktopEditor:function(){return!$e.isMobileEditor()},isMobileEditor:function(){return fe.getState().isMobileEditor},getDeviceType:function(){return $e.isMobileEditor()?"mobile":"desktop"},resizeOnlyProportionally:function(e){return $e.components.is.resizeOnlyProportionally(e)},openCantCopyPastePanel:function(){$e.userPreferences.site.get(n.constants.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN)||$e.panelManager.openPanel("mobileEditor.panels.cantMakeChangeMobile",{},!0)},setDesktopEditor:function(){$e.setEditorMode(!1)},setMobileEditor:function(){i.tooltipManager.hide(me.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),$e.setEditorMode(!0)},setEditorMode:function(e,o){if(e!==$e.isMobileEditor()){t.invokeMap($e.deviceTypeChangeCallbacks,t.call),e?$e.userPreferences.site.set(n.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0):$e.updateState({isMobileEditor:!1,mobileFramePosition:null});var i=e?$e.documentServices.viewMode.VIEW_MODES.MOBILE:$e.documentServices.viewMode.VIEW_MODES.DESKTOP;$e.developerMode.getContext().type===n.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE&&$e.panelManager.closeAllPanels(),$e.selection.deselectComponents(),$e.documentServices.viewMode.set(i),$e.documentServices.waitForChangesApplied(function(){var t=$e.documentServices.documentMode,o=$e.getPreviewMode(),i=o&&!e;t.enableAction("screenIn",i),t.enableAction("load",o),t.enableAction("scrollScrub",o),t.enableAction("viewportEnter",o),t.enableAction("viewportLeave",o),t.enableAction("modeChange",i),t.enableAction("exit",i),t.enableAction("bgScrub",i),t.enableAction("pageTransition",i),t.enableBgVideoAutoplay(i),e&&($e.mobile.updateLeftBarNotificationsCount(),$e.panelHelpers.openMobileEditorFirstTimePanelIfNeeded(),o||$e.bi.event(n.bi.events.mobileEditor.MOBILE_EDITOR_READY))}),Fe($e.getPreviewMode()),!o&&e&&$e.documentServices.history.canUndo()&&$e.history.add("mobile structure was updated"),$e.documentServices.documentMode.setExtraSiteHeight(fe.getState().previewMode||e?0:$e.editorConfig.extraSiteHeight),$e.documentServices.documentMode.resetBehaviors($e.getPreviewMode()),$e.rulers.resetRulersHistory(),e||$e.documentServices.components.modes.resetAllActiveModes()}},isMobileOptimizedSite:function(){return!!$e.documentServices&&$e.documentServices.mobile.isOptimized()},setMobileOptimizedSite:function(e){$e.documentServices&&$e.documentServices.mobile.enableOptimizedView(e)},groupComponents:function(e){if(!$e.components.is.groupedComponent(e)){$e.selection.deselectComponents();var t=$e.components.groupComponents(e);$e.closeCompPanelIfExists(),$e.history.add("group components"),$e.documentServices.waitForChangesApplied(function(){$e.selection.selectComponentByCompRef(t)})}},getLeftBarButtonsBoundingRect:function(){return fe.getState().leftBar.buttonsBoundingRect},closeRightClickMenu:function(e){ue.isMultiValueExperimentOpen("editorHintsConfigs")&&$e.rightClickMenuCloseOnOuterClickDisabled||Ye({contextMenu:null},e)},disableRightClickMenuCloseOnOuterClick:function(){$e.rightClickMenuCloseOnOuterClickDisabled=!0},enableRightClickMenuCloseOnOuterClick:function(){$e.rightClickMenuCloseOnOuterClickDisabled=!1},closeCompPanelIfExists:function(){$e.panelManager.getPanelsOfType("compPanelFrame").length&&$e.panelManager.closeAllPanelsOfType("compPanelFrame")},openFirstTimePanel:function(e){var t=$e.selection.getSelectedComponentType(e);($e.userPreferences.site.get("firstTimePanelsNotToShow")||{})[t]||$e.isMobileEditor()||$e.panelManager.openFirstTimePanel(t)},toggleShowOnAllPages:function(e){var t=void 0;return t=$e.components.isShowOnAllPages(e)?$e.documentServices.pages.getReference($e.documentServices.pages.getPrimaryPageId()):$e.documentServices.siteSegments.getSiteStructure(),$e.components.setContainer(e,t)},getCompDragRestrictions:He,getCompMoveRestrictions:function(e){var o=He(e);return e&&t.assign(o,{canMoveForward:$e.components.arrangement.canMoveForward(e),canMoveBackward:$e.components.arrangement.canMoveBackward(e)}),o},getCompRestrictions:function(e){var o=$e.getCompMoveRestrictions(e);if(e){var n=$e.components.layout.isPinned(e),i=fe.getState().isOpenTextEditor,a=["container","containable","movable","alignable","canMoveUp","resizable","disabledKnobs","duplicatable","fixed","showLegacyFixedPosition","anchorableFrom","anchorableTo"];n||a.push("horizontallyResizable","verticallyResizable","rotatable","duplicatable"),i||a.push("removable"),t.assign(o,$e.components.getRestrictions(e,a)),n&&(o.horizontallyResizable=!1,o.verticallyResizable=!1,o.rotatable=!1,o.duplicatable=!1),i&&(o.removable=!1),t.assign(o,{resizeableSides:$e.components.layout.getResizableSides(e),canBeFixed:$e.components.layout.canBeFixedPosition(e),resizeOnlyProportionally:$e.resizeOnlyProportionally(e),canToggleShowOnAllPages:$e.components.canToggleShowOnAllPages(e),canResizeWithAnchors:$e.components.layout.getResizableWithAnchors(e),canResizeDiagonally:$e.components.layout.getResizableDiagonally(e)})}return o},isPopUpMode:function(){return Boolean(Ue()&&$e.documentServices.pages.popupPages.getCurrentPopupId())},reportAddMenuDrag:function(e){$e.bi.event(n.bi.events.addPanel.ADD_MENU_DRAG_COMPONENT,e)},editorIsInit:function(){return fe.getState().editorIsInit},navigateAndOpenPagesPanel:function(e,t){$e.pages.navigateTo(e,function(){je(t)})},openComponentPanel:function(e,o){o=o||{};var n=he.selection.selectors.getSelectedCompsRefs(fe.getState()),i=t.get(o,"selectedComponent",n),a=ve.getCompTypeSuffix(i,$e.documentServices),r=$e.getPanelPathByType(a,e);$e.panelManager.openComponentPanel(r,o)},replaceComponentPanel:function(e,t){t=t||{};var o=he.selection.selectors.getSelectedCompsRefs(fe.getState()),n=ve.getCompTypeSuffix(o,$e.documentServices),i=$e.getPanelPathByType(n,e);$e.panelManager.replaceComponentPanel(i,t)},openCompOutOfGridPanelIfNeeded:function(e){var t=$e.utils.findAncestorMatchesCondition(e,$e.components.is.showMarginsIndicator);t&&$e.components.layout.isCompExceedingContainerMargin(e,t)?($e.panelHelpers.openCompOutOfGridPanel({},!0),$e.bi.event(n.bi.events.columns.COLUMNS_ELEMENTS_PLACED_IN_DEAD_SPOT)):!t&&$e.components.layout.isCompOutOfPageBounds(e)&&$e.panelHelpers.openCompOutOfGridPanel()},openLinkPanel:function(){return $e.panelHelpers.openLinkPanel.apply(this,arguments)},openPagesPanel:je,openColorPicker:function(e,t,o){var n={top:72,left:-12};$e.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:e,onChange:o.onChange,onClose:o.onClose,sessionStorage:$e.userPreferences.session,customInstanceColors:o.customInstanceColors,history:!1!==o.enableHistory&&$e.history,palettePresets:!1!==o.allowPaletteEditing&&$e.theme.colors.getColorPresets(),updateSitePalette:!1!==o.allowPaletteEditing&&$e.theme.colors.update,previewOnHover:!1!==o.previewOnHover,top:t.top+n.top,left:t.left+n.left},!0)},setForceOpenPagesQuickNavigationEventCounter:function(){var e=fe.getState().eventCounters,o=t.assign({},e,{forceOpenPagesQuickNavigation:e.forceOpenPagesQuickNavigation+1});fe.dispatch(he.legacy.setState({eventCounters:o}))},getForceOpenPagesQuickNavigationEventCounter:function(){return fe.getState().eventCounters.forceOpenPagesQuickNavigation},setForcePageSettingsTabEventCounter:function(){var e=fe.getState().eventCounters,o=t.assign({},e,{forcePageSettingsTab:e.forcePageSettingsTab+1});fe.dispatch(he.legacy.setState({eventCounters:o}))},getForcePageSettingsTabEventCounter:function(){return fe.getState().eventCounters.forcePageSettingsTab},getPanelPathByType:function(e,o){var i="compPanels.panels."+e+"."+o;return t.get(u,["panels",e,o])||($e.isTpa(e)?o===n.constants.componentPanels.settings&&(i="tpa.compPanels.tpaSettings"):o===n.constants.componentPanels.animation?i="compPanels.dynamicPanels."+n.constants.componentPanels.animation:o===n.constants.componentPanels.stretching?i="compPanels.dynamicPanels."+n.constants.componentPanels.stretching:o===n.constants.componentPanels.filters?i="compPanels.dynamicPanels."+n.constants.componentPanels.filters:o===n.constants.componentPanels.effects?i="compPanels.dynamicPanels."+n.constants.componentPanels.effects:o===n.constants.componentPanels.apply?i="compPanels.dynamicPanels."+n.constants.componentPanels.apply:o===n.constants.componentPanels.design?i="designPanel."+n.constants.componentPanels.design:o===n.constants.componentPanels.customizeDesign&&(i="advancedStylePanel."+n.constants.componentPanels.customizeDesign)),i},openLearnMore:function(t){t&&"string"==typeof t&&e.log.info("opening learn more with key - ",t)},isPreviewReady:Ue,setPortalChildren:function(e,o){var n=t.cloneDeep(fe.getState().portalComps);t.isEmpty(o)?delete n[e]:n[e]=o,Ye({portalComps:n})},hasExternalDesign:function(e){return $e.documentServices.tpa.isTpaByCompType($e.components.getType(e))},setAttachCandidate:function(e,t){t?Ye({attachCandidate:e}):$e.setStateWaitForViewer({attachCandidate:e})},setConstraintArea:function(e){$e.setStateWaitForViewer({constraintArea:e})},setPageSections:function(e,o){var n=t.clone(fe.getState().pageSections);t.assign(n,{sections:e,selectedSection:o}),$e.updateState({pageSections:n})},clearPageSections:function(){$e.setPageSections(null,null)},sectionsHandles:{areSectionsHandlesEnabled:function(){return fe.getState().viewTools.sectionsHandlesEnabled},toggleSectionsHandles:function(e,t){var o=!$e.sectionsHandles.areSectionsHandlesEnabled();$e.updateEditorViewTools("sectionsHandlesEnabled",o),$e.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.SECTIONS_HANDLES_ENABLED,o).then(e).catch(t)}},setSiteScale:function(e,t){e!==fe.getState().siteScale&&$e.updateState({siteScale:e}),$e.documentServices.site.setScrollAndScale(0,t,e,Pe),$e.ui.scroll.animateScroll({x:0,y:t},Pe)},zoomMode:{enterZoomMode:function(){i.tooltipManager.hide(me.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),$e.setSiteScale(.5,0),$e.documentServices.documentMode.allowShowingFixedComponents(!1),r.keyboardShortcuts.setContext(r.keyboardShortcuts.CONTEXTS.ZOOM_MODE)},exitZoomMode:function(){$e.setSiteScale(1,0),$e.documentServices.documentMode.allowShowingFixedComponents(!0),r.keyboardShortcuts.setContext(r.keyboardShortcuts.CONTEXTS.EDITOR)},isInZoomMode:function(){return 1!==fe.getState().siteScale}},snapData:{set:function(e,t){t?$e.updateState({snapData:e}):$e.setStateWaitForViewer({snapData:e})},clear:function(e){e?$e.updateState({snapData:null}):$e.setStateWaitForViewer({snapData:null})}},lasso:{setCandidates:function(e){$e.updateState({lassoCandidates:e})},setLayout:function(e){$e.updateState({lassoLayout:e})},clear:function(){$e.updateState({lassoLayout:null,lassoCandidates:[]})}},focusBox:{getFocusedContainer:function(){return fe.getState().focusedContainer}},clipboard:{types:n.constants.EDITOR_CLIPBOARD_TYPES,setItem:function(e,o){var n=t.cloneDeep(fe.getState().clipboard);n[e]=o,$e.updateState({clipboard:n})},getItem:function(e){return fe.getState().clipboard[e]}},clipboardContainsComp:function(){return!!$e.clipboard.getItem(n.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT)},text:{startEditing:function(){if($e._currentTextManager&&(CKEDITOR&&!CKEDITOR.wixDocumentServices&&(CKEDITOR.wixDocumentServices=$e),!fe.getState().isOpenTextEditor)){var e=$e.selection.getSelectedComponents();$e._textCompForEdit=t.head(e),ce.migrationUtils.isOldTextComponent($e._textCompForEdit,$e)?($e.documentServices.bi.error(n.bi.errors.OLD_TEXT_MIGRATION),ce.migrationUtils.migrateComponent($e._textCompForEdit,$e),$e.documentServices.waitForChangesApplied(function(){$e.updateState({isOpenTextEditor:!0})})):$e.updateState({isOpenTextEditor:!0})}},stopEditing:function(){fe.getState().isOpenTextEditor&&$e.updateState({isOpenTextEditor:!1})},setCurrentTextEditor:function(e){$e._currentTextManager=e},isEditingText:function(){return!!fe.getState().isOpenTextEditor},undo:function(){$e._currentTextManager.undo()},canUndo:function(){return $e._currentTextManager.hasUndo},redo:function(){$e._currentTextManager.redo()},canRedo:function(){return $e._currentTextManager.hasRedo}},help:{openHelpCenter:function(t,o,n,i){e.log.error("editorAPI.help.openHelpCenter is deprecated. Use panelManager.openHelpCenter instead"),$e.panelManager.openHelpCenter(t,n,i)}},utils:{isSameRef:function(e,o){var n=$e.components.asArray(e),i=$e.components.asArray(o);if($e.multiselect.isMultiselect(n)||$e.multiselect.isMultiselect(i)){if(n.length!==i.length)return!1;var a=t.sortBy(n,"id"),r=t.sortBy(i,"id");return t.every(a,function(e,t){return $e.documentServices.utils.isSameRef(e,r[t])})}return $e.documentServices.utils.isSameRef(t.head(n),t.head(i))},isPage:function(e){var t=$e.components.asArray(e);return!$e.multiselect.isMultiselect(t)&&$e.documentServices.utils.isPage(t[0])},getParentIfCompCanBeSelected:function(e){return $e.components.is.selectable(e)?null:$e.components.getContainer(e)},findAncestorMatchesCondition:function(e,t){if(!e)return null;for(var o=$e.components.getContainer(e);o&&!t(o,e);)o=$e.components.getContainer(o);return o}},siteName:{validate:function(e){var t=$e.documentServices.siteName.validate(e),o={};return o[$e.documentServices.siteName.ERRORS.SITE_NAME_IS_EMPTY]="SAVE_SITE_NAME_IS_EMPTY",o[$e.documentServices.siteName.ERRORS.SITE_NAME_IS_NOT_STRING]="SITE_NAME_IS_NOT_STRING",o[$e.documentServices.siteName.ERRORS.SITE_NAME_INVALID_CHARS]="SAVE_SITE_NAME_INVALID_CHARS",o[$e.documentServices.siteName.ERRORS.SITE_NAME_ENDS_WITH_HYPHEN]="SAVE_SITE_NAME_ENDS_WITH_HYPHEN",o[$e.documentServices.siteName.ERRORS.SITE_NAME_TOO_SHORT]="SAVE_SITE_NAME_TOO_SHORT",o[$e.documentServices.siteName.ERRORS.SITE_NAME_TOO_LONG]="SAVE_SITE_NAME_TOO_LONG",o[$e.documentServices.siteName.ERRORS.SITE_NAME_ALREADY_EXISTS]="SAVE_SITE_NAME_ALREADY_EXISTS",t.errorMessage=o[t.errorCode],t},set:function(e){$e.documentServices.siteName.set(e);var t=$e.store.getState();ye.isDomainConnected(t,$e.documentServices)||$e.documentServices.generalInfo.setPublicUrl(ye.getFreeDomainPrefix(t,$e.documentServices)+e)},sanitize:function(e){return $e.documentServices.siteName.sanitize(e)},rename:function(e,t,n){var i=r.serviceTopology.editorServerRoot||"//editor.wix.com/html/editor/web";i+="/meta-site-proxy/rename/"+$e.documentServices.generalInfo.getMetaSiteId(),o.ajax(i,{type:"POST",data:{newName:e},success:function(o){if(o.success){var i=$e.store.getState();$e.documentServices.siteName.set(e),ye.isDomainConnected(i,$e.documentServices)||$e.documentServices.generalInfo.setPublicUrl(ye.getFreeDomainPrefix(i,$e.documentServices)+e),t&&t()}else n(o)},error:function(){n&&n()}})}},updateEditorViewTools:function(e,o){var n=e;t.isString(e)&&((n={})[e]=o);var i=t.defaults(n,$e.getViewTools());$e.updateState({viewTools:i})},toolbar:{isToolbarEnabled:function(){return fe.getState().viewTools.toolbarEnabled},toggleToolbar:function(){var e=!$e.toolbar.isToolbarEnabled();$e.updateEditorViewTools("toolbarEnabled",e),ue.isOpen("se_toolbarVisibility")&&$e.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.TOOLBAR_ENABLED,e)}},developerToolBar:{isEnabled:function(){return fe.getState().viewTools.developerToolBarEnabled},toggle:function(){var e=!$e.developerToolBar.isEnabled(),t=e?"open":"close";$e.bi.event(ge.events.PROPERTIES_PANEL_TOGGLE,{site_id:$e.documentServices.generalInfo.getSiteId(),state:t}),$e.updateEditorViewTools("developerToolBarEnabled",e),$e.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,e)}},platformToolBar:{isEnabled:function(){return fe.getState().viewTools.platformToolBarEnabled},toggle:function(){var e=!$e.platformToolBar.isEnabled();$e.updateEditorViewTools("platformToolBarEnabled",e)},open:function(e){var t=!$e.platformToolBar.isEnabled();$e.updateEditorViewTools("platformToolBarEnabled",t),$e.updateState({platformToolBarPanelProps:e})}},developerHiddenComponents:{isEnabled:function(){return fe.getState().viewTools.showHiddenComponents},toggle:function(){var e=!$e.developerHiddenComponents.isEnabled();$e.updateEditorViewTools("showHiddenComponents",e),$e.documentServices.documentMode.showHiddenComponents(e),$e.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,e)}},grid:{guidelines:{isGuidelinesEnabled:function(){return fe.getState().viewTools.guidelinesEnabled},toggleGuidelines:function(e,t){var o=!$e.grid.guidelines.isGuidelinesEnabled();$e.updateEditorViewTools("guidelinesEnabled",o),$e.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.GUIDELINES_ENABLED,o).then(e).catch(t)}},snapTo:{isSnapToEnabled:function(){return fe.getState().viewTools.snapToEnabled},toggleSnapTo:function(e,t){var o=!$e.grid.snapTo.isSnapToEnabled();$e.updateEditorViewTools("snapToEnabled",o),$e.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.SNAPTO_ENABLED,o).then(e).catch(t)}}},siteSegments:{getRefs:function(){var e=$e.documentServices.siteSegments;return[e.getFooter(),e.getHeader(),e.getPagesContainer(),e.getSiteStructure()]},getPagesContainerAbsLayout:function(){var e=$e.documentServices.siteSegments.getPagesContainer();return $e.components.layout.getRelativeToScreen(e)}},tooltipTextService:re,homePage:{get:function(){return $e.documentServices.homePage.get()},set:function(e){$e.documentServices.homePage.set(e),g.setHomePagePlugins.run($e,e)}},openEditorVersionInfoPanel:function(){$e.panelManager.openPanel("rEditor.panels.editorVersionInfoPanel")},styles:{openApplyStylePanel:function(e){$e.panelManager.openPanel("rEditor.panels.applyStylePanel",{selectedComp:e})}},bi:{getComponentsBIParams:function(e){return t.map([].concat(e),function(e){var o={};if(e){o.component_id=e.id;var n=$e.components.getType(e);o.component_type=n,n&&$e.isTpa(n)&&t.assign(o,$e.bi.getTpaComponentBIParams(e))}return o})},getTpaComponentBIParams:function(e){var o={};if(!t.isEmpty(e)&&Le($e.components.getType(e))){var n=$e.components.data.get(e)||{},i=$e.documentServices.tpa.app.getData(n.applicationId);o.app_id=""+i.appDefinitionId,o.app_site_id=""+i.instanceId,o.instance_id=""+e.id,o.widget_id=""+n.widgetId;var a="TPAWidget"===n.type,r=$e.documentServices.tpa.app.isLastAppComp(n.applicationId)||!(a||$e.documentServices.tpa.app.isMultiSectionInstalled(n.applicationId));o.is_last_tpa=r?1:0}return o},reportBI:function(e,o,n){!n||t.isFunction(n)&&n()?t.forEach(o,t.bind(function(o){var n=t.isFunction(o)?o():o;n.is_last=n.is_last||n===$e,$e.bi.event(e,n)},o[o.length-1])):t.isFunction(n)&&$e.biConditionedEventsQueue.push({event:e,biParamArray:o,condition:n})},tryFlushingConditionedEvents:function(){if(!t.isEmpty($e.biConditionedEventsQueue)){var e=t.remove($e.biConditionedEventsQueue,function(e){return t.isFunction(e.condition)&&e.condition()});t.forEach(e,function(e){$e.bi.reportBI(e.event,e.biParamArray)})}}},campaigns:{fetchCampaignInfo:function(){var e=r.serviceTopology.dealerUrl+"/salesSystemResolver";o.getJSON(e,function(e,t){"success"===t&&e&&($e.campaignInfo={id:e.payload.campaignId,type:e.payload.type})})},getActiveCampaignInfo:function(){return $e.campaignInfo},isActiveCampaign:function(e){return!!$e.campaigns.getActiveCampaignInfo()&&t.includes($e.campaigns.getActiveCampaignInfo().id,e.id)},getDiscountValue:function(e){var o=$e.campaigns.getActiveCampaignInfo().id.split("_");return 1===o.length?e.defaultDiscount:t.last(o)},personalSale:{isActiveCampaign:function(){return $e.campaigns.isActiveCampaign(n.constants.CAMPAIGNS.PERSONAL_SALE)||$e.campaigns.isActiveCampaign(n.constants.CAMPAIGNS.SEASONAL_CAMPAIGN)},getDiscountValue:function(){return $e.campaigns.getDiscountValue(n.constants.CAMPAIGNS.PERSONAL_SALE)},getAssetPath:function(){return n.constants.CAMPAIGNS.PERSONAL_SALE.assetPath}}},newEditorWelcomeScreenWrapper:G,showFloatingBubble:function(e,o,n,i){$e.updateState({floatingBubble:t.assign({},fe.getState().floatingBubble,{value:e,targetLayout:o,bubbleProps:n,shouldNotHideOnMouseLeaveTarget:i})})},hideFloatingBubble:function(){var e={value:null,targetLayout:null,bubbleProps:{},shouldNotHideOnMouseLeaveTarget:!1};t.isEqual(fe.getState().floatingBubble,e)||$e.updateState({floatingBubble:e}),window.clearTimeout(Ce)},blockingPopupLayer:{show:function(){var e=me.EDITOR_API.BLOCKING_LAYER_STYLE;$e.documentServices.renderPlugins.setCompsToShowOnTop(t.map($e.selection.getSelectedComponents(),"id")),$e.documentServices.renderPlugins.setBlockingPopupLayer(e)},hide:function(){$e.documentServices.renderPlugins.setCompsToShowOnTop(null),$e.documentServices.renderPlugins.setBlockingPopupLayer(null)}},getSiteScale:function(){return fe.getState().siteScale},endMouseMoveActionIfNeeded:function(e){$e.mouseActions.getRegisteredMouseMoveAction()&&$e.mouseActions.onMouseUp(e)},isVerticalScrollbarHidden:function(){var e=window.document.body.clientHeight>window.innerHeight;return!e||e&&window.document.body.clientWidth===window.innerWidth},onCollectionAdded:function(){$e.toggleEditorStateParam("hasDatabaseCollections",!0)},toggleEditorStateParam:function(e,t){var o={};o[e]=void 0===t?!fe.getState()[e]:t,$e.updateState(o)},toolsControl:{toggleHalfOpacityTools:function(e){$e.toggleEditorStateParam("halfOpacityTools",e)},toggleHideToolsBtnBlink:function(e){$e.toggleEditorStateParam("shouldHideToolsBtnBlink",e)},toggleHideTools:function(e,o){o=o||fe.getState().hideToolsAndMaintainStagePosition;var n=void 0===e?!fe.getState().hideTools:e,i=Be();$e.hideFloatingBubble();var a=o?fe.getState().previewPosition:t.defaults({top:ke(n)},fe.getState().previewPosition);return $e.updateState({hideToolsAndMaintainStagePosition:n?o:n,hideTools:n,previewPosition:a,halfOpacityTools:!1,shouldHideToolsBtnBlink:!1}),n&&t(i).reject({frameType:me.PANEL_TYPES.COMP}).reject({name:"panels.toolPanels.linkPanel"}).forEach(function(e){$e.panelManager.closePanelByName(e.name)}),n},areToolsHiddenAndStagePositionMaintained:function(){return fe.getState().hideToolsAndMaintainStagePosition},areToolsHidden:function(){return fe.getState().hideTools},isHalfOpacityTools:function(){return fe.getState().halfOpacityTools}},blog:{add:function(e,t){pe.installApp($e,e||"MediaLeftPage",t)}},cursor:{get:function(){return Ie},set:function(e){Ie=e},updateMousePosition:function(e,t){var o={x:e,y:t};$e.cursor.set(o)}},overlay:{disableUpdate:function(){$e.updateState({shouldOverlayUpdate:!1})},enableUpdate:function(){$e.updateState({shouldOverlayUpdate:!0})},shouldUpdate:function(){return fe.getState().shouldOverlayUpdate}},tooltips:{disable:function(){$e.updateState({isTooltipsDisabled:!0})},enable:function(){$e.updateState({isTooltipsDisabled:!1})}},hints:{registerForMouseEvents:function(e,t){$e.pluginService.registerPlugin("mouseMoveStartPlugin","*",e),$e.pluginService.registerPlugin("mouseMoveEndPlugin","*",t)}},topBarMenuBar:{registerForDropDownActions:function(e,t){$e.pluginService.registerPlugin("topBarMenuBarDropDownOpen","*",e),$e.pluginService.registerPlugin("topBarMenuBarDropDownClose","*",t)},onMenuBarDropDownOpen:function(e){var o=$e.pluginService.getPlugin("topBarMenuBarDropDownOpen","*");o&&t.isFunction(o)&&o(e)},onMenuBarDropDownClose:function(e){var o=$e.pluginService.getPlugin("topBarMenuBarDropDownClose","*");o&&t.isFunction(o)&&o(e)},registerAPI:Ve},topBarPagesFilter:{set:function(e){Ye({topBarPagesFilter:e})},get:function(){return fe.getState().topBarPagesFilter}},scroll:{get:function(){return Ke},registerNewScrollPosition:function(e){Ke=e,$e.site.setScroll(e.scrollLeft,e.scrollTop)},scrollTo:Ne,animateScrollTo:function(e,t,o){$e.updateState({animateScrollTo:{position:e,duration:t,onComplete:o}})},clearScrollTo:function(){$e.updateState({scrollTo:null,animateScrollTo:null})},resetScrollListeners:function(){$e.scrollListeners=[]},handleStageScroll:function(e){t.invokeMap($e.scrollListeners,t.call,null,e)},addScrollListener:function(e){$e.scrollListeners.push(e)},removeScrollListener:function(e){$e.scrollListeners=t.without($e.scrollListeners,e)}},setFocus:function(){var e=fe.getState().eventCounters,o=t.assign(e,{focus:e.focus+1});fe.dispatch(he.legacy.setState({eventCounters:o}))}};return $e.pluginService=ie.create(),$e.editorEventRegistry=de.create(),$e.history=C.create($e),$e.pinMode=Z.create($e),$e.imageCrop=I.create($e),$e.ui=q.create($e),$e.promotions=Q.create($e),$e.preview=J.create($e),$e.pages=Y.create($e),$e.wixCode=z.create($e),$e.wixStores=W.create(),$e.selection=H.create($e),$e.layouters=K.create($e),$e.multiselect=x.create($e),$e.savePublish=A.create($e),$e.topBar=F.create($e),$e.rulers=R.create($e),$e.tabIndicationState=D.create($e),$e.site=_.create($e),$e.mainMenu=N.create($e),$e.menus=B.create($e),$e.components=w.create($e),$e.copyPaste=V.create($e),$e.concurrentUsers=S.create($e),$e.columns=j.create($e),$e.account=$.create($e),$e.platform=X.create($e),$e.databaseEditor=U.create($e),$e.selectedComponent=M.create($e),$e.developerMode=O.create($e),$e.feedback=k.create($e),$e.theme=T.create($e),$e.mobile=ee.create($e),$e.panelHelpers=m.create($e),$e.mouseActions=te.create($e),$e.tpa=oe.create($e),$e.media=ne.create($e),r.bindOwnMethodsDeep($e,$e),$e.documentServices=null,$e.userPreferences=f(),$e.editorConfig={topBarHeight:Ee.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40},$e.pendingStateChanges={},$e.pendingEditorStateUpdateCallbacks=[],$e.removePlugins={},$e.componentsRemoveHandlerPlugins=[],$e.hidePlugins={},$e.duplicatePlugins={},$e.compNamePlugins={},$e.compIconPlugins={},$e.cannotRemovePlugins={},$e.copyComponentPlugins={},$e.pasteComponentPlugins={},$e.cutComponentPlugins={},$e.addComponentPlugins={},$e.serializeComponentPlugins={},$e.pageNavigationCallbacks=[$e.mobile.updateLeftBarNotificationsCount],$e.viewerUpdateCallbacks=[xe],$e.userPreferencesInitCallbacks=[function(){var e=he.userProfile.selectors.getUserProfile($e.store.getState()),o=t.get(e,["wix_code_exposure_flag","value"]);!ue.isOpen("excludeFromWixCodeMarketingFlow")&&o&&$e.generalInfo.isFirstSave()&&$e.developerMode.enableWithMarketingConfig()},$e.initViewToolsFromUserPrefs,$e.initUserAddedColors,$e.initWelcomeScreen,function(){var e=$e.userPreferences.site.get(n.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS);$e.documentServices.documentMode.showHiddenComponents(e),$e.documentServices.documentMode.showControllers($e.getViewTools().developerModeEnabled)},function(){v.init($e,E.registerGfppActions,y.registerComponent,y.mergeComponentGfppData,me.ROOT_COMPS.GFPP.ACTIONS)}],$e.sitePublishedCallbacks=[],$e.deviceTypeChangeCallbacks=[],$e.biConditionedEventsQueue=[],$e.registeredHideBubbleOnPreview=!1,$e.isSavedInCurrentSession=!1,$e.pasteLogic=se,$e.mediaServices=new d,$e.panelManager=a.PanelManager.create(fe),$e.saveManager=b.createSaveManager($e,e.log),$e.publishManager=b.createPublishManager($e),$e.autosaveManager=b.createAutosaveManager($e),$e.scroll.resetScrollListeners(),_e&&r.measuring.measureAndReportFrameRate(fe.getState,fe.dispatch,$e.mouseActions.getRegisteredMouseMoveAction,he.bi.event,n.bi.events.editor,2),window.testApi&&window.testApi.domSelectors&&(window.testApi.editorAPI=$e,window.testApi.bi=r.automationUtil.bi),$e}var be=r.serviceTopology.dashboardUrl.replace(/create\//,"")+"/"||"http://www.wix.com/my-account/",ye=he.domain.selectors,ve=he.components.selectors,Pe=.5,Ee=me.UI,Se={toolbarEnabled:!0,developerModeEnabled:!1,showHiddenComponents:!0,guidelinesEnabled:!0,sectionsHandlesEnabled:!0,snapToEnabled:!0,rulersEnabled:void 0,rulers:{guidesState:{},selectedGuide:void 0,isHovered:!1,isDragging:null}},Te=["latin"],Ce=null,Ie={};return{create:fe}}),define("rEditor/utils/previewUrl",["lodash","core","util","rEditor/utils/openPanelByURL","experiment"],function(e,t,o,n,i){"use strict";function a(t,a,r){var c=t.editorServerRoot||"http://editor.wix.com/html/editor/web",p=c+"/renderer/render/",d=p+"document/",u=p+"template/",m=c+"/renderer/new?",g=0===a.href.indexOf(m)?u:d,h=o.url.parseUrl(a.href).query;e.isUndefined(h.editorSessionId)&&(h.editorSessionId=r.editorSessionId);var f=e(h).keys().find(function(e){return"showmobileview"===e.toLowerCase()}),b=e.pickBy(h,function(t,o){return e.endsWith(o,"-override")}),y=l;return new o.UrlBuilder(g+(h.siteId||function(e){var t=e.match(s);return t&&t.length&&t[1]}(a.href))).param("isEdited","true").param("isSantaEditor","true").param("dsOrigin","Editor1.4").ifParam(h.petri_ovr,"petri_ovr",h.petri_ovr).ifParam(i.isOpen("wixstaff"),"iswixsite","true").ifParam(f||n.shouldLoadMobileEditor(h),"showMobileView","true").param("lang",r.languageCode).paramsObj(e.pick(h,y)).paramsObj(b).url()}function r(n,i,r,s,l){var c=a(s,n,r);if(i){var p={prefetched_preview_url:i,client_preview_url:c,does_match:function(t,n){var i=["hash","host","hostname","path","port","protocol","query"];return e.isEqual(e.pick(o.url.parseUrl(t),i),e.pick(o.url.parseUrl(n),i))}(i,c)};return l(t.bi.events.editor.PREVIEW_PREFETCH_COMPARISON,p),i}return c}var s=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/,l=["metaSiteId","ReactSource","SantaVersions","baseVersion","isqa","debug","editorSessionId","experiments","experimentsoff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","hot","dsQTrace","autosaveRestore","debugApp","closeSectionGaps","editorSdkSource","editorPlatformAppSources","viewerPlatformAppSources","PlatformContainerSource","PlatformContainerHttp"];return{getPreviewUrl:r}}),define("rEditor/rootComps/editorMain",["reactDOM","lodash","util","core","react","reduxLibs","rEditor/rootComps/editor","rEditor/app/EditorAPI","rEditor/utils/previewUrl","baseUI","stateManagement","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d){"use strict";function u(n){window.document.title=o.translate("EDITOR_BROWSER_TAB_NAME"),function(e){e.debugTools&&(window.testApi=t.assign({},window.testApi,{domSelectors:e.qaAutomation.getDomSelectors(e.react,e.reactDOM),helpers:e.debugTools.helpers,clientSelectors:e.debugTools.clientSelectors})),e.qaAutomation&&e.qaAutomation.init(window),e.tpaIntegrationEditor&&e.tpaIntegrationEditor.init(window,e.tpa,e.util,e.savePublish,e.panels),e.uiLibIntegrationEditor&&e.uiLibIntegrationEditor.init(window,e.tpa,e.util,e.savePublish,e.panels),e.platformIntegrationEditor&&e.platformIntegrationEditor.init(window,e.platform)}(n),o.imageTransform.init(),o.polyfills.register(),d.isOpen("qualaroo")&&o.qualaroo.start(),d.isOpen("fullstory")&&o.fullStory.start(),o.fedopsLogger.create();var a=void 0,u=o.url.getParameterByName("debug")||"true"===o.url.getParameterByName("isqa"),g=p.createEditorStore(function(){return a},u,{tooltipManager:c.tooltipManager}),h=p.throttledStore(o.animationFrameUtils.request,o.animationFrameUtils.cancel,g);a=s.create(h,!0);var f=t.get(window.document.getElementById("preview-prefetch"),"href"),b=l.getPreviewUrl(window.document.location,f,o.editorModel,o.serviceTopology,function(e,t){window.bi.event(e.evid,t)}),y=o.url.getParameterByName("leavePagePopUp"),v={previewUrl:b,editorAPI:a,isLeavePagePopUpDisabled:"false"===y},P=window.document.getElementById("root"),E=p.connect(function(e){return{editorIsInit:e.editorIsInit,previewMode:e.previewMode}})(r),S=i.createElement(E,v),T=i.createElement(m.Provider,{store:h},S);window.rendered=e.render(T,P),function(e){o.url.getParameterByName("debug")&&(window.editorAPI=e)}(a)}var m=a.reactRedux;return{start:u}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt",["react","lodash","baseUILib","baseUI","util","core","compPanels"],function(e,t,o,n,i,a,r){"use strict";return function(){function i(){var i=this.getPopupProps()||{};return e.createElement(r.compPanelFrame,function(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}({title:"Popups_OverlaySettings_Panel_Header",className:"popup-overlay-settings-panel",contentClass:"settings-panel",helpId:this.getHelpId()},this.getFrameProps()),e.createElement(o.Divider,{long:!1}),e.createElement(n.toggle,{key:"clickClosesOverlay",label:"Popups_OverlaySettings_ClickCloses_Toggle",valueLink:this.linkPopupPropsValue(i,"closeOnOverlayClick")}))}return i.apply(this,[])}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel",["create-react-class","lodash","core","compPanels","helpIds","rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"overlaySettingsPanel",mixins:[n.compPanelMixin],render:a,componentDidMount:function(){this.getEditorAPI().bi.event(o.bi.events.popups.setup_overlay_clicked,{})},getHelpId:function(){return i.UTILS.getSettingsHelpId(i.COMP_TYPES.POPUP_OVERLAY,this.getEditorAPI().isMobileEditor())},getPage:function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()},getPopupProps:function(){return t.get(this.getEditorAPI().pages.properties.get(this.getPage()),"popup",{})},openHelpPanelFrame:function(){this.openHelpCenter(this.getHelpId(),!0)},linkPopupPropsValue:function(e,o){return{value:e&&e[o],requestChange:function(e){var n=this.getEditorAPI(),i=n.pages.properties.get(this.getPage());t.set(i,["popup",o],e),n.pages.properties.update(this.getPage(),i),n.history.add("toggle close popup by click on overlay")}.bind(this)}}})}),define("rEditor/pagesMenu/specialPagesMenuMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getInitialState:function(){return{selectedSectionPage:null}},openSpecialPagesMenu:function(e){this.setState({selectedSectionPage:e})},closeSpecialPagesMenu:function(){this.setState({selectedSectionPage:null}),this.props.closeSpecialPageMenu(),this.getEditorAPI().bi.event(e.bi.events.topbar.pages.top_bar_PAGES_special_pages_back_click)},isSpecialPagesPanelOpen:function(){return Boolean(this.state.selectedSectionPage)}}}),define("rEditor/pagesMenu/quickActionsMenuItemsMixin",["lodash","pagesMenu","core"],function(e,t,o){"use strict";function n(e,t,o,n){var i=e.documentServices.viewMode.get();i===e.documentServices.viewMode.VIEW_MODES.DESKTOP&&r.setHidden(e,t,n),i===e.documentServices.viewMode.VIEW_MODES.MOBILE&&r.setHidden(e,t,void 0,n)}function i(e,t,o){this.props.openSettingsPanel(t,o)}function a(e){return function(t,o){i.call(this,t,o,e)}}var r=t.pageMenuItemHelpers,s={tabPageInfo:a("page"),tabLayout:a("layout"),tabPermissions:a("privacy"),tabSEO:a("seo"),settings:i,setAsDynamicPage:function(e,t){var o=t.pageData.id,n=e.documentServices.platform.getAppDataByAppDefId(e.documentServices.platform.editorApps.DATA_BINDING.appDefId);e.documentServices.platform.notifyApplication(n.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{pageRef:e.documentServices.pages.getReference(o),origin:"quickActionsMenu"}})},rename:function(e,t,o){t.pageData?r.renamePage(e,t.pageData,o):r.renameMenuItem(e,t,o)},duplicate:function(e,t){r.duplicateMenuItem(e,t,function(e){this.props.closeSettingsPanel(),this.props.editedItemIdLink.requestChange(e)}.bind(this))},unhide:e.partialRight(n,!1),hide:e.partialRight(n,!0),subpage:r.subpage,moveup:r.moveUp,remove:function(e,t){this.props.closeSettingsPanel(),r.removeMenuItem(e,t),t.pageData&&e.bi.event(o.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"page",page_popup_string_id:t.pageData.id,page_popup_name:t.pageData.title})},changeLink:function(t,o){!function(t,o,n){t.openLinkPanel({visibleSections:{NoLink:!1},showAllPopups:!0,hidePageLinks:!0,link:n,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(o)})}(t,function(n){var i=t.data.createItem(n.type);e.assign(i,e.omit(n,["type"])),r.updateLink(t,o.id,i)},t.data.getById(o.id).link)}};return{onActionMenuItemsSelected:function(t,n,i){e.isFunction(s[t])&&s[t].call(this,this.getEditorAPI(),n,i),function(e,t){e.bi.event(o.bi.events.topbar.pages.top_bar_PAGES_quick_actions_menu_select_click,{category:t})}(this.getEditorAPI(),t)}}}),define("rEditor/pagesMenu/pageNode/pageInfoTextHelper",["core"],function(e){"use strict";var t=e.utils.tpaTypeUtils,o=e.utils.blogTypeUtils,n=e.utils.wixStoreTypeUtils;return{getInfoTextForSpecialPage:function(e,i){if(o.isBlog(e,i))return"Pages_Blog_Post_Info_WhatisText";if(t.isTPA(i)){if(!n.isWixStore(e,i))return"TPA pages";if(n.isWixStoreProductPage(i))return"Pages_Store_Product_Info_WhatisText";if(n.isWixStoreCartPage(i))return"Pages_Store_Cart_Info_WhatisText";if(n.isWixStoreThankYouPage(i))return"Pages_Store_Thankyou_Info_WhatisText"}},getInfoTextForSectionPage:function(e,i){return o.isBlog(e,i)?"Pages_Menu_Blog_Tooltip":t.isTPA(i)?n.isWixStore(e,i)?"Pages_Store_Panel_Title":"TPA pages":void 0},getInfoTextForNonPage:function(e){return e.type.isLink?"Pages_Menu_Link_Tooltip":e.type.isDropdown?"Pages_Menu_Dropdown_Tooltip":void 0}}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return e.createElement(o.nodeContentCommon,t.assign({},{isVisible:void 0===this.props.isVisible?this.props.dataSource.isVisibleMobile:this.props.isVisible},this.props),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:this.onClick},e.createElement(a.symbol,{name:"quickActionsSettings"})),"\n\n    ",this.props.children,"\n")}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell",["create-react-class","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt"],function(e,t){"use strict";return e({displayName:"nodeContentMobileShell",onClick:function(){this.props.actions.openSettingsPanel(this.props.dataSource)},render:t})}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(e,t,o){"use strict";return function(){return e.createElement(o,this.props)}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(e,t,o,n,i,a){"use strict";return function(){return function(){var t=a.getInfoTextForNonPage(this.props.dataSource);return e.createElement(i,this.getNotPageProps(),e.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:t,ref:"infoIcon"})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(e,t,o,n,i,a,r,s,l){"use strict";return function(){return function(){var t=s.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return e.createElement(l,this.props,e.createElement("a",{className:"action-button action-button-special-pages-mobile",onClick:function(e){this.props.actions.openSubPagesMenu(this.props.dataSource)}.bind(this,t)},e.createElement(n.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:!0,text:t})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","pagesMenu","symbols"],function(e,t,o,n,i,a){"use strict";return function(){return function(){var r=n.getInfoTextForSpecialPage(this.props.editorAPI,this.props.dataSource.pageData);return e.createElement(i.nodeContentCommon,t.assign({},{isVisible:!0},this.props),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:function(e){this.props.actions.openSettingsPanel(this.props.dataSource)}.bind(this,r)},e.createElement(a.symbol,{name:"quickActionsSettings"})),e.createElement("a",{href:"#",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:r})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt",["react","lodash","pagesMenu"],function(e,t,o){"use strict";return function(){return e.createElement(o.nodeContentCommon,t.assign({},{isVisible:void 0===this.props.isVisible?this.props.dataSource.isVisible:this.props.isVisible},this.props),"\n\n    ",this.props.children,"\n\n")}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon",["create-react-class","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt"],function(e,t){"use strict";return e({displayName:"nodeContentDesktopCommon",render:t})}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt",["react","lodash","baseUI","symbols","util","pagesMenu","experiment"],function(e,t,o,n,i,a,r){"use strict";return function(){return function(){var t=this.props.dataSource,s=i.translate,l=a.pageMenuItemHelpers,c=this.props.editorAPI;return e.createElement(o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",shrink:this.props.shrink,onClick:this.handleClick,onNotificationClick:this.props.onNotificationClick,notificationCount:this.props.notificationCount,onChange:this.actionSelectedHandler,"data-hint-id":r.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.pageMoreHintId:null},"\n\n    ",this.props.children,"\n\n    ",e.createElement(o.dropDown.option,{value:"rename",key:"quick-actions-rename"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsRename"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Rename"))),l.canDuplicate(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-duplicate",value:"duplicate"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"qaDuplicate"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Duplicate"))):null,r.isOpen("dpages")&&this.isDeveloperModeEnabled()&&l.canBeSetAsDynamicPage(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-set-as-dynamic-page",value:"setAsDynamicPage"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"page_dynamic_icon"})),e.createElement("span",{className:"qa-label"},s("Platform_Page_Actions_Set_Dynamic_Page"))):null,l.canUnhide(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-unhide",value:"unhide"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsShow"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Unhide"))):null,l.canHide(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-hide",value:"hide"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsHide"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Hide"))):null,this.isSubpageActive(t)?e.createElement(o.dropDown.option,{key:"quick-actions-subpage",value:"subpage"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsSubpage"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Subpage"))):null,this.isMoveUpActive(t)?e.createElement(o.dropDown.option,{key:"quick-actions-moveup",value:"moveup"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsMainPage"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_MoveUp"))):null,l.canRemoveMenuItem(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-remove",value:"remove"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"qaDelete"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Delete"))):null)}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon",["create-react-class","prop-types","core","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt","experiment"],function(e,t,o,n,i,a){"use strict";return e({displayName:"quickActionsMenuCommon",mixins:[n.mixins.quickActionRenameMixin],propTypes:{dataSource:t.object.isRequired,editorAPI:t.object.isRequired,editedPageIdLink:t.object.isRequired,onActionSelected:t.func.isRequired},isSubpageActive:function(e){return n.pageMenuItemHelpers.canSubpage(e)&&"tree"===this.props.structureType},isMoveUpActive:function(e){return n.pageMenuItemHelpers.canMoveUp(e)&&"tree"===this.props.structureType},handleClick:function(){if(this.props.setSelected(),a.isOpen("pagesFirstTimeSteps")){var e=this.props.dataSource.pageData,t={page_on_top:0===this.props.dataSource.position,page_ind:e?e.id:"non-page"};this.props.editorAPI.bi.event(o.bi.events.topbar.pages.pages_panel_page_settings_click,t)}},isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},render:i})}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt",["react","lodash","baseUILib","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","experiment","util"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return function(){var r=s.translate;return e.createElement(a,t.assign({},{onNotificationClick:this.getOnNotificationClick(),notificationCount:1},this.props),e.createElement(n.dropDown.option,{key:"quick-action-tab-page-info",value:"tabPageInfo",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Info"))),e.createElement(n.dropDown.option,{key:"quick-action-tab-layout",value:"tabLayout",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Layouts"))),e.createElement(n.dropDown.option,{key:"quick-action-tab-permissions",value:"tabPermissions",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Permissions"))),e.createElement(n.dropDown.option,{key:"quick-action-tab-seo",value:"tabSEO",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_SEO"))),e.createElement(n.dropDown.option,{key:"quick-action-separator",className:"separator"},e.createElement(o.Divider,{long:!0})),e.createElement(n.dropDown.option,{key:"quick-action-settings",value:"settings",className:"primary"},e.createElement(i.symbol,{name:"quickActionsSettings",style:{position:"relative",top:"4px",left:"-1px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Settings"))))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage",["create-react-class","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt"],function(e,t,o){"use strict";return e({displayName:"quickActionsMenuPage",getOnNotificationClick:function(){var e=this.props.actions.openSettingsPanel,o=this.props.dataSource;if(t.utils.quickActions.hasNotification(this.props.editorAPI,this.props.dataSource.pageData.id))return function(){e(o,"page")}},render:o})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage"],function(e,t,o,n){"use strict";return function(){return e.createElement(o,this.props,e.createElement(n,this.props))}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage","rEditor/pagesMenu/pageNode/pageInfoTextHelper","baseUI"],function(e,t,o,n,i,a){"use strict";return function(){return function(){var t=this.props.dataSource,r=i.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return e.createElement(o,this.props,e.createElement(n,this.props),e.createElement("a",{href:"#",className:"action-button",onClick:function(e,t){this.props.actions.openSubPagesMenu(e)}.bind(this,t,r)},e.createElement(a.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:!0,text:r})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","rEditor/pagesMenu/pageNode/pageInfoTextHelper","util"],function(e,t,o,n,i,a,r){"use strict";return function(){return function(){var t=this.props.dataSource,a=r.translate;return e.createElement(i,this.props,t.type.isLink?e.createElement(o.dropDown.option,{key:"quick-actions-rename-link",value:"changeLink"},e.createElement(n.symbol,{name:"quickActionsLink"}),e.createElement("span",{className:"qa-label"},a("Pages_Actions_Link_Change"))):null)}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage",["create-react-class","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt"],function(e,t){"use strict";return e({displayName:"quickActionsMenuNotPage",render:t})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage"],function(e,t,o,n,i,a){"use strict";return function(){return function(){var t=n.getInfoTextForNonPage(this.props.dataSource);return e.createElement(i,this.getNotPageProps(),e.createElement(a,this.props),e.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:t,ref:"infoIcon"})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt",["react","lodash","baseUI","baseUILib","symbols","util"],function(e,t,o,n,i,a){"use strict";return function(){function r(){var r=this.props.dataSource,s=a.translate;return e.createElement.apply(this,[o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},t.map(this.pageSettingsOptions,function(t,n,a,r){return e.createElement(o.dropDown.option,{value:a.id,key:"page-settings-action"+r},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",a.title)}.bind(this,r,s)),this.isDeveloperModeEnabled()?e.createElement(o.dropDown.option,{key:"quick-action-separator",className:"separator"},e.createElement(n.Divider,{long:!0})):null,this.isDeveloperModeEnabled()?t.map(this.pageActionsOptions,function(t,n,a,r){return e.createElement(o.dropDown.option,{value:a.id,key:"page-actions"+r},e.createElement(i.symbol,{name:a.icon||"file",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",a.title,"\n    ")}.bind(this,r,s)):null])}return r.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage",["create-react-class","lodash","platform","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt"],function(e,t,o,n){"use strict";var i={PAGE_SETTINGS:"pageSettings",PAGE_ACTIONS:"pageActions"};return e({displayName:"quickActionsMenuDynamicPage",render:n,componentWillMount:function(){var e=this.props.editorAPI;this.pageActionsOptions=e.pages.dynamicPages.getDynamicPageActions(this.props.dataSource.pageData.id,i.PAGE_ACTIONS),this.pageSettingsOptions=e.pages.dynamicPages.getDynamicPageActions(this.props.dataSource.pageData.id,i.PAGE_SETTINGS)},isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},getApplicationId:function(e){var o=this.props.editorAPI,n=o.documentServices.routers.get.byRef(e);return t.get(o.documentServices.platform.getAppDataByAppDefId(n.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(e){var t=this.props.editorAPI,o=t.documentServices.pages.getReference(this.props.dataSource.pageData.id),n=t.documentServices.routers.getRouterRef.byPage(o),i={routerRef:n,publicUrl:t.documentServices.generalInfo.getPublicUrl(),pageRef:o,origin:"quickActionsMenu"};t.documentServices.platform.notifyApplication(this.getApplicationId(n),{eventType:e,eventPayload:i})},actionSelectedHandler:function(e){var n=o.constants,a=[].concat(this.pageActionsOptions,this.pageSettingsOptions),r=t.find(a,{id:e});if(r.category!==i.PAGE_SETTINGS)return r.callback?r.callback():r.type===n.pages.page_actions.rename.type?this.props.editedPageIdLink.requestChange(this.props.dataSource.pageData.id):void this.notifyApplicationOnEvent(r.event);this.props.actions.openSettingsPanel(this.props.dataSource,r.title,this.pageSettingsOptions)}})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage"],function(e,t,o,n){"use strict";return function(){return e.createElement(o,this.props,e.createElement(n,this.props))}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt",["react","lodash","baseUI","symbols","util"],function(e,t,o,n,i){"use strict";return function(){function a(){var a=this.props.dataSource,r=i.translate;return e.createElement.apply(this,[o.dropDown.contextMenu,{key:"router-context-menu",shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},t.map(this.routerActions,function(t,i,a,r){return e.createElement(o.dropDown.option,{value:a.id,key:"router-actions"+r},e.createElement(n.symbol,{name:a.icon||"file",style:{position:"relative",margin:"0 7px 0 5px"}}),"\n        ",a.title,"\n    ")}.bind(this,a,r))])}return this.shouldDisplayActions()?a.apply(this,[]):null}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter",["create-react-class","lodash","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt"],function(e,t,o){"use strict";return e({displayName:"quickActionsMenuRouter",shouldDisplayActions:function(){var e=this.props.editorAPI,t=this.getCurrentApplicationId(),o=this.props.editorAPI.platform.getAppDataByApplicationId(t).appDefinitionId;return!0===this.props.editorAPI.platform.getAppManifest(o).routers.routerActions.showOnAllModes||e.developerMode.isEnabled()},componentWillMount:function(){this.routerActions=this.props.editorAPI.pages.dynamicPages.getRouterActionByPrefix(this.props.dataSource.prefix)},getCurrentApplicationId:function(){var e=this.props.editorAPI.documentServices.routers.getRouterRef.byPrefix(this.props.dataSource.prefix);return this.getApplicationId(e)},getApplicationId:function(e){var o=this.props.editorAPI,n=o.documentServices.routers.get.byRef(e);return t.get(o.documentServices.platform.getAppDataByAppDefId(n.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(e){var t=this.props.editorAPI,o=t.documentServices.routers.getRouterRef.byPrefix(this.props.dataSource.prefix),n={routerRef:o,publicUrl:t.documentServices.generalInfo.getPublicUrl(),origin:"quickActionsMenu"};t.documentServices.platform.notifyApplication(this.getApplicationId(o),{eventType:e,eventPayload:n})},actionSelectedHandler:function(e){var o=t.find(this.routerActions,{id:e});if(o.callback)return o.callback();this.notifyApplicationOnEvent(e)},render:o})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter"],function(e,t,o,n){"use strict";return function(){return e.createElement(o,this.props,e.createElement(n,this.props))}}),define("rEditor/pagesMenu/pageNodeRenderers",["rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt","rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt"],function(e,t,o,n,i,a,r,s,l){"use strict";return{mobile:{mainMenu:function(n,i){return n.type.isPage||n.type.isDynamicPage||n.type.isRouter?i?o:e:n.type.isLink||n.type.isDropdown?t:void 0}},desktop:{mainMenu:function(e,t){return e.type.isPage?t?a:e.type.isDynamicPage?s:i:e.type.isLink||e.type.isDropdown?r:e.type.isRouter?l:void 0}},common:{subPages:function(){return n}}}}),define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage",["create-react-class","rEditor/pagesMenu/pageNodeRenderers"],function(e,t){"use strict";return e({displayName:"nodeContentMobileSubPage",render:function(){return t.common.subPages(this.props.dataSource).call(this)}})}),define("rEditor/pagesMenu/subPages/subPages.rt",["react","lodash","baseUI","baseUILib","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return e.createElement("div",{className:"pages-tree-container pages-menu"},e.createElement("div",{className:"pages-tree-controls"},e.createElement("a",{href:"#",className:"panel-header-close",onClick:function(e){e.preventDefault(),this.props.closeSubPagesMenu()}.bind(this)},e.createElement("button",{className:"button-control back-to-pages"},e.createElement(a.symbol,{name:"arrowLeft"})),e.createElement("span",{},r.translate("pages_blog_panel_back")))),e.createElement(n.CustomScroll,{},e.createElement(o.treeView,{editedPageIdLink:this.isSubpageRenamingAllowed()?this.props.editedItemIdLink:void 0,onActionSelected:this.isSubpageRenamingAllowed()?this.onActionMenuItemsSelected:void 0,className:"pages-tree ",dataSource:this._pagesList,nodeContent:s,equalityComparer:this.equalityComparer,editorAPI:this.getEditorAPI(),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage(this._curPageData.id),isRoot:!0})))}}),define("rEditor/pagesMenu/subPages/subPages",["lodash","react","create-react-class","prop-types","core","pagesMenu","rEditor/pagesMenu/quickActionsMenuItemsMixin","experiment","rEditor/pagesMenu/subPages/subPages.rt"],function(e,t,o,n,i,a,r,s,l){"use strict";return o({displayName:"subPages",mixins:[t.addons.LinkedStateMixin,i.mixins.editorAPIMixin,r],propTypes:{userPrefs:n.object,sectionMenuItem:n.object,openSettingsPanel:n.func.isRequired,closeSubPagesMenu:n.func.isRequired,selectedMenuItemChanged:n.func.isRequired},linkPage:function(e){return{value:e,requestChange:function(e){this.props.selectedMenuItemChanged(e),e&&e.pageData&&this.getEditorAPI().pages.navigateTo(e.pageData.id)}.bind(this)}},getCurrentPagePageData:function(){var e=this.getEditorAPI();return e.documentServices.pages.data.get(e.documentServices.pages.getPrimaryPageId())},equalityComparer:function(e,t){return e.pageData&&e.pageData.id===t},isSubpageRenamingAllowed:function(){var t=e.get(this,"props.sectionMenuItem.pageData.id");return s.isOpen("se_blogChangeSinglePostPageName")&&!0===this.getEditorAPI().documentServices.wixapps.classics.blog.isFeed(t)},render:function(){var e=this.getEditorAPI();this._curPageData=this.getCurrentPagePageData();var t=a.specialPages.menuLogic.getSpecialPagesListBySectionPageOrBySibling(e,this.props.sectionMenuItem&&this.props.sectionMenuItem.pageData||this._curPageData);return this._pagesList=e.mainMenu.convertPagesDataListToMenuItemsList(t),l.call(this)}})}),define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt",["react","lodash","util","symbols"],function(e,t,o,n){"use strict";return function(){return e.createElement("div",{className:"empty-pages-and-popups"},e.createElement("figure",{className:"empty-figure"},e.createElement(n.symbol,{name:"noSearchResultStructureSite"})),e.createElement("div",{className:"main-message"},o.translate("POPUPS_SiteStructure_EmptySearch_Title")),e.createElement("div",{className:"try-again-message"},o.translate("POPUPS_SiteStructure_EmptySearch_Text")))}}),define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups",["create-react-class","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt"],function(e,t){"use strict";return e({displayName:"emptyPagesAndPopups",render:t})}),define("rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt",["react","lodash","baseUI","symbols","util"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.props.onClick,onChange:function(e){this.props.actionSelected(this.props.popupData,e)}.bind(this)},e.createElement(o.dropDown.option,{value:"settings"},e.createElement(n.symbol,{name:"qaPopupSettings"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Popups_Settings"))),e.createElement(o.dropDown.option,{value:"startRename"},e.createElement(n.symbol,{name:"quickActionsRename"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Page_Rename"))),e.createElement(o.dropDown.option,{value:"duplicate"},e.createElement(n.symbol,{name:"qaDuplicate"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Page_Duplicate"))),e.createElement(o.dropDown.option,{value:"remove"},e.createElement(n.symbol,{name:"qaDelete"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Page_Delete"))))}}),define("rEditor/pagesMenu/popups/quickActions/popupQuickActions",["lodash","create-react-class","prop-types","rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt"],function(e,t,o,n){"use strict";return t({displayName:"popupQuickActions",propTypes:{popupData:o.object.isRequired},render:n})}),define("rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin",["lodash"],function(e){"use strict";return{showTooltip:function(){this.refs.infoIcon&&this.refs.infoIcon.showTooltip()},hideTooltip:function(){this.refs.infoIcon&&this.refs.infoIcon.hideTooltip()},getNotPageProps:function(){return e.assign({},this.props,{onClick:this.showTooltip,onMouseLeave:this.hideTooltip})}}}),define("rEditor/pagesMenu/pageNode/common/nodeContentForList",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,n){"use strict";return e({displayName:"nodeContentForList",mixins:[t.mixins.editorAPIMixin,o],getDefaultProps:function(){return{structureType:"list"}},render:function(){var e=this.getEditorAPI().isDesktopEditor()?"desktop":"mobile";return n[e].mainMenu(this.props.dataSource,this.props.isSectionPage).call(this)}})}),define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt",["react","lodash","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions","rEditor/pagesMenu/pageNode/common/nodeContentForList","baseUI","baseUILib","util"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return e.createElement("div",{className:"pages-and-popups-list"},e.createElement(r.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},this.isPagesVisible()?e.createElement("section",{className:"list list-of-pages",key:"list-of-pages"},e.createElement("h1",{className:"list-label"},s.translate("POPUPS_SiteStructure_Panel_Pages")),e.createElement.apply(this,["ul",{className:"popups-list"},t.map(this.props.menuItemsList,function(t,o){return e.createElement("li",{className:"item",key:t.id},e.createElement(i,this.getMenuItemProps(t)))}.bind(this))])):null,this.isPopUpsVisible()?e.createElement("section",{className:"list list-of-pop-ups",key:"list-of-popups"},e.createElement("h1",{className:"list-label"},s.translate("POPUPS_SiteStructure_Panel_Popups")),e.createElement.apply(this,["ul",{className:"pages-list"},t.map(this.props.popupsList,function(t,i){return e.createElement("li",{className:"item",key:t.id},e.createElement(o.pageItem,this.getPopupItemProps(t),this.isShowPopupQuickActions()?e.createElement(n,{key:"popup-quick-actions",popupData:t,actionSelected:this.onActionPopUpSelected}):null))}.bind(this))])):null))}}),define("rEditor/pagesMenu/quickActionsPopupsMixin",["lodash","core","pagesMenu"],function(e,t,o){"use strict";var n=o.pageMenuItemHelpers,i={settings:function(){var e=this.getEditorAPI(),t=e.pages.popupPages.getPopupContainer();e.selection.selectComponentByCompRef(t),e.openComponentPanel("settingsPanel",{initiatorName:"quickActions"})},startRename:function(e,t){this.props.editedItemIdLink.requestChange(t.id)},rename:function(e,t,o){n.renamePage(e,t,o),this.props.editedItemIdLink.requestChange(null)},duplicate:function(e,t){n.duplicatePopup(e,t,function(e){this.props.closeSettingsPanel(),this.props.editedItemIdLink.requestChange(e)}.bind(this))},remove:function(e,o){n.removePopup(e,o.id),e.bi.event(t.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:o.id,page_popup_name:o.title})}};return{onActionPopUpSelected:function(t,o,n){e.isFunction(i[o])&&i[o].call(this,this.getEditorAPI(),t,n)}}}),define("rEditor/pagesMenu/navigateToMixin",["core"],function(e){"use strict";return{navigateToPageById:function(t,o){var n=this.getEditorAPI();(n.documentServices.pages.getFocusedPageId()!==t||o)&&(n.pages.navigateToAndScroll(t,o,n.applyPreviewScrollToEditorScroll),n.bi.event(e.bi.events.pages.navigate_to_page,{page_id:t}))},scrollToAnchor:function(e){var t=e.pageId&&e.pageId.replace("#","");this.navigateToPageById(t,e.anchorDataId)}}}),define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList",["create-react-class","prop-types","lodash","core","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/navigateToMixin"],function(e,t,o,n,i,a,r,s){"use strict";return e({displayName:"pagesAndPopUpsList",mixins:[n.mixins.editorAPIMixin,a,r,s],propTypes:{popupsList:t.array.isRequired,menuItemsList:t.array.isRequired,openSettingsPanel:t.func.isRequired,closeSettingsPanel:t.func.isRequired,openSpecialPageMenu:t.func.isRequired,closeSpecialPageMenu:t.func.isRequired,isSectionPage:t.func.isRequired,editedItemIdLink:t.object.isRequired,selectedItemInfoLink:t.object.isRequired,changeSelectedMenuItem:t.func.isRequired,openSectionPageMenu:t.func.isRequired},onRenameDone:function(e,t){this.onActionPopUpSelected(e,"rename",t)},isShowPopupQuickActions:function(){return this.getEditorAPI().isDesktopEditor()},isPagesVisible:function(){return this.props.menuItemsList.length},isPopUpsVisible:function(){return this.props.popupsList.length},setSelectedPage:function(e){e.type.isPage?this.navigateToPageById(e.pageData.id):e.type.isLink&&"AnchorLink"===e.type.raw&&this.scrollToAnchor(e.link),this.props.changeSelectedMenuItem(e),this.props.selectedItemInfoLink.requestChange({id:e.id,isPageOrPopup:e.isPage})},getPopupItemProps:function(e){return{value:e.title,label:e.title,onChange:o.partial(this.onRenameDone,e),isVisible:!0,isSelected:this.props.selectedItemInfoLink.value.id===e.id,editModeLink:this.linkEditMode(e.id),onClick:o.partial(this.onPopUpClick,e),onContextMenu:this.props.setSelected}},getMenuItemProps:function(e){return{editorAPI:this.getEditorAPI(),dataSource:e,editedPageIdLink:this.props.editedItemIdLink,isSelected:this.props.selectedItemInfoLink.value.id===e.id,onActionSelected:this.onActionMenuItemsSelected,setSelected:this.setSelectedPage.bind(this,e),isSectionPage:this.props.isSectionPage(e),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.props.openSectionPageMenu}}},onPopUpClick:function(e,t){t.stopPropagation(),this.getEditorAPI().pages.popupPages.open(e.id),this.props.closeSettingsPanel(),this.props.selectedItemInfoLink.requestChange({id:e.id,isPageOrPopUp:!0})},linkEditMode:function(e){return{value:e===this.props.editedItemIdLink.value,requestChange:function(t){this.props.editedItemIdLink.requestChange(t?e:null)}.bind(this)}},render:i})}),define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList"],function(e,t,o,n,i){"use strict";return function(){return function(){var a=this.getEditorAPI().getUserPreferences();return e.createElement("div",{className:"filtered-pages-and-popups"},this.isSpecialPagesPanelOpen()?null:e.createElement("div",{className:"without-special-page",key:"list-of-filtered-pages-and-popups"},this.isHasSomeItems()?e.createElement(i,t.assign({},{key:"filtered-pages-and-popups-not-empty"},this.getProps())):null,this.isHasSomeItems()?null:e.createElement(n,{key:"filtered-pages-and-popups-empty"})),this.isSpecialPagesPanelOpen()?e.createElement(o,{key:"subpages-menu",userPrefs:a,sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null)}.apply(this,[])}}),define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups",["react","create-react-class","prop-types","core","lodash","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt"],function(e,t,o,n,i,a,r){"use strict";return t({displayName:"filterPagesAndPopups",mixins:[e.addons.LinkedStateMixin,a],propTypes:{popupsList:o.array.isRequired,menuItemsList:o.array.isRequired,openSettingsPanel:o.func.isRequired,closeSettingsPanel:o.func.isRequired,openSpecialPageMenu:o.func.isRequired,closeSpecialPageMenu:o.func.isRequired,isSectionPage:o.func.isRequired,editedItemIdLink:o.object.isRequired,selectedItemInfoLink:o.object.isRequired,changeSelectedMenuItem:o.func.isRequired},isHasSomeItems:function(){return 0!==this.props.menuItemsList.length||0!==this.props.popupsList.length},getProps:function(){return i.assign({},this.props,{openSectionPageMenu:this.openSpecialPagesMenu})},render:r})}),define("rEditor/pagesMenu/mainMenuTreeState",["lodash"],function(e){"use strict";function t(e,t){i[e]=Boolean(t)}function o(e,t){return i.hasOwnProperty(e)?i[e]:t||!1}function n(i){e.forEach(i,function(e){e.isCollapsed=o(e.id),e.items.length>0?n(e.items):e.isCollapsed&&(e.isCollapsed=!1,t(e.id,!1))})}var i={};return{setMenuItemCollapsed:t,reflectStateToMenuTree:n,reflectStateToMenuItem:function(n,i){return n.isCollapsed=o(n.id,i),e.get(n,"items.length",0)<=0&&n.isCollapsed&&(n.isCollapsed=!1,t(n.id,!1)),n}}}),define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt",["react","lodash","symbols","baseUI","util","experiment","constants"],function(e,t,o,n,i,a,r){"use strict";return function(){return function(){var t=i.translate;return e.createElement("ul",{className:"tooltip-pages-add-menu"},e.createElement("li",{},e.createElement("div",{onClick:this.props.addPage},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelPage"})),e.createElement("div",{},e.createElement("span",{className:"title"},t("Pages_Menu_Add_Page_Title")),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Page_Text"))))),a.isOpen("dpages")&&this.props.isEditorInDeveloperMode?e.createElement("li",{key:"dynamic_page"},e.createElement("div",{onClick:this.props.addDynamicPage},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelDynamicPage"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Platform_Pages_Menu_Add_Dynamic_Page_Title"),"\n                "),e.createElement("span",{className:"description"},t("Platform_Pages_Menu_Add_Dynamic_Page_Text"))))):null,e.createElement("li",{},e.createElement("div",{onClick:this.props.addLink},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelLink"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Pages_Menu_Add_Link_Title"),"\n                    ",e.createElement(n.tooltip,{value:"Pages_Menu_Add_Link_Tooltip",width:"228",alignment:r.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"title-help-icon"},e.createElement(o.symbol,{name:"infoSmall"})))),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Link_Text"))))),e.createElement("li",{},e.createElement("div",{onClick:this.props.addDropdown},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelDropDown"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Pages_Menu_Add_Dropdown_Title"),"\n                    ",e.createElement(n.tooltip,{value:this.getTooltipValue(),width:"240px",alignment:r.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"title-help-icon"},e.createElement(o.symbol,{name:"infoSmall"})))),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Dropdown_Text"))))))}.apply(this,[])}}),define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel",["create-react-class","prop-types","lodash","baseUI","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt"],function(e,t,o,n,i){"use strict";return e({displayName:"addPageMenuPanel",mixins:[],propTypes:{addPage:t.func.isRequired,addLink:t.func.isRequired,addDropdown:t.func.isRequired,addDynamicPage:t.func,isEditorInDeveloperMode:t.bool},getTooltipValue:function(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"addDropDownHint",imageContainerStyle:{backgroundColor:"#17a8a4"},text:"Pages_Menu_Add_Dropdown_Tooltip"}}},render:i})}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils",["util"],function(e){"use strict";var t={none:"Pages_Menu_Transitions_None",swipeHorizontalFullScreen:"Pages_Menu_Transitions_SwipeH_Selected",swipeVerticalFullScreen:"Pages_Menu_Transitions_SwipeV_Popup",crossfade:"Pages_Menu_Transitions_CrossFade",outIn:"Pages_Menu_Transitions_OutIn"},o={outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"};return{calcNewIdFromLegacy:function(e){return o[e]?o[e]:o.none},getTransitionLabelKey:function(e){var o=this.calcNewIdFromLegacy(e);return t[o]},getTransitionLabelTranslated:function(t){return e.translate(this.getTransitionLabelKey(t))}}}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","baseUILib"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return e.createElement("section",{className:"page-transitions",tabIndex:"0"},e.createElement(s.PanelHeader,{className:"dark",onClose:this.close,onHelp:this.helpClicked},e.createElement("span",{},a.translate("Pages_Menu_Transitions_Title"))),e.createElement("div",{className:"content"},e.createElement(o.thumbnails,{className:"with-labels",maxThumbsPerRow:"3",options:this.props.transitionsToShow,value:r.calcNewIdFromLegacy(this.getEditorAPI().pages.transitions.get()),onChange:this.onTransitionChange})),e.createElement("i",{className:"triangle"}))}}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel",["reactDOM","create-react-class","prop-types","lodash","baseUI","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","core","util"],function(e,t,o,n,i,a,r,s,l){"use strict";var c=i.tooltipManager,p=[{id:"none",symbolName:"transition-none"},{id:"swipeHorizontalFullScreen",symbolName:"transition-pages-horizontal"},{id:"swipeVerticalFullScreen",symbolName:"transition-pages-vertical"},{id:"crossfade",symbolName:"transition-pages-crossfade"},{id:"outIn",symbolName:"transition-pages-inout"}];return t({displayName:"pageTransitionsPanel",mixins:[s.mixins.editorAPIMixin,l.outerClickMixin],render:a,propTypes:{onClose:o.func},getDefaultProps:function(){return{transitionsToShow:n.map(p,function(e){return{value:e.id,label:r.getTransitionLabelKey(e.id),symbolName:e.symbolName}})}},componentDidMount:function(){e.findDOMNode(this).focus()},onTransitionChange:function(e){this.getEditorAPI().pages.transitions.set(e),this.getEditorAPI().bi.event(s.bi.events.pages.pagesPanel.page_transition_selected_click,{category:e}),this.performAnimationSimulation()},flattenMenuData:function(e){var t=[];return n.forEach(e.documentServices.mainMenu.getMenu(!0),function(e){t.push(e),t=t.concat(e.items||[])}),t},performAnimationSimulation:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),o=n.filter(this.flattenMenuData(e),function(e){return!!e.link&&"PageLink"===e.link.type}),i=n.map(n.map(o,"link"),"pageId"),a=i.indexOf("#"+t),r=a+1;a===i.length-1&&(r=0),r!==a&&e.pages.navigateTo(i[r].slice(1))},helpClicked:function(){var e=this.getEditorAPI(),t={panel_name:this.props.id,origin:s.constants.BI.HELP.ORIGIN.PAGES,learn_more:!1};e.panelManager.openHelpCenter("dfc95824-954a-4d20-aad2-7971d3fbdb98",null,t),c.hide(this.props.id)},close:function(){this.props.onClose&&this.props.onClose(),c.hide(this.props.id)},onOuterClick:function(){this.close()}})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin",["lodash","core","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/navigateToMixin","experiment"],function(e,t,o,n,i){"use strict";function a(t){return e.reduce(t||[],function(e,t){return t.isCollapsed||(e+=a(t.items)),e+1},0)}function r(t,o){return e.forEach(t,function(e,t){e.items&&e.items.length&&(e.items=r(e.items,o));for(var n=0;n<o.length;n+=1)e=o[n](e,t)}),t}function s(e,t){return e.position=t,e}return{mixins:[t.mixins.editorAPIMixin,n],onPageToggled:function(e,t){var n=e.props.dataSource.id;o.setMenuItemCollapsed(n,t),this.forceUpdate()},linkPage:function(){var t=this.props.selectedItemInfoLink.value,o=Boolean(t.isPageOrPopup),n=t.id;return{value:{pageId:o?n:null,menuItemId:o?null:n,isPage:o},requestChange:function(t){this.props.selectedItemInfoLink.requestChange({id:t.type.isPage?e.get(t.pageData,"id"):t.id,isPageOrPopup:t.type.isPage}),this.props.changeSelectedMenuItem(t),t.type.isPage?this.navigateToPageById(t.pageData.id):t.type.isLink&&"AnchorLink"===t.type.raw&&this.scrollToAnchor(t.link)}.bind(this)}},closePanel:function(){this.props.onClose()},shouldShrinkMenu:function(){return a(this._menuTree)>17},equalityComparer:function(e,t){return t.isPage&&e.pageData&&e.pageData.id===t.pageId||t.menuItemId===e.id},getTreeDockerScrollTop:function(){return this.refs.pagesTree.getScrollTop()},renderTemplate:function(e){var t=this.getEditorAPI(),n=t.documentServices.pages.getPagesData(),a=this.props.menuItemsTree,l=!!i.isOpen("pagesPanelOpenCollapsed")&&n.length>40;if(a=r(a,[function(e){return o.reflectStateToMenuItem(e,l)},s]),this._menuTree=a,i.isOpen("dpages")){var c=t.pages.dynamicPages.getMenuItems();c=r(c,[function(e){return o.reflectStateToMenuItem(e,l)}]),this._menuDynamicTree=c}return e.call(this)}}}),define("rEditor/pagesMenu/pagesTree/pagesTree.rt",["react","lodash","baseUI","baseUILib","experiment"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(n.CustomScroll,{ref:"customScroll"},e.createElement(o.treeView,t.assign({},{className:this.getTreeViewClasses(),dataSource:this.props.pagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:!0},this.filteredProps())),i.isOpen("dpages")?e.createElement(o.treeView,t.assign({},{key:"dynamicPagesTree",className:"dynamic-pages",dataSource:this.props.dynamicPagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:!0},this.filteredProps())):null)}}),define("rEditor/pagesMenu/pagesTree/pagesTree",["reactDOM","lodash","create-react-class","prop-types","core","rEditor/pagesMenu/pagesTree/pagesTree.rt"],function(e,t,o,n,i,a){"use strict";return o({displayName:"pagesTree",mixins:[i.mixins.editorAPIMixin],propTypes:{pagesList:n.any.isRequired,dynamicPagesList:n.any.isRequired},filteredProps:function(){return t.omit(this.props,["dynamicPagesList","pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},getScrollTop:function(){return this.refs.customScroll.getScrollTop()},scrollToSelectedNode:function(){this._scrollToSelectedNode=!0},componentDidUpdate:function(){var t=void 0,o=void 0,n=NaN;if(this._scrollToSelectedNode){this._scrollToSelectedNode=!1;var i=e.findDOMNode(this),a=i.querySelector(".pages-tree-item.selected");a&&(t=i.getBoundingClientRect(),(o=a.getBoundingClientRect()).top<t.top?n=this.getScrollTop()+(o.top-t.top):o.bottom>t.bottom&&(n=this.getScrollTop()+(o.bottom-t.bottom)),isNaN(n)||this.refs.customScroll.updateScrollPosition(Math.max(0,n)))}},getTreeViewClasses:function(){return"pages-tree "},render:a})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,n){"use strict";return e({displayName:"nodeContentDesktopMainMenu",mixins:[t.mixins.editorAPIMixin,o],render:function(){var e=this.props.dataSource;return n.desktop.mainMenu(e,this.props.isSectionPage(e)).call(this)}})}),define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","util"],function(e,t,o,n){"use strict";return function(){return this.state.isContextMenuOpen?function(){var i=n.translate;return e.createElement("div",{key:"pagesMenuContextMenuContainer",style:{position:"absolute",top:this.state.position.y,left:this.state.position.x},className:t({rightClickMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("ul",{},e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddPage",label:i(this.addPageItem.label),shouldTranslate:!1,item:this.addPageItem,onClick:this.addPageClickHandler}),e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddLink",label:i(this.addLinkItem.label),shouldTranslate:!1,item:this.addLinkItem,onClick:this.addLinkClickHandler}),e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddDropdown",label:i(this.addDropdownItem.label),shouldTranslate:!1,item:this.addDropdownItem,onClick:this.addDropdownClickHandler})),e.createElement("ul",{},e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuChangeTransition",label:i(this.changeTransitionItem.label),shouldTranslate:!1,item:this.changeTransitionItem,onClick:this.changeTransitionClickHandler})))}.apply(this,[]):null}}),define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu",["create-react-class","prop-types","core","lodash","baseUI","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt"],function(e,t,o,n,i,a){"use strict";var r=i.tooltipManager;return e({displayName:"pagesMenuContextMenu",mixins:[o.mixins.editorAPIMixin],propTypes:{addPage:t.func,addLink:t.func,addDropdown:t.func,transitionPanelId:t.string},addPageItem:{label:"Pages_Menu_Context_Menu_Add_Page",enabled:!0},addLinkItem:{label:"Pages_Menu_Context_Menu_Add_Link",enabled:!0},addDropdownItem:{label:"Pages_Menu_Context_Menu_Add_Dropdown",enabled:!0},changeTransitionItem:{label:"Pages_Menu_Context_Menu_Change_Transition",enabled:!0},closeContextMenu:function(){this.setState({isContextMenuOpen:!1})},getInitialState:function(){return{isContextMenuOpen:!1,position:null}},show:function(e){this.setState({isContextMenuOpen:!0,position:e});this.getEditorAPI().bi.event(o.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click,{origin:"right_click"})},addPageClickHandler:function(){this.closeContextMenu();this.props.addPage(void 0,{origin:"right_click"})},addLinkClickHandler:function(){this.closeContextMenu();this.props.addLink(void 0,{origin:"right_click"})},addDropdownClickHandler:function(){this.closeContextMenu();this.props.addDropdown(void 0,{origin:"right_click"})},changeTransitionClickHandler:function(){this.closeContextMenu(),r.show(this.props.transitionPanelId);this.getEditorAPI().bi.event(o.bi.events.topbar.pages.top_bar_PAGES_page_transition_click,{origin:"right_click"})},render:a})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt",["react","lodash","baseUI","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu","experiment","constants"],function(e,t,o,n,i,a,r,s,l,c,p,d){"use strict";return function(){return function(){var a=this.getEditorAPI(),u=i.translate;return e.createElement("div",{className:t({"pages-menu":!0,"pages-panel-settings-opened":!!this.state.menuItemIdToShowSettingsFor}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:t({"pages-tree-container":!0,"disable-drag":this.hasEditedPages()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.mouseDownHandler,onContextMenu:this.rightClickHandler},e.createElement(o.treeDocker,{className:t({"pages-tree-docker":!0,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onNodeMoved:function(e,t,o){this.movePage(o,this.props.menuItemsTree)}.bind(this,a,u),treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"pages-tree-item",draggedClass:"rotated",previewClass:"shadow",cantBeChildClass:"cant-be-child",isDragAvailable:!this.hasEditedPages(),scrollTopGetter:this.getTreeDockerScrollTop,collapsedClass:"tree-collapsed"},e.createElement(r,{ref:"pagesTree",nodeContent:l,structureType:"tree",equalityComparer:this.equalityComparer,pagesList:this._menuTree,dynamicPagesList:p.isOpen("dpages")?this._menuDynamicTree:void 0,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},onActionSelected:this.onActionMenuItemsSelected,editedPageIdLink:this.props.editedMenuItemIdLink,valueLink:this.linkPage()}))),e.createElement("footer",{},e.createElement(o.tooltip,{value:this.getAddPageMenu(),alignment:"right",width:"296",marginsFromWindow:"75",openTriggers:[d.UI.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[d.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],onClose:this.onAddPageMenuClose,id:"addPageMenuPopoverId",className:"popover-add-page-menu"},e.createElement(o.button,{label:"Pages_Menu_Add_Button",icon:"addPage",onClick:this.reportClick("add"),hintId:"Pages_NewPage"})),e.createElement(o.tooltip,{value:this.getPageTransitionsPanel(),alignment:"right",width:"296",marginsFromWindow:"0",openTriggers:[d.UI.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[d.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],id:this.getPageTransitionsPanelId()},e.createElement("div",{className:"page-transition",onClick:this.reportClick("transition")},e.createElement("div",{className:"icon"},e.createElement(n.symbol,{name:"truck"})),e.createElement("div",{},e.createElement("span",{},u("Pages_Menu_Transitions_Caption")),e.createElement(o.button,{className:"btn-text",label:s.getTransitionLabelKey(a.pages.transitions.get())}))))),e.createElement(c,{addPage:this.addPage,addLink:this.addLink,addDropdown:this.addDropdown,transitionPanelId:this.getPageTransitionsPanelId(),ref:"pagesMenuContextMenu"}))}.apply(this,[])}}),define("rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin",[],function(){"use strict";return{mouseDownHandler:function(){this.refs.pagesMenuContextMenu.closeContextMenu()},rightClickHandler:function(e){var t=void 0;"inner-container"===e.target.className&&(e.preventDefault(),t=e.target.getBoundingClientRect(),this.refs.pagesMenuContextMenu.closeContextMenu(),this.refs.pagesMenuContextMenu.show({x:e.clientX-t.left,y:e.clientY-t.top}))}}}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop",["react","create-react-class","prop-types","core","lodash","baseUI","util","pagesMenu","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,h){"use strict";var f=s.pageMenuItemHelpers;return t({displayName:"mainMenuPagesDesktopPopups",mixins:[d,m,g],propTypes:{pageAdded:o.func,mainMenuTree:o.any,onActionPagesSelected:o.func,selectedItemInfoLink:o.object},componentWillMount:function(){this.editorAPI=this.getEditorAPI(),this.dataBindingAppData=this.editorAPI.documentServices.platform.getAppDataByAppDefId(this.editorAPI.documentServices.platform.editorApps.DATA_BINDING.appDefId)},biData:{page:{category:"page"},link:{category:"link"},dropdown:{category:"dropdown menu"},dynamicPage:{category:"dynamic page"}},getInitialState:function(){return{isPageTransitionPanelOpened:!1}},movePage:function(e,t){var o={items:t},i=e.from.findIn(o,"items"),a=i.id,r=e.to.parent().findIn(o,"items").id||null,s=e.to.findIn(o,"items"),c=s?s.position:e.to.atRight(),p=this.getEditorAPI();a&&(r&&l.setMenuItemCollapsed(r,!1),p.documentServices.mainMenu.moveItem(a,r,c),p.history.add("moving a page"),p.documentServices.waitForChangesApplied(function(e){r&&this.refs.pagesTree.scrollToSelectedNode(),this.refs.pagesTree.props.valueLink.requestChange(e)}.bind(this,i)),p.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_menu_drag),r&&1===e.from.length()?p.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"drag"}):!r&&e.from.length()>1&&p.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"drag"}))},closePageTransitionsPanel:function(){this.setState({isPageTransitionPanelOpened:!1})},_onAddPageMenuCloseHandler:i.noop,onAddPageMenuClose:function(){this._onAddPageMenuCloseHandler(this.props.pageAdded||i.noop),this._onAddPageMenuCloseHandler=i.noop},addPage:function(){var e=this.getEditorAPI(),t=r.translate("Pages_Menu_Add_New_Page"),o=f.addPage(e,t,null,this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e,t){this.renameMenuItemById(t),this.props.selectedItemInfoLink.requestChange({id:t,isPageOrPopUp:!0})}.bind(this)),i=(e.documentServices.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:s.utils).convertPageNameToUrl(t);e.pages.data.update(o.id,{pageUriSEO:i}),e.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.page)},addDynamicPage:function(){h.isOpen("dpages")&&(this.editorAPI.documentServices.platform.notifyApplication(this.dataBindingAppData.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{origin:"mainMenuPageDesktop"}}),this.editorAPI.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dynamicPage))},addLink:function(){var e=this.getEditorAPI(),t=function(t){var o=e.data.createItem(t.type);i.assign(o,i.omit(t,["type"])),f.addLink(e,o,r.translate("Pages_Menu_Add_New_Link"),this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e){this.renameMenuItemById(e),this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0})}.bind(this))}.bind(this);!function(e,t,o){e.openLinkPanel({visibleSections:{NoLink:!1},hidePageLinks:!0,link:o,showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:i.once(t)})}(e,t),e.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.link)},addDropdown:function(){var e=this.getEditorAPI();f.addDropdown(e,r.translate("Pages_Menu_Add_New_Category"),this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e){this.renameMenuItemById(e),this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0})}.bind(this)),e.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dropdown)},_setAddPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addPage,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddLinkHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addLink,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddDropdownHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDropdown,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddDynamicPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDynamicPage,a.tooltipManager.hide("addPageMenuPopoverId",!0)},getAddPageMenu:function(){return e.createElement(c,{addPage:this._setAddPageHandlerAndHideTooltip,addLink:this._setAddLinkHandlerAndHideTooltip,addDropdown:this._setAddDropdownHandlerAndHideTooltip,isEditorInDeveloperMode:this.isEditorInDeveloperMode(),addDynamicPage:this._setAddDynamicPageHandlerAndHideTooltip})},getPageTransitionsPanel:function(){var t=this.getEditorAPI();return e.createElement(p,{biEvent:t.bi.event,userPrefs:t.getUserPreferences(),id:this.getPageTransitionsPanelId()})},isEditorInDeveloperMode:function(){return this.getEditorAPI().developerMode.isEnabled()},getPageTransitionsPanelId:function(){return"getPageTransitionsPanelId"},hasEditedPages:function(){return Boolean(this.props.editedMenuItemIdLink.value)},renameMenuItemById:function(e){this.props.editedMenuItemIdLink.requestChange(e)},reportClick:function(e){var t=this.getEditorAPI();switch(e){case"add":return function(){t.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click)};case"transition":return function(){t.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_page_transition_click)}}},render:function(){return this.renderTemplate(u)}})}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,n){"use strict";return e({displayName:"nodeContentMobileMainMenu",mixins:[t.mixins.editorAPIMixin,o],render:function(){var e=this.props.dataSource;return n.mobile.mainMenu(e,this.props.isSectionPage(e)).call(this)}})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu","experiment"],function(e,t,o,n,i,a,r,s,l){"use strict";return function(){return e.createElement("div",{className:"pages-menu"},e.createElement("div",{className:t({"pages-tree-container":!0,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(r,{ref:"pagesTree",structureType:"tree",nodeContent:s,pagesList:this._menuTree,dynamicPagesList:l.isOpen("dpages")?this._menuDynamicTree:void 0,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage()}),0===this.props.menuItemsTree.length?e.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},e.createElement(i.symbol,{name:"noPagesFound"}),e.createElement("div",{},a.translate("Pages_Menu_Empty_Title")),e.createElement("div",{},a.translate("Pages_Menu_Empty_Text"))):null))}}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile",["create-react-class","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt"],function(e,t,o){"use strict";return e({displayName:"mainMenuPagesMobilePopups",mixins:[t],openSettingsPanel:function(e){this.props.closeSettingsPanel(),this.props.openSettingsPanel(e)},render:function(){return this.renderTemplate(o)}})}),define("rEditor/pagesMenu/popups/popupsList/popupsList.rt",["react","lodash","baseUI","baseUILib","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions"],function(e,t,o,n,i,a){"use strict";return function(){return e.createElement("div",{className:"popups-list"},e.createElement("div",{className:"scroll-wrapper"},e.createElement(n.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{className:"page-node-list popups-list"},t.map(this.props.popupsList,function(n,r){return e.createElement("li",{className:"page-node-list-item",key:n.id},e.createElement(i.pageItem,this.getPopupItemProps(n),this.isQuickActionsVisible()?e.createElement(a,{key:n.id+"-popup-item-quick-action-menu",popupData:n,onClick:t.partial(this.onClick,n.id),actionSelected:this.onActionPopUpSelected}):null,this.isPagesListHintVisible(n)?e.createElement("a",{href:"#",key:"pages-related-to-popup-"+n.id,className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",shouldTranslate:!1,text:this.getHintWithRelatedPages(n),ref:"infoIcon"})):null))}.bind(this))]))))}}),define("rEditor/pagesMenu/popups/popupsList/popupsList",["lodash","create-react-class","prop-types","core","util","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/popups/popupsList/popupsList.rt"],function(e,t,o,n,i,a,r){"use strict";return t({displayName:"popupList",mixins:[n.mixins.editorAPIMixin,i.translationMixin,a],propTypes:{popupsList:o.any.isRequired,selectedItemInfoLink:o.object,editedItemIdLink:o.object},getKey:function(e){return"popup-quick-action-menu"+e},onClick:function(e){var t=this.getEditorAPI();this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0}),this.props.closeSettingsPanel(),t.pages.navigateTo(e,function(){t.selection.selectComponentByCompRef(t.pages.popupPages.getPopupContainer(e))}),t.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_navigate_to_pop_up,{pop_up_id:e})},getPopupItemProps:function(t){return{value:t.title,label:t.title,onChange:e.partial(this.onRenameDone,t),isVisible:!0,isSelected:t.id===e.get(this.props,"selectedItemInfoLink.value.id"),editModeLink:this.linkEditMode(t.id),onClick:e.partial(this.onClick,t.id),onContextMenu:this.props.setSelected}},onRenameDone:function(e,t){this.onActionPopUpSelected(e,"rename",t)},linkEditMode:function(e){var t=this.props.editedItemIdLink;return{value:t&&t.value===e,requestChange:function(o){t&&t.requestChange(o?e:null)}}},filteredProps:function(){return e.omit(this.props,["pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},isQuickActionsVisible:function(){return this.getEditorAPI().isDesktopEditor()},isPagesListHintVisible:function(e){var t=e.pagesListToShowOnLoad;return this.getEditorAPI().isDesktopEditor()&&(t.titles.length>0||t.showOnAllPages)},_formatMessageForFewPages:function(t){var o=t.length,n=this.getEditorAPI(),i=this.translateTemplate("Pages_Menu_Popup_Tooltip_Start_Section",{$PAGE_NAME:e.head(t)},n),a=this.translateTemplate("Pages_Menu_Popup_Tooltip_End_Section",{$PAGE_NAME:e.last(t)},n),r=void 0;return 1===o?r=i:2===o?r=i+" "+a:(r=e.reduce(e.slice(t,1,-1),e.bind(function(e,t){return e+" "+this.translateTemplate("Pages_Menu_Popup_Tooltip_Middle_Section",{$PAGE_NAME:t},n)},this),i),r+=" "+a),r},getHintWithRelatedPages:function(e){var t=e.pagesListToShowOnLoad.titles;return e.pagesListToShowOnLoad.showOnAllPages?this.translateIfNeeded("Pages_Menu_Popup_Tooltip_Set_To_All"):this._formatMessageForFewPages(t)},render:r})}),define("rEditor/pagesMenu/popups/popups/popups.rt",["react","lodash","baseUI","rEditor/pagesMenu/popups/popupsList/popupsList"],function(e,t,o,n){"use strict";return function(){return e.createElement("div",{className:"popups-tab"},e.createElement(n,t.assign({},{className:"popups-list"},this.props)),this.isFooterHidden()?null:e.createElement("footer",{key:"popup-list-key"},e.createElement(o.button,{label:"POPUPS_SiteStructure_Panel_Button_Add",icon:"addPage",className:"control-button",onClick:this.onAddClick})))}}),define("rEditor/pagesMenu/popups/popups/popups",["lodash","react","create-react-class","prop-types","core","stateManagement","rEditor/pagesMenu/popups/popups/popups.rt"],function(e,t,o,n,i,a,r){"use strict";return o({displayName:"popups",mixins:[i.mixins.editorAPIMixin,t.addons.LinkedStateMixin],propTypes:{popupsList:n.any.isRequired,selectedItemInfoLink:n.object.isRequired,editedItemIdLink:n.object.isRequired},onAddClick:function(){this.getEditorAPI().getUserPreferences().session.set("addPanelCategoryIdOnClose","popup"),this.getEditorAPI().store.dispatch(a.leftBar.logic.openAddPanel())},isFooterHidden:function(){return this.getEditorAPI().isMobileEditor()},render:r})}),define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile","pagesMenu","baseUI","rEditor/pagesMenu/popups/popups/popups"],function(e,t,o,n,i,a,r,s){"use strict";return function(){function a(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}return e.createElement("div",{className:"unfiltered-pages-and-popups"},this.isTabsVisible()?e.createElement(r.horizontalTabs,{key:"unfiltered-pages-popups-tabs",options:this.getTabs(),valueLink:this.props.unfilteredSelectedTabLink,className:"arrowed tabs-pages-and-popups"}):null,this.isMainMenuVisible()?e.createElement(n,a({className:"pages-tab",ref:"mainMenuPagesDesktop",key:"main-menu-pages-desktop",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isMainMenuMobileVisible()?e.createElement(i,a({className:"pages-tab",ref:"mainMenuPagesMobile",key:"main-menu-pages-mobile",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isSpecialPagesVisible()?e.createElement(o,{key:"subpages-menu",editedItemIdLink:this.props.editedItemIdLink,userPrefs:this.getUserPrefs(),sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null,this.isPopupsTabActive()?e.createElement(s,{key:"popups-tab",className:"popup-tab",closeSettingsPanel:this.props.closeSettingsPanel,popupsList:this.props.popupsList,editedItemIdLink:this.props.editedItemIdLink,onActionSelected:this.onActionPopUpSelected,selectedItemInfoLink:this.props.selectedItemInfoLink}):null)}}),define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups",["react","create-react-class","prop-types","core","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt"],function(e,t,o,n,i,a){"use strict";var r=[{label:"POPUPS_SiteStructure_Panel_Pages",value:"pages"},{label:"POPUPS_SiteStructure_Panel_Popups",value:"popups"}];return t({displayName:"unfilteredPagesAndPopups",mixins:[e.addons.LinkedStateMixin,i],propTypes:{popupsList:o.array.isRequired,menuItemsTree:o.array.isRequired,openSettingsPanel:o.func.isRequired,closeSettingsPanel:o.func.isRequired,openSpecialPageMenu:o.func.isRequired,closeSpecialPageMenu:o.func.isRequired,isSectionPage:o.func.isRequired,editedItemIdLink:o.object.isRequired,selectedItemInfoLink:o.object.isRequired,unfilteredSelectedTabLink:o.object.isRequired},getTabs:function(){return r},isTabsVisible:function(){return this.props.popupsList.length>0},isMainMenuVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isDesktopEditor()},isMainMenuMobileVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isMobileEditor()},isSpecialPagesVisible:function(){return this.state.selectedSectionPage&&this.isPagesTabActive()},isPagesTabActive:function(){return 0===this.props.popupsList.length||"pages"===this.props.unfilteredSelectedTabLink.value},isPopupsTabActive:function(){return this.props.popupsList.length>0&&"popups"===this.props.unfilteredSelectedTabLink.value},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()},render:a})}),define("rEditor/rootComps/panels/pagesAndPopupsPanel.rt",["react","lodash","panels","util","pagesMenu","baseUI","experiment","core","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups"],function(e,t,o,n,i,a,r,s,l,c){"use strict";return function(){return function(){var t=n.translate,a=i.settingsPanels.desktop.mainMenu,p=i.settingsPanels.mobile.mainMenu,d=i.settingsPanels.desktop.subpage,u=i.settingsPanels.mobile.subpage,m=this.getFilter();return e.createElement(o.frames.pagesPanelFrame,{ref:"frame",panelName:this.props.panelName,title:t(this._panelTitle),helpId:this.getHelpId(),"}":!0},e.createElement("div",{className:"pages-panel-shadow"}),r.isOpen("pagesFirstTimeSteps")&&!r.isMultiValueExperimentOpen("editorHintsConfigs")&&this.getEditorAPI().isDesktopEditor()?e.createElement(s.lazyComponent,{key:"pagesPanelController",moduleName:"firstTimeExperience.pagesPanelController",target:this.state.firstPageItemNode,isPopupsTabSelected:"popups"===this.state.unfilteredSelectedTab}):null,this.isMainMenuDesktopOpened()?e.createElement(a,{key:"page-settings-panel",menuItem:this.state.menuItemToShowSettingsFor,activeTab:this.state.selectedSettingsTab,closeSettingsPanel:this.closeMainMenu,token:this.props.token,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isMainMenuMobileOpened()?e.createElement(p,{key:"page-settings-panel",menuItem:this.state.menuItemToShowSettingsFor,isDeveloperModeEnabled:this.isDeveloperModeEnabled(),closeSettingsPanel:this.closeMainMenu,token:this.props.token,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isSpecialPagesDesktopMenuOpened()?e.createElement(d,{key:"page-settings-panel",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,this.isSpecialPagesMobileMenuOpened()?e.createElement(u,{key:"page-settings-panel",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,m?null:e.createElement(c,{key:"unfilteredPagesAndPopUps",ref:"unfilteredPagesAndPopUps",popupsList:this._popupsList,menuItemsTree:this._menuItemsTree,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo"),unfilteredSelectedTabLink:this.linkUnfilteredSelectedTab()}),m?e.createElement(l,{key:"filterPagesAndPopups",ref:"filterPagesAndPopups",popupsList:this._popupsList,menuItemsList:this._menuItemsList,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo")}):null)}.apply(this,[])}}),define("rEditor/rootComps/panels/pagesAndPopupsPanel",["reactDOM","react","create-react-class","prop-types","core","lodash","pagesMenu","blog","tpa","helpIds","experiment","rEditor/rootComps/panels/pagesAndPopupsPanel.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d){"use strict";function u(e,t,o){var n=o.toLowerCase();return a.filter(e,function(e){return~(e[t]||"").toLowerCase().indexOf(n)})||[]}function m(e){return e.documentServices.pages.getFocusedPageId()}var g={POPUPS_AND_PAGES_LABEL_KEY:"POPUPS_SiteStructure_Panel_Title",PAGES_TITLE:"Pages_Menu_Title_Title",FILTERED_PAGES_POPUPS_TITLE:"POPUPS_SiteStructure_Panel_Title"};return o({displayName:"pagesAndPopupsPanel",mixins:[i.mixins.editorAPIMixin,t.addons.LinkedStateMixin],propTypes:{filter:n.any},getInitialState:function(){var e={menuItemToShowSettingsFor:this.props.menuItemToShowSettingsFor||null,selectedSettingsTab:this.props.selectedSettingsTab||null,specialPage:null,editedItemId:null,selectedItemInfo:{id:m(this.getEditorAPI()),isPageOrPopup:!0},unfilteredSelectedTab:this.getEditorAPI().documentServices.pages.popupPages.isPopupOpened()?"popups":"pages"};return p.isOpen("pagesFirstTimeSteps")&&a.assign(e,{firstPageItemNode:null}),e},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()},componentWillReceiveProps:function(){var e=m(this.getEditorAPI());this.state.selectedItemInfo.isPageOrPopup&&this.state.selectedItemInfo.id!==e&&this.setState({selectedItemInfo:{id:e,isPageOrPopup:!0}}),this.updateMenuItemAndSpecialPage()},updateMenuItemAndSpecialPage:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=p.isOpen("dpages")?e.pages.dynamicPages.getMenuItems():[],n=a.flatMap(o,"items"),i=e.mainMenu.getMenuItemsFlattened(t),r=this.state.menuItemToShowSettingsFor,s=this.state.specialPage;if(r){var l=void 0;l=p.isOpen("dpages")?a.find(i,{id:this.state.menuItemToShowSettingsFor.id})||a.find(n,{id:this.state.menuItemToShowSettingsFor.id}):a.find(i,{id:this.state.menuItemToShowSettingsFor.id}),this.setState({menuItemToShowSettingsFor:l})}s&&s.pageData&&this.setState({specialPage:a.merge(s,{pageData:a.find(t,{id:s.pageData.id})})})},getDefaultProps:function(){return{filter:""}},componentDidMount:function(){this.panelDOMNode=e.findDOMNode(this),this.updateFirstPageItemNodeIfNeeded()},componentDidUpdate:function(){this.updateFirstPageItemNodeIfNeeded()},updateFirstPageItemNodeIfNeeded:function(){if(p.isOpen("pagesFirstTimeSteps")){var e=this.panelDOMNode.querySelector(".pages-first-item");e!==this.state.firstPageItemNode&&this.setState({firstPageItemNode:e})}},duplicate:function(e){r.pageMenuItemHelpers.duplicateMenuItem(this.getEditorAPI(),e,function(e){this.setState({editedMenuItemId:e,menuItemToShowSettingsFor:null})}.bind(this))},changeSelectedMenuItem:function(e){this.state.menuItemToShowSettingsFor&&(e.type.isPage?this.openMainMenu(e):this.closeMainMenu())},openMainMenu:function(e,t){this.setState({menuItemToShowSettingsFor:e,selectedSettingsTab:t||this.state.selectedSettingsTab||null})},closeMainMenu:function(){this.setState({menuItemToShowSettingsFor:null})},openSpecialPageMenu:function(e){this.setState({specialPage:e})},closeSpecialPageMenu:function(){this.setState({specialPage:null})},changeSpecialPage:function(e){this.state.menuItemToShowSettingsFor&&(this.setState({menuItemToShowSettingsFor:null}),this.openSpecialPageMenu(e)),this.state.specialPage&&this.setState({specialPage:e})},isMainMenuDesktopOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.menuItemToShowSettingsFor},isMainMenuMobileOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.menuItemToShowSettingsFor},isSpecialPagesDesktopMenuOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.specialPage},isSpecialPagesMobileMenuOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.specialPage},openBlogManager:function(){s.openBlogManagerFrame(this.getEditorAPI(),"allPosts")},openStoreManager:function(){l.superApps.openDashboardUrl(l.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%"),this.getEditorAPI().bi.event(i.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},getHelpId:function(){return"popups"===this.state.unfilteredSelectedTab&&!this.getFilter()?this.getEditorAPI().isMobileEditor()?c.EXTERNAL.MOBILE_POPUPS_PANEL:c.EXTERNAL.POPUPS_PANEL:c.EXTERNAL.PAGES_PANEL},addAdditionalClassesForPageItem:function(e,t){this._menuItemsTree[e].additionalClasses=t},linkUnfilteredSelectedTab:function(){return{value:this.state.unfilteredSelectedTab,requestChange:function(e){this.setState({unfilteredSelectedTab:e}),this.getEditorAPI().bi.event(i.bi.events.topbar.pages.pages_menu_tab_click,{value:"popups"===e?"pop ups":"pages"})}.bind(this)}},getFilter:function(){return p.isOpen("newTopBar")?this.getEditorAPI().topBarPagesFilter.get():this.props.filter},render:function(){var e=this.getEditorAPI(),o=this.getFilter(),n=e.documentServices.pages.getPagesData(),i=e.mainMenu.getMenuItemsTreeForMainMenu(n),s=e.mainMenu.getMenuItemsFlattened(n),l=e.pages.popupPages.getOpenBehaviorsForPopups(),c=function(e,t){return u(e||[],"title",t)}(function(e,t,o,n){var i=a.zipObject(a.map(t,"id"),a.map(t,"title")),r=a.groupBy(o,"popupId"),s=n.documentServices.siteSegments.getSiteStructureId();return a.forEach(e,function(e){var t=r[e.id],o=!!t&&t[0].pageId===s,n=a.map(t,"pageId");e.pagesListToShowOnLoad={showOnAllPages:o,titles:a.map(n,a.partial(a.get,i))||[]}}),e}(e.pages.popupPages.getDataListOrdered(),n,l,e),o);if(this._menuItemsTree=i,this._menuItemsList=function(e,t){return u(e||[],"label",t)}(s,o),this._popupsList=c,this._panelTitle=function(e,t){return e?g.FILTERED_PAGES_POPUPS_TITLE:t.length>0?g.POPUPS_AND_PAGES_LABEL_KEY:g.PAGES_TITLE}(o,c),this._isSectionPage=function(e,t){var o=r.specialPages.menuLogic.getSectionPagesIds(e,t);return function(e){return e.type.isPage&&a.includes(o,e.pageData.id)}}(e,n),p.isOpen("pagesFirstTimeSteps")&&this.addAdditionalClassesForPageItem(0,["pages-first-item"]),p.isMultiValueExperimentOpen("editorHintsConfigs")&&require.defined("editorHints")){var m=require("editorHints");return t.createElement(m.hintsNotify,{id:m.hintsContainers.PAGES_PANEL},d.call(this))}return d.call(this)}})}),define("rEditor/rootComps/panels/thumbNailItemRow.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("li",{onClick:this.props.onClick,className:"panel-button"},e.createElement("div",{className:"panel-button-inner"},e.createElement("div",{className:"label"},e.createElement(o.symbol,{name:this.props.itemName}),e.createElement("span",{className:"button-label"},this.props.itemLabel)),e.createElement("div",{className:"action"},e.createElement(o.symbol,{name:"arrowWithStates"}))))}}),define("rEditor/rootComps/panels/thumbNailItemRow",["create-react-class","prop-types","lodash","rEditor/rootComps/panels/thumbNailItemRow.rt"],function(e,t,o,n){"use strict";return e({propTypes:{onClick:t.func,itemName:t.string,itemLabel:t.string},displayName:"myUploadItem",render:n})}),define("rEditor/rootComps/panels/myMediaPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","rEditor/rootComps/panels/thumbNailItemRow"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return e.createElement(r.frames.leftPanelFrame,{className:"panel-background",panelName:this.props.panelName,panelClass:"my-uploads-panel",panelIndex:this.props.panelIndex,label:i.translate("MY_UPLOADS_PANEL_HEADER_TITLE"),helpId:"e1df1248-6bd6-4497-ad2a-2a42cd357eae"},e.createElement("div",{className:"listWrapper"},e.createElement(n.CustomScroll,{addScrolledClass:!0,heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{},t.map(this.getUploadItems(),function(t,o){return e.createElement(s,{key:t.itemName,onClick:t.onClick,itemName:t.itemName,itemLabel:i.translate(t.itemLabel)})}.bind(this))]))))}}),define("rEditor/rootComps/panels/myMediaPanelAddCompData",["lodash","util"],function(e,t){"use strict";var o=t.backgroundPanelUtils,n={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"};return{picture:function(e){var t=Math.min(600,e.width);return{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:t,height:Math.floor(t*e.height/e.width)},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}},document:function(e){var t=e.uri.split(".").pop();return{componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{title:e.title,uri:n[t]||n.other,description:"",width:105,height:141,type:"Image",link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}},music:function(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{originalFileName:e.title,uri:e.uri,type:"SingleAudioPlayer"},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}},video:function(t,n,i){var a=o.getMediaPlayerVideoProperties([t],n),r=o.getAspectRatio(a),s=o.getMediaProportionSize(r),l=i.addPanel.getCategory("video"),c=e.find(l.items,{title:"add_section_media_player_title"}),p=e.cloneDeep(e.get(c,["props","items",0,"structure"]));return p.design.background.mediaRef=a,p.layout={width:s.width,height:s.height},e.forEach(p.components,function(e){"wysiwyg.viewer.components.MediaOverlayControls"===e.componentType?e.layout={width:82,height:82,x:(s.width-82)/2,y:(s.height-82)/2}:"wysiwyg.viewer.components.MediaControls"===e.componentType&&(e.props.showStoryboard=o.getStoryboardDisplayValue(a),e.layout={width:s.width,height:44,x:0,y:s.height-44})}),p}}}),define("rEditor/rootComps/panels/myMediaPanel",["create-react-class","lodash","core","util","rEditor/rootComps/panels/myMediaPanel.rt","rEditor/rootComps/panels/myMediaPanelAddCompData","coreUtilsLib","experiment"],function(e,t,o,n,i,a,r,s){"use strict";var l=n.backgroundPanelUtils,c=o.bi.events.singleVideoPlayer;return e({displayName:"MyMediaPanel",mixins:[o.mixins.editorAPIMixin,n.blockOuterScrollMixin],titleMap:{IMAGE:"MMGR_API_IMAGE_MANAGE_TITLE",VIDEO:"MMGR_API_VIDEO_MANAGE_TITLE",MUSIC:"MMGR_API_MUSIC_MANAGE_TITLE",DOCUMENT:"MMGR_API_DOCUMENT_MANAGE_TITLE"},submitButtonMap:{IMAGE:"MMGR_submitbutton_uploads_myimages_add",VIDEO:"MMGR_submitbutton_uploads_myvideos_add",MUSIC:"MMGR_submitbutton_uploads_mytracks_add",DOCUMENT:"MMGR_submitbutton_uploads_mydocs_add"},mediaManagerOpen:function(e){var t=this.getEditorAPI();t.bi.event(o.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:e}),t.mediaServices.mediaManager.open(e,{multiSelect:!0,callback:this.onItemsSelected.bind(this,e),translation:{title:n.translate(this.titleMap[e]),submitButton:n.translate(this.submitButtonMap[e])}})},mediaManagerManage:function(e){var t=this.getEditorAPI();t.bi.event(o.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:e}),t.mediaServices.mediaManager.manage(e)},fontsManagerOpen:function(){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.fontsUploadPanel",{},!0)},onItemsSelected:function(e,o,n){if(o){this.getEditorAPI().pasteLogic.addContext.resetPastePosition(),t.forEach(o,t.bind(function(t,o,i){this.addComponent(e,n,t,o,i)},this))}},addComponent:function(e,n,i,s,p){var d=this.getEditorAPI(),u=function(e,t,o){var n=a[e.mediaType];if(n)return n(e,t,o);r.log.error("Unsupported media type",e.mediaType)}(i,n,d),m=d.documentServices.pages.getFocusedPageId(),g=d.pasteLogic.addContext.getPastePosition(d,u.layout,m);t.merge(u.layout,g);var h=d.documentServices.pages.getReference(m);d.documentServices.waitForChangesApplied(function(){d.components.add(h,u,void 0,function(n){s===p.length-1&&(d.selection.selectComponentByCompRef(n),d.history.add("added component")),d.bi.event(o.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"my_uploads",category:t.get(d,["mediaServices.mediaManager",e,"mmgrParams.mediaType"]),component_type:u.componentType,component_id:n.id,adding_method:"click"}),"video"===e.toLowerCase()&&l.sendChangeVideoBiEvent(d,c.video_player_video_changed,i,"my_uploads")})})},isWixMusic:function(){return this.getEditorAPI().documentServices.tpa.app.isInstalled("13bb5d67-1add-e770-a71f-001277e17c57")},getUploadItems:function(){var e={itemName:"my_uploads_fonts",itemLabel:"MY_UPLOADS_MY_FONTS_LINK_LABEL",onClick:this.fontsManagerOpen,shouldDisplay:!0},o={itemName:"my_uploads_images",itemLabel:"MY_UPLOADS_MY_IMAGES_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"IMAGE"),shouldDisplay:!0},n={itemName:"my_uploads_video",itemLabel:"MY_UPLOADS_MY_VIDEOS_LINK_LABEL",onClick:s.isOpen("se_mediaplayer")?this.mediaManagerOpen.bind(this,"VIDEO"):this.mediaManagerManage.bind(this,"VIDEO"),shouldDisplay:!0},i={itemName:"my_uploads_single_tracks",itemLabel:"MY_UPLOADS_MY_MUSIC_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"MUSIC"),shouldDisplay:!this.isWixMusic()},a={itemName:"my_uploads_wix_music",itemLabel:"MY_UPLOADS_MUSIC_PRO_LINK_LABEL",onClick:this.mediaManagerManage.bind(this,"MUSIC_PRO"),shouldDisplay:this.isWixMusic()},r={itemName:"my_uploads_docs",itemLabel:"MY_UPLOADS_MY_DOCUMENT_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"DOCUMENT"),shouldDisplay:!0},l=[e,o,n,i,a,r];return s.isOpen("changeMyUploadOrder")&&(l=[o,n,e,r,i,a]),t.filter(l,"shouldDisplay")},render:i})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Electric Darkness",videoId:"video/11062b_6a134fc09ea34833a17d295e295ab517",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:6,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"#0AFCFC",colorOverlayOpacity:.2}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Particles",videoId:"video/11062b_03c50f8fe4a34cc297a984e483a282ef",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#02B0AD",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rain Clouds",videoId:"video/11062b_8e792646ca71495b96677c20e27e9122",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427758",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.4,imageOverlay:""}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Deep Sea Waves",videoId:"video/11062b_f1fbf8b243e942a692e564fac5382513",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427890",name:"bisgtock"}},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Swaying Palms",videoId:"video/11062b_d013b164dadb47ec8e746ab178aacfbb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:29,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51654467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"In the Office",videoId:"video/11062b_6743da5900054f1f8e69f53302930a6a",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"color_11",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Winter Sports",videoId:"video/11062b_14ca44a138d942f78374f7751ac5942f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:31,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD19_13_002&vD187_89_019&vD116_16_121&vD116_16_117&vD116_16_051&v17A041_676",name:"Dissolve&Dissolve&Dissolve&Dissolve&Dissolve&Dissolve"}},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Water Drop",videoId:"video/11062b_830709c744404d6ea7a10dcfd88e3a48",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:15,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v81193529",name:"bigstock"}},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Submerged",videoId:"video/11062b_64ae2a899006496dac01c2e81fac97f1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:24,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427800",name:"bisgtock"}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#439CE6",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Road Trip",videoId:"video/11062b_1c6001b9888a4ba89939a510eee406d1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD330_2_176",name:"dissolve"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#8AEDFF",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sparkling Water",videoId:"video/11062b_7bb9944945af4723ad2aefa5caed46a4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47421608",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rolling Tide",videoId:"video/11062b_f0d5e0c342cc49dca298de0225d2247c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428379",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Vintage Gramophone",videoId:"video/11062b_bd026287ff784f5198fbfdbbbbba2489",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768873",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rainforest Canopy",videoId:"video/11062b_7488edba38234bd69b0603ad498efdf5",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:35,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50652950",name:"bigstock"}},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Snowfall",videoId:"video/11062b_7124ff06fc56498d96722413f5f4846f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i2800",name:"pexels"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"City Park",videoId:"video/11062b_ed5fd19d3b3c4a979ecfd7aa035320eb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56}}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dogs in the Park",videoId:"video/11062b_dadf974a47664e5cb42f939b7f17bec8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"House Cat",videoId:"video/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D9B79C",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tropical Light",videoId:"video/11062b_af392b5325e7416eb2d8b6f9b1b3c634",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i158598041",name:"shutterstock"}},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Urban View",videoId:"video/11062b_3e2f37c297534f9ead156265242fbca8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622&v493478872&v49737086&v318347",name:"bigstock&bigstock&bigstock&clipcanvas"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Light Spots",videoId:"video/11062b_2042bb7351284f0f982e4787d37415e6",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFF269",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Particles",videoId:"video/11062b_155feccf8d494b18b70adcd7716b6646",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:50,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFCC00",colorOverlayOpacity:.5,imageOverlay:""}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sunflowers",videoId:"video/11062b_7fb923cf2d6748e195e980d74c4059f2",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i145590430",name:"shutterstock"}},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Meadow",videoId:"video/11062b_84f0c9aa252b4b2ab1114febc012eacb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i144673559",name:"shutterstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Lakeside",videoId:"video/11062b_10927dd4d14046e4ac23f51f0a5448b3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i205250962",name:"shutterstock"}},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Paradise Serenity",videoId:"video/11062b_46d3e749db4d4169987b00279493eaa7",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i152767760",name:"shutterstock"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Miami Beach",videoId:"video/11062b_75ff30e8c38545348bad91473b78ab7c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i100070693",name:"shutterstock"}},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D41746",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Cotton Candy",videoId:"video/11062b_808b40c463104f22943c284c625d31c3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:4,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#E31B22",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink and Water",videoId:"video/11062b_74ef3d923f9b451492d3ed9278991873",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768402",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink Splash",videoId:"video/11062b_aa1eeb25fbd3484dbde611d71d7c5747",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428268",name:"bisgtock"}},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Moon Jellyfish",videoId:"video/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50790908",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Jellyfish",videoId:"video/11062b_ea61c0ecc8b34ecd942c42470507e640",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440688",name:"bigstock"}},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spaceman",videoId:"video/11062b_fcd00d59140f45d5b2295fe8a4c17edb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i111095258&i241509286",name:"shutterstock&shutterstock"}},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Crystal Glass",videoId:"video/11062b_58249d8a53aa452492e328c962b036e9",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440709",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#5C3B1B",colorOverlayOpacity:.4}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spinning Record",videoId:"video/11062b_0f1e951461494c1894d86c9ab85a11cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v560888",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Gears",videoId:"video/11062b_d9801124f3cb4deca350acfd66b547cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768483",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.05,imageOverlay:""}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Classical Compilation",videoId:"video/11062b_35727d5e825d405bbb007bc615000a15",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:19,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51653993&v795016&v639989&v249088&v527322",name:"bigstock&clipcanvas&clipcanvas&clipcanvas&clipcanvas"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#ffffff",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Illustrator",videoId:"video/11062b_ebcab620e7584e1693f939e597be3777",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tiger",videoId:"video/11062b_6ceb80744f45401caf9eb666caeb9887",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49350467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Subway",videoId:"video/11062b_8b85f288687943b59677b4e3e56ef8f8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v342278662",name:"pexels"}},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.45,imageOverlay:""}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Shapes Gray",videoId:"video/11062b_d2398715eb2e43348e6907b6b3383815",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Forest Clouds",videoId:"video/11062b_2e77c1d1a7d84393becbcecd189fe80e",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440175",name:"bisgtock"}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Metronome",videoId:"video/11062b_80a0d0745a884541ae8fae22c02c9e74",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622",name:"bigstock"}},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#ffffff",colorOverlayOpacity:.25}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Melting Ice",videoId:"video/11062b_9480d9d800bd4bda938057d5ac1ebc42",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428211",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Street Sports",videoId:"video/11062b_b3ee9353cba84f2fba11b18497edd49c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:27,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD26_7_556&vD26_7_549&vD26_7_021&vD200_3_014&vD187_87_017",name:"dissolve&dissolve&dissolve&dissolve&dissolve"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_9dd9479cdafd4871b1944d50caa91db0.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Mist Over the Bridge",videoId:"video/11062b_66b9234563324488b85be02dcf1db183",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v523546",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Flowing Viscous Liquid",videoId:"video/11062b_9f421918574743b48202cb0dacbd77d4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428877",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dance Studio",videoId:"video/11062b_58d9b7991aa04b99a4f1580a1efc4f7f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:34,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6}}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Gray Waterfall",videoId:"video/11062b_18eee1c4914c4ef79687cd68f3cf6990",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49347887",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:4,height:6},colorOverlay:"color_11",colorOverlayOpacity:.5}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Falling shapes White",videoId:"video/11062b_2ed9e9ea388343a59c387bccf3539098",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D5D4D6",colorOverlayOpacity:.35,imageOverlay:""}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Electric Darkness",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Clouds",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Deep Sea Waves",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Swaying Palms",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"In the Office",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Winter Sports",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Water Drop",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Submerged",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Road Trip",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sparkling Water",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rolling Tide",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vintage Gramophone",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rainforest Canopy",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Snowfall",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"City Park",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dogs in the Park",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"House Cat",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Light",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Urban View",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Light Spots",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Particles",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sunflowers",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Meadow",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lakeside",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Paradise Serenity",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Miami Beach",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cotton Candy",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink and Water",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink Splash",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Moon Jellyfish",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Jellyfish",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spaceman",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Crystal Glass",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spinning Record",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Gears",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Classical Compilation",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Illustrator",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tiger",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Subway",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Shapes Gray",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Forest Clouds",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metronome",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Melting Ice",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Street Sports",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mist Over the Bridge",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flowing Viscous Liquid",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dance Studio",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gray Waterfall",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Falling shapes White",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt",["react","lodash","baseUI","baseUILib","util","panels","uiAnimations","backgroundPresets"],function(e,t,o,n,i,a,r,s){"use strict";return function(){function t(){var t=this.getData(),l=this.getCurrentSubPanel(),c=this.getEditorAPI().isMobileEditor(),p=i.backgroundPanelUtils;return e.createElement(a.frames.leftPanelFrame,{className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),panelIndex:this.props.panelIndex,panelClass:"bg-panel",helpId:c?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",onContextMenu:function(e,t,o,n,i){i.preventDefault()}.bind(this,t,l,c,p)},function(t,n,i,a){var s=this.getMediaType(t.ref);return e.createElement("div",{className:"bg-panel-top"},e.createElement("div",{className:"bg-panel-preview",onContextMenu:function(e,t,o,n,i,a){a.preventDefault()}.bind(this,t,n,i,a,s)},e.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(t)}),e.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(t)}),e.createElement("div",{className:"bg-panel-preview-overlay",style:a.getOverlayStyle(t.ref,this.getEditorAPI())}),e.createElement("div",{className:"bg-panel-preview-buttons"},s!==this.mediaTypes.COLOR?e.createElement(o.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(s),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(r.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},e.createElement(o.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(s),valueLink:this.toggleSubPanel(s),labelAfterSymbol:!0})))):null,s===this.mediaTypes.VIDEO?e.createElement(o.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(s),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(o.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?e.createElement(o.preloader,{key:"play-spinner"}):null)):null),s===this.mediaTypes.IMAGE?e.createElement("div",{onClick:function(e,t,o,n,i,a){this.replaceColor(a,e)}.bind(this,t,n,i,a,s),className:"bg-panel-preview-color",style:this.getCurrentColor(t),key:"bg-fold"},e.createElement(o.symbol,{name:"fold-clipart"})):null),e.createElement("div",{className:"bg-panel-top-actions"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:function(e,t,o,n,i,a){this.changeColor(a,e)}.bind(this,t,n,i,a,s)})),e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,n,i){this.changeMedia(this.mediaTypes.IMAGE)}.bind(this,t,n,i,a,s),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),e.createElement(o.tooltip,{disabled:!i,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,n,i){o||this.changeMedia(this.mediaTypes.VIDEO)}.bind(this,t,n,i,a,s),disabled:i,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}.apply(this,[t,l,c,p]),e.createElement(n.CustomScroll,{addScrolledClass:!0},e.createElement("div",{className:"bg-panel-preset-list"},e.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},e.createElement(s,this.getPresetsProps())))),e.createElement("div",{className:"bg-panel-bottom"},e.createElement(o.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:function(e,t,o,n){this.handleApplyToOtherClick()}.bind(this,t,l,c,p),disabled:this.isOnePager(),className:"default"})))}return t.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel",["reactDOM","create-react-class","lodash","core","baseUI","util","color","panelUtils","rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt"],function(e,t,o,n,i,a,r,s,l,c,p){"use strict";function d(e,t,o){var n=e.getUserPreferences(),i=e.documentServices.pages.getPrimaryPageId();n.session.set("bg_panel_last_media_path_"+i,{type:t,path:o.path})}function u(e,t){var o=e.getUserPreferences(),n=e.documentServices.pages.getPrimaryPageId(),i=t===f.VIDEO?"bg_video_settings_data_changed_":"bg_image_settings_data_changed_";o.session.set(i+n,!1),o.session.set("bg_video_settings_pattern_state_"+n,!1)}var m=a.bgPanelBiEvents,g=a.imageTransform,h=a.backgroundPanelUtils,f=h.getMediaTypes(),b={IMAGE_SETTINGS:"rEditor.panels.bgImageSettingsPanel",VIDEO_SETTINGS:"rEditor.panels.bgVideoSettingsPanel",APPLY:"rEditor.panels.backgroundApplyPanel"},y={APPLY_PANEL:"applyPanel",IMAGE_PANEL:"imagePanel",VIDEO_PANEL:"videoPanel",PRESET:"preset",MEDIA:"media",REMOVE:"remove",COLOR:"color"},v={BG_PRESETS:"bg_presets",BG_COLOR_PICKER:"bg_color_picker",BG_MEDIA_MANAGER_WIXVIDEO:"bg_media_manager_video",BG_MEDIA_MANAGER_IMAGE:"bg_media_manager_image",BG_IMAGE_SETTINGS:"bg_image_settings",BG_VIDEO_SETTINGS:"bg_video_settings"},P={TITLE:{mobile:"BGPP_PANEL_HEADER_MOBILE_TITLE",desktop:"BGPP_PANEL_HEADER_DSKTOP_TITLE"}},E={Image:"BGPP_PANEL_IMAGE_SETTINGS_BUTTON",WixVideo:"BGPP_PANEL_VIDEO_SETTINGS_BUTTON"},S={IN_PROCESS:"in_process",PLAYING_PREVIEW:"playing_preview",IDLE:"idle",NO_VIDEO:"no_video"},T={id:"SITE_BACKGROUND"};return t({displayName:"backgroundPanel",mixins:[n.mixins.editorAPIMixin,a.blockOuterScrollMixin,s.linkColorPickerMixin],panelBoundingRect:{},mediaTypes:f,getMediaType:h.getMediaType,subPanels:b,videoReadyStates:null,componentDidMount:function(){this.panelBoundingRect=e.findDOMNode(this).getBoundingClientRect(),this.registerPlayerState(),this.markMobileDataDuplications()},componentWillUnmount:function(){this.closeSubPanel(this.getCurrentSubPanel()),this.unregisterPlayerState(),this.pauseVideo();var e=this.getData().ref;m.changedBackgroundBiEvent(this.getEditorAPI(),n.bi.events.backgroundPanel.panel_background_changed,e,this.biEventsParams)},getInitialState:function(){return this.videoReadyStates=S,this.biEventsParams={origin:null,presetIndex:null},{readyState:this.videoReadyStates.NO_VIDEO,playbackState:"waiting",isVideoPlaying:!1,videoReadyState:this.videoReadyStates.IDLE}},componentDidUpdate:function(){this.getVideoReadyState()===this.videoReadyStates.IDLE&&i.tooltipManager.hide("video-play-tooltip")},registerPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.register("bg_panel",T,this.handlePlayerStateChange):e.pages.background.video.registerToPlayingChange(this.playingStatusChanged)},unregisterPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.unregister("bg_panel",T):e.pages.background.video.unregisterToPlayingChange(this.playingStatusChanged)},handlePlayerStateChange:function(e){e.playbackState===this.state.playbackState&&e.mediaReadyState===this.state.readyState||this.setState({playbackState:e.playbackState,readyState:e.mediaReadyState})},previewVideo:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.components.behaviors.execute(T,"play"):e.pages.background.video.play()},pauseVideo:function(){var e=this.getEditorAPI();e.getPreviewMode()||(o.get(e,["media","mediaState"])?e.components.behaviors.execute(T,"stop"):e.pages.background.video.pause())},isVideoPlaying:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?"playing"===this.state.playbackState:e.pages.background.video.isPlaying()},getVideoReadyState:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?this.state.readyState:e.pages.background.video.getReadyState()},playingStatusChanged:function(){this.forceUpdate()},videoReadyStateChanged:function(){this.forceUpdate()},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(n){t[o]=/color_/.test(n)?"{"+n+"}":n,this.biEventsParams.origin=v.BG_COLOR_PICKER,this.onRequestChange(e)}.bind(this)}},getCurrentSubPanel:function(){var e=this.getEditorAPI().getOpenPanels(),t=o.find(e,function(e){return o.includes(b,e.name)});return t&&t.name},isSettingsPanelOpen:function(){var e=this.getCurrentSubPanel();return e===b.IMAGE_SETTINGS||e===b.VIDEO_SETTINGS},closeSubPanel:function(e){var t=this.getEditorAPI();e&&t.panelManager.closePanelByName(e)},getData:function(e){return h.getBackgroundData(this.getEditorAPI(),e)},onRequestChange:function(e,t,o){var n=this.getEditorAPI(),i=n.getDeviceType();(function(e,t,o){(function(t,o){return e.homePage.get()===o})(0,o)&&!t.ref.mediaRef&&(t.ref.id=a.guidUtils.getUniqueId(o,"_")+"_bg")})(n,e,o=o||n.pages.getPrimaryPageId()),h.handleMobileDataChange(i,e,n,o),n.pages.background.update(o,e,i),this.undoHandler(t),this.state.isVideoPlaying&&(this.pauseVideo(),this.setState({isVideoPlaying:!1}))},undoHandler:function(e){var t=this.getEditorAPI(),n=o.values(y);o.includes(n,e)&&t.history.add("background panel - "+e)},toggleSubPanel:function(e){var t=this.getCurrentSubPanel();return{value:t&&t!==this.subPanels.APPLY,requestChange:function(){var t=e===this.mediaTypes.VIDEO?this.subPanels.VIDEO_SETTINGS:this.subPanels.IMAGE_SETTINGS;this.toggleSubPanelChange(t)}.bind(this)}},toggleSubPanelChange:function(e){e===this.getCurrentSubPanel()?this.closeSubPanel(e):this.openSubPanel(e)},openSubPanel:function(e){var t=this.getEditorAPI();!function(e,t,i){e===b.APPLY?m.applyToOtherClick(t,n.bi.events.backgroundPanel.panel_apply_to_other_pages_click):i.origin=v["BG_"+o.invert(b)[e].toUpperCase()]}(e,t,this.biEventsParams);var i=this.getSubPanelProps();t.panelManager.openPanel(e,i,!0)},getSubPanelProps:function(e){return{requestChange:this.onRequestChange,undoHandler:this.undoHandler,undoOrigins:y,getData:this.getData,panelName:e,top:this.panelBoundingRect.top,left:this.panelBoundingRect.left+this.panelBoundingRect.width+15,width:290}},getCurrentMedia:function(e){var t={},n=void 0,i=void 0;if(e.ref.mediaRef){n=this.getMediaType(e.ref)===this.mediaTypes.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,i=h.isSmallerFromContainer(n.width,n.height,600,600)?g.fittingTypes.TILE:g.fittingTypes.SCALE_TO_FILL;var r=h.getImageDisplayData(i,e.ref.alignType,n.uri,n.width,n.height,352,184);t.backgroundImage="url("+a.url.joinURL(h.MEDIA_URL_PREFIX,r.uri)+")",t.opacity=n.opacity,o.assign(t,r.css.container)}return o.assign(t,this.getCurrentColor(e)),t},getCurrentColor:function(e){return{backgroundColor:h.getColorValue(this.getEditorAPI(),e.ref.color)}},toggleVideoPlayback:function(e){return{value:e,requestChange:function(e){e?this.previewVideo():this.pauseVideo()}.bind(this)}},replaceColor:function(e,t){this.setColorPicker(e,t,this.colorPickerPanelHandleReplace,!0)},changeColor:function(e,t){var o=!t.ref.mediaRef;this.setColorPicker(e,t,this.colorPickerPanelHandleChange,o)},setColorPicker:function(e,t,o,n){var i=n?t.ref.color.replace(/[\[\{\}\]]/g,""):"noColor",a={top:e.clientY,left:e.clientX};this.openColorPicker(o,i,!0,a,n,!0)},colorPickerPanelHandleReplace:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new r(e).hexString():t.ref.color=e,this.biEventsParams.origin=v.BG_COLOR_PICKER,this.onRequestChange(t)},colorPickerPanelHandleChange:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();t.ref.mediaRef&&(t.ref.mediaRef=null,u(this.getEditorAPI(),f.VIDEO),u(this.getEditorAPI(),f.IMAGE),h.clearOverlayData(t),this.undoHandler(y.REMOVE)),/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new r(e).hexString():t.ref.color=e,this.biEventsParams.origin=v.BG_COLOR_PICKER,this.onRequestChange(t)},selectPreset:function(e,t,n){var a=this.getData(),r=this.getEditorAPI();i.tooltipManager.hideAll(),this.closeSubPanel(this.getCurrentSubPanel()),o.assign(e,o.omit(a,"ref")),e.path&&d(r,this.getMediaType(e.ref),{path:e.path}),delete e.path,delete e.presetIndex,u(r,f.VIDEO),u(r,f.IMAGE),this.biEventsParams={presetIndex:n,origin:v.BG_PRESETS},this.onRequestChange(e,y.PRESET)},onMediaManagerCallback:function(e,t,o){if(t){var n=void 0,i=void 0,a=this.getEditorAPI(),r=this.getData();d(a,e,o),e===this.mediaTypes.VIDEO?(n=h.getVideoBackgroundObject(t,o),function(e,t){e.ref.scrollType="fixed";var o=t.documentServices.pages.getPrimaryPageId();t.getUserPreferences().session.get("bg_video_settings_data_changed_"+o)||h.clearOverlayData(e)}(r,a),u(a,f.IMAGE),i=n.posterImageRef,r.ref.scrollType="fixed"):e===this.mediaTypes.IMAGE&&(function(e,t,o){var n=o.documentServices.pages.getPrimaryPageId();o.getUserPreferences().session.get("bg_image_settings_data_changed_"+n)&&(e.opacity=t.ref.mediaRef&&t.ref.mediaRef.opacity||1),h.clearOverlayData(t)}(n=h.getImageBackgroundObject(t,o),r,a),u(a,f.VIDEO),i=n);var s=h.isSmallerFromContainer(i.width,i.height,600,600),l=void 0;l=e===this.mediaTypes.IMAGE&&s?g.fittingTypes.LEGACY_BG_FIT_AND_TILE:g.fittingTypes.SCALE_TO_FILL,r.ref.fittingType=l,r.ref.alignType=g.alignTypes.CENTER,r.ref.mediaRef=n,this.biEventsParams.origin=v["BG_MEDIA_MANAGER_"+e.toUpperCase()],this.onRequestChange(r,y.MEDIA)}},openMediaManager:function(e,t){if(e){var o=this.getEditorAPI(),n=o.mediaServices.mediaManager,i=void 0,r=function(e){var t=e.getUserPreferences(),o=e.documentServices.pages.getPrimaryPageId();return t.session.get("bg_panel_last_media_path_"+o)||{}}(o),s=r.type===e?r.path||"":"";e===this.mediaTypes.IMAGE?i=n.categories.BG_IMAGE:e===this.mediaTypes.VIDEO&&(i=n.categories.BG_VIDEO),this.closeSubPanel(this.getCurrentSubPanel()),n.open(i,{callback:t,path:s,translation:{submitButton:a.translate("MMGR_submitbutton_background_uploads_change")}})}},changeMedia:function(e){this.openMediaManager(e,this.onMediaManagerCallback.bind(this,e))},closePanel:function(){this.getEditorAPI().panelManager.closePanel(this.props.panelName)},getTranslation:function(e){var t=this.getEditorAPI().getDeviceType();return a.translate(P[e][t])},getSettingsButtonTranslation:function(e){return E[e]},handleApplyToOtherClick:function(){this.isOnePager()||this.toggleSubPanelChange(this.subPanels.APPLY)},isOnePager:function(){return 1===this.getEditorAPI().documentServices.pages.getPageIdList().length},markMobileDataDuplications:function(){var e=this.getEditorAPI(),t=e.getUserPreferences(),o=this.getData("mobile").ref.id;if(!t.session.get("bg_panel_mobile_data_duplications_"+o)){for(var i=e.documentServices.pages.getPrimaryPageId(),a=0,r=e.documentServices.pages.getPagesData(),s=0;s<r.length;s++)r[s].id!==i&&r[s].pageBackgrounds.mobile.ref.id===o&&a++;t.session.set("bg_panel_mobile_data_duplications_"+o,{count:a}),a&&m.mobileDataDuplicationError(this.getEditorAPI(),n.bi.errors.BG_MOBILE_DATA_DUPLICATION_ERROR)}},isPlayBtnTooltipDisabled:function(){return this.getVideoReadyState()===this.videoReadyStates.IDLE},getPlayBtnTranslation:function(){var e="",t=this.getVideoReadyState();return t===this.videoReadyStates.PLAYING_PREVIEW?e="BGPP_PANEL_VIDEO_PLAYBACK_PREVIEW_READY_TOOLTIP":t===this.videoReadyStates.IN_PROCESS&&(e="BGPP_PANEL_VIDEO_PLAYBACK_NOT_READY_TOOLTIP"),e},getSettingTranslation:function(e){var t="";return e===this.mediaTypes.IMAGE?t="BGPP_PANEL_IMAGE_SETTINGS_BUTTON_TOOLTIP":e===this.mediaTypes.VIDEO&&(t="BGPP_PANEL_VIDEO_SETTINGS_BUTTON_TOOLTIP"),t},getPresetsProps:function(){return{desktopPresets:l,mobilePresets:c,title:a.translate("BGPP_PANEL_SELECTED_SECTION_TITLE"),infoTooltip:"BGPP_PANEL_SELECTED_SECTION_TOOLTIP",onSelectPreset:this.selectPreset,columns:4}},render:function(){return p.apply(this)}})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","experiment"],function(e,t,o,n,i,a,r){"use strict";return function(){function i(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}function s(){var s=this.props.getData();return e.createElement(a.frames.bgSubPanelFrame,i({helpId:"54c7eb1c-a6c7-46c9-9261-96eecf3bb0eb",className:"background-image-settings-panel background-sub-panel",label:"BGPP_SETTINGS_IMAGE_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"bg-image-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement(o.slider,{valueLink:this.linkedBackgroundOpacityData(s,s.ref.mediaRef,"opacity"),label:"BGPP_SETTINGS_IMAGE_OPACITY_TITLE",min:0,max:100,step:1}),e.createElement(n.Divider,{long:!0}),e.createElement("div",{className:"color-picker-input-wrapper"},e.createElement(o.colorPickerInput,i({label:"BGPP_SETTINGS_IMAGE_BG_COLOR_TITLE",ref:"bgColorPickerInput",className:"label-left",valueLink:this.linkedBackgroundColor(s,s.ref,"color")},this.getColorPickerProps()))),!this.getEditorAPI().isMobileEditor()||r.isOpen("se_mobileBgFixed")?e.createElement("div",{key:"scrollTypeRadiosDivider"},e.createElement(n.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TITLE",infoText:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TOOLTIP"}),e.createElement(n.Divider,{long:!0}),e.createElement(o.thumbnails,{maxThumbsPerRow:"3",className:"with-labels scroll-type-thumbs",options:this.getEffectsThumbOptions(),valueLink:this.linkedBackgroundScrollType(s)})):null,e.createElement(n.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_LAYOUT_SECTION_TITLE"}),e.createElement(n.Divider,{long:!0}),e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundFittingType(s),label:"BGPP_SETTINGS_IMAGE_FITTING_TITLE"},t.map(this.getFittingOptions(s.ref.scrollType),function(t,n,i){return e.createElement(o.dropDown.option,{key:"fittingTypeOption"+i,value:n.value},n.label)}.bind(this,s))]),e.createElement(n.Divider,{long:!0}),e.createElement(o.alignment,{options:o.commonData.ALIGNMENT_MODES_XY,valueLink:this.linkedBackgroundAlignType(s),label:"BGPP_SETTINGS_IMAGE_ALIGN_TITLE"}))))}return s.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel",["core","create-react-class","prop-types","lodash","util","panelUtils","rEditor/bi/bi","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt","experiment"],function(e,t,o,n,i,a,r,s,l){"use strict";function c(e){var t=e.getUserPreferences(),o=e.documentServices.pages.getPrimaryPageId();t.session.set("bg_image_settings_data_changed_"+o,!0)}var p=i.backgroundPanelUtils,d=i.imageTransform.fittingTypes,u=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:d.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:d.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:d.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:d.LEGACY_BG_FIT_AND_TILE_VERTICAL}],m=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_STRETCH",value:d.STRETCH},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:d.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE}],g=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:d.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE}],h=n.transform([{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:d.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:d.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:d.LEGACY_BG_FIT_AND_TILE_VERTICAL}],function(e,t){e[t.value]=t},{}),f=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"parallax",label:"BGPP_SETTINGS_IMAGE_SCROLL_PARALLAX",symbolName:"scroll-fx-site-bg-parallax"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}],b=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}],y=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE}],v=[d.LEGACY_BG_FIT_AND_TILE,d.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,d.LEGACY_BG_FIT_AND_TILE_VERTICAL],P={opacity:1,fittingType:d.SCALE_TO_FILL,alignType:"center",scrollType:"scroll"};return t({displayName:"bgImageSettingsPanel",mixins:[e.mixins.editorAPIMixin,a.linkColorPickerMixin],childContextTypes:{reportUIChange:o.func},getInitialState:function(){return this.lastScrollingType=null,{}},shouldComponentUpdate:function(e){var t=this.getEditorAPI(),o=e.getData();return!(!o.ref.mediaRef||"Image"!==o.ref.mediaRef.type)||(t.panelManager.closePanelByName(e.panelName),!1)},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e&&this.props.undoHandler(this.props.undoOrigins.IMAGE_PANEL)},linkedBackgroundAlignType:function(e){return{value:n.get(e,["ref","alignType"])||P.alignType,requestChange:function(t){n.set(e,["ref","alignType"],t),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),c(this.getEditorAPI())}.bind(this)}},linkedBackgroundScrollType:function(e){var t=n.get(e,["ref","scrollType"])||P.scrollType;return{value:t,requestChange:function(o){o!==t&&this.getEditorAPI().bi.event(r.events.BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT,{scroll_type:o}),"parallax"===o?n.set(e,["ref","fittingType"],this.getFittingTypeForParallax(e)):"fixed"===o&&this.getEditorAPI().isMobileEditor()&&n.set(e,"mediaSizing","viewport"),n.set(e,["ref","scrollType"],o),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),c(this.getEditorAPI())}.bind(this)}},linkedBackgroundFittingType:function(e){var t=n.get(e,["ref","fittingType"])||P.fittingType,o=n.get(e,"mediaSizing","viewport");return{value:t===d.SCALE_TO_FILL&&"document"===o?d.STRETCH:t,requestChange:function(t){var o=t,i="viewport";this.getEditorAPI().isMobileEditor()&&t===d.STRETCH&&(i="document",o=d.SCALE_TO_FILL),n.set(e,["ref","fittingType"],o),n.set(e,"mediaSizing",i),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),c(this.getEditorAPI())}.bind(this)}},linkedBackgroundOpacityData:function(e,t,o){var n=void 0===t[o]?P[o]:t[o];return n*=100,{value:n,requestChange:function(n){n/=100,t[o]=n,this.props.requestChange(e),c(this.getEditorAPI())}.bind(this)}},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(n){t[o]=/color_/.test(n)?"{"+n+"}":n,this.props.requestChange(e),c(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{useMouseEvent:!0,colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0}},getFittingOptions:function(e){return"parallax"===e?y:this.getEditorAPI().isMobileEditor()&&l.isOpen("se_mobileBgFixed")?this.getFittingMobileOptions():u},getFittingMobileOptions:function(){var e="scroll"===n.get(this.props.getData(),["ref","scrollType"])?m:g,t=n.get(this.props.getData(),["ref","fittingType"]),o=h[t];return o?n.union(e,[o]):e},getEffectsThumbOptions:function(){return this.getEditorAPI().isMobileEditor()?b:f},getFittingTypeForParallax:function(e){var t=e.ref.fittingType,o=e.ref.mediaRef,i=d.LEGACY_BG_FIT_AND_TILE,a=d.SCALE_TO_FILL,r=p.isSmallerFromContainer(o.width,o.height,600,600);return n.includes(v,t)||r&&t!==a?i:a},render:s})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","util"],function(e,t,o,n,i,a,r){"use strict";return function(){function i(){var i=this.props.getData(),s=r.translate;return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}({helpId:"7f54f04e-6e0b-4f73-96e2-6c98dd28e822",className:"background-video-settings-panel background-sub-panel",label:"BGPP_SETTINGS_VIDEO_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"bg-video-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement("div",{className:"background-video-patterns-control"},e.createElement(o.thumbnails,{radioType:"class",valueLink:this.linkedPatternOption(i,i.ref.imageOverlay),maxThumbsPerRow:"4",title:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_TITLE",options:this.thumbPatternOptions}),i.ref.imageOverlay?e.createElement(o.buttonsGroup,{className:"overlay-pattern-btn-group",valueLink:this.applyInversePattern(i,i.ref.imageOverlay),options:this.getInvertPatternOption(),key:"inversePattern"}):null),e.createElement(n.Divider,{long:!0}),e.createElement(o.toggle,{valueLink:this.applyOverlayColor(i),label:"BGPP_SETTINGS_VIDEO_OVERLAY_COLOR_TITLE"}),this.isColorOverlay(i)?e.createElement(n.Divider,{long:!1,key:"color-picker-input-divider"}):null,this.isColorOverlay(i)?e.createElement(o.colorPickerInputWithOpacity,t.assign({},{ref:"bgColorPickerInput",key:"color-picker-input",label:"BGPP_SETTINGS_VIDEO_COLOR_OPACITY_TITLE",valueLink:this.linkColorWithOpacity(i,i.ref)},this.getColorPickerProps())):null,e.createElement(n.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_VIDEO_PLAYBACK_SECTION_TITLE"}),this.getEditorAPI().isDesktopEditor()?e.createElement(n.Divider,{long:!0,key:"whptoDividerImageDesc"}):null,e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundData(i,i.ref.mediaRef,"playbackSpeed"),label:r.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_TITLE"),shouldTranslate:!1},t.map(this.getPlaybackOptions(),function(t,n,i,a){return e.createElement(o.dropDown.option,{key:"playbackOption"+a,value:i.value},i.label,"\n                \n            ")}.bind(this,i,s))]),e.createElement(n.Divider,{long:!0}),e.createElement(o.toggle,{valueLink:this.linkedBackgroundData(i,i.ref.mediaRef,"loop"),label:"BGPP_SETTINGS_VIDEO_LOOP_TITLE"}))))}return i.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel",["create-react-class","prop-types","core","lodash","panelUtils","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt"],function(e,t,o,n,i,a,r){"use strict";function s(e,t){var o=e.getUserPreferences(),n=e.documentServices.pages.getPrimaryPageId();o.session.set("bg_video_settings_pattern_state_"+n,t)}function l(e){var t=e.getUserPreferences(),o=e.documentServices.pages.getPrimaryPageId();t.session.set("bg_video_settings_data_changed_"+o,!0)}function c(e){return e===u}for(var p=[{value:null,className:"v-overlay-pat-0-icon"},{value:"",className:"v-overlay-pat-1-icon"},{value:"",className:"v-overlay-pat-2-icon"},{value:"",className:"v-overlay-pat-3-icon"},{value:"",className:"v-overlay-pat-4-icon"},{value:"",className:"v-overlay-pat-5-icon"},{value:"",className:"v-overlay-pat-6-icon"},{value:"",className:"v-overlay-pat-7-icon"}],d=[{uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},{uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},{uri:"0da768_361994b0f154464682a0aaf9724471cc.png",width:56,height:56},{uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},{uri:"0da768_2729bfbce3874276a7dd057098f93949.png",width:6,height:6},{uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},{uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3}],u=[{uri:"0da768_5810e2bd76f64c77a67904ad2b073444.png",width:6,height:6},{uri:"0da768_46b55443eb984c0eacfbdcb1b67a2b7b.png",width:6,height:6},{uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},{uri:"0da768_95dbd595356148718d5876246a20fe90.png",width:256,height:256},{uri:"0da768_0ffcd1b0986d43b4aaa061b8b17d4040.png",width:6,height:6},{uri:"0da768_0c0d2dc79bc14f6b8275c3b72fec1ab6.png",width:4,height:6},{uri:"0da768_09a75bbb10944eafb4539206b6a3c615.png",width:3,height:3}],m=0;m<d.length;m++)d[m].type="Image",u[m].type="Image";var g=[{value:.25,label:"0.25x"},{value:.5,label:"0.50x"},{value:1,label:a.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_NORMAL")},{value:1.25,label:"1.25x"},{value:1.5,label:"1.50x"},{value:2,label:"2.00x"}],h=[{value:!1,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_DARKER"},{value:!0,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_LIGHTER"}],f={loop:!0,uri:null,colorOverlay:"#ffffff",colorOverlayOpacity:.2,scrollType:"scroll",playbackSpeed:1};return e({displayName:"bgVideoSettingsPanel",mixins:[o.mixins.editorAPIMixin,i.linkColorPickerMixin],propTypes:{getData:t.func,undoHandler:t.func,requestChange:t.func,undoOrigins:t.shape({VIDEO_PANEL:t.object})},childContextTypes:{reportUIChange:t.func},getInitialState:function(){this.lastColor="",this.lastColorOpacity=null;var e=this.props.getData();return this.currentPatterns=function(e,t){if(!e.ref.imageOverlay){var o=t.documentServices.pages.getPrimaryPageId();return t.getUserPreferences().session.get("bg_video_settings_pattern_state_"+o)?u:d}return n.find(d,{uri:e.ref.imageOverlay.uri})?d:u}(e,this.getEditorAPI()),this.patternState=c(this.currentPatterns),this.thumbPatternOptions=this.fillThumbPatternOptions(this.currentPatterns),null},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e.toLowerCase()&&this.props.undoHandler(this.props.undoOrigins.VIDEO_PANEL)},linkedPatternOption:function(e,t){return{value:t&&t.uri||null,requestChange:function(t){if(t){var o=n.find(this.currentPatterns,{uri:t});this.patternState=c(this.currentPatterns),e.ref.imageOverlay=e.ref.imageOverlay||{},n.assign(e.ref.imageOverlay,o)}else e.ref.imageOverlay=null;s(this.getEditorAPI(),this.patternState),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},applyInversePattern:function(e,t){return{value:this.patternState,requestChange:function(o){var i=n.findIndex(this.currentPatterns,{uri:t.uri});this.currentPatterns=o?u:d,this.fillThumbPatternOptions(this.currentPatterns),n.assign(e.ref.imageOverlay,this.currentPatterns[i]),this.patternState=o,s(this.getEditorAPI(),o),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},isColorOverlay:function(e){return!n.isEmpty(e.ref.colorOverlay)&&n.isNumber(e.ref.colorOverlayOpacity)},applyOverlayColor:function(e){return{value:this.isColorOverlay(e),requestChange:function(t){t?(e.ref.colorOverlay=this.lastColor?this.lastColor:e.ref.color,e.ref.colorOverlayOpacity=n.isNumber(this.lastColorOpacity)?this.lastColorOpacity:f.colorOverlayOpacity):(this.lastColor=e.ref.colorOverlay,this.lastColorOpacity=e.ref.colorOverlayOpacity,e.ref.colorOverlay="",e.ref.colorOverlayOpacity=0),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},linkColorWithOpacity:function(e,t){return{value:{color:t.colorOverlay.replace(/[\{\}]/g,""),alpha:t.colorOverlayOpacity},requestChange:function(o){t.colorOverlay=/color_/.test(o.color)?"{"+o.color+"}":o.color,t.colorOverlayOpacity=o.alpha,this.props.requestChange(e),l(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0,useMouseEvent:!0,enableHistory:!0}},shouldComponentUpdate:function(e){var t=e.getData(),o=this.getEditorAPI();return!(!t.ref.mediaRef||"WixVideo"!==t.ref.mediaRef.type)||(o.panelManager.closePanelByName(e.panelName),!1)},linkedBackgroundData:function(e,t,o){return{value:t&&void 0!==t[o]?t[o]:f[o],requestChange:function(n){t[o]=n,this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},getPlaybackOptions:function(){return g},fillThumbPatternOptions:function(e){return n.forEach(e,function(t,o){p[o+1].value=e[o].uri}),p},getInvertPatternOption:function(){return h},render:r})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,n,i,a){"use strict";return function(){return function(){var r=this.props.page,s=this.initialBgData,l=this.getCurrentPageData(),c=this.getEditorAPI();return e.createElement("div",{className:t(this.getItemClassNames(r)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},s?e.createElement(n.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentPage(),labelAfterSymbol:!0}):null,s?e.createElement("span",{className:"page-preview",key:"page-preview",style:this.getBgImageUrl(this.state.checked?l:s)},this.getMediaType(this.state.checked?l.ref:this.initialBgData.ref)===this.mediaTypes.VIDEO?e.createElement("div",{key:"page-preview-video-controls",className:"page-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"page-name"},r.label),r.pageData&&c.pages.isHomePage(r.pageData.id)?e.createElement(i.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,r.pageData&&a.utils.tpaTypeUtils.isTPA(r.pageData)&&!a.utils.tpaTypeUtils.isTPASpecialPage(c,r.pageData)?e.createElement(i.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,r.pageData&&a.utils.blogTypeUtils.isBlogSectionPage(c,r.pageData)?e.createElement(i.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,r.type.isLink?e.createElement(i.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,r.type.isDropdown?e.createElement(i.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,r.isVisible?null:e.createElement(i.symbol,{name:"pageItemHideIcon",key:"isHidden"})))}.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt"],function(e,t,o,n,i,a,r){"use strict";var s=a.imageTransform,l=a.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[n.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"bgApplyPanelPageItem",propTypes:{page:o.object.isRequired,itemBgData:o.object,currentPageBgData:o.object,valueLink:o.func,currentPageId:o.string,isCurrentPage:o.bool,isSubMenu:o.bool,isSubMenuLast:o.bool},mediaTypes:c,getInitialState:function(){return this.initialBgData=this.props.itemBgData,{checked:this.isCurrentPage()}},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.page.pageData.id,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentPage()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},isCurrentPage:function(){return this.props.isCurrentPage},getItemClassNames:function(e){return{"bg-apply-panel-item":!0,"item-hidden":!e.isVisible,"current-page":this.isCurrentPage(),"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":e.type.isPage}},getMediaType:function(e){return l.getMediaType(e)},getCurrentPageData:function(){return this.props.currentPageBgData},getBgImageUrl:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.ref.color)},o=this.getMediaType(e.ref);if(o!==c.COLOR){var n=o===c.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,r=l.isSmallerFromContainer(n.width,n.height,50,35),p=l.getImageDisplayData(r?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.ref.alignType,n.uri,n.width,n.height,50,35);t.backgroundImage="url("+a.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",i.assign(t,p.css.container)}return t},render:r})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem","symbols"],function(e,t,o,n,i,a,r,s){"use strict";return function(){function n(o,n,i){return e.createElement("li",{key:"page"+i},e.createElement(r,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+i},this.getPagesProps(n))),n.items&&n.items.length?e.createElement.apply(this,["ul",{key:"pageItems"},t.map(n.items,function(o,n,i,a,s){return e.createElement("li",{key:"page"+i+"subPage"+s},e.createElement(r,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+i+"subPage"+s},this.getSubPagesProps(a,s,n.items.length-1))))}.bind(this,o,n,i))]):null)}function s(){var r=this.props.getData();return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}({helpId:"18df7de7-066e-49e6-b005-f01c72d4f680",className:"bg-apply-panel background-sub-panel",label:"BGPP_SETTINGS_APLLY_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement("div",{className:"bg-apply-panel-wrapper"},e.createElement("div",{className:"bg-apply-panel-description"},"\n            ",o.translate("BGPP_SETTINGS_APLLY_PANEL_DESCRIPTION"),"\n        "),e.createElement("div",{className:"bg-apply-panel-all"},e.createElement(i.Checkbox,{labelAfterSymbol:!0,value:this.state.markAllPagesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,label:"BGPP_SETTINGS_APLLY_TO_ALL"})),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"bg-apply-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"bg-apply-panel-scrollbox-list"},t.map(this.siteMenuItems,n.bind(this,r))])))))}return s.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel",["react","create-react-class","lodash","panels","util","core","pagesMenu","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt"],function(e,t,o,n,i,a,r,s){"use strict";function l(e,t,n,i){return t=t||[],o.forEach(e,o.bind(function(e){if(e.pageData&&(t.push(e),o.includes(n,e.pageData.id))){var a=this.getEditorAPI().mainMenu.convertPagesDataListToMenuItemsList(u.getSpecialPagesListBySectionPageOrBySibling(this.getEditorAPI(),e.pageData),i);l.call(this,a,t,n,i)}l.call(this,e.items,t,n,i)},this)),o.uniqBy(t,"id")}function c(e){var t=e.pages.dynamicPages.getMenuItems();return o.flatMap(t,"items")}function p(e,t){var o=e.getDeviceType();return e.documentServices.pages.background.get(t,o)}function d(e,t,o){var n=o.getDeviceType(),i=o.documentServices.pages.background.get(t,n);return e.ref.mediaRef&&i.ref.mediaRef&&e.ref.mediaRef.type===i.ref.mediaRef.type?(e.ref.mediaRef.id=i.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(e.ref.mediaRef.posterImageRef.id=i.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&(e.ref.imageOverlay.id=i.ref.imageOverlay&&i.ref.imageOverlay.id))):e.ref.mediaRef?(delete e.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(delete e.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&delete e.ref.imageOverlay.id)):(e.ref.mediaRef=null,e.ref.colorOverlay="",e.ref.imageOverlay=null,e.ref.scrollType="scroll"),e.ref.id=i.ref.id,e}var u=r.specialPages.menuLogic,m=i.bgPanelBiEvents;return t({displayName:"backgroundApplyPanel",mixins:[a.mixins.editorAPIMixin,i.draggableMixin,e.addons.LinkedStateMixin],getInitialState:function(){return this.selectedItems=[],this.appliedPages=[],this.currentPageId=this.getEditorAPI().documentServices.pages.getPrimaryPageId(),this.currentPageBgData=p(this.getEditorAPI(),this.currentPageId),this.siteMenuItems=this.getTrimmedMenuItems(),this.flatSitePages=this.getFlatPagesList(),this.itemsProps=this.getItemsProps(),{markAllPagesDisplay:!1,indeterminate:!1}},shouldComponentUpdate:function(e,t){return this.state.markAllPagesDisplay!==t.markAllPagesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedPages.length>0},updatePages:function(){!function(e,t,n,i){var a=void 0;o.forEach(i,function(i){a=i.checked?d(o.cloneDeep(n),i.pageId,t):d(o.cloneDeep(i.originalPageBgData),i.pageId,t),e.requestChange(a,null,i.pageId)}),i.length>0&&e.undoHandler(e.undoOrigins.APPLY_PANEL)}(this.props,this.getEditorAPI(),this.currentPageBgData,this.appliedPages),this.appliedPages=[]},componentWillUnmount:function(){m.applyToOtherClosed(this.getEditorAPI(),a.bi.events.backgroundPanel.panel_apply_to_other_pages_ok,{all_pages_selected:(this.flatSitePages.length===this.selectedItems.length+1).toString(),num_unselected_pages:this.flatSitePages.length-this.selectedItems.length,num_selected_pages:this.selectedItems.length})},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var n=t.page.pageData.id;n!==this.currentPageId&&(e?o.includes(this.selectedItems,n)||(this.selectedItems.push(n),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:n})):o.includes(this.selectedItems,n)&&(o.pull(this.selectedItems,n),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:n})))},this)),this.setState({markAllPagesDisplay:e,indeterminate:!1},this.updatePages)},pagesStateChange:function(){var e=null;return this.flatSitePages.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,n){e&&t!==this.currentPageId?o.includes(this.selectedItems,t)||this.selectedItems.push(t):o.pull(this.selectedItems,t),this.appliedPages.push({checked:e,originalPageBgData:n,pageId:t});var i=this.flatSitePages.length===this.selectedItems.length+1,a=!i&&this.selectedItems.length>0;if(i!==this.state.markAllPagesDisplay||a!==this.state.indeterminate){var r={markAllPagesDisplay:i,indeterminate:a};this.setState(r,this.updatePages)}else this.updatePages()}.bind(this)}},getFlatPagesList:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=e.mainMenu.getMenuItemsTreeForMainMenu(t);o=o.concat(c(this.getEditorAPI()));var n=u.getSectionPagesIds(e,t),i=e.documentServices.mainMenu.getMenu();return l.call(this,o,[],n,i)},getTrimmedMenuItems:function(){var e=this.getMenuItemsTreeWithPagesOnly();return function(e,t){var n=!1,i=t.documentServices.mainMenu.getMenu(),r=t.documentServices.pages.getPagesData(),s=u.getSectionPagesIds(t,r),l=void 0;o.forEach(e,function(e){var c=void 0;if(e.pageData&&o.includes(s,e.pageData.id)){if(c=a.utils.tpaTypeUtils.isTPA(e.pageData),n&&c)return;l=t.mainMenu.convertPagesDataListToMenuItemsList(u.getSpecialPagesListBySectionPageOrBySibling(t,e.pageData,r),i),e.items=e.items.concat(l),c&&(n=!0)}})}(e,this.getEditorAPI()),e=e.concat(c(this.getEditorAPI()))},getMenuItemsTreeWithPagesOnly:function(){var e=this.getEditorAPI();return e.mainMenu.extendMenuItemsTreeWithPageData(e.documentServices.pages.getPagesData(),function(t,o){return o&&!u.isSpecialPage(e,o)||!o&&t.items.length>0})},getItemsProps:function(){var e=[];return o.forEach(this.flatSitePages,o.bind(function(t){e.push({page:t,currentPageId:this.currentPageId,currentPageBgData:this.currentPageBgData,itemBgData:p(this.getEditorAPI(),t.pageData.id),isCurrentPage:this.currentPageId===(t.type.isPage&&t.pageData.id)})},this)),e},getPagesProps:function(e){var t=o.find(this.itemsProps,{page:{id:e.id}});return t||(t={page:e}),t},getSubPagesProps:function(e,t,n){var i=o.find(this.itemsProps,{page:{id:e.id}});return i.isSubMenu=!0,i.isSubMenuLast=t===n,i},render:s})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple.rt",["react","lodash","baseUI","panels"],function(e,t,o,n){"use strict";return function(){return e.createElement(n.frames.focusPanelFrame,{panelName:this.props.panelName,width:"1210",height:"90%",shouldHideHeader:!0,className:"site-settings-panel"},e.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}))}}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple",["reactDOM","create-react-class","prop-types","util","core","lodash","panels","rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple.rt"],function(e,t,o,n,i,a,r,s){"use strict";function l(t){e.findDOMNode(this.refs.siteSettingsFrame).contentWindow.postMessage(JSON.stringify(t),"*")}function c(e,t){l.call(this,{isValid:t,callId:e.callId})}var p={CLOSE:"CLOSE",OPEN_HELP:"OPEN_HELP",SET_METATAGS:"SET_METATAGS",VALIDATE_METATAGS:"VALIDATE_METATAGS",GET_METATAGS:"GET_METATAGS",NOTIFY_SITENAME_CHANGED:"NOTIFY_SITENAME_CHANGED"},d=["https://www.wix.com","http://www.wix.com"];return t({displayName:"siteSettingsPanel",render:s,mixins:[i.mixins.editorAPIMixin],propTypes:{tab:o.string,referrer:o.string},getInitialState:function(){return{showLoader:!0}},getDefaultProps:function(){return{tab:"overview"}},componentWillMount:function(){window.addEventListener("message",this.handlePostMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage,!1)},componentDidMount:function(){e.findDOMNode(this.refs.siteSettingsFrame).addEventListener("load",this.hideLoader)},handlePostMessage:function(e){var t=this.getEditorAPI();if(a.includes(d,e.origin)&&!a.isEmpty(e.data)&&a.isString(e.data))try{this.hideLoader();var o=JSON.parse(e.data);(function(e){return a.isObject(e)&&!a.isEmpty(e.action)&&a.isString(e.action)})(o)&&function(e,t){switch(e.action){case p.GET_METATAGS:l.call(this,{payload:t.documentServices.seo.headTags.get(),callId:e.callId});break;case p.SET_METATAGS:t.documentServices.seo.headTags.set(e.value,a.noop,a.noop);break;case p.VALIDATE_METATAGS:t.documentServices.seo.headTags.clientSideValidation(e.value,c.bind(this,e,!0),c.bind(this,e,!1));break;case p.NOTIFY_SITENAME_CHANGED:t.siteName.set(e.value);break;case p.CLOSE:this.props.close();break;case p.OPEN_HELP:this.props.openHelpCenter()}}.call(this,o,t)}catch(o){t.documentServices.bi.error(i.bi.errors.SITE_SETTINGS_JSON_PARSE_ERROR,{dsc:'message: "'+o.message+'" data: "'+e.data+'"',errscp:this.constructor.displayName})}},getSettingsIframeUrl:function(){var e=this.getEditorAPI(),t=n.serviceTopology.baseDomain,o=e.documentServices.generalInfo.getMetaSiteId(),i=this.props.referrer?"&referrer="+this.props.referrer:"";return"https://"+t+"/my-account/sites/"+o+"/site-settings/"+this.props.tab+"/?mode=editor-dialog"+i},hideLoader:function(){this.state.showLoader&&this.setState({showLoader:!1})}})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel",["higherOrderComponents","rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple"],function(e,t){"use strict";return e.panelFrame(t)}),define("rEditor/rootComps/topBar/menuBar/menuBarItem.rt",["react","lodash","baseUI","experiment","constants"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(o.tooltip,{value:this.getTooltipText(),alignment:i.UI.TOOLTIP.ALIGNMENT.RIGHT,disabled:!this.getTooltipText()},function(){var o=this.getCounter();return e.createElement("li",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("a",{onClick:this.onClick,onMouseEnter:function(e){this.props.onHover(this.props.menuItem,this.props.index)}.bind(this,o)},e.createElement("label",{className:"menu-bar-item-label","data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},this.props.isCheckbox?e.createElement("input",{key:"checkItemInput",ref:"checkboxInput",disabled:this.props.isDisabled&&this.props.isDisabled(),type:"checkbox",className:"menu-bar-item-checkbox","data-checked":Boolean(this.props.viewTools[this.props.menuPropsKey]),checked:this.props.viewTools[this.props.menuPropsKey],onChange:this.handleCheckChange}):null,"\n                ",this.props.label,"\n                ",e.createElement("span",{className:"shortcut"},this.props.shortcutLabel),o?e.createElement("div",{key:"counter",className:"item-counter"},o):null)))}.apply(this,[]))}}),define("rEditor/rootComps/topBar/menuBar/menuBarItem",["reactDOM","create-react-class","prop-types","lodash","core","rEditor/rootComps/topBar/menuBar/menuBarItem.rt"],function(e,t,o,n,i,a){"use strict";return t({displayName:"menuBarItem",mixins:[i.mixins.editorAPIMixin],propTypes:{action:o.func,bi:o.oneOfType([o.array,o.object]),disabled:o.bool,isIndented:o.bool,separator:o.bool,index:o.number,isCheckbox:o.bool,shortcutLabel:o.string,label:o.string,menuPropsKey:o.string,closeDropDownHandle:o.func,viewTools:o.object,className:o.string,isSelected:o.bool,getCounter:o.func},componentDidUpdate:function(e){!e.isSelected&&this.props.isSelected&&this.props.onHover(this.props.menuItem,this.props.index)},getClasses:function(){var e={"menu-bar-item":!0,"menu-bar-item-action":!0,"menu-bar-item-action-selected":this.props.isSelected,"enabled-item":!this.props.disabled,"indented-item":this.props.isIndented,"menu-bar-item-separator":this.props.separator};return this.props.className&&(e[this.props.className]=!0),e},handleCheckChange:function(e){var t=e.target.checked;this.executeAction(t)},onClick:function(){this.props.isCheckbox||this.executeAction()},sendBI:function(){var e=this.getEditorAPI();if(this.props.bi){var t=[].concat(this.props.bi);n.forEach(t,function(t){e.bi.event(t.type,t.fields)})}},executeAction:function(t){var o=this.props.action;if(o&&!this.props.disabled)if(this.sendBI(),this.props.isCheckbox){o(void 0!==t?t:!e.findDOMNode(this.refs.checkboxInput).checked,!1,this.props.closeDropDownHandle)}else o(),this.props.closeDropDownHandle()},getCounter:function(){return n.isFunction(this.props.getCounter)&&this.props.getCounter()},getTooltipText:function(){return this.getEditorAPI().tooltipTextService.getSelectedComponentTooltipText(this.props.menuItem.key)},render:a})}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt",["react","lodash","rEditor/rootComps/topBar/menuBar/menuBarItem"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:"menubar-actions-panel"},e.createElement.apply(this,["ul",{},t.map(this.getSelectedMenuChildren(this.props.selectedMenu),function(n,i){return e.createElement(o,t.assign({},{ref:n.key,key:n.key,isSelected:i===this.state.selectedMenuItemIndex,menuItem:n,index:i},this.getItemProps(n)))}.bind(this))]))}}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel",["create-react-class","prop-types","lodash","core","util","panels","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt"],function(e,t,o,n,i,a,r,s,l){"use strict";return e({displayName:"menuActionsPanel",PropTypes:{selectedMenu:t.object.isRequired,onMenuItemHover:t.func,closeDropDownHandle:t.func},mixins:[a.mixins.statefulKeyboardContextMixin,n.mixins.editorAPIMixin],keyboardShortcutsContextNamePrefix:"TOP_BAR_DROP_PANEL_",getInitialState:function(){return{selectedMenuItemIndex:null}},componentWillReceiveProps:function(e){this.props.selectedMenu.key!==e.selectedMenu.key&&this.setState({selectedMenuItemIndex:null})},getItemProps:function(e){var t=s[e.key];if(t){var n=this.isMenuItemDisabled(t,e.key),i=this.getLabel(t),a=this.props.viewTools,r={disabled:n,onHover:function(e,t){this.props.onMenuItemHover&&this.props.onMenuItemHover(e),this.setState({selectedMenuItemIndex:t})}.bind(this),label:i,closeDropDownHandle:this.props.closeDropDownHandle,viewTools:a,editorAPI:this.getEditorAPI()},l=o.clone(t);return o.assign(l,r),l}return null},getSelectedMenuChildren:function(e){var t=e&&e.children||[];return t&&(t=o.filter(t,o.bind(this.isMenuBarItemShowing,this))),t},getItemVisibility:function(e){return r.shouldBeVisible(e.key)},isMenuBarItemShowing:function(e){return this.getItemVisibility(e)},getLabel:function(e){return e.labelFunc&&e.labelFunc()||e.label},isMenuItemDisabled:function(e,t){var n=this.getEditorAPI();if("PASTE"===t)return!n.clipboardContainsComp()||!n.isDesktopEditor();var i=!1;if(e.compActionRestrictionNames){var a=n.getCompRestrictions(n.selection.getSelectedComponents()),r=e.compActionRestrictionNames||[];i=i||!o.every(r,o.propertyOf(a))}return!i&&e.disabledChecker&&(i=e.disabledChecker()),i},getNumberOfMenuItems:function(){return this.getSelectedMenuChildren(this.props.selectedMenu).length},getKeyboardShortcuts:function(){var e=this,t=i.keyboardShortcuts.CONTEXTS.MENU_BAR;return i.keyboardShortcuts.extendContext(t,{up:function(t){var o=e.state.selectedMenuItemIndex,n=void 0;n=null===o||0===o?e.getNumberOfMenuItems()-1:o-1,e.setState({selectedMenuItemIndex:n}),t.preventDefault()},down:function(t){var o=e.state.selectedMenuItemIndex,n=void 0;n=null===o?0:(o+1)%e.getNumberOfMenuItems(),e.setState({selectedMenuItemIndex:n}),t.preventDefault()},enter:function(t){var o=e.state.selectedMenuItemIndex;if(null!==o){var n=e.getSelectedMenuChildren(e.props.selectedMenu)[o].key,i=e.refs[n];i.executeAction&&i.executeAction()}t.preventDefault()}})},render:l})}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return function(){var t=this.props.menuKey.toLowerCase(),n=this.props.classes;return e.createElement("div",{className:"menu-bar-promotion-box",style:this.props.style,onClick:this.onClick},e.createElement("div",{className:"graphics-container "+(n.graphics||"graphics-"+t),key:t},this.props.image?e.createElement("img",{key:"promotionImage",src:this.props.image}):null,this.props.symbol?e.createElement(o.symbol,{key:"promotionSymbol",name:this.props.symbol}):null),this.props.title?e.createElement("div",{key:"title",className:n.title||"title"},this.translateIfNeeded(this.props.title)):null,this.props.message?e.createElement("div",{key:"msg",className:n.message||"message",dangerouslySetInnerHTML:{__html:this.translateIfNeeded(this.props.message)}}):null)}.apply(this,[])}}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel",["create-react-class","prop-types","lodash","util","core","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt"],function(e,t,o,n,i,a){"use strict";return e({displayName:"promotionPanel",mixins:[n.translationMixin,i.mixins.editorAPIMixin],propTypes:{menuKey:t.string.isRequired,image:t.string,symbol:t.string,title:t.string,message:t.string,action:t.func,bi:t.oneOfType([t.array,t.object]),classes:t.object},getDefaultProps:function(){return{classes:{}}},onClick:function(){this.props.action&&(this.props.action(null,!0),function(e,t){if(e&&t){var n=o.cloneDeep(t);o.forEach(n,function(t){t.fields&&t.fields.category&&(t.fields.category+="(Image)"),e.bi.event(t.type,t.fields)})}}(this.getEditorAPI(),o.compact([].concat(this.props.bi))))},render:a})}),define("rEditor/rootComps/topBar/dropPanels/dropPanels",["rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel"],function(e,t,o){"use strict";return{menuActionsPanel:e,checkListPanel:t,promotionPanel:o}}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt",["react","lodash","baseUI","panels","util"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(n.frames.focusPanelFrame,{panelName:this.props.panelName,title:"Editor Version Info",frameClassName:"editorVersionInfoPanel"},e.createElement("div",{className:"content"},e.createElement("div",{className:"row"},e.createElement("label",{},"Editor Version:"),e.createElement("span",{},this.getEditorVersion())),e.createElement("div",{className:"row"},e.createElement("label",{},"Viewer Version:"),e.createElement("span",{},this.getViewerVersion()))),e.createElement("div",{className:"panel-footer"},e.createElement(o.button,{type:"button",shouldTranslate:!1,label:"OK",className:"done-button",onClick:this.close})))}}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel",["lodash","create-react-class","core","util","jquery","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt"],function(e,t,o,n,i,a){"use strict";function r(e){return e.split("/").pop()||"unknown"}return t({displayName:"editorVersionInfoPanel",panelName:"editorVersionInfoPanel",mixins:[o.mixins.editorAPIMixin],getEditorVersion:function(){return r(e.get(n,"editorModel.editorBase",""))},getViewerVersion:function(){return r(e.get(i("#preview")[0],"contentWindow.siteModel.santaBase"))},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:a})}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt",["react","lodash","panels","baseUI","baseUILib","util","symbols"],function(e,t,o,n,i,a,r){"use strict";return function(){return function(){var n=this.getEditorAPI().addPanelInfra.designPanelLiveComponentSection;return e.createElement(o.frames.confirmationPanelFrame,{panelName:this.props.panelName,className:"apply-style-panel",onConfirm:this.onConfirm,onCancel:this.onCancel,shouldHideHeader:!0,confirmLabel:"COPY_DESIGN_APPLY",ref:"frame",cancelLabel:"COPY_DESIGN_APPLY_CANCEL"},e.createElement("header",{className:"save-publish-panel-header"},e.createElement("button",{className:"close",onClick:this.close},e.createElement(r.symbol,{name:"headerCloseButton"})),e.createElement("button",{className:"help",onClick:this.openHelpCenter,key:"help"},"?"),e.createElement("span",{className:"title"},a.translate("COPY_DESIGN_TITLE")),e.createElement("span",{className:"subtitle"},a.translate("COPY_DESIGN_DESCRIPTION_LINE1"))),e.createElement("div",{className:"panel-content"},e.createElement("div",{className:"current-style-container container-wrapper"},e.createElement("div",{className:"current-style-header header"},e.createElement("span",{className:"text"},a.translate("COPY_DESIGN_LABEL_LEFT"))),e.createElement("div",{className:"current-style comp-container"},e.createElement(n,this.getSelectedCompProps()))),e.createElement("div",{className:"applied-styles-container container-wrapper"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement("div",{key:"applyStyleHeader",className:"applied-styles-header header"},e.createElement("span",{className:"text"}," ",a.translate("COPY_DESIGN_LABEL_RIGHT"))):null,e.createElement(i.CustomScroll,{},e.createElement("div",{className:"comp-themed-styles comp-container"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement(n,t.assign({},{key:"appliesStylesLiveSections"},this.getThemeAndPersonalizeStylesProps())):null,0===this.getThemeAndPersonalizeStylesToRender().length?e.createElement("div",{className:"empty-styles",key:"emptyStylesKey"},e.createElement(r.symbol,{name:"nothingToEditASP"}),e.createElement("div",{className:"empty-style-text text"},a.translate("COPY_DESIGN_EMPTY_LABEL"))):null)))))}.apply(this,[])}}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel",["create-react-class","lodash","core","rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt","experiment"],function(e,t,o,n,i){"use strict";function a(e){return m[e]&&m[e].compOverrideType?m[e].compOverrideType:e}function r(e,n,i,r,u,g){var h={additionalBehaviours:{iconEnabledForComps:[],infoIcon:"none",labelMode:"none"},help:{hide:!0},categoryId:i.substring(i.lastIndexOf(".")+1),hide:!1,id:n,onClick:g,onItemDrag:function(){},parentType:"ADD_PANEL",props:{compTypes:a(i),horizontalMargin:l,verticalMargin:s,scaleProportion:{x:m[i]&&m[i].scale?m[i].scale:c,y:m[i]&&m[i].scale?m[i].scale:c}},showSectionHeader:!1,stylesForSection:r,additionalScaling:1,selectedItemKey:u,getAdditionalElementProps:function(n){var i=function(e,n){var i=e.style||e.styleId;return t.isString(i)&&(i=o.styleManager.getStyleById(n.theme,n.components,i)),i}(n,e),a={};return t.includes(p,i.skin)?(a.text="DESIGN_LABEL_NO_COLOR",a.className="design-panel-transparent-skin-item"):t.includes(d,i.skin)&&(a.text="Design_Label_No_Frame",a.className="design-panel-no-frame-skin-item"),a}};return m[i]&&m[i].maxFontSize&&(h.props.maxFontSize=m[i].maxFontSize),h}var s=30,l=20,c=1,p=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],d=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"],u=["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.PaginatedGridGallery"],m={"wysiwyg.viewer.components.HeaderContainer":{scale:.5},"wysiwyg.viewer.components.FooterContainer":{scale:.5},"wysiwyg.viewer.components.ScreenWidthContainer":{scale:.5},"mobile.core.components.Page":{compOverrideType:"pageContainer"},"wysiwyg.viewer.components.Video":{scale:.5},"wysiwyg.viewer.components.VerticalLine":{maxFontSize:10},"wysiwyg.viewer.components.FiveGridLine":{maxFontSize:10},fiveGridLineFullWidth:{maxFontSize:10},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.AudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.menus.DropDownMenu":{maxFontSize:15},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{maxFontSize:15},"wysiwyg.viewer.components.SiteButton":{maxFontSize:22},"mobile.core.components.Container":{scale:.5},"core.components.Container":{scale:.5},"core.components.ContainerOBC":{scale:.5},"wysiwyg.viewer.components.BgImageStrip":{scale:.5},"wysiwyg.viewer.components.ContactForm":{scale:.5},"wysiwyg.viewer.components.DynamicContactForm":{scale:.5},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{scale:.5},"wysiwyg.viewer.components.GoogleMap":{scale:.5},"wysiwyg.viewer.components.WPhoto":{scale:.5},"wysiwyg.viewer.components.MatrixGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SlideShowGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SliderGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.PaginatedGridGallery":{scale:.25,maxFontSize:12}},g={"mobile.core.components.Container":["core.components.Container","core.components.ContainerOBC"],"core.components.Container":["mobile.core.components.Container","core.components.ContainerOBC"],"core.components.ContainerOBC":["mobile.core.components.Container","core.components.Container"]};return e({displayName:"applyStylePanel",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{selectedItems:[]}},close:function(){var e=this.getEditorAPI();e.panelManager.closePanelByName(this.props.panelName);var t=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onCancel:function(){var e=this.getEditorAPI(),t=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onConfirm:function(){var e=this.getEditorAPI(),n=e.components.style.getId(this.props.selectedComp),a=e.components.getType(this.props.selectedComp),r=o.styleManager.getStyleById(e.theme,e.components,n),s=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_APPLY,{num_of_styles_chosen:this.state.selectedItems.length,component_id:s.id,component_type:e.components.getType(s)}),t.forEach(this.state.selectedItems,function(n){var s=n.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=o.styleManager.getStyleById(e.theme,e.components,c),d=[p],u=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,a);t.forEach(g[a],function(t){var n=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,t,g[a]);u=u.concat(n)}),i.isOpen("se_studioCopyDesign")&&(u=t.filter(u,{styleType:"custom"})),d=d.concat(u),t.forEach(d,function(t){var o={skin:r.skin,style:r.style,type:t.type};e.theme.styles.update(t.id,o)})})},getSelectedCompProps:function(){var e=this.getEditorAPI(),o=this.props.selectedComp,n=e.components.getType(o);return r(e,"selectedComp"+o.id,n,[{styleId:e.components.style.getId(o),compType:a(n)}],this.state.selectedItems,t.noop)},getThemeAndPersonalizeStylesProps:function(){var e=this.getEditorAPI(),t=this.props.selectedComp;return r(e,"themeAndMyForComp"+t.id,e.components.getType(t),this.themeAndPersonalizedStylesToRender?this.themeAndPersonalizedStylesToRender:this.getThemeAndPersonalizeStylesToRender(),this.state.selectedItems,this.updateListOfStyleToUpdate)},getThemeAndPersonalizeStylesToRender:function(){if(this.themeAndPersonalizedStylesToRender)return this.themeAndPersonalizedStylesToRender;var e=this.getEditorAPI(),n=this.props.selectedComp,r=e.components.getType(n),s=e.components.style.getId(n),l=o.styleManager.getStyleById(e.theme,e.components,s),c=[];c=function(e,n){return t.filter(e,function(e){var i=o.styleManager.getStyleById(n.theme,n.components,e);return!t.includes(d,i.skin)})}(c=i.isOpen("se_studioCopyDesign")?function(e,n){var i=t.union([n],g[n]),a=t.map(i,function(n){return t.map(o.styleManager.getThemedStyleForComp(e.theme,e.components,n),"id")});return t(a).union().flatten().value()}(e,r):t.includes(u,r)?function(e,n){var i=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,n),"id");return g[n]&&t.forEach(g[n],function(n){var a=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,n),"id");i=i.concat(a)}),i}(e,r):function(e,n){var i=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,n),"id");return g[n]&&t.forEach(g[n],function(n){var a=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,n),"id");i=i.concat(a)}),i}(e,r),e);var p=[];return t.forEach(c,function(t){var n=o.styleManager.getStyleById(e.theme,e.components,t),c=t!==s&&!o.styleManager.isEqualWithoutTypeConsideration(n,l);(i.isOpen("se_studioCopyDesign")||c)&&p.push({compType:a(r),styleId:t})}),this.themeAndPersonalizedStylesToRender=p,p},updateListOfStyleToUpdate:function(e,n,i,a){var r=t.clone(this.state.selectedItems),s=a.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=t.includes(r,a);p?t.remove(r,function(e){return e===a}):r.push(a);var d=this.props.selectedComp,u=this.getEditorAPI();u.bi.event(o.bi.events.applyStyle.COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK,{style_id:c,status:!p,component_id:d.id,component_type:u.components.getType(d)}),this.setState({selectedItems:r})},openHelpCenter:function(){var e=this.getEditorAPI(),t={panel_name:this.props.panelName,component:e.selection.getSelectedComponentType(),origin:o.constants.BI.HELP.ORIGIN.PANEL,learn_more:!1};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},render:n})}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt",["react","lodash","util","baseUI","baseUILib","compPanels","helpIds"],function(e,t,o,n,i,a,r){"use strict";return function(){return e.createElement(a.compPanelFrame,t.assign({},{contentClass:"box-slide-show-manage-slides-panel",title:"Regular_Slideshow_Slides_Title",helpId:r.EXTERNAL.BOX_SLIDE_SHOW_MANAGE_SLIDES},this.getFrameProps()),e.createElement(i.SortByDragList,{selectable:!0,value:this.getSlides(),selectItem:this.selectSlide,menuActionsOverrides:this.getMenuActionsOverrides(),enableEditValue:!1,enableSetAsDefault:!1,labelValidator:o.validate.notEmptyString,labelInvalidMessage:"Box_slide_show_slides_invalid_slide_name",itemMoved:this.moveSlide,duplicateItem:this.duplicateSlide,deleteItem:this.deleteSlide,itemChanged:this.changeSlideName}),e.createElement("div",{className:"button-wrapper"},e.createElement(n.button,{className:"mainButton",label:"Regular_Slideshow_Slides_Add_Duplicate_Slide",onClick:this.duplicateCurrentSlide}),e.createElement(n.button,{className:"secondaryButton btn-text",label:"Regular_Slideshow_Slides_Add_New_Slide",onClick:this.addNewSlide})))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel",["create-react-class","lodash","util","core","compPanels","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt"],function(e,t,o,n,i,a,r){"use strict";function s(){return this.getEditorAPI().components.getDefaultBiParams(this.props.selectedComponent)}function l(e,t,o){var n={id:t.id,label:function(e,t){return e.components.data.get(t)[d]}(e,t),pointer:t};return n.id===o.id&&(n.selected=!0),n}function c(e,o,n){var i=p.getAllSlides(e,o);return t.map(i,function(t){return l(e,t,n)})}var p=a.utils.boxSlideShowUtils,d="title";return e({displayName:"boxSlideShowManageSlidesPanel",mixins:[i.compPanelMixin,o.translationMixin],getInitialState:function(){var e=p.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);return this.isCurrentlyInOperation=!1,{selectedSlide:e}},componentWillMount:function(){this.slides=this.getSlides()},componentWillUpdate:function(e,t){this.slides=c(this.getEditorAPI(),this.props.selectedComponent,t.selectedSlide)},componentWillReceiveProps:function(e){this.slides=c(this.getEditorAPI(),e.selectedComponent,this.state.selectedSlide);var o=p.findCurrentSlide(this.getEditorAPI(),e.selectedComponent);t.isEqual(o,this.state.selectedSlide)||this.setState({selectedSlide:o})},getSlides:function(){return c(this.getEditorAPI(),this.props.selectedComponent,this.state.selectedSlide)},getSelectedSlideItem:function(){return t.find(this.slides,{id:this.state.selectedSlide.id})},startOperation:function(){this.getEditorAPI().preventMouseDown(),this.isCurrentlyInOperation=!0},endOperation:function(){this.getEditorAPI().allowMouseDown(),this.isCurrentlyInOperation=!1},isInOperation:function(){return this.isCurrentlyInOperation},selectSlide:function(e,o){if(!this.isInOperation()){var i=this.getEditorAPI();this.startOperation(),this.setState({selectedSlide:e.pointer},function(){i.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:o},this.endOperation)}.bind(this)),p.hideQuickTip(i),p.identifyComponentsOutOfSlideshow(i,this.props.selectedComponent),i.bi.event(n.bi.events.boxSlideShow.SLIDES_NAVIGATION,t.assign({origin:"slideManager"},s.call(this)))}},moveSlide:function(e,o){if(e!==o&&!this.isInOperation()){var i=this.getEditorAPI(),a=t.findIndex(this.getSlides(),{selected:!0}),r=this.slides[e].pointer;i.components.arrangement.moveToIndex(r,o,!1),i.bi.event(n.bi.events.boxSlideShow.MANAGE_SLIDES_SLIDE_REORDERED,s.call(this)),i.documentServices.waitForChangesApplied(function(){var e=t.findIndex(this.getSlides(),{selected:!0});a!==e&&(this.startOperation(),i.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:e},this.endOperation))}.bind(this))}},addSlide:function(e,o){var n=this.getEditorAPI(),i=n.components.add(t.head(this.props.selectedComponent),e);n.components.arrangement.moveToIndex(i,o,!0),this.getEditorAPI().history.add("added a slide to slide show"),n.documentServices.waitForChangesApplied(function(){var e=l(n,i,this.state.selectedSlide);this.selectSlide(e,o)}.bind(this))},duplicateSlide:function(e,t){var o=this.getEditorAPI().components.serialize(e.pointer),n={curr_slide_title:o.data[d]};o.data[d]=this.translateTemplate("Regular_Slideshow_Slides_Copy_Slide_Label",n,this.getEditorAPI()),this.addSlide(o,t+1)},duplicateCurrentSlide:function(){var e=this.getSelectedSlideItem(),t=this.slides.length;this.duplicateSlide(e,t-1),this.getEditorAPI().bi.event(n.bi.events.boxSlideShow.MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE,s.call(this))},deleteSlide:function(e,t,o){if(!(o.length<=1)){var n=this.getEditorAPI();n.components.remove(e.pointer),n.history.add("removed a slide from slide show"),n.documentServices.waitForChangesApplied(function(){var e=p.findCurrentSlide(n,this.props.selectedComponent);this.setState({selectedSlide:e})}.bind(this))}},changeSlideName:function(e){var t=e.label,o=this.getEditorAPI(),n={};n[d]=t,o.components.data.update(e.pointer,n)},addNewSlide:function(){var e=this.getEditorAPI(),t=this.getSelectedSlideItem(),o=e.components.serialize(t.pointer);o.components=[];var i=this.slides.length,a={curr_slide:i+1};o.data[d]=this.translateTemplate("Regular_Slideshow_Slides_New_Slide_Label",a,e),this.addSlide(o,i),e.bi.event(n.bi.events.boxSlideShow.MANAGE_SLIDES_ADD_NEW_SLIDE,s.call(this))},getMenuActionsOverrides:function(){return{toggleDefault:{enable:!1},toggleEditValue:{enable:!1},toggleEditLabel:{priority:3,label:o.translate("Regular_Slideshow_Slides_Rename")},duplicate:{priority:2,label:o.translate("Regular_Slideshow_Slides_Duplicate")},delete:{priority:1,label:o.translate("Regular_Slideshow_Slides_Delete"),enable:this.slides.length>1}}},render:r})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,n,i,a){"use strict";return function(){return function(){var i=this.props.slide,a=this.getCurrentSlideData(),r=this.initialBgData;return e.createElement("div",{className:t(this.getItemClassNames(i)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},r?e.createElement(n.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentSlide(),labelAfterSymbol:!0}):null,r?e.createElement("span",{className:"slide-preview",key:"slide-preview",style:this.getBgImageUrl(this.state.checked?a:r)},this.getMediaType(this.state.checked?a:r)===this.mediaTypes.VIDEO?e.createElement("div",{key:"slide-preview-video-controls",className:"slide-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"slide-name"},this.props.slideTitle)))}.apply(this,[])}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt"],function(e,t,o,n,i,a,r){"use strict";var s=a.imageTransform,l=a.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[n.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"slideShowBgApplyPanelItem",propTypes:{slide:o.object.isRequired,slideTitle:o.string.isRequired,itemBgData:o.object,isCurrentSlide:o.bool,currentSlideBgData:o.object,valueLink:o.object},mediaTypes:c,getInitialState:function(){return this.origin=this.props.origin,this.initialBgData=this.props.itemBgData,{checked:this.isCurrentSlide()}},isCurrentSlide:function(){return this.props.isCurrentSlide},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.slide,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentSlide()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},getItemClassNames:function(){return{"slideShow-apply-panel-item":!0,"current-slide":this.isCurrentSlide()}},getMediaType:function(e){return l.getMediaType(e)},getCurrentSlideData:function(){return this.props.currentSlideBgData},getBgStyleByBackgroundType:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.color)},o=this.getMediaType(e);if(o!==c.COLOR){var n=o===c.IMAGE?e.mediaRef:e.mediaRef.posterImageRef,r=l.isSmallerFromContainer(n.width,n.height,50,35),p=l.getImageDisplayData(r?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.alignType,n.uri,n.width,n.height,50,35);t.backgroundImage="url("+a.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",i.assign(t,p.css.container)}return t},getBgImageUrl:function(e){var t=void 0;switch(this.origin){case"strip":case"box":t=this.getBgStyleByBackgroundType(e)}return t},render:r})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem","helpIds"],function(e,t,o,n,i,a,r,s){"use strict";return function(){return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}({helpId:s.EXTERNAL.BOX_SLIDE_SHOW_BG_APPLY,className:"slide-show-apply-panel",label:"Regular_Slideshow_Apply_Panel_Header_Title"},t.omit(this.props,"children")),e.createElement("div",{className:"slide-show-apply-panel-wrapper"},e.createElement("div",{className:"slide-show-apply-panel-description"},"\n            ",o.translate("Regular_Slideshow_Apply_Panel_Header_Description"),"\n        "),e.createElement("div",{className:"slide-show-apply-panel-all"},e.createElement(i.Checkbox,{label:"Regular_Slideshow_Apply_To_All",value:this.state.markAllSlidesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,labelAfterSymbol:!0})),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"slide-show-apply-panel-scrollbox slide-show-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"slide-show-apply-panel-scrollbox-list"},t.map(this.allSlides,function(o,n){return e.createElement("li",{key:"slide"+n},e.createElement(r,t.assign({},{valueLink:this.slidesStateChange(),ref:"slide"+n},this.getSlideProps(o))))}.bind(this))])))))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel",["create-react-class","core","lodash","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt"],function(e,t,o,n,i){"use strict";function a(e,t){var o=t.originalSlideBgData;return e.mediaRef&&o.mediaRef&&e.mediaRef.type===o.mediaRef.type?(e.mediaRef.id=o.mediaRef.id,"WixVideo"===e.mediaRef.type&&(e.mediaRef.posterImageRef.id=o.mediaRef.posterImageRef.id,e.imageOverlay&&(e.imageOverlay.id=o.imageOverlay&&o.imageOverlay.id))):e.mediaRef?(delete e.mediaRef.id,"WixVideo"===e.mediaRef.type&&(delete e.mediaRef.posterImageRef.id,e.imageOverlay&&delete e.imageOverlay.id)):(e.mediaRef=null,e.colorOverlay="",e.imageOverlay=null),e.id=o.id,e}var r=n.utils.boxSlideShowUtils;return e({displayName:"slideShowBgApplyPanel",mixins:[t.mixins.editorAPIMixin],getAllSlides:function(){var e=this.getEditorAPI();return r.getAllSlides(e,e.selection.getSelectedComponents())},getInitialState:function(){var e=this.getEditorAPI();return this.selectedItems=[],this.appliedSlides=[],this.origin=this.props.origin,this.currentSlide=r.findCurrentSlide(e,e.selection.getSelectedComponents()),this.currentSlideBgData=this.getSlideBgData(this.currentSlide),this.allSlides=this.getAllSlides(),this.itemsProps=this.getItemsProps(),{markAllSlidesDisplay:!1,indeterminate:!1}},getSlideBgData:function(e){var t=this.getEditorAPI();switch(this.origin){case"strip":case"box":return t.components.design.get(e).background}},shouldComponentUpdate:function(e,t){return this.state.markAllSlidesDisplay!==t.markAllSlidesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedSlides.length>0},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var n=t.slide,i=n.id;i!==this.currentSlide.id&&(e?o.includes(this.selectedItems,i)||(this.selectedItems.push(i),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:n})):o.includes(this.selectedItems,i)&&(o.pull(this.selectedItems,i),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:n})))},this)),this.setState({markAllSlidesDisplay:e,indeterminate:!1},this.updateSlides)},getItemsProps:function(){var e=[],t=this.getEditorAPI();return o.forEach(this.allSlides,o.bind(function(o){e.push({slide:o,slideTitle:t.components.data.get(o).title,currentSlideBgData:this.currentSlideBgData,itemBgData:this.getSlideBgData(o),isCurrentSlide:this.currentSlide.id===o.id})},this)),e},getSlideProps:function(e){var t=o.find(this.itemsProps,{slide:{id:e.id}});return t.origin=this.origin,t},updateSlides:function(){var e=this.getEditorAPI();!function(e,t,n,i){var r=void 0;o.forEach(t,function(t){switch(r=t.checked?a(o.cloneDeep(e),t):a(o.cloneDeep(t.originalSlideBgData),t),i){case"strip":case"box":!function(e,t,o){o.components.design.update(t,{background:e})}(r,t.slide,n)}})}(this.currentSlideBgData,this.appliedSlides,e,this.origin);var n=o.assign({total_slides:this.getAllSlides().length,num_selected_slides:this.appliedSlides.length,all_slides_selected:this.state.markAllSlidesDisplay},e.components.getDefaultBiParams(e.selection.getSelectedComponents()));e.bi.event(t.bi.events.boxSlideShow.APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES,n),this.appliedSlides=[]},slidesStateChange:function(){var e=null;return this.allSlides.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,n){var i=t.id;e&&i!==this.currentSlide.id?o.includes(this.selectedItems,i)||this.selectedItems.push(i):o.pull(this.selectedItems,i),this.appliedSlides.push({checked:e,originalSlideBgData:n,slide:t});var a=this.allSlides.length===this.selectedItems.length+1,r=!a&&this.selectedItems.length>0;if(a!==this.state.markAllSlidesDisplay||r!==this.state.indeterminate){var s={markAllSlidesDisplay:a,indeterminate:r};this.setState(s,this.updateSlides)}else this.updateSlides()}.bind(this)}},render:i})}),define("rEditor/rootComps/panels/panels",["rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel","rEditor/rootComps/panels/pagesAndPopupsPanel","rEditor/rootComps/panels/myMediaPanel","rEditor/rootComps/panels/backgroundPanel/backgroundPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel","rEditor/rootComps/panels/siteSettings/siteSettingsPanel","rEditor/rootComps/topBar/dropPanels/dropPanels","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel","rEditor/rootComps/panels/applyStylePanel/applyStylePanel","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){"use strict";return{pagesAndPopupsPanel:t,myMediaPanel:o,backgroundPanel:n,bgImageSettingsPanel:i,bgVideoSettingsPanel:a,backgroundApplyPanel:r,siteSettingsPanel:s,topBar:{menuActionsPanel:l.menuActionsPanel,checkListPanel:l.checkListPanel,promotionPanel:l.promotionPanel},popup:{overlaySettingsPanel:e},editorVersionInfoPanel:c,applyStylePanel:p,boxSlideShowManageSlidesPanel:d,slideShowBgApplyPanel:u,slideShowBgApplyPanelItem:m}}),define("rEditor/rootComps/mixins/rootCompsMixins",["rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin"],function(e,t){"use strict";return{hiddenableMixin:e,keepInViewportMixin:t}}),define("rEditor",["rEditor/rootComps/editorMain","rEditor/rootComps/editor","rEditor/rootComps/panels/panels","rEditor/app/EditorAPI","rEditor/rootComps/mixins/rootCompsMixins","rEditor/rootComps/gfpp/gfppModel"],function(e,t,o,n,i,a){"use strict";return{editorMain:e,editorComp:t,panels:o,EditorAPI:n,mixins:i,gfppModel:a}});
//# sourceMappingURL=rEditor.min.js.map